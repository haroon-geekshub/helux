!function(e){function t(t){for(var i,r,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={0:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=i);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(e){return r.p+""+({33:"prismModule"}[e]||e)+"."+{33:"40fce3d8c0e9a030b66b"}[e]+".js"}(e);var l=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",l.name="ChunkLoadError",l.type=i,l.request=s,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/js/",r.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;s.push([759,18]),n()}(Array(540).concat([function(e,t,n){"use strict";n.r(t),n.d(t,"OS",(function(){return r})),n.d(t,"BROWSER",(function(){return a})),n.d(t,"DEVICE_TYPES",(function(){return l})),n.d(t,"getOS",(function(){return c})),n.d(t,"cmdKey",(function(){return d})),n.d(t,"ctrlOrWinKey",(function(){return u})),n.d(t,"isCmdPressed",(function(){return p})),n.d(t,"getDevice",(function(){return h})),n.d(t,"getBrowser",(function(){return f})),n.d(t,"isiOS",(function(){return g})),n.d(t,"getAppVersion",(function(){return m})),n.d(t,"toURI",(function(){return b})),n.d(t,"getDevModeShortcut",(function(){return S})),n.d(t,"isMobileViewport",(function(){return y}));var i=n(541),o=n(543),s=n(544);const r=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),a=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),l=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function c(){return/iPad|iPhone/.test(navigator.userAgent)?r.IOS:/Android/.test(navigator.userAgent)?r.ANDROID:/Macintosh/.test(navigator.userAgent)?r.MAC:/Windows/.test(navigator.userAgent)?r.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?r.LINUX:r.UNKNOWN}function d(e){return c()===r.MAC?e.metaKey:e.ctrlKey}function u(e){return c()===r.MAC?e.ctrlKey:e.metaKey}function p(e){return e.key===(c()===r.MAC?o.Keyboard.Key.Meta:o.Keyboard.Key.Ctrl)}function h(){return/Mobi/.test(navigator.userAgent)?l.MOBILE:l.DESKTOP}function f(){return/Edg/.test(navigator.userAgent)?a.EDGE:/OPR/.test(navigator.userAgent)?a.OPERA:/Firefox/.test(navigator.userAgent)?a.FIREFOX:/Chrome/.test(navigator.userAgent)?a.CHROME:/Safari/.test(navigator.userAgent)?a.SAFARI:a.UNKNOWN}function g(){return navigator.userAgent.match(/ipad|iphone/i)}function m(){if(!i.isWindowsApp)return s.WEBAPP_VERSION;const[,e="unknown"]=navigator.userAgent.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/)||[];return e}function b(e){if(!e||0===e.length)return null;return e.replace(/^[\\/]|[\\/]$/g,"").replace(/\\/g,"/")}function S(){return c()===r.WINDOWS?"ctrl+Alt+L":"⌘⌥L"}function y(){return window.matchMedia("(max-width: 767px)").matches}},function(e,t,n){"use strict";n.r(t),n.d(t,"isWindowsApp",(function(){return o})),n.d(t,"supports",(function(){return s})),n.d(t,"featureValue",(function(){return r}));var i=n(542);const o=!!i.default,s={webviews:o&&"webviews"in i.default.features,SPA:o&&"SPA"in i.default.features,xdPlugin:o&&"xdPlugin"in i.default.features,newGoogleSSOFlow:o&&"newGoogleSSOFlow"in i.default.features,newSlackIntegrationFlow:o&&"newSlackIntegrationFlow"in i.default.features,newSSOFlow:o&&"newSSOFlow"in i.default.features};function r(e){return o?i.default.features[e]:null}},function(e,t,n){"use strict";var i;n.r(t),"function"==typeof window.require&&(i=window.require("electron")),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragDropTargetPosition=t.AppType=t.PlanUpgradeTrigger=t.ActivePlans=t.PLAN_ORDER=t.PlanGroup=t.WorkspacePlanType=t.BillingPeriod=t.AppRoutes=t.SortTypes=t.ProjectViewTypes=t.DialogTypes=t.WorkspaceTabs=t.Keyboard=t.PlatformString=t.PLATFORM=t.RESOURCE_TYPE=t.DENSITY=void 0,t.DENSITY=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4}),t.RESOURCE_TYPE=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"}),function(e){e.BASE="base",e.ANDROID="android",e.IOS="ios",e.OSX="osx",e.MACOS="osx",e.WEB="web"}(t.PLATFORM||(t.PLATFORM={})),t.PlatformString=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"}),t.Keyboard=Object.freeze({Key:{Meta:"Meta",Ctrl:"Control",Enter:"Enter",Escape:"Escape",s:"s",v:"v",Tab:"Tab",ArrowRight:"ArrowRight",ArrowLeft:"ArrowLeft"},Code:{Minus:"Minus",Equal:"Equal"}}),function(e){e.PROJECTS="projects",e.STYLEGUIDES="styleguides"}(t.WorkspaceTabs||(t.WorkspaceTabs={})),function(e){e.TRANSFER="transferOwnership",e.ARCHIVE="archive",e.LEAVE="leave",e.DELETE="delete",e.SELECT_PARENT="selectParent",e.REMOVE_PARENT="removeParent",e.CREATE_PROJECT="createProject",e.CREATE_STYLEGUIDE="createStyleguide",e.UPGRADE_PLAN="upgradePlan",e.RESTRICTED_EDITOR_WARNING="restrictedEditorWarning",e.PREVIEW_PROJECT="previewProject",e.PREVIEW_STYLEGUIDE="previewStyleguide",e.PLAN_CHOOSER="planChooser",e.COPY_BARREL="copyBarrel",e.ASYNC_COPY_BARREL="asyncCopyBarrel"}(t.DialogTypes||(t.DialogTypes={})),t.ProjectViewTypes=Object.freeze({DASHBOARD:"dashboard",STYLEGUIDE:"styleguide",SCREEN:"screen"}),function(e){e.NAME="name",e.CREATED="created",e.UPDATED="updated",e.SECTIONS="sections"}(t.SortTypes||(t.SortTypes={})),function(e){e.Workspace="Workspace",e.Project="Project",e.Styleguide="Styleguide",e.ProjectStyleguide="ProjectStyleguide",e.Screen="Screen",e.ScreenVersion="ScreenVersion",e.Notifications="Notifications"}(t.AppRoutes||(t.AppRoutes={})),function(e){e.ANNUALLY="annual",e.MONTHLY="monthly",e.ETERNAL="eternal"}(t.BillingPeriod||(t.BillingPeriod={})),function(e){e.TEAM="team",e.ORGANIZATION="organization"}(t.WorkspacePlanType||(t.WorkspacePlanType={})),function(e){e.FREE="free",e.TEAM="team",e.ORGANIZATION="organization",e.ENTERPRISE="enterprise"}(t.PlanGroup||(t.PlanGroup={})),t.PLAN_ORDER=Object.freeze({free:0,starter:1,growing:2,team:3,organization:4,enterprise:5}),t.ActivePlans=Object.freeze({TEAM_ANNUAL:"team_annual_unit_price_v1",TEAM_MONTHLY:"team_monthly_unit_price_v1",ORGANIZATION_MONTHLY:"organization_monthly_unit_price_v3",ORGANIZATION_ANNUAL:"organization_annual_unit_price_v4"}),function(e){e.VERSION_LIMIT="versionLimit",e.USER_LIMIT="userLimit",e.PROJECT_LIMIT="projectLimit",e.STYLEGUIDE_LIMIT="styleguideLimit",e.VARIANT_GROUP_LIMIT="variantGroupLimit"}(t.PlanUpgradeTrigger||(t.PlanUpgradeTrigger={})),function(e){e.WEB_APP="webApp",e.MAC_APP="macApp",e.WINDOWS_APP="windowsApp"}(t.AppType||(t.AppType={})),function(e){e.TOP="top",e.LEFT="left",e.RIGHT="right",e.BOTTOM="bottom"}(t.DragDropTargetPosition||(t.DragDropTargetPosition={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"WEB_URL",(function(){return i})),n.d(t,"APP_URL",(function(){return o})),n.d(t,"BASE_URL",(function(){return s})),n.d(t,"IMG_URL",(function(){return r})),n.d(t,"CDN_URL",(function(){return a})),n.d(t,"SCENE_URL",(function(){return l})),n.d(t,"EXTENSIONS_WEB_URL",(function(){return c})),n.d(t,"PUSHER_URL",(function(){return d})),n.d(t,"PUSHER_URL_V2",(function(){return u})),n.d(t,"PUBLIC_API_URL",(function(){return p})),n.d(t,"CLI_CLIENT_ID",(function(){return h})),n.d(t,"ZEM_CLIENT_ID",(function(){return f})),n.d(t,"TRELLO_CLIENT_ID",(function(){return g})),n.d(t,"JIRA_CLIENT_ID",(function(){return m})),n.d(t,"JIRA_ATL_ORIGIN_TOKEN",(function(){return b})),n.d(t,"VSCODE_CLIENT_ID",(function(){return S})),n.d(t,"FIGMA_CLIENT_ID",(function(){return y})),n.d(t,"EMBED_CLIENT_ID",(function(){return v})),n.d(t,"ZPL_PROTOCOL",(function(){return C})),n.d(t,"INTERCOM_APP_ID",(function(){return O})),n.d(t,"GOOGLE_CLIENT_ID",(function(){return E})),n.d(t,"GOOGLE_AUTH_LOGIN_REDIRECT_URI",(function(){return T})),n.d(t,"GOOGLE_AUTH_SIGNUP_REDIRECT_URI",(function(){return _})),n.d(t,"GOOGLE_AUTH_UNLINK_REDIRECT_URI",(function(){return P})),n.d(t,"GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI",(function(){return D})),n.d(t,"GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI",(function(){return I})),n.d(t,"SLACK_CLIENT_ID",(function(){return j})),n.d(t,"SLACK_SCOPE",(function(){return k})),n.d(t,"SLACK_AUTH_URL",(function(){return R})),n.d(t,"INTEGRATION_JIRA_URL",(function(){return A})),n.d(t,"INTEGRATION_TEAMS_URL",(function(){return w})),n.d(t,"INTEGRATION_TRELLO_URL",(function(){return N})),n.d(t,"FIREBASE_API_KEY",(function(){return L})),n.d(t,"FIREBASE_PROJECT_ID",(function(){return M})),n.d(t,"FIREBASE_APP_ID",(function(){return x})),n.d(t,"FIREBASE_MESSAGING_SENDER_ID",(function(){return U})),n.d(t,"MIXPANEL_MASTER_API_TOKEN",(function(){return B})),n.d(t,"GA_TRACKING_ID",(function(){return V})),n.d(t,"STRIPE_PUBLISHABLE_KEY",(function(){return z})),n.d(t,"SENTRY_DSN",(function(){return F})),n.d(t,"SENTRY_ENVIRONMENT",(function(){return W})),n.d(t,"SENTRY_RELEASE",(function(){return G})),n.d(t,"PUSHER_ACCESS_KEY",(function(){return H})),n.d(t,"USER_CHANNEL_PREFIX",(function(){return $})),n.d(t,"PROJECT_CHANNEL_PREFIX",(function(){return q})),n.d(t,"STYLEGUIDE_CHANNEL_PREFIX",(function(){return Z})),n.d(t,"ORGANIZATION_CHANNEL_PREFIX",(function(){return K})),n.d(t,"COOKIE_DOMAIN",(function(){return Y})),n.d(t,"SECURE_COOKIE",(function(){return J})),n.d(t,"S3_BUCKET",(function(){return X})),n.d(t,"WEBAPP_VERSION",(function(){return Q})),n.d(t,"FLAG_REMOVE_TEST_ID",(function(){return ee})),n.d(t,"FLAG_USE_CONSOLE_LOGGER",(function(){return te})),n.d(t,"FLAG_NEW_PUSHER_AUTH",(function(){return ne}));const i="https://zeplin.io",o="https://app.zeplin.io",s="https://api.zeplin.io",r="https://img.zeplin.io",a="https://cdn.zeplin.io",l="https://scene.zeplin.io",c="https://extensions.zeplin.io",d="https://pusher.zeplin.io/v1/auth",u="https://pusher.zeplin.io/v2/auth",p="https://api.zeplin.dev",h="5dd27af376f8bf5094f6ebe6",f="5bbc983af6c410493afb03f1",g="59dfedff7c722575736b3e8d",m="5dc3d464b94b22000d3834d0",b="eyJpIjoiZThlMzc5Y2FhZjQ4NDhhYzk3ZDgxMGY5ZDhmYTExNTkiLCJwIjoiamlyYS16ZXBsaW4taW50In0",S="5dc51cd876f8bf00163de1e5",y="5f16c22ce92f41f029ff9593",v="603e27cd0d0f5dad87e79642",C="zpl:",O="41ycdg94",E="572614822654-ghfhpjmi208r3tcia7ff0tu8p0fg7vdh.apps.googleusercontent.com",T="https://app.zeplin.io/auth/google/login",_="https://app.zeplin.io/auth/google/signup",P="https://app.zeplin.io/auth/google/unlink",D="https://app.zeplin.io/auth/google/setupsso",I="https://app.zeplin.io/auth/google/removesso",j="2330702581.8730394641",k="incoming-webhook,emoji:read,links:read,links:write",R="https://slack.com/oauth/authorize",A="https://zpl.io/jira",w="https://zpl.io/zeplin-teams-app",N="https://trello.com/power-ups/59e0018ea9b5b298bbe8f8ef",L="AIzaSyAJ7h6d1DnbtYRlODr_FZhw8loCsu7n9H8",M="zeplin-8d650",x="1:290381624317:web:0f6a4fd50c15b00d401f94",U="290381624317",B="26bd4a3dcc47c8a293c60fa00656fb81",V="UA-51352708-8",z="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",F="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039",W="production",G="12.10.4",H="12ddd9afec9f9b421244",$="private-user@",q="private-project@",Z="private-styleguide@",K="private-organization@",Y=".zeplin.io",J=!0,X="zeplin",Q="12.10.4",ee="true",te="",ne=!0},function(e,t,n){"use strict";n.r(t);var i=n(33),o=n.n(i),s=n(544);const r=new class{constructor(){const e=s.SECURE_COOKIE?"none":"lax";o.a.defaults={domain:s.COOKIE_DOMAIN,expires:365,secure:s.SECURE_COOKIE,sameSite:e}}get(e){return o.a.get(e)}set(e,t,n={}){o.a.set(e,t,n)}remove(e){o.a.remove(e)}},a=localStorage.getItem("userTokenUpgraded"),l=r.get("userToken");!a&&l&&(r.set("userToken",l),localStorage.setItem("userTokenUpgraded","true")),t.default=r},,function(e,t,n){"use strict";n.r(t),n.d(t,"userPrefs",(function(){return b})),n.d(t,"barrelPrefs",(function(){return S})),n.d(t,"extensionPrefs",(function(){return y})),n.d(t,"organizationPrefs",(function(){return v}));var i=n(32),o=n.n(i),s=n(543);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:s.SortTypes.CREATED,styleguidesTabVisited:!1,styleguidesUsed:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,zeplinThreeZeroWhatsNewSeen:!1,noVectorAssetInfoHidden:!1,sourceFileInfoHidden:!1,lastOrganization:"user",pinnedBarrelOnce:!1,dashboardMemberSortKey:{field:"role",reverse:!0},componentVariantsOnboardingDialogSeen:!1,componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0,resolvedDotsTutorialSeen:!1,screenVariantsOnboardingSeen:!1,noScreensDesignToolSelection:"figma",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,densityMismatchWarningHidden:!1,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,shouldPromoteExportDesignTokens:!0,recentlyLoadedBarrels:{projects:[],styleguides:[]},upgradeForMoreRolesHintboxHidden:!1,offerReminderNextDate:null},d={assetDensityScalePrefs:null,assetNamingConvention:"default",dashboardSidebarWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,noteStatusFilter:"open",noteColorFilter:null,collapsedSections:{},showOptimizedSVG:!0,showOptimizedPNG:!0,showOptimizedJPG:!0,slackReconnectionAuntieSeen:!1,versionsSidebarWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:null,androidResFolderReminderSeen:!1},u={projectSortType:s.SortTypes.SECTIONS,collapsedSections:{},dialogDismissStates:{}};let p,h,f,g;function m(){p=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"userPrefs",version:1}),h=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"projectPrefs",version:1}),f=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"extensionPrefs",version:1}),g=o.a.createInstance({driver:[o.a.INDEXEDDB,o.a.LOCALSTORAGE],name:"organizationPrefs",version:1})}m();const b={getAll(){var e=c;return p.iterate((t,n)=>{e[n]=t}).then(()=>e)},get:e=>p.getItem(e).then(t=>null===t?c[e]:t),set:(e,t)=>p.setItem(e,t),remove:e=>p.removeItem(e)},S={getAll:e=>h.getItem(e).then(e=>a(a(a({},d),e),{},{collapsedSections:e&&"collapsedSections"in e&&e.collapsedSections?e.collapsedSections:{}})),get:(e,t,n)=>h.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?d[n]:d[t]:e&&"collapsedSections"===t&&"collapsedSections"in e&&!e.collapsedSections?d.collapsedSections:n?e[t][n]:e[t]),set:(e,t,n,i)=>h.getItem(e).then(o=>(o||(o={}),i?(o[t]||(o[t]={}),o[t][n]=i,h.setItem(e,o)):(o[t]=n,h.setItem(e,o))))},y={get:(e,t,n)=>f.getItem(e).then(e=>e&&t in e?n?e[t][n]:e[t]:null),set:(e,t,n,i)=>f.getItem(e).then(o=>(o||(o={}),o[t]||(o[t]={}),o[t][n]=i,f.setItem(e,o))),remove:e=>f.removeItem(e)},v={getAll:e=>g.getItem(e).then(e=>a(a({},u),e)),get:(e,t,n)=>g.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?u[n]:u[t]:n?e[t][n]:e[t]),set:(e,t,n,i)=>g.getItem(e).then(o=>(o||(o={}),void 0===i?(o[t]=n,g.setItem(e,o)):(o[t]||(o[t]={}),o[t][n]=i,g.setItem(e,o))))};function C(e){return function(...t){return e(...t).catch(()=>(m(),e(...t)))}}S.get=C(S.get),S.set=C(S.set),b.get=C(b.get),b.set=C(b.set),y.get=C(y.get),y.set=C(y.set),v.get=C(v.get),v.set=C(v.set)},,function(e,t,n){"use strict";function i(e){const{username:t,fullName:n}=e;return n||t}function o(e,t){return t?e?`${e}, @${t}`:"@"+t:""}function s(e){const{privacyPreferences:t}=e;return!t||!t.trackingOptOut.value}function r(e){return new Set(e.reduce((e,{users:t})=>e.concat(t.map(({user:{_id:e}})=>e)),[])).size}n.r(t),n.d(t,"getUserDisplayName",(function(){return i})),n.d(t,"getHandleText",(function(){return o})),n.d(t,"shouldTrackUser",(function(){return s})),n.d(t,"getUniqueMembersCountFromBarrels",(function(){return r}))},,,,,function(e,t){const n=document.querySelectorAll("input[type='text'], input[type='email'], input[type='password'], textarea"),i=document.querySelectorAll(".showPasswordCheckbox");Array.from(n).forEach(e=>{const t=e.closest(".inputArea");t&&(e.addEventListener("focus",()=>{t.classList.add("focus")}),e.addEventListener("blur",()=>{t.classList.remove("focus")}),t.classList.toggle("typed",!!e.value.length),e.value&&t.classList.toggle("invalid",!e.validity.valid),e.addEventListener("input",()=>{t.classList.toggle("typed",!!e.value.length)}))}),Array.from(i).forEach(e=>{e.addEventListener("change",()=>{e.parentElement.parentElement.querySelector("input").type=e.checked?"text":"password"})})},function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return r}));var i=n(22);n.d(t,"polyfill",(function(){return i.default}));var o=n(544);function s(e){const t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),s=document.createElement("form"),r=document.createElement("button"),a=document.createElement("div"),l=document.createElement("div");if(e&&e.img){const n=document.createElement("div");n.classList.add("iconContainer"),a.appendChild(n),function(e,t){let n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):(n=document.createElement("img"),n.src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!o.FLAG_REMOVE_TEST_ID&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),a.appendChild(n),i.classList.add("message"),a.appendChild(i),e&&e.input){a.classList.add("inputDialogContainer");const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("input");t.classList.add("inputContainer"),n.classList.add("subtitle"),n.textContent=e.input.title,i.type=e.input.type,t.appendChild(n),t.appendChild(i),s.appendChild(t)}if(e&&e.cancel){const t=document.createElement("button");t.classList.add("cancel"),t.type="submit",t.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&t.addEventListener("click",e.cancel.cb),l.appendChild(t)}return r.classList.add("done"),r.type="submit",r.autofocus=!0,r.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&r.addEventListener("click",e.done.cb),l.appendChild(r),l.classList.add("buttonContainer"),s.appendChild(l),s.setAttribute("method","dialog"),a.appendChild(s),t.appendChild(a),document.querySelector("body").appendChild(t),t}function r(e,t){if(document.querySelector("dialog.generic")&&!e)return;const n=e&&e.title||"",o=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.";let r=!1;if(t&&"defer"in t&&(r=t.defer),r)return void sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:o}));const a=s(e);i.default.registerDialog(a),a.querySelector(".title").textContent=n;const l=a.querySelector(".message"),{contentType:c="text"}=t||{};switch(c){case"html":l.innerHTML=o;break;case"text":default:l.textContent=o}t&&t.hideMessage&&a.querySelector(".message").classList.add("hidden"),a.addEventListener("click",e=>{e.stopPropagation()}),a.addEventListener("close",()=>{a.remove()}),e||a.classList.add("generic"),a.showModal()}const a=JSON.parse(sessionStorage.getItem("deferredDialog"));a&&(sessionStorage.removeItem("deferredDialog"),r(a))},function(e,t,n){"use strict";n.r(t),n.d(t,"parseUrlPath",(function(){return l})),n.d(t,"getTagQueryParams",(function(){return c})),n.d(t,"getExtensionWebsiteUrl",(function(){return d})),n.d(t,"isValidUrl",(function(){return u})),n.d(t,"parseAppURI",(function(){return s})),n.d(t,"convertURItoWebURL",(function(){return r}));var i=n(544),o=n(557);function s(e){if(e.pathname.startsWith("//projects"))return function(e){const t=e.searchParams.getAll("pid"),n=e.searchParams.get("wid")||e.searchParams.get("oid"),i=e.searchParams.get("seid");return{urlSlug:n?"workspace-projects":"projects",query:i?{seid:i}:{pid:t},url:n?{oid:n}:{}}}(e);if(e.pathname.startsWith("//styleguides"))return function(e){const t=e.searchParams.getAll("stid"),n=e.searchParams.get("wid")||e.searchParams.get("oid");return{urlSlug:n?"workspace-styleguides":"styleguides",url:n?{oid:n}:{},query:{stid:t}}}(e);const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return t||n?e.pathname.startsWith("//screen")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("sid"),i=e.searchParams.get("vid");return{urlSlug:i?"project-screen-version":"project-screen",url:{pid:t,sid:n,vid:i}}}(e):e.pathname.startsWith("//dot")?function(e){return{urlSlug:"project-screen",url:{pid:e.searchParams.get("pid"),sid:e.searchParams.get("sid")},query:{did:e.searchParams.getAll("did"),cmid:e.searchParams.getAll("cmid")}}}(e):e.pathname.startsWith("//styleguide")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide":"project-styleguide",url:{bid:t||n},query:{cid:e.searchParams.getAll("cid"),tsid:e.searchParams.getAll("tsid"),sptid:e.searchParams.getAll("sptid"),coid:e.searchParams.getAll("coid")}}}(e):e.pathname.startsWith("//colors")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide-colors":"project-styleguide-colors",url:{bid:t||n},query:{cid:e.searchParams.getAll("cid")}}}(e):e.pathname.startsWith("//textStyles")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide-textstyles":"project-styleguide-textstyles",url:{bid:t||n},query:{tsid:e.searchParams.getAll("tsid")}}}(e):e.pathname.startsWith("//spacing")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid");return{urlSlug:n?"styleguide-spacing":"project-styleguide-spacing",url:{bid:t||n},query:{sptid:e.searchParams.getAll("sptid")}}}(e):e.pathname.startsWith("//components")?function(e){const t=e.searchParams.get("pid"),n=e.searchParams.get("stid"),i=e.searchParams.getAll("coid"),o=e.searchParams.getAll("cseid"),s=e.searchParams.getAll("seid");return{urlSlug:n?"styleguide-components":"project-styleguide-components",url:{bid:t||n},query:{coid:i,seid:[...new Set([...s,...o])]}}}(e):function(e){return{urlSlug:"project-dashboard",url:{pid:e.searchParams.get("pid")},query:{sid:e.searchParams.getAll("sid"),seid:e.searchParams.getAll("seid")}}}(e):null}function r(e){if(e.protocol!==i.ZPL_PROTOCOL)return;const{urlSlug:t,url:n={},query:r={}}=s(e)||{};return t?Object(o.urlResolve)(t,{url:n,query:r}):void 0}n.d(t,"joinUrlParams",(function(){return o.joinUrlParams})),n.d(t,"parseUrlParams",(function(){return o.parseUrlParams})),n.d(t,"urlResolve",(function(){return o.urlResolve})),n.d(t,"getAppRouteFromPathname",(function(){return o.getAppRouteFromPathname}));const a=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function l(e){var t=e.match(a);if(!t)return null;var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}function c(e){const{tags:t,untagged:n}=e;return n?{untagged:"true"}:{tag:t}}function d({eid:e,organizationId:t}={}){return e?`${i.EXTENSIONS_WEB_URL}/${e}`:t&&"user"!==t?`${i.EXTENSIONS_WEB_URL}?oid=${t}`:i.EXTENSIONS_WEB_URL}const u=e=>{try{return!!new URL(e)}catch(t){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppRouteFromPathname=t.joinUrlParams=t.urlResolve=t.parseUrlParams=void 0;const i=n(543),o={authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",redeemSlackCode:"/redeem-slack-code",login:"/login","login-sso":"/login/sso",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing","profile-developer":"/profile/developer","profile-connected-apps":"/profile/connected-apps",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-spacing":"/project/:bid/styleguide/spacing","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-spacing":"/styleguide/:bid/spacing","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","workspace-create":"/workspace/create","workspace-members":"/workspace/:oid/members","workspace-profile":"/workspace/:oid/profile","workspace-profile-billing":"/workspace/:oid/profile/billing","workspace-profile-authentication":"/workspace/:oid/profile/authentication","workspace-profile-developer":"/workspace/:oid/profile/developer","workspace-projects":"/workspace/:oid/projects","workspace-styleguides":"/workspace/:oid/styleguides",authSamlResult:"/auth/saml/result",activities:"/notifications","workspace-activities":"/notifications/:oid","grant-token":"/grant-token/:redeemerId"};function s(e){if(!Object.keys(e))return"";const t=[];return Object.keys(e).forEach(n=>{e[n]&&(Array.isArray(e[n])?e[n].forEach(e=>{t.push([n,e])}):t.push([n,e[n]]))}),t.map(e=>e.map(encodeURIComponent).join("=")).join("&")}function r(e){return 0===Object.keys(e).length}t.joinUrlParams=s,t.urlResolve=function(e,{origin:t=location.origin,url:n={},query:i={},hash:a={}}={}){const l=new URL((c=o[e],d=n,Object.entries(d).reduce((e,[t,n])=>e.replace(new RegExp(":"+t),n),c)),t);var c,d;return i&&!r(i)&&(l.search=s(i)),a&&!r(a)&&(l.hash=s(a)),l.toString()},t.parseUrlParams=function(e){const t=("?"===e[0]?e.substring(1):e).split("&").map(e=>e.split("=").map(e=>e.replace(/\+/g,"%20")).map(decodeURIComponent)),n=Array.from(new Set(t.map(e=>e[0]))).reduce((e,t)=>(e[t]=[],e),{});return t.forEach(e=>{const t=n[e[0]];t&&e[1]&&t.push(e[1])}),n},t.getAppRouteFromPathname=function(e){let t=null;return/^(?:\/workspace\/([\da-f]{24}))?\/(projects|styleguides)?$/i.test(e)?t=i.AppRoutes.Workspace:/\/project\/([\da-f]{24})(?:\/(dashboard))?$/i.test(e)?t=i.AppRoutes.Project:/\/styleguide\/([\da-f]{24})/i.test(e)?t=i.AppRoutes.Styleguide:/\/project\/([\da-f]{24})\/styleguide/i.test(e)?t=i.AppRoutes.ProjectStyleguide:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.Screen:/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})\/version\/([\da-f]{24})?$/i.test(e)?t=i.AppRoutes.ScreenVersion:/^\/notifications(?:\/)?([\da-f]{24})?$/i.test(e)&&(t=i.AppRoutes.Notifications),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"findFirstPositionedAncestor",(function(){return p})),n.d(t,"scrollIfNecessary",(function(){return f})),n.d(t,"getFirstScrollableParent",(function(){return h})),n.d(t,"selectContent",(function(){return g})),n.d(t,"isElementVisible",(function(){return m})),n.d(t,"wiggle",(function(){return b})),n.d(t,"highlightInput",(function(){return S})),n.d(t,"highlightAndScrollToInput",(function(){return y})),n.d(t,"highlightMatchedParts",(function(){return v})),n.d(t,"isEditableElement",(function(){return C})),n.d(t,"canCopy",(function(){return O})),n.d(t,"canDownload",(function(){return E})),n.d(t,"getTextWidth",(function(){return T})),n.d(t,"setAvatar",(function(){return _})),n.d(t,"getUserAvatar",(function(){return I})),n.d(t,"openLink",(function(){return j})),n.d(t,"notify",(function(){return k}));var i=n(211),o=n.n(i),s=n(559),r=n(560),a=n(563),l=n(542),c=n(547),d=n(568),u=n(569);function p(e){if(!e)return null;let t=e.parentElement,n=getComputedStyle(t);for(;t&&"static"===n.position;)t=t.parentElement,n=getComputedStyle(t);return t}function h(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function f(e,t){const{container:n=h(e),offset:i=0}=t||{};if(!e||!n)return;const o=e.getBoundingClientRect(),s=n.getBoundingClientRect();setTimeout(()=>{o.top<s.top?n.scrollTop-=s.top-o.top+i:o.bottom>s.bottom&&(n.scrollTop+=o.bottom-s.bottom+i)},4)}function g(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function m(e,t=h(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function b(e){e.addEventListener("animationend",()=>{e.classList.remove("wiggle")}),e.classList.add("wiggle")}function S(e){setTimeout(()=>{e.focus(),e.select()},4)}function y(e){setTimeout(()=>{e.scrollIntoView(),e.focus(),e.select()},4)}function v(e,t,{caseInsensitive:n,excludeZeroScore:i}={}){const o=n?e.toLowerCase():e,r=n?t.toLowerCase():t;let a=0,l="";if(i&&!Object(d.calculateMatchingScore)(r,o))return Object(s.escapeHTML)(e);const c=o.indexOf(r);if(c>-1)l+=Object(s.escapeHTML)(e.substring(0,c)),l+=`<span class="highlight">${Object(s.escapeHTML)(e.substr(c,r.length))}</span>`,l+=Object(s.escapeHTML)(e.substring(c+r.length));else{for(const t of r){const n=o.indexOf(t,a);if(-1===n)break;l+=Object(s.escapeHTML)(e.substring(a,n)),l+=`<span class="highlight">${Object(s.escapeHTML)(e.substr(n,t.length))}</span>`,a=n+t.length}l+=Object(s.escapeHTML)(e.substring(a))}return l}function C(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function O(){return document.queryCommandSupported("copy")}function E(){return"download"in document.createElement("a")}n.d(t,"copyContent",(function(){return u.copyContent}));const T=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function _(e,t,{size:n,ignoreRandomEmotar:i}={}){const o=e.parentElement;o.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",(function t(){e.removeEventListener("load",t),o.classList.remove("loading")}));const s=I(t,{ignoreRandomEmotar:!!i,size:n||e.width});s&&Object.assign(e,s)}const P=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],D={};function I(e,{ignoreRandomEmotar:t=!1,size:n}={}){if(!e||!e.email)return{src:"/img/emotars/emotarAnonymous.png"};if(!t&&e.emotar)return{src:Object(a.emotarUrl)(e.emotar)};if(e.avatar)return{src:e.avatar};let i;if(t)return{src:"/img/emotars/icRandom.svg"};let s=D[e._id];s||(s=Array.from(o()(e._id)).reduce((e,t)=>e+t.charCodeAt(),0),D[e._id]=s),i=P[s%P.length].replace(/_\w/g,e=>e.charAt(1).toUpperCase()),i=`https://app.zeplin.io/img/emotars/emotar${Object(r.uppercaseFirst)(i)}.png`;const l="https://secure.gravatar.com/avatar/"+o()(e.email);return{src:`${l}?${n?"s="+n+"&":""}d=${i}`,srcset:`${l}?${n?"s="+2*n+"&":""}d=${i} 2x`}}function j(e,{inNewTab:t=!0}={}){if(l.default)return void l.default.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}async function k({title:e,body:t,notifier:n,handler:i}={}){if(!window.Notification||"granted"!==Notification.permission)return;if(!await c.userPrefs.get("notificationStatus"))return;const{src:o}=I(n,{size:160}),s=new Notification(e,{body:t,icon:o,name:0});s.addEventListener("show",(function(){setTimeout(s.close.bind(s),5e3)})),i&&s.addEventListener("click",i)}},function(e,t,n){"use strict";n.r(t),n.d(t,"escapeHTML",(function(){return c})),n.d(t,"unescapeHTML",(function(){return d})),n.d(t,"sortBy",(function(){return f})),n.d(t,"arrayRemove",(function(){return E})),n.d(t,"fontSort",(function(){return T})),n.d(t,"mentionRegexFn",(function(){return v})),n.d(t,"userRegexFn",(function(){return C})),n.d(t,"isThereAnyMentionedUser",(function(){return O})),n.d(t,"arrayEqual",(function(){return _})),n.d(t,"validateId",(function(){return P})),n.d(t,"isOrganizationProject",(function(){return I})),n.d(t,"getDeveloperString",(function(){return A})),n.d(t,"getPlatformString",(function(){return N})),n.d(t,"escapeAndroidXML",(function(){return u})),n.d(t,"escapeRegExpButAsterisk",(function(){return p})),n.d(t,"getTimeSlot",(function(){return M})),n.d(t,"normalizeObjCColor",(function(){return j})),n.d(t,"normalizeSwiftColor",(function(){return k})),n.d(t,"alphaFormatter",(function(){return B})),n.d(t,"formatTime",(function(){return W})),n.d(t,"formatTimeWithGenericOptions",(function(){return G})),n.d(t,"rectContains",(function(){return H})),n.d(t,"rectContainsPoint",(function(){return $})),n.d(t,"rectanglesIntersect",(function(){return q})),n.d(t,"getUserRoleString",(function(){return K})),n.d(t,"getRoleIconName",(function(){return Y})),n.d(t,"getDensityScale",(function(){return X})),n.d(t,"getDensityScaleRepresentation",(function(){return ee})),n.d(t,"getMostConformingTextStyle",(function(){return te})),n.d(t,"debounce",(function(){return x})),n.d(t,"debouncePromise",(function(){return U})),n.d(t,"stopPropagation",(function(){return ne})),n.d(t,"preventDefault",(function(){return ie})),n.d(t,"collectComponents",(function(){return oe})),n.d(t,"formatCurrency",(function(){return z})),n.d(t,"formatList",(function(){return F})),n.d(t,"calculateOverlayIcon",(function(){return ae})),n.d(t,"pipe",(function(){return le})),n.d(t,"getStateUpdateFunction",(function(){return ce})),n.d(t,"groupBy",(function(){return de})),n.d(t,"normalizeArray",(function(){return ue})),n.d(t,"groupMentionKeywords",(function(){return y}));var i=n(34),o=n(560),s=n(561);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function d(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function u(e){return c(e).replace(/^@/gm,"\\ufeff@")}function p(e){return e.replace(/[.+\-?^${}()|[\]\\]/g,"\\$&")}n.d(t,"permissions",(function(){return s.permissions})),n.d(t,"filterOut",(function(){return s.filterOut}));var h={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},f={role:(e,t)=>e.role!==t.role?h[t.role]-h[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date:g,created:g.bind(null,["created"]),updated:g.bind(null,["updated"]),authorized:g.bind(null,["authorizedAt"]),naturally:S.bind(null,null),name:S.bind(null,"name")};function g(e,t,n){let i=t,o=n;for(let s=0;s<e.length;s++)i=i[e[s]],o=o[e[s]];return new Date(o)-new Date(i)}const m={};function b(e,t,n){return m[e]?(m[e][t]=n,n):(m[e]={[t]:n},n)}function S(e,t,n){let i=t,o=n;if(e&&(i=t[e],o=n[e]),m[i]&&o in m[i])return m[i][o];const s=i.toLowerCase().match(/\D+|\d+/g),r=o.toLowerCase().match(/\D+|\d+/g),a=Math.min(s.length,r.length),l=new Intl.Collator;for(let c=0;c<a;c++){if(s[c]===r[c])continue;const e=parseInt(s[c],10),t=parseInt(r[c],10);return isNaN(e)||isNaN(t)?b(i,o,l.compare(s[c],r[c])):b(i,o,e-t)}return b(i,o,s.length-r.length)}const y=["everyone","project","organization"];function v(e){const t=[...y,e].join("|");return new RegExp(`@(?:${t})\\b`)}function C(e=[]){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...y,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function O(e,t){const n=e.filter(({user:{username:e}})=>e&&e!==Zeplin.user.username).map(({user:{username:e}})=>e).join("|");return new RegExp(`@(?:${n})\\b`,"gi").test(t)}function E(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}function T(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function _(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function P(e,t="object"){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||(i.withScope(n=>{n.setExtra("id",e),i.captureException(new Error(`Invalid ${t} id`))}),!1)}const D=["king","queen","rook","knight","pawn"];function I(e){return!e.users.length||D.includes(e.users[0].role)}function j(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function k(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}const R={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function A(e){return R[e]}const w=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});function N(e){return w[e]}function L(e){return(e.getDay()+6)%7}function M(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),o=new Date(n-864e5*L(e)),s=new Date(n-864e5*(L(e)+7)),r=new Date(n-864e5*(e.getDate()-1)),a=new Date(n-864e5*(e.getDate()+1));return a.setDate(1),[["today",t],["yesterday",i],["this week",o],["last week",s],["this month",r],["last month",a]]}().find(t=>e>=t[1]);if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),W(e,n)}function x(e,t){let n;return function(...i){const o=this;n?cancelAnimationFrame(n):t&&e.apply(o,i),n=requestAnimationFrame((function(){t||e.apply(o,i),n=null}))}}function U(e,t=1e3){let n=null,i=null;return function(...o){return clearTimeout(n),n=setTimeout(()=>{const t=e(...o);i(t),i=null},t),new Promise(e=>{i=e})}}var B=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const V=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function z(e){return V.format(e)}function F(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function W(e,t){var n=new Intl.DateTimeFormat("en",t),{timeZone:i}=n.resolvedOptions();return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function G(e){return W(e,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"})}function H(e,t){const n=e.x+e.width,i=e.y+e.height,o=t.x+t.width,s=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=o&&i>=s}function $(e,t,n={}){const{left:i,right:o,top:s,bottom:r}=e,{x:a,y:l}=t,c=n.discardHorizontalPosition||a>=i&&a<o,d=n.discardVerticalPosition||l>=s&&l<r;return c&&d}function q(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}var Z={king:"Owner",queen:"Admin",rook:"Editor",knight:"Developer",pawn:"Reviewer",owner:"Owner",admin:"Admin",user:"Member"};function K(e){return Z[e]||""}function Y(e){return"ic"+Object(o.uppercaseFirst)(e)}const J=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function X(e){return J[e]}const Q=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});function ee(e,t){return t?"android"===e?Q[t]:t+"x":"unknown"}function te(e,t){const n=e.reduce((e,n)=>{const{id:i,name:o,textStyles:s,isMember:r,isOrganizationBarrel:l}=n,c=function(e,t){return e.reduce((e,n)=>{if(t.sourceId&&n.sourceId&&t.sourceId===n.sourceId)return{textStyle:n,score:1e3};if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0})}(s,t);return c.score>e.score?a({styleguideId:i,styleguideName:o,isMember:r,isOrganizationBarrel:l},c):e},{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:o,textStyle:s,isMember:r,isOrganizationBarrel:l}=n;return a({styleguideId:i,styleguideName:o,isMember:r,isOrganizationBarrel:l},s)}function ne(e){e.stopPropagation()}function ie(e){e.preventDefault()}function oe(e=[]){return[].concat(...e.map(e=>e.components.concat(oe(e.componentSections))))}const se=document.createElement("canvas");function re(e){return e/2*window.devicePixelRatio}function ae(){se.width=16*window.devicePixelRatio,se.height=se.width;const e=se.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(re(16),re(16),re(13),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(re(16),re(16),re(2),0,6.28,!1),e.fill(),se.toDataURL()}function le(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}function ce(e){return t=>Object.keys(e).reduce((n,i)=>(t[i]===e[i]||(n||(n={}),n[i]=e[i]),n),null)}function de(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function ue(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluralize",(function(){return s})),n.d(t,"lowercaseFirst",(function(){return r})),n.d(t,"uppercaseFirst",(function(){return a})),n.d(t,"getRandomString",(function(){return l})),n.d(t,"anyWordStartsWith",(function(){return c})),n.d(t,"getFirstWhitespaceIndex",(function(){return d})),n.d(t,"getFilenameWithoutExtensionFromPath",(function(){return u})),n.d(t,"getFileExtensionFromPath",(function(){return p})),n.d(t,"isLetter",(function(){return h}));const i=/\W/,o=/[\W_]/;function s(e,t,{suffix:n="s",one:i="1"}={}){return`${1===e?i:e} ${t}${1!==e?n:""}`}function r(e){return e.charAt(0).toLowerCase()+e.substring(1)}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e=1/0){return Math.random().toString(36).substr(2,e)}function c(e,t){return e.split(o).some(e=>e.startsWith(t))}function d(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}function u(e){const t=e.split("/").pop(),n=t.lastIndexOf(".");return-1===n?t:t.substring(0,n)}function p(e){const t=e.split("/").pop(),n=t.lastIndexOf(".");return-1===n?null:t.substring(n+1)}function h(e){return/[\x41-\x5A\x61-\x7A\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/.test(e)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=t.filterOut=void 0;const o=i(n(562));t.filterOut=function(e,t){const n=Object.assign({},e);return delete n[t],n};const s=["user","admin","owner","pawn","knight","rook","queen","king"],r=e=>t=>((e,t)=>{if(!e)return!1;const n="string"==typeof e?e:e.role;return t.includes(n)})(t,e),a={isSuperior(e,t,n){const i=s.indexOf(e.role),o=s.indexOf(t.role);return n&&i===o||i>o},canTransferOwnership:r(o.default.canTransferOwnership),canReceiveOwnership:r(o.default.canReceiveOwnership),canLeaveProject:r(o.default.canLeaveProject),canCreateProject:r(o.default.canCreateProject),canUpdateProject:r(o.default.canUpdateProject),canCreateProjectSection:r(o.default.canCreateProjectSection),canChangeProjectAccesibility:r(o.default.canChangeProjectAccesibility),canChangeProjectStatus:r(o.default.canChangeProjectStatus),canDeleteProject:r(o.default.canDeleteProject),canCreateStyleguide:r(o.default.canCreateStyleguide),canDeleteStyleguide:r(o.default.canDeleteStyleguide),canLeaveStyleguide:r(o.default.canLeaveStyleguide),canUpdateStyleguide:r(o.default.canUpdateStyleguide),canChangeStyleguideStatus:r(o.default.canChangeStyleguideStatus),canManageScreens:r(o.default.canManageScreens),canMoveScreens:r(o.default.canMoveScreens),canRemoveVersions:r(o.default.canRemoveVersions),canManageColors:r(o.default.canManageColors),canManageTextStyles:r(o.default.canManageTextStyles),canManageSpacings:r(o.default.canManageSpacings),canRemoveNotes:r(o.default.canRemoveNotes),canRemoveExtensions:r(o.default.canRemoveExtensions),canManageRemSettings:r(o.default.canManageRemSettings),canManageWorkflowStatuses:r(o.default.canManageWorkflowStatuses),canMoveResources:r(o.default.canMoveResources),canManageWebhooks:r(o.default.canManageWebhooks),canChangePlan:r(o.default.canChangePlan),canCopyBarrel:r(o.default.canCopyBarrel)};t.permissions=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Object.freeze({canTransferOwnership:["king","queen","owner","admin"],canReceiveOwnership:["king","queen","owner","rook"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canCreateProjectSection:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canRemoveVersions:["king","queen","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canManageSpacings:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canManageRemSettings:["king","queen","rook","knight","owner","admin","user"],canManageWorkflowStatuses:["king","queen","rook","owner","admin","user"],canCopyBarrel:["king","queen","owner","rook"],canMoveResources:["king","queen","rook","owner","admin","user"],canManageWebhooks:["king","queen","owner","admin"],canChangePlan:["king","queen","owner","admin"]})},function(e,t,n){"use strict";n.r(t),n.d(t,"imageUrl",(function(){return s})),n.d(t,"emotarUrl",(function(){return a})),n.d(t,"srcset",(function(){return r})),n.d(t,"cropImage",(function(){return l})),n.d(t,"getResizedImageSources",(function(){return c})),n.d(t,"isLight",(function(){return d})),n.d(t,"getImageProperties",(function(){return p})),n.d(t,"getDominantColorOfImage",(function(){return h}));var i=n(560),o=n(564);function s(e){return new URL(e,location.origin).href}function r(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function a(e){if("random"===e)return s("/img/emotars/icRandom.svg");return s(`/img/emotars/emotar${Object(i.uppercaseFirst)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}function l(e,t){return new Promise(n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const o=i.getContext("2d");o.webkitImageSmoothingEnabled=!0,o.mozImageSmoothingEnabled=!0,o.msImageSmoothingEnabled=!0,o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="medium";const s=document.createElement("img");let r,a,l;s.crossOrigin="anonymous";let c=1,d=0,u=0;s.addEventListener("load",e=>{s.width<=i.width?(r=s.width,d=(i.width-s.width)/2):(c=i.width/s.width,r=i.width),t.height||(i.height=i.width*s.height/s.width),l=c*s.height,l<=i.height?(a=s.height,u=(i.height-l)/2):(a=i.height/c,l=i.height),o.drawImage(s,0,0,s.width,a,d,u,r,l),i.toBlob(e=>{n(URL.createObjectURL(e))})}),s.addEventListener("error",t=>{n(e)}),s.src=e})}function c(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let o="?w="+t,s="?w="+2*t;return n&&(o+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,s+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${o}`,srcset:`${i}${s} 2x`}}function d(e){for(let t=0;t<e.length;t+=4){const n=e[t+0],i=e[t+1],o=e[t+2];if(e[t+3]>=55&&(n<200||i<200||o<200))return!1}return!0}const u={};function p(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in u)t(u[i]);else{const o="string"==typeof e?document.createElement("img"):e;o.crossOrigin="anonymous",o.addEventListener("load",(function e(){o.removeEventListener("load",e);const n=document.createElement("canvas"),s=n.getContext("2d");n.width=o.width,n.height=o.height,s.drawImage(o,0,0);const r=d(s.getImageData(0,0,n.width,n.height).data)?"light":"dark",a={size:{width:o.width,height:o.height},lightness:r};u[i]=a,t(a)})),o.addEventListener("error",(function e(t){o.removeEventListener("error",e),n(t)})),"string"==typeof e&&(o.src=e)}})}function h(e){if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");let i;t.height=e.naturalHeight||e.offsetHeight||e.height,t.width=e.naturalWidth||e.offsetWidth||e.width,n.drawImage(e,0,0);try{i=n.getImageData(0,0,t.width,t.height).data}catch(l){return null}const s=i.length,r={};for(let c=0;c<s;c+=4){const e=i[c],t=i[c+1],n=i[c+2];if(0===i[c+3])continue;if(e===t&&t===n)continue;const s="#"+[e,t,n].map(o.default.componentToHex).join("");r[s]?r[s]++:r[s]=1}const a=Object.keys(r);return a.length?a.reduce((e,t)=>r[e]>r[t]?e:t):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Color}));var i=n(565),o=n(566),s=n(567);const r=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase",base:"kebabCase"}),a=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Color extends s.default{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,sourceId:o,r:s,g:r,b:a,a:c=1}=e;var d;this.id=t||n,this.sourceId=o,this.r=l(s),this.g=l(r),this.b=l(a),this.a=(d=c,Math.max(0,Math.min(d,1))),this.name=i}static get NAMED_COLORS(){return o.CSS_NAMED_COLORS}static fromHex(e){let t=e.replace("#","");3!==t.length&&4!==t.length||(t=t.replace(/(.)/g,"$1$1"));const n=parseInt(t,16);let i=8*(t.length/2-1);const o=n>>i&255;i-=8;const s=n>>i&255;i-=8;const r=n>>i&255;i-=8;return new Color({r:o,g:s,b:r,a:i<0?1:(n>>i&255)/255})}static fromHSLA(e,t,n,i=1){let o,s,r;if(0===t)o=n,s=n,r=n;else{const i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;o=d(a,i,e+1/3),s=d(a,i,e),r=d(a,i,e-1/3)}return o*=255,s*=255,r*=255,new Color({r:o,g:s,b:r,a:i})}formatName(e){return Object(i.default)(this.name,r[e])}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,sourceId:this.sourceId,name:this.name}}equals(e){const t=new Color(e);return this.sourceId&&t.sourceId?this.sourceId===t.sourceId:this.r===t.r&&this.g===t.g&&this.b===t.b&&a.format(this.a)===a.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&(t=t.blend(n),1===t.a))break;return t}static componentToHex(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}hexBase(){return this.constructor.componentToHex(this.r)+this.constructor.componentToHex(this.g)+this.constructor.componentToHex(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=this.constructor.componentToHex(Math.trunc(n+n/255));t=e?i+t:t+i}return"#"+t}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e}, ${a.format(this.a)}`:"rgb "+e}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${a.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),o=Math.min(e,t,n),s=(i+o)/2;let r,a;if(i===o)r=0,a=0;else{const l=i-o;switch(a=s>.5?l/(2-i-o):l/(i+o),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:s}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${a.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"web":return this.toCSS(t);case"base":case"ios":case"osx":default:return this.toRGBABase()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,s=-1;for(let a=0;a<o.colorNames.length;a++){const l=new Color(o.colorNames[a]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.default)(l.name,r[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(s<0||t<s)&&(s=t,n=a)}return Object(i.default)(o.colorNames[n].name,r[e])}}},function(e,t,n){"use strict";n.r(t);var i=n(560);var o=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.default=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.uppercaseFirst).join("");return"camelCase"===t?Object(i.lowercaseFirst)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}((n=e.match(o))?n.map((function(e){return e.toLowerCase()})):["invalid","name"],t);var n}},function(e,t,n){"use strict";n.r(t),n.d(t,"CSS_NAMED_COLORS",(function(){return i})),n.d(t,"colorNames",(function(){return o}));var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),o=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function i(){}n.r(t),i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"calculateMatchingScore",(function(){return o})),n.d(t,"matchUserWithFilterValue",(function(){return s}));var i=n(549);function o(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let o=0,s=e.toLowerCase(),r=0;const a=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${a}\\b\\s*`,"ig");if(a&&l.test(s)&&(r=.3,s=s.replace(l," ").trim(),!s))return r;const c=i.indexOf(s);if(c>-1)return o+=.3,i.startsWith(s)?o+=.3:" "===i.charAt(c-1)&&(o+=.2),o+=(i.length-c)/i.length/200,o+r;let d=i.indexOf(s.charAt(0)),u=0,p=0;for(var h=d;h<i.length&&-1!==d;h++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=s[++p];d=e?i.indexOf(e,d+1):-1}return p===s.length&&(o+=.05+u),o?o+r:0}function s(e,t){const{email:n,username:s,fullName:r}=e;return o(t,Object(i.getHandleText)(r,s))||o(t,n)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.copyContent=void 0;const o=n(540),s=i(n(570));function r(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(o.isiOS()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function a(e){return navigator.clipboard.writeText(e).then(()=>!0).catch(()=>!1)}t.copyContent=function({content:e,toastContainer:t}){(navigator.clipboard?a:r)(e).then(n=>{n&&t&&s.default({text:"Copied to clipboard!",container:t,source:e})})}},function(e,t,n){"use strict";n.r(t);const i={source:null,text:null,container:null,visible:!1,removeTimeout:null};function o(e){return setTimeout(()=>{e.addEventListener("transitionend",()=>{e.remove(),i.visible=!1}),e.classList.remove("show")},3e3)}t.default=function({text:e,source:t,container:n=document.body}){let s=i.container&&i.container.querySelector(".toastContainer");if(i.visible&&!document.body.contains(s)&&(i.visible=!1),i.visible&&s){if(t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=o(s));s.remove()}const r=document.createElement("div");s=document.createElement("div"),s.appendChild(r),s.classList.add("toastContainer"),r.classList.add("toast"),r.textContent=e,n.appendChild(s),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout(()=>{s.classList.add("show"),i.removeTimeout=o(s)},50)}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(572),t)},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.developer=t.user=t.auth=t.styleguide=t.project=t.checkWebhookUrlHealth=t.deleteWebhook=t.updateWebhook=t.createWebhook=t.getWebhook=t.getWebhooks=t.getAppStatus=t.renamePersonalAccessToken=t.deletePersonalAccessToken=t.createPersonalAccessToken=t.getPersonalAccessTokens=t.deleteApplication=t.updateApplication=t.createApplication=t.getOwnedApplication=t.getOwnedApplications=t.revokeAuthorizedApplication=t.getAuthorizedApplications=t.updateStyleguideComponentSectionsStyleguide=t.updateStyleguideTextStylesStyleguide=t.updateStyleguideColorsStyleguide=t.updateProjectComponentSectionsStyleguide=t.updateProjectTextStylesStyleguide=t.updateProjectColorsStyleguide=t.revokeAppToken=t.getLinkedTokenOfAuthKey=t.createAuthGrantCode=t.createAuthGrantCredentials=t.createUser=t.loginUser=t.verifyUser=t.requestVerification=t.getUserInvoices=t.requestInvoice=t.updateUserCard=t.getUserCards=t.updateUserBilling=t.updatePassword=t.deleteUser=t.updateUserTrackingPreference=t.updateUser=t.updateEmail=t.updateUsername=t.checkUsernameAvailable=t.getUserStatus=t.getUserProfile=t.processStyleguideComponentVersionAssetContent=t.getStyleguideComponentVersionAssets=t.getStyleguideDesignTokensFile=t.getStyleguideDesignTokens=t.deleteStyleguidesWorkflowStatus=t.updateStyleguidesWorkflowStatus=t.getStyleguideLocalConnectedComponents=t.getStyleguideConnectedComponents=t.updateStyleguideComponentSectionsOrder=t.updateStyleguideComponentsOrder=t.getStyleguideTeamsIntegration=t.deleteStyleguideIntegrationEvent=t.addStyleguideIntegrationEvent=t.getStyleguideIntegrationEvents=t.removeStyleguideParent=t.updateStyleguideParent=t.deleteStyleguideComponent=t.updateStyleguideComponent=t.createStyleguideComponentSectionVariantGroups=t.deleteStyleguideComponentSectionVariantProperty=t.updateStyleguideComponentsVariantProperty=t.updateStyleguideComponentSectionVariantPropertiesOrder=t.updateStyleguideComponentSectionVariantProperty=t.createStyleguideComponentSectionVariantProperty=t.convertStyleguideVariantSectionToComponentSection=t.convertStyleguideComponentSectionToVariantSection=t.mergeStyleguideComponentSection=t.updateStyleguideComponentSection=t.addStyleguideComponentSection=t.updateStyleguideRemPreferences=t.deleteStyleguideSpacingToken=t.updateStyleguideSpacingToken=t.createStyleguideSpacingToken=t.deleteStyleguideSpacingSection=t.updateStyleguideSpacingSection=t.createStyleguideSpacingSection=t.deleteStyleguideAllTextStyles=t.deleteStyleguideTextStyle=t.updateStyleguideTextStyle=t.createStyleguideTextStyle=t.deleteStyleguideAllColors=t.deleteStyleguideColor=t.updateStyleguideColor=t.createStyleguideColor=t.deleteStyleguideIntegration=t.getStyleguideSlackIntegrationEmojis=t.authStyleguideSlack=t.getStyleguideExtensions=t.updateStyleguideThumbnail=t.updateStyleguideAccessibility=t.updateStyleguideDensityScale=t.updateStyleguideDescription=t.updateStyleguideName=t.updateStyleguideUserRole=t.removeUserFromStyleguide=t.inviteStyleguideUsersByTag=t.inviteStyleguideUser=t.transferStyleguideOwnership=t.activateStyleguide=t.archiveStyleguide=t.copyStyleguide=t.deleteStyleguide=t.createStyleguide=t.getStyleguideProjects=t.getStyleguideOrganization=t.getStyleguide=t.getStyleguides=t.createIntercomUserTag=t.getOrganizationUpcomingInvoice=t.getUserUpcomingInvoice=t.createIntercomMessage=t.transferUserSubscription=t.downgradeOrganizationSubscription=t.cancelOrganizationSubscription=t.createUserSubscription=t.updateUserSubscription=t.cancelUserSubscription=t.updateUserEmotar=t.unmuteStyleguideNotifications=t.unmuteProjectNotifications=t.muteStyleguideNotifications=t.muteProjectNotifications=t.updateEmailNotifications=t.deleteUserSSOProvider=t.resetPassword=t.getSsoLoginParams=t.logoutUser=t.updateNotificationLastReadTime=t.getUserAcquaintances=t.updateNotificationEventsReadStatus=t.getNotifications=t.processProjectComponentVersionAssetContent=t.getProjectComponentVersionAssets=t.getProjectDesignTokensFile=t.getProjectDesignTokens=t.deleteProjectsWorkflowStatus=t.updateProjectsWorkflowStatus=t.updateScreensTags=t.updateProjectThumbnail=t.deleteComment=t.updateDotCommentNote=t.createDotComment=t.updateCommitMessage=t.deleteDot=t.updateDot=t.createDot=t.getDots=t.getDotStates=t.processVersionAssetContent=t.fetchAssets=t.getVersionAssets=t.getVersions=t.deleteVersion=t.updateCommitColor=t.getSnapshot=t.fetchSnapshot=t.getProjectTeamsIntegration=t.deleteProjectIntegrationEvent=t.addProjectIntegrationEvent=t.getProjectIntegrationEvents=t.removeProjectStyleguideLink=t.updateProjectStyleguideLink=t.updateProjectComponentSectionsOrder=t.updateProjectComponentsOrder=t.deleteProjectComponent=t.updateProjectComponent=t.createProjectComponentSectionVariantGroups=t.deleteProjectComponentSectionVariantProperty=t.updateProjectComponentsVariantProperty=t.updateProjectComponentSectionVariantPropertiesOrder=t.updateProjectComponentSectionVariantProperty=t.createProjectComponentSectionVariantProperty=t.convertProjectVariantSectionToComponentSection=t.convertProjectComponentSectionToVariantSection=t.mergeProjectComponentSection=t.updateProjectComponentSection=t.addProjectComponentSection=t.getProjectLocalConnectedComponents=t.getProjectConnectedComponents=t.getProjectComponentSections=t.updateProjectRemPreferences=t.deleteProjectSpacingToken=t.updateProjectSpacingToken=t.createProjectSpacingToken=t.deleteProjectSpacingSection=t.updateProjectSpacingSection=t.createProjectSpacingSection=t.deleteProjectAllTextStyles=t.deleteProjectTextStyle=t.updateProjectTextStyle=t.createProjectTextStyle=t.deleteProjectAllColors=t.deleteProjectColor=t.updateProjectColor=t.createProjectColor=t.removeScreenFromVariantGroup=t.updateVariantGroupScreensOrder=t.updateVariantGroupScreenVariantName=t.updateVariantGroupName=t.deleteVariantGroup=t.addScreensToVariantGroup=t.createVariantGroup=t.deleteScreen=t.updateScreen=t.addExtensionToStyleguide=t.removeExtensionFromStyleguide=t.addExtensionToProject=t.removeExtensionFromProject=t.getProjectExtensions=t.deleteProjectIntegration=t.getProjectSlackIntegrationEmojis=t.authProjectSlack=t.updateSectionOrder=t.updateSection=t.deleteSection=t.updateSectionScreensV2=t.updateSectionScreens=t.createSection=t.moveScreen=t.updateProjectAccessibility=t.updateProjectDensityScale=t.updateProjectDescription=t.updateProjectName=t.createProject=t.copyProject=t.deleteProject=t.removeUserFromProject=t.updateProjectUserRole=t.transferProjectOwnership=t.inviteProjectUsersByTag=t.inviteProjectUser=t.archiveProject=t.activateProject=t.getProjectOrganization=t.getProject=t.deleteOrganizationSectionLink=t.updateOrganizationSectionLink=t.createOrganizationSectionLink=t.updateOrganizationSectionsOrder=t.updateOrganizationSectionProjects=t.deleteOrganizationSection=t.updateOrganizationSection=t.createOrganizationSection=t.getOrganizationSections=t.getOrganizationSection=t.removeBarrelFromOrganizationMemberFocus=t.addBarrelToOrganizationMemberFocus=t.getOrganizationMemberFocusedBarrels=t.getProjects=t.deleteOrganizationWorkflowStatus=t.updateOrganizationWorkflowStatus=t.addOrganizationWorkflowStatus=t.getCoupon=t.deleteOrganizationSSOGoogle=t.deleteOrganizationSSOSAML=t.updateOrganizationSSOProvider=t.updateOrganizationAllowExternalMembers=t.updateOrganizationSSOSessionDuration=t.updateOrganizationSSOPolicy=t.addOrganizationSSOSAML=t.addOrganizationSSOGoogle=t.getOrganizationSSOSAMLMetadata=t.getOrganizationSSO=t.createOrganization=t.getPlans=t.getApiConfig=t.requestOrganizationInvitation=t.getOrganizationMemberProfile=t.updateOrganizationCard=t.getUserCredit=t.payUserInvoice=t.payOrganizationInvoice=t.getOrganizationInvoices=t.getOrganizationCards=t.updateOrganizationSubscription=t.createOrganizationSubscription=t.updateOrganizationName=t.updateOrganizationBilling=t.getOrganizationProration=t.getOrganizationBilling=t.transferOrganizationOwnership=t.removeMembersFromOrganization=t.updateOrganizationMembersTags=t.updateOrganizationMembersAccessibility=t.updateOrganizationMemberAccessibility=t.cancelOrganizationScheduledSeatsUpdate=t.getOrganizationScheduledSeatsUpdate=t.updateOrganizationSeats=t.updateOrganizationMembersRole=t.updateOrganizationMemberRole=t.inviteOrganizationMembers=t.getMemberSuggestions=t.getOrganizationMembers=t.getOrganization=t.getOrganizations=t.createTemporaryS3Credentials=t.generateShortlink=t.checkResponseError=t.handleResponseBlob=t.handleResponse=t.refreshToken=void 0;const r=s(n(240)),a=s(n(573)),l=s(n(574)),c=n(575),d=n(544),u=s(n(545));function p(e){const t=e.headers.get("Zeplin-Token");t&&(u.default.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function h(e){return p(e),e.json().then(t=>{if(e.ok)return t;throw c.createError(e.status,t)})}function f(e){return p(e),e.blob().then(t=>{var n,i;if(e.ok){const o=e.headers.get("content-disposition");let s;return o&&(s=null===(i=null===(n=r.default.parse(o))||void 0===n?void 0:n.parameters)||void 0===i?void 0:i.filename),{blob:t,name:s}}throw c.createError(e.status)})}function g(e){if(p(e),!e.ok)return e.json().then(t=>{throw c.createError(e.status,t)})}function m(e){return a.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(e=>(p(e),e.json().then(t=>{if(!e.ok)throw c.createError(e.status,t);return e.status===a.default.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))}function b(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(h)}function S(e){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(g)}function y(e){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(g)}function v(e,t){const n=t?{handle:t}:null;return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,n).then(h)}function C(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(h)}function O(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return a.default.post(o).then(h)}function E(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(g)}function T(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return a.default.delete(n).then(g)}function _(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return a.default.delete(t).then(g)}function P(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/copy`,t).then(e=>e.ok?202===e.status?{async:!0}:e.json().then(({project:e,order:t})=>({async:!1,barrel:e,order:t})):e.json().then(t=>{throw c.createError(e.status,t)}))}function D(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(g)}function I(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(g)}function j(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(g)}function k(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(g)}function R(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`;return a.default.post(i,{code:t,redirectURI:n}).then(e=>(p(e),e))}function A(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(h)}function w(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(g)}function N(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(h).then(({extensions:e})=>e)}function L(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(g)}function M(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(h)}function x(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(g)}function U(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(h)}function B(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(h)}function V(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(g)}function z(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(g)}function F(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(g)}function W(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(h)}function G(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(g)}function H(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(g)}function $(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(g)}function q(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections`,t).then(h)}function Z(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`,n).then(g)}function K(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`).then(g)}function Y(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens`,n).then(h)}function J(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(g)}function X(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`).then(g)}function Q(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/rempreferences`,t).then(g)}function ee(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(h)}function te(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/connectedcomponents`).then(h)}function ne(e){return fetch(`http://127.0.0.1:9756/projects/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function ie(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(h)}function oe(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(g)}function se(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:o}).then(g)}function re(e,t){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(h)}function ae(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant`).then(g)}function le(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(h)}function ce(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`,i).then(g)}function de(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/order`,n).then(g)}function ue(e,t,n,i,o){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(h)}function pe(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/properties/${n}`).then(g)}function he(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(h)}function fe(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(g)}function ge(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function me(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(h)}function be(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(h)}function Se(e,t){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(h)}function ye(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function ve(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function Ce(e){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/microsoftTeams`).then(h)}function Oe(e){return fetch(e).then(h).then(e=>{var t,n;return null!==(t=e.layers)&&void 0!==t||(e.layers=[]),null!==(n=e.assets)&&void 0!==n||(e.assets=[]),e}).catch(()=>({layers:[],assets:[]}))}function Ee(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return a.default.put(n,{thumbnail:t}).then(g)}function Te(e,t){return a.default.put(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e,wsid:t}).then(g)}function _e(e){return a.default.delete(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e}).then(g)}function Pe(e,t){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/designTokens?includeLinkedStyleguides=${t}`).then(h)}function De(e,t){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/designTokens/download?includeLinkedStyleguides=${t}`).then(f)}function Ie(e,t,n,i){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets`).then(h)}function je(e,t,n,i,o,s){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets/${o}/contents/${s}/process`).then(g)}function ke(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then(e=>(p(e),e.json().then(t=>{if(!e.ok)throw c.createError(e.status,t);return e.status===a.default.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))}function Re(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(h)}function Ae(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return a.default.delete(t).then(g)}function we(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/copy`,t).then(e=>e.ok?202===e.status?{async:!0}:e.json().then(({styleguide:e,order:t})=>({async:!1,barrel:e,order:t})):e.json().then(t=>{throw c.createError(e.status,t)}))}function Ne(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return a.default.post(t).then(g)}function Le(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return a.default.post(t).then(g)}function Me(e,t,n=!1){const i=n?"organizations":"users",o=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return a.default.post(o).then(h)}function xe(e,t){const n=t?{handle:t}:null;return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,n).then(h)}function Ue(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(h)}function Be(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return a.default.delete(n).then(g)}function Ve(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(g)}function ze(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(g)}function Fe(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(g)}function We(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(g)}function Ge(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(g)}function He(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/thumbnail`;return a.default.put(n,{thumbnail:t}).then(g)}function $e(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(h).then(({extensions:e})=>e)}function qe(e,t,n){const i=`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`;return a.default.post(i,{code:t,redirectURI:n}).then(e=>(p(e),e))}function Ze(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(h)}function Ke(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(g)}function Ye(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(h)}function Je(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(g)}function Xe(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(g)}function Qe(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(g)}function et(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(h)}function tt(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(g)}function nt(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(g)}function it(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(g)}function ot(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections`,t).then(h)}function st(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`,n).then(g)}function rt(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`).then(g)}function at(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens`,n).then(h)}function lt(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(g)}function ct(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`).then(g)}function dt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/rempreferences`,t).then(g)}function ut(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${(null==t?void 0:t.length)?`/${t.join("/")}/componentsections`:""}`,n).then(h)}function pt(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(g)}function ht(e,t,n,i){const o=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:o}).then(g)}function ft(e,t){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(h)}function gt(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant`).then(g)}function mt(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties`,{name:n,values:i}).then(h)}function bt(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`,i).then(g)}function St(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/order`,n).then(g)}function yt(e,t,n,i,o){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/components/variant/properties/${n}`,{components:i,value:o}).then(h)}function vt(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/properties/${n}`).then(g)}function Ct(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t}/variant/groups`,{propertyId:n}).then(h)}function Ot(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(g)}function Et(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(h)}function Tt(e,t){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(h)}function _t(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function Pt(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(g)}function Dt(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/microsoftTeams`).then(h)}function It(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(h)}function jt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(h)}function kt(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/connectedcomponents`,{headers:i}).then(h)}function Rt(e){return fetch(`http://127.0.0.1:9756/styleguides/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function At(e,t){return a.default.put(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e,wsid:t}).then(g)}function wt(e){return a.default.delete(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e}).then(g)}function Nt(e,t){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/designTokens?includeLinkedStyleguides=${t}`).then(h)}function Lt(e,t){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/designTokens/download?includeLinkedStyleguides=${t}`).then(f)}function Mt(e,t,n,i){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets`).then(h)}function xt(e,t,n,i,o,s){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}/versions/${i}/assets/${o}/contents/${s}/process`).then(g)}function Ut(e){return a.default.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(h)}function Bt(e){return a.default.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(g)}function Vt(e,t){return a.default.post(Zeplin.urls.baseURL+"/users/login",{handle:e,password:t}).then(h)}function zt(e,t){return fetch(Zeplin.urls.baseURL+"/users",{method:"POST",headers:t,body:JSON.stringify(e)}).then(h)}function Ft(){return fetch(Zeplin.urls.baseURL+"/auth/grant",{method:"POST"}).then(h)}function Wt(e){return a.default.post(Zeplin.urls.baseURL+"/auth/grant/code",{redeemerId:e}).then(h)}function Gt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(g)}function Ht(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(g)}function $t(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(g)}function qt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(g)}function Zt(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(g)}function Kt(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(g)}function Yt(){return a.default.get(Zeplin.urls.baseURL+"/users/authorizedApplications").then(h).then(e=>e.applications)}function Jt(e){return a.default.delete(`${Zeplin.urls.baseURL}/users/authorizedApplications/${e}`).then(g)}function Xt(){return a.default.get(Zeplin.urls.baseURL+"/users/applications").then(h).then(e=>e.applications)}function Qt(e){return a.default.get(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(h)}function en(e){return a.default.post(Zeplin.urls.baseURL+"/users/applications",e).then(h)}function tn(e,t){return a.default.put(`${Zeplin.urls.baseURL}/users/applications/${e}`,t).then(g)}function nn(e){return a.default.delete(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(g)}function on(){return a.default.get(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(h).then(({personalAccessTokens:e})=>e)}function sn(){return a.default.post(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(h)}function rn(e){return a.default.delete(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`).then(g)}function an(e,t){return a.default.put(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`,{name:t}).then(g)}function ln(e){return a.default.head(`${Zeplin.urls.baseURL}/oauth/token?client_id=${e}`).then(e=>"true"===e.headers.get("Oauth-Token-Exists"))}function cn(e){const t=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return a.default.get(t).then(h).then(e=>e.webhooks)}function dn(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return a.default.get(n).then(h)}function un(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return a.default.post(n,t).then(h)}function pn(e,t,n){const i=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return a.default.put(i,n).then(g)}function hn(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return a.default.delete(n).then(g)}function fn(e){return a.default.post(Zeplin.urls.baseURL+"/webhooks/urlhealthcheck",{url:e})}t.refreshToken=p,t.handleResponse=h,t.handleResponseBlob=f,t.checkResponseError=g,t.generateShortlink=function(e,t){const n=t?"?path="+t:"";return a.default.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(h).then(({url:e})=>e).catch(()=>e)},t.createTemporaryS3Credentials=function({projects:e,styleguides:t}={}){return a.default.post(Zeplin.urls.baseURL+"/export/credentials",{actions:["GetObject","PutObject"],projects:e,styleguides:t}).then(h)},t.getOrganizations=function(){return a.default.get(Zeplin.urls.baseURL+"/organizations").then(h).then(({organizations:e})=>e)},t.getOrganization=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(h)},t.getOrganizationMembers=function(e){const t=`${Zeplin.urls.baseURL}/v3/organizations/${e}/members`;return a.default.get(t).then(h)},t.getMemberSuggestions=function(e,t){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/suggestions`).then(h).then(({suggestedMembers:e})=>e)},t.inviteOrganizationMembers=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return a.default.post(n,{members:t}).then(h)},t.updateOrganizationMemberRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return a.default.put(i,{role:n}).then(g)},t.updateOrganizationMembersRole=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/role`;return a.default.put(i,{memberIds:t,role:n}).then(h)},t.updateOrganizationSeats=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/seats`,t).then(h).then(({reservedSeatCount:e})=>e)},t.getOrganizationScheduledSeatsUpdate=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(e=>h(e))},t.cancelOrganizationScheduledSeatsUpdate=function(e){return a.default.delete(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptionSchedules/seats`).then(g)},t.updateOrganizationMemberAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return a.default.put(i,{restricted:Boolean(n)}).then(g)},t.updateOrganizationMembersAccessibility=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/restricted`;return a.default.put(i,{memberIds:t,restricted:Boolean(n)}).then(h)},t.updateOrganizationMembersTags=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return a.default.put(n,{members:t}).then(g)},t.removeMembersFromOrganization=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`;return a.default.delete(n,{memberIds:t}).then(h)},t.transferOrganizationOwnership=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(h)},t.getOrganizationBilling=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(h)},t.getOrganizationProration=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/proration`);return n.search=new URLSearchParams(t).toString(),a.default.get(n.toString()).then(h)},t.updateOrganizationBilling=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(g)},t.updateOrganizationName=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(g)},t.createOrganizationSubscription=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(g)},t.updateOrganizationSubscription=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(g)},t.getOrganizationCards=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(h).then(({cards:e})=>e)},t.getOrganizationInvoices=function(e,t){const n=new URL(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices`);return n.search=new URLSearchParams(t).toString(),a.default.get(n.toString()).then(h)},t.payOrganizationInvoice=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/${t?t+"/":""}pay`).then(h).then(({invoice:e,invoices:n})=>t?e:n)},t.payUserInvoice=function(e){return a.default.post(`${Zeplin.urls.baseURL}/stripe/users/invoices/${e?e+"/":""}pay`).then(h).then(({invoice:t,invoices:n})=>e?t:n)},t.getUserCredit=function(){return a.default.get(Zeplin.urls.baseURL+"/stripe/users/credit").then(h)},t.updateOrganizationCard=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,{stripeToken:t}).then(g)},t.getOrganizationMemberProfile=function(e,t){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(h)},t.requestOrganizationInvitation=function(e){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(g)},t.getApiConfig=function(){return a.default.get(Zeplin.urls.baseURL+"/api/config").then(h)},t.getPlans=function(){return a.default.get(Zeplin.urls.baseURL+"/api/config/plans").then(h)},t.createOrganization=function(e){return a.default.post(Zeplin.urls.baseURL+"/organizations",e).then(h)},t.getOrganizationSSO=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(h)},t.getOrganizationSSOSAMLMetadata=function(e){return a.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(h)},t.addOrganizationSSOGoogle=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:d.GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI,code:t}).then(h)},t.addOrganizationSSOSAML=function(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(h)},t.updateOrganizationSSOPolicy=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(g)},t.updateOrganizationSSOSessionDuration=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(g)},t.updateOrganizationAllowExternalMembers=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(g)},t.updateOrganizationSSOProvider=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(g)},t.deleteOrganizationSSOSAML=function(e){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`).then(g)},t.deleteOrganizationSSOGoogle=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{code:t,redirectUri:d.GOOGLE_AUTH_REMOVE_SSO_REDIRECT_URI}).then(g)},t.getCoupon=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(h)},t.addOrganizationWorkflowStatus=function(e,t){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses`,t).then(h)},t.updateOrganizationWorkflowStatus=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`,n).then(g)},t.deleteOrganizationWorkflowStatus=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`).then(g)},t.getProjects=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:Zeplin.urls.baseURL+"/v2/projects";return a.default.get(t,{cache:"no-cache"}).then(h).then(({projects:e})=>e)},t.getOrganizationMemberFocusedBarrels=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`;return a.default.get(n).then(h).then(({focusedBarrels:e})=>e)},t.addBarrelToOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,s={[i===l.default.PROJECT?"pid":"stid"]:n};return a.default.post(o,s).then(g)},t.removeBarrelFromOrganizationMemberFocus=function({oid:e,mid:t,bid:n,barrelType:i}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,s={["project"===i?"pid":"stid"]:n};return a.default.delete(o,s).then(g)},t.getOrganizationSection=function(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`;return a.default.get(n).then(h)},t.getOrganizationSections=function(e){const t=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return a.default.get(t).then(h).then(({sections:e})=>e)},t.createOrganizationSection=function({oid:e,index:t,name:n,description:i,projects:o}){const s=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return a.default.post(s,{index:t,name:n,description:i,projects:o}).then(h)},t.updateOrganizationSection=function(e){var{oid:t,oseid:n}=e,i=o(e,["oid","oseid"]);const s=`${Zeplin.urls.baseURL}/organizations/${t}/sections/${n}`;return a.default.put(s,i).then(g)},t.deleteOrganizationSection=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`).then(g)},t.updateOrganizationSectionProjects=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/projects`,{index:n,projects:i}).then(g)},t.updateOrganizationSectionsOrder=function(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/sections/order`;return a.default.put(i,{index:t,sections:n}).then(g)},t.createOrganizationSectionLink=function(e,t,n,i){return a.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links`,{title:n,url:i}).then(h)},t.updateOrganizationSectionLink=function({oid:e,oseid:t,oselid:n,title:i,url:o}){return a.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`,{title:i,url:o}).then(g)},t.deleteOrganizationSectionLink=function(e,t,n){return a.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`).then(g)},t.getProject=m,t.getProjectOrganization=b,t.activateProject=S,t.archiveProject=y,t.inviteProjectUser=v,t.inviteProjectUsersByTag=C,t.transferProjectOwnership=O,t.updateProjectUserRole=E,t.removeUserFromProject=T,t.deleteProject=_,t.copyProject=P,t.createProject=function({oid:e,platform:t,densityScale:n,name:i="Untitled",oseid:o}){const s=e&&"user"!==e?"/organizations/"+e:"";return a.default.post(`${Zeplin.urls.baseURL}${s}/projects`,{name:i,type:t,densityScale:n,oseid:o}).then(h)},t.updateProjectName=D,t.updateProjectDescription=I,t.updateProjectDensityScale=j,t.updateProjectAccessibility=k,t.moveScreen=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/projects/${t}`,{items:n}).then(g)},t.createSection=function(e,t){const n={name:t.name};return"description"in t&&(n.description=t.description),"index"in t&&(n.index=t.index),"screens"in t&&(n.screens=t.screens),a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(h)},t.updateSectionScreens=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(g)},t.updateSectionScreensV2=function({pid:e,seid:t,index:n,items:i}){return a.default.put(`${Zeplin.urls.baseURL}/v2/projects/${e}/sections/${t}/screens`,{index:n,items:i}).then(g)},t.deleteSection=function(e,t){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(g)},t.updateSection=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(g)},t.updateSectionOrder=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return a.default.put(n,{sections:t}).then(g)},t.authProjectSlack=R,t.getProjectSlackIntegrationEmojis=A,t.deleteProjectIntegration=w,t.getProjectExtensions=N,t.removeExtensionFromProject=L,t.addExtensionToProject=M,t.removeExtensionFromStyleguide=x,t.addExtensionToStyleguide=U,t.updateScreen=function(e,t,n){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(g)},t.deleteScreen=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return a.default.delete(n).then(g)},t.createVariantGroup=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups`;return a.default.post(n,{screenIds:t}).then(h)},t.addScreensToVariantGroup=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}`;return a.default.put(i,{screenIds:n}).then(h)},t.deleteVariantGroup=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens`;return a.default.delete(n,{items:[{_id:t,type:"variantGroup"}]}).then(g)},t.updateVariantGroupName=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/name`;return a.default.put(i,{name:n}).then(g)},t.updateVariantGroupScreenVariantName=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/screens/${n}/variantName`;return a.default.put(o,{variantName:i}).then(g)},t.updateVariantGroupScreensOrder=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/screens/order`;return a.default.put(o,{index:i,screenIds:[n]}).then(g)},t.removeScreenFromVariantGroup=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/variantGroups/${t}/screens/${n}`;return a.default.delete(i).then(g)},t.createProjectColor=B,t.updateProjectColor=V,t.deleteProjectColor=z,t.deleteProjectAllColors=F,t.createProjectTextStyle=W,t.updateProjectTextStyle=G,t.deleteProjectTextStyle=H,t.deleteProjectAllTextStyles=$,t.createProjectSpacingSection=q,t.updateProjectSpacingSection=Z,t.deleteProjectSpacingSection=K,t.createProjectSpacingToken=Y,t.updateProjectSpacingToken=J,t.deleteProjectSpacingToken=X,t.updateProjectRemPreferences=Q,t.getProjectComponentSections=ee,t.getProjectConnectedComponents=te,t.getProjectLocalConnectedComponents=ne,t.addProjectComponentSection=ie,t.updateProjectComponentSection=oe,t.mergeProjectComponentSection=se,t.convertProjectComponentSectionToVariantSection=re,t.convertProjectVariantSectionToComponentSection=ae,t.createProjectComponentSectionVariantProperty=le,t.updateProjectComponentSectionVariantProperty=ce,t.updateProjectComponentSectionVariantPropertiesOrder=de,t.updateProjectComponentsVariantProperty=ue,t.deleteProjectComponentSectionVariantProperty=pe,t.createProjectComponentSectionVariantGroups=he,t.updateProjectComponent=fe,t.deleteProjectComponent=ge,t.updateProjectComponentsOrder=me,t.updateProjectComponentSectionsOrder=be,t.updateProjectStyleguideLink=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(g)},t.removeProjectStyleguideLink=function(e){return a.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(g)},t.getProjectIntegrationEvents=Se,t.addProjectIntegrationEvent=ye,t.deleteProjectIntegrationEvent=ve,t.getProjectTeamsIntegration=Ce,t.fetchSnapshot=Oe,t.getSnapshot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return a.default.get(i).then(e=>(p(e),e.json().then(t=>{if(e.ok)return"string"==typeof t.snapshot?Oe(t.snapshot):t.snapshot;throw c.createError(e.status,t)})))},t.updateCommitColor=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return a.default.put(o,{color:i}).then(g)},t.deleteVersion=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return a.default.delete(i).then(g)},t.getVersions=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return a.default.get(n).then(h)},t.getVersionAssets=function(e,t,n){return a.default.get(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/assets`).then(h)},t.fetchAssets=function(e){return fetch(e).then(h).catch(()=>[])},t.processVersionAssetContent=function(e,t,n,i,o){return a.default.post(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/assets/${i}/contents/${o}/process`).then(g)},t.getDotStates=function(e){return a.default.post(Zeplin.urls.baseURL+"/projects/dots",e).then(h)},t.getDots=function(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`;return a.default.get(n).then(h)},t.createDot=function(e,t,n){return a.default.post(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,n).then(h)},t.updateDot=function(e,t,n,i){return a.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`,i).then(g)},t.deleteDot=function(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return a.default.delete(i).then(g)},t.updateCommitMessage=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return a.default.put(o,{message:i}).then(g)},t.createDotComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return a.default.post(o,{note:i}).then(h)},t.updateDotCommentNote=function(e,t,n,i,o){const s=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return a.default.put(s,{note:o}).then(g)},t.deleteComment=function(e,t,n,i){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return a.default.delete(o).then(g)},t.updateProjectThumbnail=Ee,t.updateScreensTags=function(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return a.default.put(n,{screens:t}).then(g)},t.updateProjectsWorkflowStatus=Te,t.deleteProjectsWorkflowStatus=_e,t.getProjectDesignTokens=Pe,t.getProjectDesignTokensFile=De,t.getProjectComponentVersionAssets=Ie,t.processProjectComponentVersionAssetContent=je,t.getNotifications=function(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;return e&&(n+="&date_before="+e),a.default.get(n).then(h)},t.updateNotificationEventsReadStatus=function(e,t){return a.default.put(Zeplin.urls.baseURL+"/notifications/events",{eventIds:e,markedAsRead:t}).then(g)},t.getUserAcquaintances=function(){return a.default.get(Zeplin.urls.baseURL+"/users/acquaintances").then(h)},t.updateNotificationLastReadTime=function(){return a.default.put(Zeplin.urls.baseURL+"/users/notificationLastReadTime").then(h)},t.logoutUser=function(){return a.default.post(Zeplin.urls.baseURL+"/users/logout")},t.getSsoLoginParams=function(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return a.default.get(t).then(h)},t.resetPassword=function(e){const t=Zeplin.urls.baseURL+"/users/requests/password";return a.default.post(t,{handle:e}).then(g)},t.deleteUserSSOProvider=function(e,t,n){return a.default.delete(Zeplin.urls.baseURL+"/users/sso",{password:e,code:t,redirectUri:n}).then(h)},t.updateEmailNotifications=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/emailNotifications",{emailNotifications:e}).then(g)},t.muteProjectNotifications=function(e){return a.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/projects/${e}/mute`).then(g)},t.muteStyleguideNotifications=function(e){return a.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/styleguides/${e}/mute`).then(g)},t.unmuteProjectNotifications=function(e){return a.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/projects/${e}/unmute`).then(g)},t.unmuteStyleguideNotifications=function(e){return a.default.put(`${Zeplin.urls.baseURL}/users/notificationsettings/styleguides/${e}/unmute`).then(g)},t.updateUserEmotar=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/emotar",{emotar:e}).then(g)},t.cancelUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return a.default.delete(t,e).then(g)},t.updateUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return a.default.put(t,e).then(g)},t.createUserSubscription=function(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return a.default.post(t,e).then(g)},t.cancelOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return a.default.delete(n,t).then(g)},t.downgradeOrganizationSubscription=function(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return a.default.post(n,t).then(g)},t.transferUserSubscription=function(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return a.default.post(t).then(h)},t.createIntercomMessage=function(e){return a.default.post(Zeplin.urls.baseURL+"/intercom/messages",{message:e}).then(g)},t.getUserUpcomingInvoice=function(){return a.default.get(Zeplin.urls.baseURL+"/stripe/users/invoices/next").then(h)},t.getOrganizationUpcomingInvoice=function(e){return a.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(h)},t.createIntercomUserTag=function(e){return a.default.post(Zeplin.urls.baseURL+"/intercom/users/tags",{name:e}).then(g)},t.getStyleguides=function(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:Zeplin.urls.baseURL+"/styleguides";return a.default.get(t,{cache:"no-cache"}).then(h).then(({styleguides:e})=>e)},t.getStyleguide=ke,t.getStyleguideOrganization=Re,t.getStyleguideProjects=function(e){return a.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(h)},t.createStyleguide=function({oid:e,platform:t,parent:n,name:i="Untitled"}){const o=e&&"user"!==e?"/organizations/"+e:"";return a.default.post(`${Zeplin.urls.baseURL}${o}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(h)},t.deleteStyleguide=Ae,t.copyStyleguide=we,t.archiveStyleguide=Ne,t.activateStyleguide=Le,t.transferStyleguideOwnership=Me,t.inviteStyleguideUser=xe,t.inviteStyleguideUsersByTag=Ue,t.removeUserFromStyleguide=Be,t.updateStyleguideUserRole=Ve,t.updateStyleguideName=ze,t.updateStyleguideDescription=Fe,t.updateStyleguideDensityScale=We,t.updateStyleguideAccessibility=Ge,t.updateStyleguideThumbnail=He,t.getStyleguideExtensions=$e,t.authStyleguideSlack=qe,t.getStyleguideSlackIntegrationEmojis=Ze,t.deleteStyleguideIntegration=Ke,t.createStyleguideColor=Ye,t.updateStyleguideColor=Je,t.deleteStyleguideColor=Xe,t.deleteStyleguideAllColors=Qe,t.createStyleguideTextStyle=et,t.updateStyleguideTextStyle=tt,t.deleteStyleguideTextStyle=nt,t.deleteStyleguideAllTextStyles=it,t.createStyleguideSpacingSection=ot,t.updateStyleguideSpacingSection=st,t.deleteStyleguideSpacingSection=rt,t.createStyleguideSpacingToken=at,t.updateStyleguideSpacingToken=lt,t.deleteStyleguideSpacingToken=ct,t.updateStyleguideRemPreferences=dt,t.addStyleguideComponentSection=ut,t.updateStyleguideComponentSection=pt,t.mergeStyleguideComponentSection=ht,t.convertStyleguideComponentSectionToVariantSection=ft,t.convertStyleguideVariantSectionToComponentSection=gt,t.createStyleguideComponentSectionVariantProperty=mt,t.updateStyleguideComponentSectionVariantProperty=bt,t.updateStyleguideComponentSectionVariantPropertiesOrder=St,t.updateStyleguideComponentsVariantProperty=yt,t.deleteStyleguideComponentSectionVariantProperty=vt,t.createStyleguideComponentSectionVariantGroups=Ct,t.updateStyleguideComponent=Ot,t.deleteStyleguideComponent=Et,t.updateStyleguideParent=function(e,t){return a.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(g)},t.removeStyleguideParent=function(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return a.default.delete(t).then(g)},t.getStyleguideIntegrationEvents=Tt,t.addStyleguideIntegrationEvent=_t,t.deleteStyleguideIntegrationEvent=Pt,t.getStyleguideTeamsIntegration=Dt,t.updateStyleguideComponentsOrder=It,t.updateStyleguideComponentSectionsOrder=jt,t.getStyleguideConnectedComponents=kt,t.getStyleguideLocalConnectedComponents=Rt,t.updateStyleguidesWorkflowStatus=At,t.deleteStyleguidesWorkflowStatus=wt,t.getStyleguideDesignTokens=Nt,t.getStyleguideDesignTokensFile=Lt,t.getStyleguideComponentVersionAssets=Mt,t.processStyleguideComponentVersionAssetContent=xt,t.getUserProfile=function(){return a.default.get(Zeplin.urls.baseURL+"/users").then(h)},t.getUserStatus=Ut,t.checkUsernameAvailable=Bt,t.updateUsername=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/username",{username:e}).then(g)},t.updateEmail=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/email",e).then(h)},t.updateUser=function(e,t){return a.default.put(Zeplin.urls.baseURL+"/users",{fullName:e,bio:t}).then(g)},t.updateUserTrackingPreference=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/privacy/trackingOptOut",{value:e}).then(g)},t.deleteUser=function(e){return a.default.post(Zeplin.urls.baseURL+"/users/delete",{password:e}).then(g)},t.updatePassword=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/password",e).then(h)},t.updateUserBilling=function(e){return a.default.put(Zeplin.urls.baseURL+"/users/billing",e).then(g)},t.getUserCards=function(){return a.default.get(Zeplin.urls.baseURL+"/stripe/users/cards").then(h).then(({cards:e})=>e)},t.updateUserCard=function(e){return a.default.put(Zeplin.urls.baseURL+"/stripe/users/cards",{stripeToken:e}).then(g)},t.requestInvoice=function(e,t){let n;return n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`,a.default.post(n).then(g)},t.getUserInvoices=function(e){const t=new URL(Zeplin.urls.baseURL+"/stripe/users/invoices");return t.search=new URLSearchParams(e).toString(),a.default.get(t.toString()).then(h)},t.requestVerification=function(){return a.default.post(Zeplin.urls.baseURL+"/users/requests/verification").then(g)},t.verifyUser=function(){const e=Zeplin.urls.baseURL+"/users/verify";return a.default.post(e).then(h)},t.loginUser=Vt,t.createUser=zt,t.createAuthGrantCredentials=Ft,t.createAuthGrantCode=Wt,t.getLinkedTokenOfAuthKey=function(e,t){return i(this,void 0,void 0,(function*(){const n=`client_id=${e}&auth_key=${t}`;return h(yield a.default.get(`${d.BASE_URL}/oauth/linkedToken?${n}`))}))},t.revokeAppToken=function(e){return a.default.delete(Zeplin.urls.baseURL+"/oauth/token",{client_id:e}).then(g)},t.updateProjectColorsStyleguide=Gt,t.updateProjectTextStylesStyleguide=Ht,t.updateProjectComponentSectionsStyleguide=$t,t.updateStyleguideColorsStyleguide=qt,t.updateStyleguideTextStylesStyleguide=Zt,t.updateStyleguideComponentSectionsStyleguide=Kt,t.getAuthorizedApplications=Yt,t.revokeAuthorizedApplication=Jt,t.getOwnedApplications=Xt,t.getOwnedApplication=Qt,t.createApplication=en,t.updateApplication=tn,t.deleteApplication=nn,t.getPersonalAccessTokens=on,t.createPersonalAccessToken=sn,t.deletePersonalAccessToken=rn,t.renamePersonalAccessToken=an,t.getAppStatus=ln,t.getWebhooks=cn,t.getWebhook=dn,t.createWebhook=un,t.updateWebhook=pn,t.deleteWebhook=hn,t.checkWebhookUrlHealth=fn;const gn={get:m,inviteUser:v,inviteUsersByTag:C,activate:S,archive:y,delete:_,copy:P,getOrganization:b,updateName:D,updateDescription:I,updateDensityScale:j,updateThumbnail:Ee,updateAccessibility:k,updateUserRole:E,transferOwnership:O,removeUser:T,getSlackIntegrationEmojis:A,deleteIntegration:w,getExtensions:N,addExtension:M,removeExtension:L,createColor:B,updateColor:V,deleteColor:z,deleteAllColors:F,updateColorsStyleguide:Gt,createTextStyle:W,updateTextStyle:G,deleteTextStyle:H,deleteAllTextStyles:$,updateTextStylesStyleguide:Ht,createSpacingSection:q,updateSpacingSection:Z,deleteSpacingSection:K,createSpacingToken:Y,updateSpacingToken:J,deleteSpacingToken:X,updateRemPreferences:Q,getComponentSections:ee,addComponentSection:ie,updateComponentSection:oe,mergeComponentSection:se,convertComponentSectionToVariantSection:re,convertVariantSectionToComponentSection:ae,createComponentSectionVariantProperty:le,updateComponentSectionVariantProperty:ce,updateComponentSectionVariantPropertiesOrder:de,updateComponentsVariantProperty:ue,deleteComponentSectionVariantProperty:pe,createComponentSectionVariantGroups:he,updateComponent:fe,deleteComponent:ge,updateComponentsOrder:me,updateComponentSectionsOrder:be,updateComponentSectionsStyleguide:$t,authSlack:R,getIntegrationEvents:Se,addIntegrationEvent:ye,deleteIntegrationEvent:ve,getTeamsIntegration:Ce,getConnectedComponents:te,getLocalConnectedComponents:ne,updateWorkflowStatus:Te,deleteWorkflowStatus:_e,getDesignTokens:Pe,getDesignTokensFile:De,getComponentVersionAssets:Ie,processComponentVersionAssetContent:je};t.project=gn;const mn={get:ke,inviteUser:xe,inviteUsersByTag:Ue,activate:Le,archive:Ne,delete:Ae,copy:we,getOrganization:Re,updateName:ze,updateDescription:Fe,updateDensityScale:We,updateThumbnail:He,updateAccessibility:Ge,updateUserRole:Ve,transferOwnership:Me,removeUser:Be,getSlackIntegrationEmojis:Ze,deleteIntegration:Ke,getExtensions:$e,addExtension:U,removeExtension:x,createColor:Ye,updateColor:Je,deleteColor:Xe,deleteAllColors:Qe,updateColorsStyleguide:qt,createTextStyle:et,updateTextStyle:tt,deleteTextStyle:nt,deleteAllTextStyles:it,updateTextStylesStyleguide:Zt,createSpacingSection:ot,updateSpacingSection:st,deleteSpacingSection:rt,createSpacingToken:at,updateSpacingToken:lt,deleteSpacingToken:ct,updateRemPreferences:dt,addComponentSection:ut,updateComponentSection:pt,mergeComponentSection:ht,convertComponentSectionToVariantSection:ft,convertVariantSectionToComponentSection:gt,createComponentSectionVariantProperty:mt,updateComponentSectionVariantProperty:bt,updateComponentSectionVariantPropertiesOrder:St,updateComponentsVariantProperty:yt,deleteComponentSectionVariantProperty:vt,createComponentSectionVariantGroups:Ct,updateComponent:Ot,deleteComponent:Et,updateComponentsOrder:It,updateComponentSectionsOrder:jt,updateComponentSectionsStyleguide:Kt,authSlack:qe,getIntegrationEvents:Tt,addIntegrationEvent:_t,deleteIntegrationEvent:Pt,getTeamsIntegration:Dt,getConnectedComponents:kt,getLocalConnectedComponents:Rt,updateWorkflowStatus:At,deleteWorkflowStatus:wt,getDesignTokens:Nt,getDesignTokensFile:Lt,getComponentVersionAssets:Mt,processComponentVersionAssetContent:xt};t.styleguide=mn;const bn={checkUsernameAvailable:Bt,getUserStatus:Ut,loginUser:Vt,createUser:zt};t.user=bn;const Sn={createAuthGrantCredentials:Ft,createAuthGrantCode:Wt};t.auth=Sn;const yn={getAuthorizedApplications:Yt,revokeAuthorizedApplication:Jt,getOwnedApplications:Xt,getOwnedApplication:Qt,createApplication:en,updateApplication:tn,deleteApplication:nn,getPersonalAccessTokens:on,createPersonalAccessToken:sn,renamePersonalAccessToken:an,deletePersonalAccessToken:rn,getAppStatus:ln,getWebhooks:cn,getWebhook:dn,createWebhook:un,updateWebhook:pn,deleteWebhook:hn,checkWebhookUrlHealth:fn};t.developer=yn},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,GONE:410,PRECONDITION_FAILED:412},head(e,t={}){const n=Object.assign({headers:Zeplin.headers,method:"HEAD"},t);return fetch(e,n)},get:(e,t={})=>fetch(e,Object.assign({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROJECT="project",e.STYLEGUIDE="styleguide"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"createError",(function(){return c})),n.d(t,"handleError",(function(){return d}));var i=n(34),o=n(576),s=n(577),r=n(545),a=n(555),l=n(544);function c(e,t={}){return e>=400&&e<500?new o.default(e,t.title,t.message):e>=500&&e<600?new s.default(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.FLAG_USE_CONSOLE_LOGGER&&console.error(e),e instanceof s.default)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),a.create(n)):a.create(n);else if(e instanceof o.default)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(d=t.clientErrorHandler[401]))return void d();r.default.remove("userToken"),localStorage.removeItem("user"),i.configureScope(e=>e.setUser(null)),a.create({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&i.captureException(e),t)if("clientErrorHandler"in t){var c=t.clientErrorHandler;if("function"==typeof c)c(e);else if("object"==typeof c){var d;"function"==typeof(d=c[e.status])?d(e):"default"in c&&c.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),a.create(n);else a.create(n);else if(i.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.FLAG_REMOVE_TEST_ID?null:{testid:"genericErrorDialog"};a.create(e)}}},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.default=i},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.default=i},,,function(e,t,n){"use strict";n.r(t);var i=n(542),o=n(541),s=n(581),r=n(685),a=n(689),l=n(692),c=n(693);n(694);function d({showBadge:e,appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i},{withResetAppZoomFactor:o=!1}={}){return[Object(s.default)(),Object(r.default)(),Object(a.default)(e,o),Object(l.default)(),Object(c.default)({appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i})]}o.isWindowsApp&&(i.default.ipcRenderer.on("get-menu-template-v1",(e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v1",{menuTemplate:d(t)})}),i.default.ipcRenderer.on("get-menu-template-v2",(e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v2",{menuTemplate:d(t,{withResetAppZoomFactor:!0})})}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(582),o=n.n(i),s=n(678),r=n(679),a=n(680),l=n.n(a),c=n(574),d=n.n(c);const u=/^\/login/;function p(e){const{[e+"s"]:t}=o.a.RecentlyLoadedBarrelsStore.getState(),n=e===d.a.PROJECT?r.default.OPEN_RECENT_PROJECT_SUBMENU:r.default.OPEN_RECENT_STYLEGUIDE_SUBMENU,i=e===d.a.PROJECT?r.default.OPEN_RECENT_PROJECT:r.default.OPEN_RECENT_STYLEGUIDE;return{label:"Open recent",id:n,enabled:t.length>0,submenu:t.map(({_id:e,name:t})=>({id:`${i}.${e}`,label:t}))}}function h(){const{selectedTab:e}=o.a.SpaceStore.getState(),{barrelId:t,barrelType:n}=o.a.BarrelStore.getState(),i=!t&&"projects"===e||t&&n===d.a.PROJECT,a=!t&&"styleguides"===e||t&&n===d.a.STYLEGUIDE;return u.test(location.pathname)?new s.default({id:r.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:r.default.NEW_PROJECT,enabled:!1,accelerator:"CmdOrCtrl+N"},{label:"Open recent",id:r.default.OPEN_RECENT_PROJECT_SUBMENU,enabled:!1}]}):i?new s.default({id:r.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:r.default.NEW_PROJECT,enabled:l.a.canCreateProject(),accelerator:"CmdOrCtrl+N"},p(d.a.PROJECT)]}):a?new s.default({id:r.default.STYLEGUIDE_SUBMENU,label:"Styleguide",submenu:[{label:"New styleguide",id:r.default.NEW_STYLEGUIDE,enabled:l.a.canCreateStyleguide(),accelerator:"CmdOrCtrl+N"},p(d.a.STYLEGUIDE)]}):new s.default({id:r.default.PROJECT_SUBMENU,label:"Project",enabled:!1})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(8),s=i(n(583)),r=i(n(589)),a=i(n(592)),l=i(n(596)),c=i(n(598)),d=i(n(600)),u=i(n(617)),p=i(n(619)),h=i(n(620)),f=i(n(629)),g=i(n(631)),m=i(n(647)),b=i(n(648)),S=i(n(650)),y=i(n(651)),v=i(n(654)),C=i(n(657)),O=i(n(658)),E=i(n(659)),T=i(n(660)),_=i(n(662)),P=i(n(663)),D=i(n(665)),I=i(n(667)),j=i(n(668)),k=i(n(671)),R=i(n(673)),A=i(n(675));t.default=new class{constructor(){this.dispatcher=new o.Dispatcher}initializeStores(e){e?e(this):(this.ActivitiesViewStore=new s.default(this.dispatcher),this.AppStore=new r.default(this.dispatcher),this.AppsStore=new a.default(this.dispatcher),this.BarrelStore=new l.default(this.dispatcher),this.DashboardStore=new c.default(this.dispatcher),this.DotStatesStore=new A.default(this.dispatcher),this.ExtensionsStore=new d.default(this.dispatcher),this.MoveResourcesStore=new u.default(this.dispatcher),this.NotificationsStore=new p.default(this.dispatcher),this.OrganizationStore=new h.default(this.dispatcher),this.OrganizationBillingStore=new f.default(this.dispatcher),this.ProjectsDataStore=new g.default(this.dispatcher),this.RecentlyLoadedBarrelsStore=new m.default(this.dispatcher),this.ComponentVariantStore=new b.default(this.dispatcher),this.DotsStore=new S.default(this.dispatcher),this.ScreenStore=new y.default(this.dispatcher),this.SlackPreferencesStore=new v.default(this.dispatcher),this.StyleguideStore=new T.default(this.dispatcher),this.StyleguidesDataStore=new _.default(this.dispatcher),this.SpaceStore=new C.default(this.dispatcher),this.WorkspaceScrollStore=new O.default(this.dispatcher),this.ProjectSelectionStore=new E.default(this.dispatcher),this.SupportButtonStore=new P.default(this.dispatcher),this.TeamsIntegrationStore=new D.default(this.dispatcher),this.UserStore=new k.default(this.dispatcher),this.VersionImportsStore=new I.default(this.dispatcher),this.WebhooksDataStore=new j.default(this.dispatcher),this.AssetsStore=new R.default(this.dispatcher))}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(584)),r=i(n(585)),a=i(n(586)),l=i(n(587)),c=i(n(588));class d extends o.default{constructor(e){super(e)}getInitialState(){return{loading:!0,selectedOrganizationId:"user",category:r.default.All,barrelSelection:{type:"all"},projectsWithUpdatesOnly:!0,dotsLoaded:!1,selectedEventIds:[],autoSelect:!1}}setLoading(e){return Object.assign(Object.assign({},e),{loading:!0})}resetSelection(e){return Object.assign(Object.assign({},e),{selectedId:void 0,selectedEventIds:[],dotsLoaded:!1})}resetSelectionAndNoteFilters(e){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilter:void 0,color:void 0,memberId:void 0,sectionId:void 0}))}load(e,{data:t}){return Object.assign(Object.assign(Object.assign({},t.selectedOrganizationId===e.selectedOrganizationId?e:this.getInitialState()),t),{loading:!1})}select(e,{activity:t,eventIds:n,options:{reselect:i,autoSelect:o}}){return i?Object.assign(Object.assign({},e),{autoSelect:o}):Object.assign(Object.assign({},e),{selectedId:t._id,selectedEventIds:n,dotsLoaded:!1,autoSelect:o})}setDotsLoaded(e,{activity:t}){return e.selectedId===t._id?Object.assign(Object.assign({},e),{dotsLoaded:!0}):e}selectCategory(e,{category:t}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{category:t}))}selectAllBarrels(e){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{type:"all"}}))}selectBarrel(e,{id:t,isPinned:n,barrelType:i}){return this.resetSelectionAndNoteFilters(Object.assign(Object.assign({},e),{barrelSelection:{id:t,isPinned:n,type:i}}))}setProjectsWithUpdatesOnly(e,{projectsWithUpdatesOnly:t}){return Object.assign(Object.assign({},e),{projectsWithUpdatesOnly:t})}selectNoteStatusFilter(e,{noteStatusFilter:t}){return this.resetSelection(Object.assign(Object.assign({},e),{noteStatusFilter:t}))}selectColor(e,{color:t}){return this.resetSelection(Object.assign(Object.assign({},e),{color:t}))}selectMember(e,{memberId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{memberId:t}))}selectSection(e,{sectionId:t}){return this.resetSelection(Object.assign(Object.assign({},e),{sectionId:t}))}setSidebarWidth(e,{sidebarWidth:t}){return Object.assign(Object.assign({},e),{sidebarWidth:t})}saveListScrollData(e,{listScrollData:t}){return Object.assign(Object.assign({},e),{listScrollData:t})}checkSelectionOnEventDeleted(e,{nid:t,eventId:n}){const{selectedId:i,selectedEventIds:o}=e;return i===t&&o.includes(n)?this.resetSelection(e):e}reduce(e,t){switch(t.type){case a.default.SET_PAGE:return this.setLoading(e);case s.default.Load:return this.load(e,t);case s.default.Select:return this.select(e,t);case s.default.SetDotsLoaded:return this.setDotsLoaded(e,t);case s.default.SelectCategory:return this.selectCategory(e,t);case s.default.SelectAllBarrels:return this.selectAllBarrels(e);case s.default.SelectBarrel:return this.selectBarrel(e,t);case s.default.SetProjectsWithUpdatesOnly:return this.setProjectsWithUpdatesOnly(e,t);case s.default.SelectNoteStatusFilter:return this.selectNoteStatusFilter(e,t);case s.default.SelectColor:return this.selectColor(e,t);case s.default.SelectMember:return this.selectMember(e,t);case s.default.SelectSection:return this.selectSection(e,t);case s.default.SetSidebarWidth:return this.setSidebarWidth(e,t);case s.default.SaveListScrollData:return this.saveListScrollData(e,t);case l.default.GetNotificationsSuccess:case c.default.MUTE_PROJECT_NOTIFICATIONS:case c.default.MUTE_STYLEGUIDE_NOTIFICATIONS:case c.default.UNMUTE_PROJECT_NOTIFICATIONS:case c.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS:return this.resetSelection(e);case l.default.DeleteEvent:return this.checkSelectionOnEventDeleted(e,t);default:return e}}}t.default=d},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Select="activities/select",e.SetDotsLoaded="activities/setDotsLoaded",e.SelectCategory="activities/selectCategory",e.SelectAllBarrels="activities/selectAllBarrels",e.SelectBarrel="activities/selectBarrel",e.SetProjectsWithUpdatesOnly="activities/setProjectsWithUpdatesOnly",e.Load="activities/load",e.SelectNoteStatusFilter="activities/selectNoteStatusFilter",e.SelectColor="activities/selectColor",e.SelectMember="activities/selectMember",e.SelectSection="activities/selectSection",e.RequestRelatedUsers="activities/requestRelatedUsers",e.SetSidebarWidth="activities/setSidebarWidth",e.SaveListScrollData="activities/saveListScrollData"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.All="All",e.Note="Note",e.Screen="Screen",e.Styleguide="Styleguide",e.Other="Other"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_WORKSPACE_DATA="app/loadWorkspaceData",e.RESET="app/reset",e.HYDRATE_EMBEDDED_DATA="app/hydrateEmbeddedData",e.INIT_RECENTLY_LOADED_BARRELS="app/initRecentlyLoadedBarrels",e.RESET_BACK_BUTTON="app/resetBackButton",e.SET_BACK_BUTTON="app/setBackButton",e.SET_SHORTLINK="app/setShortlink",e.SET_PAGE="app/setPage",e.SSO_TOKEN_EXPIRED="app/ssoTokenExpired",e.UNSET_SSO_TOKEN_EXPIRED="app/unsetSSOTokenExpired",e.LOGIN_SSO="app/loginSSO"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AddNotification="notifications/addNotification",e.GetNotificationsRequested="notifications/getNotificationsRequested",e.GetNotificationsSuccess="notifications/getNotificationsSuccess",e.GetNotificationsFailed="notifications/getNotificationsFailed",e.MarkAllAsRead="notifications/markAllAsRead",e.RestoreReadStatus="notifications/restoreNotificationReadStatus",e.SetReadStatusOffline="notifications/setReadStatusOffline",e.SetReadStatusOfflineByNotifications="notifications/setReadStatusOfflineByNotifications",e.SetEventReadStatus="notifications/setEventReadStatus",e.SetEventReadStatusOffline="notifications/setEventReadStatusOffline",e.DeleteEvent="notifications/deleteEvent"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.LOAD_USER="user/loadUser",e.UPDATE_USER="user/updateUser",e.SET_SELECTED_VIEW="user/setSelectedView",e.MUTE_PROJECT_NOTIFICATIONS="user/muteProjectNotifications",e.MUTE_STYLEGUIDE_NOTIFICATIONS="user/muteStyleguideNotifications",e.UNMUTE_PROJECT_NOTIFICATIONS="user/unmuteProjectNotifications",e.UNMUTE_STYLEGUIDE_NOTIFICATIONS="user/unmuteStyleguideNotifications",e.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN="user/markZeplinThreeZeroWhatsNewAsSeen",e.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON="user/stopPromotingSpacingSectionDescriptionEditButton",e.HIDE_STYLEGUIDE_TUTORIAL="user/hideStyleguideTutorial",e.STOP_PROMOTING_EXPORT_DESIGN_TOKENS="user/stopPromotingExportDesignTokens",e.ACQUAINTANCES_REQUESTED="user/acquaintancesRequested",e.SET_ACQUAINTANCES="user/setAcquaintances",e.GET_ACQUAINTANCES_FAILED="user/getAcquaintancesFailed",e.SET_USER_ATTRIBUTE="user/setUserAttribute"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(586),r=n.n(s),a=n(590),l=n.n(a),c=n(591),d=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.a{getInitialState(){return{config:null,backButtonLabel:null,backButtonLink:null,page:"workspace",ssoTokenExpired:""}}reset(e){return p(p({},this.getInitialState()),{},{config:e.config})}resetBackButton(e){return p(p({},e),{},{backButtonLabel:null,backButtonLink:null})}setBackButton(e,{label:t,link:n}){return p(p({},e),{},{backButtonLabel:t,backButtonLink:n})}updateForUpdateComponent(e,{coid:t,componentData:n}){if(!("name"in n))return e;const{backButtonLink:i}=e;if(!i)return e;return t!==new URL(i).searchParams.get("coid")?e:p(p({},e),{},{backButtonLabel:n.name})}updateForRemoveComponent(e,{coid:t}){const{backButtonLink:n}=e;if(!n)return e;return t!==new URL(e.backButtonLink).searchParams.get("coid")?e:this.resetBackButton(e)}updateForUpdateScreenName(e,{sid:t,name:n}){const{backButtonLink:i}=e;return i&&i.endsWith(t)?p(p({},e),{},{backButtonLabel:n}):e}updateForRemoveScreen(e,{sid:t}){const{backButtonLink:n}=e;return n&&n.endsWith(t)?this.resetBackButton(e):e}setPage(e,{page:t}){return p(p({},e),{},{page:t})}setConfig(e,{config:t}){return p(p({},e),{},{config:t})}ssoTokenExpired(e,{frequency:t}){return p(p({},e),{},{ssoTokenExpired:t})}unsetSSOTokenExpired(e){return p(p({},e),{},{ssoTokenExpired:""})}reduce(e,t){switch(t.type){case r.a.HYDRATE_EMBEDDED_DATA:return this.setConfig(e,t);case r.a.RESET:return this.reset(e);case r.a.RESET_BACK_BUTTON:return this.resetBackButton(e);case r.a.SET_BACK_BUTTON:return this.setBackButton(e,t);case r.a.SET_PAGE:return this.setPage(e,t);case r.a.SSO_TOKEN_EXPIRED:return this.ssoTokenExpired(e,t);case r.a.UNSET_SSO_TOKEN_EXPIRED:return this.unsetSSOTokenExpired(e,t);case l.a.UPDATE_COMPONENT:return this.updateForUpdateComponent(e,t);case l.a.REMOVE_COMPONENT:return this.updateForRemoveComponent(e,t);case d.a.UPDATE_NAME:return this.updateForUpdateScreenName(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}t.default=f},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="barrel/reset",e.LOAD="barrel/load",e.UPDATE_STATE="barrel/updateState",e.SET_ORGANIZATION_ID="barrel/setOrganizationId",e.SET_BARREL_ID="barrel/setBarrelId",e.CHANGE_SELECTED_VIEW="barrel/changeSelectedView",e.ADD_TO_SLACK="barrel/addToSlack",e.AUTHENTICATE_SLACK_INTEGRATION="barrel/authSlack",e.AUTHENTICATE_SLACK_INTEGRATION_FAILED="barrel/authSlackFailed",e.AUTHENTICATED_SLACK_INTEGRATION="barrel/authenticatedSlackIntegration",e.ADD="barrel/add",e.ACTIVATE="barrel/activate",e.ARCHIVE="barrel/archive",e.REMOVE="barrel/remove",e.COPY="barrel/copy",e.UPDATE_NAME="barrel/updateName",e.UPDATE_DESCRIPTION="barrel/updateDescription",e.UPDATE_DENSITY_SCALE="barrel/updateDensityScale",e.UPDATE_THUMBNAIL="barrel/updateThumbnail",e.ADD_INTEGRATION="barrel/addIntegration",e.REMOVE_INTEGRATION="barrel/removeIntegration",e.ADD_MEMBERS="barrel/addMembers",e.UPDATE_USER_ROLE="barrel/updateUserRole",e.UPDATE_USER_DATA="barrel/updateUserData",e.TRANSFER_OWNERSHIP="barrel/transferOwnership",e.OWNERSHIP_TRANSFERRED="barrel/ownershipTransferred",e.REMOVE_MEMBER="barrel/removeMember",e.ADD_COLOR="barrel/addColor",e.ADD_MULTIPLE_COLORS="barrel/addMultipleColors",e.UPDATE_COLOR="barrel/updateColor",e.REMOVE_COLOR="barrel/removeColor",e.REMOVE_ALL_COLORS="barrel/removeAllColors",e.MIGRATE_COLORS="barrel/migrateColors",e.ADD_TEXT_STYLE="barrel/addTextStyle",e.ADD_MULTIPLE_TEXT_STYLES="barrel/addMultipleTextStyles",e.UPDATE_TEXT_STYLE="barrel/updateTextStyle",e.REMOVE_TEXT_STYLE="barrel/removeTextStyle",e.REMOVE_ALL_TEXT_STYLES="barrel/removeAllTextStyles",e.ADD_SPACING_SECTION="barrel/addSpacingSection",e.UPDATE_SPACING_SECTION="barrel/updateSpacingSection",e.REMOVE_SPACING_SECTION="barrel/removeSpacingSection",e.ADD_SPACING_TOKEN="barrel/addSpacingToken",e.UPDATE_SPACING_TOKEN="barrel/updateSpacingToken",e.REMOVE_SPACING_TOKEN="barrel/removeSpacingToken",e.UPDATE_REM_PREFERENCES="barrel/updateRemPreferences",e.ADD_COMPONENT="barrel/addComponent",e.UPDATE_COMPONENT="barrel/updateComponent",e.REMOVE_COMPONENT="barrel/removeComponent",e.SET_COMPONENT_SNAPSHOT="barrel/setComponentSnapshot",e.ADD_COMPONENT_VERSION="barrel/addComponentVersion",e.UPDATE_COMPONENTS_ORDER="barrel/updateComponentsOrder",e.ADD_COMPONENT_SECTION="barrel/addComponentSection",e.UPDATE_COMPONENT_SECTION="barrel/updateComponentSection",e.MERGE_COMPONENT_SECTION="barrel/mergeComponentSection",e.REMOVE_COMPONENT_SECTION="barrel/removeComponentSection",e.REMOVE_COMPONENT_SECTIONS="barrel/removeComponentSections",e.UPDATE_COMPONENT_SECTIONS_ORDER="barrel/updateComponentSectionsOrder",e.COPY_COMPONENT_SECTION_WEB_LINK="barrel/copyComponentSectionWebLink",e.COPY_COMPONENT_SECTION_APP_URI="barrel/copyComponentSectionAppURI",e.FETCH_COMPONENT_SECTION_SHORT_LINK="barrel/fetchComponentSectionShortLink",e.GO_TO_DASHBOARD="barrel/goToDashboard",e.GO_TO_STYLEGUIDE="barrel/goToStyleguide",e.SET_ASSET_EXPORT_TARGET="barrel/setAssetExportTarget",e.CHANGE_ASSET_NAME="barrel/changeAssetName",e.CHANGE_ASSET_DENSITY_SCALE_PREF="barrel/changeAssetDensityScalePref",e.CHANGE_ASSET_NAMING_CONVENTION="barrel/changeAssetNamingConvention",e.TOGGLE_SVG_OPTIMIZATION="barrel/toggleSVGOptimization",e.TOGGLE_PNG_OPTIMIZATION="barrel/togglePNGOptimization",e.TOGGLE_JPG_OPTIMIZATION="barrel/toggleJPGOptimization",e.CHANGE_EXPORT_TARGET="barrel/changeExportTarget",e.OPEN_EXPORT_TARGET="barrel/openExportTarget",e.DOWNLOAD_ASSET="barrel/downloadAsset",e.DOWNLOAD_MULTIPLE_ASSET="barrel/downloadMultipleAsset",e.EXPORT_CODE="barrel/exportCode",e.COPY_CODE="barrel/copyCode",e.HIDE_NO_VECTOR_ASSET_INFO="barrel/hideNoVectorAssetInfo",e.HIDE_DENSITY_MISMATCH_WARNING="barrel/hideDensityMismatchWarning",e.HIDE_SOURCE_FILE_INFO="barrel/hideSourceFileInfo",e.DISMISS_FLOW_LINK_INFO="barrel/dismissFlowLinkInfo",e.DISMISS_NO_RESOURCE_INFO="barrel/dismissNoResourceInfo",e.HIDE_SLACK_RECONNECTION_AUNTIE="barrel/hideSlaclReconnectionAuntie",e.OPEN_JUMP_TO_POPUP="barrel/openJumpToPopup",e.CLOSE_JUMP_TO_POPUP="barrel/closeJumpToPopup",e.TOGGLE_SCENE="barrel/toggleScene",e.JOIN="barrel/join",e.STOP_JOIN_LOADING="barrel/stopLoadingJoin",e.MOVE_RESOURCES_REQUEST="barrel/moveResourcesRequest",e.MOVE_RESOURCES_SUCCESS="barrel/moveResourcesSuccess",e.MOVE_RESOURCES_FAIL="barrel/movesResourcesFail",e.ATTACH_JIRA_ISSUE="barrel/attachJiraIssue",e.REMOVE_JIRA_ISSUE_ATTACHMENT="barrel/removeJiraIssueAttachment",e.ENABLE_DEV_MODE="barrel/enableDevMode",e.DISABLE_DEV_MODE="barrel/disableDevMode",e.SET_LOCAL_CONNECTED_COMPONENTS="barrel/setLocalConnectedComponents",e.RELOAD_LOCAL_CONNECTED_COMPONENTS="barrel/reloadLocalConnectedComponents",e.UPDATE_CONNECTED_COMPONENTS="barrel/updateConnectedComponents",e.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE="barrel/setConnectedComponentsLocalWorkspace",e.GET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/getConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_INFO="barrel/setConnectedComponentsEditorInfo",e.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE="barrel/setConnectedComponentsEditorPreference",e.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER="barrel/selectConnectedComponentsWorkspaceFolder",e.OPEN_COMPONENT_FILE_IN_EDITOR="barrel/openComponentFileInEditor",e.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH="barrel/setConnectedComponentsWorkspacePath",e.UPDATE_WORKFLOW_STATUS="barrel/updateWorkflowStatus",e.UPDATE_WORKFLOW_STATUSES="barrel/updateWorkflowStatuses",e.DELETE_WORKFLOW_STATUS="barrel/deleteWorkflowStatus",e.DELETE_WORKFLOW_STATUSES="barrel/deleteWorkflowStatuses",e.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED="barrel/highlightedConnectToCodeButtonViewed",e.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN="barrel/markConnectedComponentsOnboardingDialogAsSeen"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN_SCREEN="screen/openScreen",e.SELECT_LAYER="screen/selectLayer",e.DESELECT_LAYER="screen/deselectLayer",e.ENTER_LAYER="screen/enterLayer",e.LEAVE_LAYER="screen/leaveLayer",e.ENABLE_PERCENTAGE_MODE="screen/enablePercentageMode",e.DISABLE_PERCENTAGE_MODE="screen/disablePercentageMode",e.ADD_SCREEN="screen/addScreen",e.UPDATE_DESCRIPTION="screen/updateDescription",e.UPDATE_NAME="screen/updateName",e.REMOVE_SCREEN="screen/removeScreen",e.OPEN_TAG_MANAGER="screen/openTagManager",e.CLOSE_TAG_MANAGER="screen/closeTagManager",e.UPDATE_TAGS="screen/updateTags",e.OPEN_SOURCE_FILE="screen/openSourceFile",e.OPEN_SOURCE_FOLDER="screen/openSourceFolder",e.OPEN_POPOUT="screen/openPopout",e.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX="screen/hideComponentVariantsOnboardingHintbox",e.SET_DOTS="screen/setDots",e.SELECT_DOT="screen/selectDot",e.SAVE_NOTE="screen/saveNote",e.CLOSE_DOT_POPUP="screen/closeDotPopup",e.CHANGE_DOT_FILTER="screen/changeDotFilter",e.DOTS_FLASHED="screen/dotsFlashed",e.HIGHLIGHT_DOTS="screen/highlightDots",e.UNHIGHLIGHT_DOT="screen/unhighlightDot",e.UNHIGHLIGHT_COMMENT="screen/unhighlightComment",e.ADD_DOT="screen/addDot",e.UPDATE_DOT="screen/updateDot",e.UPDATE_DOT_COLOR="screen/updateDotColor",e.UPDATE_DOT_POSITION="screen/updateDotPosition",e.UPDATE_DOT_STATUS="screen/updateDotStatus",e.REMOVE_DOT="screen/removeDot",e.CREATE_COMMENT="screen/createComment",e.ADD_COMMENT="screen/addComment",e.UPDATE_COMMENT="screen/updateComment",e.REMOVE_COMMENT="screen/removeComment",e.OPEN_DOT_MENU="screen/openDotMenu",e.CLOSE_DOT_MENU="screen/closeDotMenu",e.CHANGE_ZOOM_LEVEL="screen/changeZoomLevel",e.ZOOM_IN="screen/zoomIn",e.ZOOM_OUT="screen/zoomOut",e.RESET_ZOOM="screen/resetZoom",e.ZOOM_APPLIED="screen/zoomApplied",e.START_GESTURE="screen/startGesture",e.ZOOM_WITH_GESTURE="screen/zoomWithGesture",e.ZOOM_WITH_WHEEL="screen/zoomWithWheel",e.CHANGE_SCROLL_POSITION="screen/changeScrollPosition",e.TOGGLE_LAYOUT_GRID="screen/toggleLayoutGrid",e.ENABLE_NOTE_MODE="screen/enableNoteMode",e.DISABLE_NOTE_MODE="screen/disableNoteMode",e.CREATE_NOTE="screen/createNote",e.SHOW_NOTES="screen/showNotes",e.HIDE_NOTES="screen/hideNotes",e.CHANGE_NOTE_STATUS_FILTER="screen/changeNoteStatusFilter",e.CHANGE_NOTE_COLOR_FILTER="screen/changeNoteColorFilter",e.SHOW_FLOW_LINKS="screen/showFlowLinks",e.HIDE_FLOW_LINKS="screen/hideFlowLinks",e.CHANGE_SIDEBAR_TAB="screen/changeSidebarTab",e.CHANGE_SCREEN_SIDEBAR_WIDTH="screen/changeScreenSidebarWidth",e.GET_VERSIONS="screen/getVersions",e.SET_VERSIONS="screen/setVersions",e.SET_VERSION_ID="screen/setVersionId",e.SET_SNAPSHOT="screen/setSnapshot",e.SHOW_VERSIONS="screen/showVersions",e.HIDE_VERSIONS="screen/hideVersions",e.TOGGLE_VERSIONS="screen/toggleVersions",e.ENABLE_VERSIONS_COMPACT_MODE="screen/enableVersionsCompactMode",e.DISABLE_VERSIONS_COMPACT_MODE="screen/disableVersionsCompactMode",e.SHOW_VERSIONS_AUNTIE="screen/showVersionsAuntie",e.HIDE_VERSIONS_AUNTIE="screen/hideVersionsAuntie",e.NEW_VERSIONS_FOUND="screen/newVersionsFound",e.CHANGE_VERSIONS_SIDEBAR_WIDTH="screen/changeVersionsSidebarWidth",e.ADD_VERSION="screen/addVersion",e.UPDATE_COMMIT_COLOR="screen/updateCommitColor",e.UPDATE_COMMIT_MESSAGE="screen/updateCommitMessage",e.REMOVE_VERSION="screen/removeVersion",e.SET_SOURCE_FILE="screen/setSourceFile",e.REMOVE_SCREEN_VARIANT="screen/removeScreenVariant",e.ADD_SCREEN_VARIANT="screen/addScreenVariant",e.RENAME_SCREEN_VARIANT="screen/renameScreenVariant",e.REORDER_SCREEN_VARIANT="screen/reorderScreenVariant",e.SELECT_SCREEN_VARIANT="screen/selectScreenVariant"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(593),r=n(594),a=n.n(r),l=n(595);function c(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a{getInitialState(){return{loadingConnectedAppsData:!0,loadingDeveloperData:!1,loadingApplication:!1,revokingAuthorizedApplication:!1,deletingPersonalAccessToken:!1,creatingAccessToken:!1,creatingApplication:!1,updatingApplication:!1,deletingApplication:!1,authorizedApplications:[],ownedApplications:[],personalAccessTokens:[],fetchedApplicationIds:[],officialApps:l.OFFICIAL_APPS.reduce((e,t)=>u(u({},e),{},{[t._id]:u(u({},t),{},{token:null,status:l.appStatus.UNCONNECTED})}),{})}}loadConnectedAppsData(e,{authorizedApplications:t,officialApps:n}){return u(u({},e),{},{authorizedApplications:t.map(e=>new a.a(e)),officialApps:n,loadingConnectedAppsData:!1})}loadDeveloperDataRequest(e){return u(u({},e),{},{loadingDeveloperData:!0})}loadDeveloperData(e,{ownedApplications:t,personalAccessTokens:n}){return u(u({},e),{},{ownedApplications:t.map(e=>new a.a(e)),personalAccessTokens:n,loadingDeveloperData:!1})}getApplicationRequest(e){return u(u({},e),{},{loadingApplication:!0})}loadApplication(e,{application:t}){const{ownedApplications:n,fetchedApplicationIds:i}=e;return u(u({},e),{},{ownedApplications:n.map(e=>t._id===e._id?new a.a(t):e),fetchedApplicationIds:[...i,t._id],loadingApplication:!1})}revokeAuthorizedApplicationSuccess(e,{authorizedApplication:t}){return u(u({},e),{},{authorizedApplications:e.authorizedApplications.filter(({_id:e})=>t._id!==e),revokingAuthorizedApplication:!1})}revokeAuthorizedApplicationFailure(e){return u(u({},e),{},{revokingAuthorizedApplication:!1})}deletePersonalAccessTokenRequest(e){return u(u({},e),{},{deletingPersonalAccessToken:!0})}deletePersonalAccessTokenSuccess(e,{personalAccessToken:t}){return u(u({},e),{},{personalAccessTokens:e.personalAccessTokens.filter(({_id:e})=>t._id!==e),deletingPersonalAccessToken:!1})}deletePersonalAccessTokenFailure(e){return u(u({},e),{},{deletingPersonalAccessToken:!1})}createPersonalAccessTokenRequest(e){return u(u({},e),{},{creatingAccessToken:!0})}createPersonalAccessTokenSuccess(e,{personalAccessToken:t}){return u(u({},e),{},{personalAccessTokens:[t,...e.personalAccessTokens],creatingAccessToken:!1})}createPersonalAccessTokenFailure(e){return u(u({},e),{},{creatingAccessToken:!1})}createApplicationRequest(e){return u(u({},e),{},{creatingApplication:!0})}createApplicationSuccess(e,{application:t}){return u(u({},e),{},{ownedApplications:[t,...e.ownedApplications],creatingApplication:!1})}createApplicationFailure(e){return u(u({},e),{},{creatingApplication:!1})}updateApplicationRequest(e){return u(u({},e),{},{updatingApplication:!0})}updateApplicationSuccess(e,{appId:t,application:n}){return u(u({},e),{},{ownedApplications:e.ownedApplications.map(e=>e._id===t?new a.a(u({_id:t},n)):e),updatingApplication:!1})}updateApplicationFailure(e){return u(u({},e),{},{updatingApplication:!1})}deleteApplicationRequest(e){return u(u({},e),{},{deletingApplication:!0})}deleteApplicationSuccess(e,{application:{_id:t}}){let{ownedApplications:n}=e;return u(u({},c(e,["ownedApplications"])),{},{ownedApplications:n.filter(e=>e._id!==t),deletingApplication:!1})}deleteApplicationFailure(e){return u(u({},e),{},{deletingApplication:!1})}renamePersonalAccessToken(e,{tokenId:t,name:n}){return u(u({},e),{},{personalAccessTokens:e.personalAccessTokens.map(e=>e._id===t?u(u({},e),{},{name:n}):e)})}setRevokingAuthorizedApplication(e){return u(u({},e),{},{revokingAuthorizedApplication:!0})}setOfficialAppConnecting(e,{appId:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:null,status:l.appStatus.CONNECTING})})})}connectOfficalAppSuccess(e,{appId:t,token:n}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:n,status:l.appStatus.CONNECTED})})})}connectOfficialAppFailure(e,{appId:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t]:u(u({},e.officialApps[t]),{},{token:null,status:l.appStatus.UNCONNECTED})})})}revokeOfficialApp(e,{authorizedApplication:t}){return u(u({},e),{},{officialApps:u(u({},e.officialApps),{},{[t._id]:u(u({},e.officialApps[t._id]),{},{token:null,status:l.appStatus.UNCONNECTED})}),revokingAuthorizedApplication:!1})}reduce(e,t){switch(t.type){case s.default.GET_CONNECTED_APPS_DATA_SUCCESS:return this.loadConnectedAppsData(e,t);case s.default.GET_DEVELOPER_DATA_REQUEST:return this.loadDeveloperDataRequest(e,t);case s.default.GET_DEVELOPER_DATA_SUCCESS:return this.loadDeveloperData(e,t);case s.default.GET_APPLICATION_REQUEST:return this.getApplicationRequest(e,t);case s.default.GET_APPLICATION_SUCCESS:return this.loadApplication(e,t);case s.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:return this.setRevokingAuthorizedApplication(e);case s.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:return l.OFFICIAL_APPS.some(({_id:e})=>t.authorizedApplication._id===e)?this.revokeOfficialApp(e,t):this.revokeAuthorizedApplicationSuccess(e,t);case s.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE:return this.revokeAuthorizedApplicationFailure(e,t);case s.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.deletePersonalAccessTokenRequest(e);case s.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.deletePersonalAccessTokenSuccess(e,t);case s.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.deletePersonalAccessTokenFailure(e,t);case s.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:return this.createPersonalAccessTokenRequest(e,t);case s.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:return this.createPersonalAccessTokenSuccess(e,t);case s.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:return this.createPersonalAccessTokenFailure(e,t);case s.default.CREATE_APPLICATION_REQUEST:return this.createApplicationRequest(e,t);case s.default.CREATE_APPLICATION_SUCCESS:return this.createApplicationSuccess(e,t);case s.default.CREATE_APPLICATION_FAILURE:return this.createApplicationFailure(e,t);case s.default.UPDATE_APPLICATION_REQUEST:return this.updateApplicationRequest(e,t);case s.default.UPDATE_APPLICATION_SUCCESS:return this.updateApplicationSuccess(e,t);case s.default.UPDATE_APPLICATION_FAILURE:return this.updateApplicationFailure(e,t);case s.default.DELETE_APPLICATION_REQUEST:return this.deleteApplicationRequest(e,t);case s.default.DELETE_APPLICATION_SUCCESS:return this.deleteApplicationSuccess(e,t);case s.default.DELETE_APPLICATION_FAILURE:return this.deleteApplicationFailure(e,t);case s.default.RENAME_PERSONAL_ACCESS_TOKEN:return this.renamePersonalAccessToken(e,t);case s.default.CONNECT_OFFICIAL_APP_REQUEST:return this.setOfficialAppConnecting(e,t);case s.default.CONNECT_OFFICIAL_APP_SUCCESS:return this.connectOfficalAppSuccess(e,t);case s.default.CONNECT_OFFICIAL_APP_FAILURE:return this.connectOfficialAppFailure(e,t);default:return e}}}t.default=h},function(e,t,n){"use strict";n.r(t);t.default={GET_CONNECTED_APPS_DATA_REQUEST:"getConnectedAppsDataRequest",GET_CONNECTED_APPS_DATA_SUCCESS:"getConnectedAppsDataSuccess",GET_DEVELOPER_DATA_REQUEST:"getDeveloperDataRequest",GET_DEVELOPER_DATA_SUCCESS:"getDeveloperDataSuccess",GET_APPLICATION_REQUEST:"getApplicationRequest",GET_APPLICATION_SUCCESS:"getApplicationSuccess",CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:"createPersonalAccessTokenRequest",CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:"createPersonalAccessTokenSuccess",CREATE_PERSONAL_ACCESS_TOKEN_FAILURE:"createPersonalAccessTokenFailure",CREATE_APPLICATION_REQUEST:"createApplicationRequest",CREATE_APPLICATION_SUCCESS:"createApplicationSuccess",CREATE_APPLICATION_FAILURE:"createApplicationFailure",UPDATE_APPLICATION_REQUEST:"updateApplicationRequest",UPDATE_APPLICATION_SUCCESS:"updateApplicationSuccess",UPDATE_APPLICATION_FAILURE:"updateApplicationFailure",DELETE_APPLICATION_REQUEST:"deleteApplicationRequest",DELETE_APPLICATION_SUCCESS:"deleteApplicationSuccess",DELETE_APPLICATION_FAILURE:"deleteApplicationFailure",DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:"deletePersonalAccessTokenRequest",DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:"deletePersonalAccessTokenSuccess",DELETE_PERSONAL_ACCESS_TOKEN_FAILURE:"deletePersonalAccessTokenFailure",REVOKE_AUTHORIZED_APPLICATION_REQUEST:"revokeAuthorizedApplicationRequest",REVOKE_AUTHORIZED_APPLICATION_SUCCESS:"revokeAuthorizedApplicationSuccess",REVOKE_AUTHORIZED_APPLICATION_FAILURE:"revokeAuthorizedApplicationFailure",RENAME_PERSONAL_ACCESS_TOKEN:"renamePersonalAccessToken",CONNECT_OFFICIAL_APP_REQUEST:"connectOfficialAppRequest",CONNECT_OFFICIAL_APP_SUCCESS:"connectOfficialAppSuccess",CONNECT_OFFICIAL_APP_FAILURE:"connectOfficialAppFailure"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{_id:t,name:n,description:i,logo:o,owner:s,website:r,secret:a,redirectURIs:l,numberOfUsers:c,created:d,updated:u,authorizedAt:p}=e;this.id=t,this._id=t,this.name=n,this.description=i,this.logo=o,this.owner=s,this.website=r,this.secret=a,this.redirectURIs=l,this.numberOfUsers=c,this.created=d,this.updated=u,this.authorizedAt=p}addRedirectURI(e){var t;null===(t=this.redirectURIs)||void 0===t||t.push(e)}removeRedirectURI(e){var t;null===(t=this.redirectURIs)||void 0===t||t.filter(t=>e!==t)}}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"OFFICIAL_APPS",(function(){return s})),n.d(t,"appStatus",(function(){return r}));var i=n(544),o=n(563);const s=[{_id:i.CLI_CLIENT_ID,name:"CLI",emoji:"🧩",description:"Connect components in Zeplin to components in code using Zeplin CLI."},{_id:i.ZEM_CLIENT_ID,name:"zem",logo:Object(o.imageUrl)("img/ntf/icExtension.svg"),description:"Create, test and publish Zeplin extensions with no build configuration."}],r=Object.freeze({CONNECTED:"connected",CONNECTING:"connecting",UNCONNECTED:"unconnected"})},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(586),r=n.n(s),a=n(590),l=n.n(a),c=n(597),d=n(591),u=n.n(d),p=n(543),h=n(574),f=n.n(h);function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends o.a{getInitialState(){return{loading:!0,loadingJoin:!1,initingNewlyIntegratedSlackChannel:!1,organizationId:null,barrelType:f.a.PROJECT,barrelId:null,selectedView:p.ProjectViewTypes.DASHBOARD,assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,showOptimizedPNG:!0,showOptimizedJPG:!0,noVectorAssetInfoHidden:!1,densityMismatchWarningHidden:!1,noResourceInfoDismissed:!1,sourceFileInfoHidden:!1,flowLinkInfoDismissed:!1,showSlackReconnectionAuntie:!1,jumpToPopupOpen:!1,linkingProjectToStyleguide:"",movingResourcesToStyleguide:"",connectedComponentsDevModeEnabled:!1,connectedComponentsLocalWorkspace:null,componentVariantsOnboardingHintboxSeen:!1,connectedComponentsEditorInfo:{},screenVersionsLastSeen:null,connectedComponentsOnboardingDialogSeen:!1,numberOfHighlightedConnectToCodeButtonViews:0}}reset(){return this.getInitialState()}load(e){return S(S({},this.getInitialState()),{},{loading:!1},e)}updateState(e,t){return S(S({},e),t)}authenticatingSlackIntegration(e,t){return e.barrelId!==t?e:S(S({},e),{},{initingNewlyIntegratedSlackChannel:!0})}authenticatedSlackIntegration(e,t){return e.barrelId===t&&e.initingNewlyIntegratedSlackChannel?S(S({},e),{},{initingNewlyIntegratedSlackChannel:!1}):e}updateForArchive(e,{bid:t}){return t===e.barrelId?this.reset():e}updateForRemoveMember(e,{bid:t,shouldRemoveBarrel:n}){return t===e.barrelId&&n?this.reset():e}updateForRemove(e,{bid:t}){return t===e.barrelId?this.reset():e}setOrganizationId(e,t){return S(S({},e),{},{organizationId:t})}setBarrelId(e,t){return S(S({},e),{},{barrelId:t})}changeSelectedView(e,t){return S(S({},e),{},{selectedView:t})}setAssetExportTarget(e,t){return S(S({},e),{},{assetExportTarget:t})}changeAssetName(e){return S({},e)}changeAssetDensityScalePref(e,t,n){const i=S(S({},e.assetDensityScalePrefs),{},{[t]:n});return S(S({},e),{},{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,t){return S(S({},e),{},{assetNamingConvention:t})}toggleSVGOptimization(e,t){return S(S({},e),{},{showOptimizedSVG:t})}togglePNGOptimization(e,t){return S(S({},e),{},{showOptimizedPNG:t})}toggleJPGOptimization(e,t){return S(S({},e),{},{showOptimizedJPG:t})}dismissNoResourceInfo(e){return S(S({},e),{},{noResourceInfoDismissed:!0})}hideNoVectorAssetInfo(e){return S(S({},e),{},{noVectorAssetInfoHidden:!0})}hideDensityMismatchWarning(e){return S(S({},e),{},{densityMismatchWarningHidden:!0})}hideSourceFileInfo(e){return S(S({},e),{},{sourceFileInfoHidden:!0})}dismissFlowLinkInfo(e){return S(S({},e),{},{flowLinkInfoDismissed:!0})}hideSlackReconnectionAuntie(e){return S(S({},e),{},{showSlackReconnectionAuntie:!1})}hideComponentVariantsOnboardingHintbox(e){return S(S({},e),{},{componentVariantsOnboardingHintboxSeen:!0})}openJumpToPopup(e){return S(S({},e),{},{jumpToPopupOpen:!0})}closeJumpToPopup(e){return S(S({},e),{},{jumpToPopupOpen:!1})}join(e){return S(S({},e),{},{loadingJoin:!0})}stopLoadingJoin(e){return S(S({},e),{},{loadingJoin:!1})}moveResourcesRequest(e,{targetStyleguideId:t}){return S(S({},e),{},{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return S(S({},e),{},{movingResourcesToStyleguide:""})}moveResourcesFail(e){return S(S({},e),{},{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return S(S({},e),{},{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideSuccess(e){return S(S({},e),{},{linkingProjectToStyleguide:""})}updateForOpenScreen(e,{screenVersionsLastSeen:t}){return S(S({},this.updateScreenVersionsLastSeen(e,t)),{},{jumpToPopupOpen:!1,selectedView:p.ProjectViewTypes.SCREEN})}updateForRemoveScreen(e,{removingCurrentScreen:t}){const{selectedView:n}=e;return n===p.ProjectViewTypes.SCREEN&&t?this.changeSelectedView(e,p.ProjectViewTypes.DASHBOARD):e}enableDevMode(e){return S(S({},e),{},{connectedComponentsDevModeEnabled:!0})}disableDevMode(e){return S(S({},e),{},{connectedComponentsDevModeEnabled:!1})}setConnectedComponentsLocalWorkspace(e,{workspace:t}){return S(S({},e),{},{connectedComponentsLocalWorkspace:t})}setConnectedComponentsEditorInfo(e,{editorInfo:t}){return S(S({},e),{},{connectedComponentsEditorInfo:t})}setConnectedComponentsEditorPreference(e,{extension:t,editor:n}){const{connectedComponentsEditorInfo:i}=e,{defaultEditorPreferences:o}=i,s=m(i,["defaultEditorPreferences"]),{[t]:r}=o,a=m(o,[t].map(g));return n&&(a[t]=n),S(S({},e),{},{connectedComponentsEditorInfo:S(S({},s),{},{defaultEditorPreferences:a})})}setConnectedComponentsWorkspacePath(e,{workspacePath:t}){const{connectedComponentsEditorInfo:n}=e;return S(S({},e),{},{connectedComponentsEditorInfo:S(S({},n),{},{workspacePath:t})})}updateScreenVersionsLastSeen(e,{sid:t,date:n}){return t?S(S({},e),{},{screenVersionsLastSeen:S(S({},e.screenVersionsLastSeen),{},{[t]:n})}):e}highlightedConnectToCodeButtonViewed(e){return S(S({},e),{},{numberOfHighlightedConnectToCodeButtonViews:e.numberOfHighlightedConnectToCodeButtonViews+1})}markConnectedComponentsOnboardingDialogAsSeen(e){return S(S({},e),{},{connectedComponentsOnboardingDialogSeen:!0})}reduce(e,t){switch(t.type){case r.a.RESET:case l.a.RESET:return this.reset();case l.a.AUTHENTICATE_SLACK_INTEGRATION:return this.authenticatingSlackIntegration(e,t.bid);case l.a.AUTHENTICATE_SLACK_INTEGRATION_FAILED:case l.a.AUTHENTICATED_SLACK_INTEGRATION:return this.authenticatedSlackIntegration(e,t.bid);case l.a.ARCHIVE:return this.updateForArchive(e,t);case l.a.REMOVE_MEMBER:return this.updateForRemoveMember(e,t);case l.a.REMOVE:return this.updateForRemove(e,t);case l.a.LOAD:return this.load(t.barrel);case l.a.UPDATE_STATE:return this.updateState(e,t.update);case l.a.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t.oid);case l.a.SET_BARREL_ID:return this.setBarrelId(e,t.barrelId);case l.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case l.a.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t.assetExportTarget);case l.a.CHANGE_ASSET_NAME:return this.changeAssetName(e,t);case l.a.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t.format,t.assetDensityScalePrefsOfFormat);case l.a.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t.assetNamingConvention);case l.a.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t.showOptimizedSVG);case l.a.TOGGLE_PNG_OPTIMIZATION:return this.togglePNGOptimization(e,t.showOptimizedPNG);case l.a.TOGGLE_JPG_OPTIMIZATION:return this.toggleJPGOptimization(e,t.showOptimizedJPG);case l.a.HIDE_NO_VECTOR_ASSET_INFO:return this.hideNoVectorAssetInfo(e);case l.a.HIDE_DENSITY_MISMATCH_WARNING:return this.hideDensityMismatchWarning(e);case l.a.HIDE_SOURCE_FILE_INFO:return this.hideSourceFileInfo(e);case l.a.DISMISS_FLOW_LINK_INFO:return this.dismissFlowLinkInfo(e);case l.a.DISMISS_NO_RESOURCE_INFO:return this.dismissNoResourceInfo(e);case l.a.HIDE_SLACK_RECONNECTION_AUNTIE:return this.hideSlackReconnectionAuntie(e);case l.a.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case l.a.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case l.a.JOIN:return this.join(e);case l.a.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case l.a.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case l.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case l.a.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case l.a.ENABLE_DEV_MODE:return this.enableDevMode(e);case l.a.DISABLE_DEV_MODE:return this.disableDevMode(e);case c.default.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case c.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case u.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);case u.a.ADD_VERSION:case u.a.SHOW_VERSIONS:case u.a.TOGGLE_VERSIONS:return this.updateScreenVersionsLastSeen(e,t.screenVersionsLastSeen);case u.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case l.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:return this.setConnectedComponentsLocalWorkspace(e,t);case l.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO:return this.setConnectedComponentsEditorInfo(e,t);case l.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:return this.setConnectedComponentsEditorPreference(e,t);case l.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:return this.setConnectedComponentsWorkspacePath(e,t);case l.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:return this.highlightedConnectToCodeButtonViewed(e);case l.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:return this.markConnectedComponentsOnboardingDialogAsSeen(e);default:return e}}}t.default=v},function(e,t,n){"use strict";n.r(t);t.default={LINK_PROJECT:"project/linkProject",LINK_PROJECT_REQUEST:"project/linkProjectRequest",LINK_PROJECT_SUCCESS:"project/linkProjectSuccess",LINK_PROJECT_FAILED:"project/linkProjectFailed",UNLINK_PROJECT:"project/unlinkProject"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(599),r=n(586),a=n.n(r),l=n(590),c=n.n(l),d=n(574),u=n.n(d),p=n(591),h=n.n(p),f=n(543);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends o.a{getInitialState(){return{sortType:f.SortTypes.SECTIONS,filterValue:"",fixedThumbnailSize:!1,screenVariantsOnboardingSeen:!1,sidebarWidth:280,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],collapsedSections:{},highlightedSection:null,highlightedScreens:[]}}reset(){return this.getInitialState()}changeSelectedView(e,t){const{sids:n,seid:i,filterValue:o,tags:s,jiraIssues:r,untagged:a,sectionsToExpand:l}=t,c=m(m({},e),{},{tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]});let d=c;return s&&(d=this.changeTagFilter(c,{tags:s,untagged:!1})),a&&(d=this.changeTagFilter(c,{tags:[],untagged:!0})),n?m(m({},d),{},{highlightedScreens:this.highlightScreens(e,n).highlightedScreens,collapsedSections:this.expandSections(e,l).collapsedSections}):i?m(m({},d),{},{highlightedSection:this.highlightSection(e,i).highlightedSection,collapsedSections:this.expandSections(e,l).collapsedSections}):e.filterValue!==o?this.changeFilterValue(e,o):r?this.changeJiraIssueFilter(e,r):d}changeSortType(e,t){return m(m({},e),{},{sortType:t,highlightedScreens:[]})}changeFilterValue(e,t){return m(m({},e),{},{filterValue:t,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],highlightedScreens:[]})}changeTagFilter(e,t){return m(m({},e),{},{tagFilter:t,filterValue:"",highlightedScreens:[]})}changeJiraIssueFilter(e,t){return m(m({},e),{},{jiraIssueFilter:t,filterValue:"",tagFilter:{tags:[],untagged:!1},highlightedScreens:[]})}convertTagToSection(e,t){const{tags:n,untagged:i}=e.tagFilter,o=n.filter(e=>e!==t);return m(m({},e),{},{tagFilter:{tags:o,untagged:i}})}toggleFixedThumbnailSize(e){return m(m({},e),{},{fixedThumbnailSize:!e.fixedThumbnailSize})}hideScreenVariantsOnboardingSeen(e){return m(m({},e),{},{screenVariantsOnboardingSeen:!0})}changeSidebarWidth(e,t){return m(m({},e),{},{sidebarWidth:t})}expandSections(e,t){return m(m({},e),{},{collapsedSections:m(m({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,t){return m(m({},e),{},{collapsedSections:m(m({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}highlightScreens(e,t){return m(m({},e),{},{highlightedScreens:[].concat(t).filter(Boolean)})}unhighlightScreen(e,t){return m(m({},e),{},{highlightedScreens:e.highlightedScreens.filter(e=>e!==t)})}highlightSection(e,t){return m(m({},e),{},{highlightedSection:t})}unhighlightSection(e){return m(m({},e),{},{highlightedSection:null})}highlightUpdatedSection(e,{seid:t,highlight:n,sectionData:i}){if(!n)return e;const o=i._id||t;return m(m({},e),{},{highlightedSection:o})}updateForOpenScreen(e,{screenId:t,shouldResetDashboardFilters:n}){let i={};return n&&(i={tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]}),m(m(m({},e),i),{},{highlightedScreens:[t]})}load(e,t){const{barrel:{barrelType:n},dashboard:i={},data:{project:o}}=t;return n===u.a.STYLEGUIDE||o.partial?e:m(m({},e),i)}reduce(e,t){switch(t.type){case c.a.LOAD:return this.load(e,t);case a.a.RESET:case c.a.RESET:return this.reset();case c.a.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.viewUpdate);case s.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case s.default.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case s.default.CONVERT_TAG_TO_SECTION:return this.convertTagToSection(e,t.section.name);case s.default.TOGGLE_FIXED_THUMBNAIL_SIZE:return this.toggleFixedThumbnailSize(e);case s.default.HIDE_SCREEN_VARIANTS_ONBOARDING:return this.hideScreenVariantsOnboardingSeen(e);case s.default.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t.sidebarWidth);case s.default.EXPAND_SECTIONS:return this.expandSections(e,t.seids);case s.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t.seids);case s.default.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t.sid);case s.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t.seid);case s.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case s.default.UPDATE_SECTION:return this.highlightUpdatedSection(e,t);case h.a.OPEN_SCREEN:return this.updateForOpenScreen(e,t);default:return e}}}t.default=S},function(e,t,n){"use strict";n.r(t);t.default={CHANGE_SORT_TYPE:"dashboard/changeSortType",CHANGE_TAG_FILTER:"dashboard/changeTagFilter",TOGGLE_FIXED_THUMBNAIL_SIZE:"dashboard/toggleFixedThumbnailSize",CHANGE_SIDEBAR_WIDTH:"dashboard/changeSidebarWidth",EXPAND_SECTIONS:"dashboard/expandSections",COLLAPSE_SECTIONS:"dashboard/collapseSections",DOWNLOAD_SCREENS:"dashboard/downloadScreens",UNHIGHLIGHT_SCREEN:"dashboard/unhighlightScreen",HIGHLIGHT_SECTION:"dashboard/highlightSection",UNHIGHLIGHT_SECTION:"dashboard/unhighlightSection",CREATE_SECTION:"dashboard/createSection",CONVERT_TAG_TO_SECTION:"dashboard/convertTagToSection",ADD_SECTION:"dashboard/addSection",UPDATE_SECTION:"dashboard/updateSection",RENAME_SECTION:"dashboard/renameSection",UPDATE_SECTION_DESCRIPTION:"dashboard/updateSectionDescription",UPDATE_SECTION_ORDER:"dashboard/updateSectionOrder",REMOVE_SECTION:"dashboard/removeSection",UPDATE_SCREEN_ORDER:"dashboard/updateScreenOrder",UPDATE_SCREEN_ORDER_V2:"dashboard/updateScreenOrderV2",CREATE_VARIANT_GROUP:"dashboard/createVariantGroup",ADD_SCREENS_TO_VARIANT_GROUP:"dashboard/addScreensToVariantGroup",UPDATE_VARIANT_GROUP:"dashboard/updateVariantGroup",DELETE_VARIANT_GROUP:"dashboard/deleteVariantGroup",RENAME_VARIANT_GROUP:"dashboard/renameVariantGroup",DELETE_VARIANT_GROUP_REQUEST:"dashboard/deleteVariantGroupRequest",HIDE_SCREEN_VARIANTS_ONBOARDING:"dashboard/hideScreenVariantsOnboarding"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(590),r=n.n(s),a=n(601),l=n(602);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.a{getInitialState(){return{loading:!0,dialogOpen:!1,extensionId:null,extensions:[],enabledExtensions:[]}}reset(e){return e.extensions.forEach(e=>{e.terminate()}),this.getInitialState()}loadExtensions(e,{extensions:t,enabledExtensions:n}){return e.extensions.forEach(e=>{e.terminate()}),{loading:!1,enabledExtensions:n,extensions:t}}reload(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),d({},e)):e}openSettings(e,{extensionId:t}){return d(d({},e),{},{dialogOpen:!0,extensionId:t})}closeSettings(e){return d(d({},e),{},{dialogOpen:!1,extensionId:null})}add(e,{extension:t,local:n,openSettings:i}){const{extensions:o,enabledExtensions:s}=e,r=o.find(e=>t.id===e.id);let a=e;return i&&(a=this.openSettings(a,{extensionId:t.id})),r?(n&&r.reload(),this.enable(a,{eid:r.id})):d(d({},a),{},{enabledExtensions:s.concat(t.id),extensions:o.concat(t)})}enable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.concat(t)})}updateOption(e,{eid:t,name:n,value:i}){const o=e.extensions.map(e=>{if(e.id!==t)return e;const o=new l.WebappExtension(d({},e));return o.setOption(n,i),o});return d(d({},e),{},{extensions:o})}disable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.filter(e=>e!==t)})}remove(e,{eid:t}){const{extensions:n,enabledExtensions:i}=e;return d(d({},e),{},{enabledExtensions:i.filter(e=>e!==t),extensions:n.filter(e=>e.id!==t)})}reduce(e,t){switch(t.type){case r.a.RESET:return this.reset(e);case a.default.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case a.default.RELOAD:return this.reload(e);case a.default.OPEN_SETTINGS:return this.openSettings(e,t);case a.default.CLOSE_SETTINGS:return this.closeSettings(e);case a.default.ADD:return this.add(e,t);case a.default.ENABLE:return this.enable(e,t);case a.default.UPDATE_OPTION:return this.updateOption(e,t);case a.default.DISABLE:return this.disable(e,t);case a.default.REMOVE:return this.remove(e,t);default:return e}}}t.default=p},function(e,t,n){"use strict";n.r(t);t.default={INIT:"extensions/init",LOAD_EXTENSIONS:"extensions/loadExtensions",LOAD:"extensions/load",RELOAD:"extensions/reload",OPEN_SETTINGS:"extensions/openSettings",CLOSE_SETTINGS:"extensions/closeSettings",ADD:"extensions/add",ENABLE:"extensions/enable",UPDATE_OPTION:"extensions/updateOption",DISABLE:"extensions/disable",REMOVE:"extensions/remove"}},function(e,t,n){"use strict";n.r(t),n.d(t,"WebappExtension",(function(){return d}));var i=n(34),o=n(603),s=n(604),r=n(574),a=n.n(r),l=n(605);const c=["load","layer","screen","component","comment","colors","textStyles","spacing","exportColors","exportTextStyles","exportSpacing","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class d{constructor(e){var t,n,o;o=(e,t={})=>{this.local?(console.error(`Zeplin extension error (${this.name}):`,e),console.error("Data:",t)):i.withScope(n=>{n.setExtra("extension",{name:this.name,id:this._id}),Object.entries(t).forEach(([e,t])=>n.setExtra(e,t)),i.captureException(e)})},(n="workerLogger")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o;const{_id:s,name:r,description:l,manifestURL:c,default:d,users:u,manifest:p,local:h,options:f={},storage:g,supervisor:m,barrelType:b=a.a.PROJECT,loaded:S=!1,methods:y=[]}=e;this._id=s,this.name=r,this.description=l,this.manifestURL=c,this.default=d,this.users=u,this.manifest=p,this.local=h,this.options=f,this.storage=g,this.supervisor=m,this.barrelType=b,this.loaded=S,this.methods=y}static async loadManifest(e){const t=await fetch(e);if(!t.ok)throw new Error("Cannot load extension manifest: "+e);return t.json()}static async createLocal(e){const t=e.endsWith("manifest.json")?e:e.replace(/\/$/,"")+"/manifest.json",n=await d.loadManifest(t),{name:i,description:o}=n;return new d({_id:i,name:i,description:o,manifestURL:t,manifest:n,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0})}initWorker(e){return this.supervisor=new o.default(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger,methods:c}),this.supervisor.load(e)}async initOptions(e,t,n){const i=Object.fromEntries(n.map(({id:e,default:t})=>[e,t]));this.storage=s.default.create(e,t,i),this.options=await this.storage.getAll()}async load(e,t=a.a.PROJECT){this.barrelType=t;try{this.local||(this.manifest=await d.loadManifest(this.manifestURL)),await this.initOptions(this._id,e,this.optionsSchema);const t=new URL(this.manifest.moduleURL,this.manifestURL).toString(),n=await this.initWorker(t);this.loaded=!0,this.methods=n}catch(n){}return this}reload(){if(!this.loaded)return;const e=new URL(this.manifest.moduleURL,this.manifestURL).toString();return this.supervisor.load(e)}get id(){return this._id}get optionsSchema(){return this.manifest&&this.manifest.options||[]}get author(){const{user:e={displayName:"Anonymous"}}=this.users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this.manifest&&this.manifest.author&&this.manifest.author.url}}get repository(){return this.manifest&&this.manifest.repository}terminate(){this.supervisor&&this.supervisor.terminate(),this.local&&s.default.clear(this._id)}setOption(e,t){this.options[e]=t,this.storage.set(e,t)}getOption(e){return this.options[e]}getContext(e){const t=this.barrelType===a.a.PROJECT,n={options:this.options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this.options}}}hasMethod(e){return this.methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this.supervisor.colors(this.getContext(e)):this.supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(l.serializeData)(e,"Color")))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this.supervisor.textStyles(this.getContext(e)):this.supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(l.serializeData)(e,"Font")))}styleguideSpacings(e){return this.supervisor.spacing(this.getContext(e))}layer(e,t,n){const i=Object(l.findLayerIndexPath)(n.snapshot,t.id);return i?this.supervisor.layer(this.getContext(e),i,Object(l.serializeVersion)(n)):Promise.resolve(null)}screen(e,t,n){return this.supervisor.screen(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeScreen)(n))}component(e,t,n,i){if(i){const o=Object(l.serializeVariantSection)(i),s=o.data.components.findIndex(e=>e.id===n._id);return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),s,o)}return this.supervisor.component(this.getContext(e),Object(l.serializeVersion)(t),Object(l.serializeComponent)(n))}comment(e,t){return this.supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this.supervisor.exportColors(this.getContext(e)):this.supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(l.serializeData)(e,"Color")))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this.supervisor.exportTextStyles(this.getContext(e)):this.supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(l.serializeData)(e,"Font")))}exportStyleguideSpacings(e){return this.supervisor.exportSpacing(this.getContext(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));let i=0;class o{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value(...t){return this.invoke(e,t)}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const o=this.constructor.getInvocationId();this.callbacks[o]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:o,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";n.r(t);var i=n(547);const o={create:function(e,t,n={}){return{get:o=>i.extensionPrefs.get(e,t,o).then((function(e){return null==e?n[o]:e})),getAll:()=>i.extensionPrefs.get(e,t).then((function(e){return Object.assign({},n,e)})),set:(n,o)=>i.extensionPrefs.set(e,t,n,o)}},clear:function(e){return i.extensionPrefs.remove(e)}};t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"serializeData",(function(){return d})),n.d(t,"serializeScreen",(function(){return u})),n.d(t,"serializeComponent",(function(){return p})),n.d(t,"serializeVersion",(function(){return h})),n.d(t,"serializeVariantSection",(function(){return f})),n.d(t,"transformBarrelToObject",(function(){return b})),n.d(t,"findLayerIndexPath",(function(){return g}));var i=n(606),o=n(574),s=n.n(o),r=n(559);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return{model:t,data:e}}function u(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function p(e){const{_id:t,name:n,description:i,latestVersion:o,variant:s}=e;return{model:"Component",data:{id:t,name:n,description:i,latestVersion:o,properties:s&&s.values.map(({propertyId:e,value:t})=>({id:e,value:t}))}}}function h(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=t.snapshot.layers||[];return t.snapshot.layers=n.map(e=>new i.default(e).toObject()),{model:"Version",data:t}}function f(e){const t=e.variant.properties.map(({_id:e,name:t,values:n})=>({id:e,name:t,values:n})),n=Object(r.collectComponents)([e]).map(e=>p(e).data);return{model:"ComponentVariant",data:{name:e.name,propertyDescriptors:t,components:n}}}function g(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,o]of e.layers.entries()){if(o._id===t)return n.concat(i);const e=g(o,t,n.concat(i));if(e)return e}return null}function m(e,t){let n=t[e],i=n.toObject();const o=i;for(;n;){const e=t[n.parent],o=e?e.toObject():null;n=e,i.parent=o,i=o}return o}function b(e,t,n,i){const o=e.toObject();return o.remPreferences=l(l({},n[0].remPreferences),{},{rootFontSize:n[0].remPreferences.remRootFontSize}),t===s.a.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?o.styleguide=m(e.styleguideLink.styleguide._id,i):t===s.a.STYLEGUIDE&&e.parent&&(o.parent=m(e.parent,i)),o}},function(e,t,n){"use strict";n.r(t);var i=n(607),o=n(608),s=n(609),r=n(610),a=n(613),l=n(567),c=n(615),d=n(616),u=n.n(d);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new o.default(t.blur)),t.layout&&(t.layout=new u.a(t.layout)),t.borders=t.borders.map(e=>new s.default(e,t.rect.width,t.rect.height)),t.fills=t.fills.map(e=>new r.default(e,t.rect.width,t.rect.height)),t.shadows=t.shadows.map(e=>new c.default(e)),t.textStyles=(t.textStyles||[]).map(e=>{const n=parseInt(e.range.location,10);let i=parseInt(e.range.length,10);1===t.textStyles.length&&0===i&&t.content&&(i=t.content.length);return{range:{start:n,end:n+i},font:new a.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sourceId:t.textStyleSourceId},e.style))}}),t.layers=(t.layers||[]).map(e=>new Layer(e)),t.asset?t.assets=t.asset.contents.map(({densityScale:e,format:t})=>({densityScale:e,format:t})):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:()=>t.type,set(e){if(-1===f.indexOf(e))throw new TypeError(`Unknown layer type: '${e}'. Possible values: `+JSON.stringify(f));t.type=e}},name:{get:()=>t.name,set(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:()=>t.rotation,set(e){t.rotation=e}},opacity:{get:()=>t.opacity,set(e){if(e<0||e>1)throw new RangeError(`Invalid opacity value: '${e}'. Valid range: [0, 1]`);t.opacity=e}},blendMode:{get:()=>t.blendMode,set(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError(`Unknown blend mode: '${e}'. Possible values: `+JSON.stringify(i.BLEND_MODES));t.blendMode=e}},borderRadius:{get:()=>t.borderRadius,set(e){if(e<0)throw new RangeError(`Invalid radius value: '${e}'. Valid range: [0, ∞)`);t.borderRadius=e}},blur:{get:()=>t.blur,set(e){t.blur=new o.default(e)}},absoluteRect:{get:()=>t.absoluteRect,set(e){t.absoluteRect=e}},rect:{get:()=>t.rect,set(e){t.rect=e}},content:{get:()=>"text"===t.type&&t.content||"",set(e){"text"===t.type&&(t.content=e)}},textStyles:{get:()=>t.textStyles},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId},textStyleSourceId:{value:t.textStyleSourceId},layout:{get:()=>t.layout,set(e){t.layout=new u.a(e)}},layoutGrow:{value:t.layoutGrow},layoutAlignment:{value:t.layoutAlignment},styleName:{value:t.styleName},interactionLevel:{value:t.interactionLevel},parent:{value:t.parent}})}Layer.prototype=Object.create(l.default.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toJSON=function(e){return"parent"===e?"[Parent]":this},Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map(e=>e.toObject()),fills:this.fills.map(e=>e.toObject()),shadows:this.shadows.map(e=>e.toObject()),textStyles:this.textStyles.map(e=>{var{range:t}=e;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}}),assets:this.assets,layers:this.layers.map(e=>e.toObject()),componentName:this.componentName,styleName:this.styleName,sourceId:this.sourceId,interactionLevel:this.interactionLevel,layoutGrow:this.layoutGrow,layoutAlignment:this.layoutAlignment};return this.blur&&(e.blur=this.blur.toObject()),this.layout&&(e.layout=this.layout.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some(e=>"gradient"===e.type)},Layer.prototype.hasBlendMode=function(){return this.fills.some(e=>e.blendMode&&"normal"!==e.blendMode)},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(i=>{var o=t.find(e=>e.font.equals(i.font)),s=i.range.end-i.range.start;o||(o={font:i.font,totalLength:0},t.push(o)),o.totalLength+=s,o.totalLength>n&&(n=o.totalLength,e=o)}),e&&e.font}},t.default=Layer},function(e,t,n){"use strict";n.r(t),n.d(t,"BLEND_MODES",(function(){return i}));var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";n.r(t);var i=n(567),o=["gaussian","background"];function s(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(o));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}s.prototype=Object.create(i.default.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(610),o=n(567);function s(e,t,n){var o=Object.assign({},e);o.fill=new i.default({fillType:o.fillType,color:o.color,gradient:o.gradient,opacity:o.opacity,blendMode:o.blendMode},t,n),delete o.fillType,delete o.color,delete o.gradient,delete o.opacity,delete o.blendMode,Object.defineProperties(this,{position:{get:function(){return o.position},set:function(e){o.position=e}},thickness:{get:function(){return o.thickness},set:function(e){o.thickness=e}},fill:{get:function(){return o.fill},set:function(e){o.fill=e}}})}s.prototype=Object.create(o.default.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(607),o=n(564),s=n(611),r=n(567),a=["color","gradient"];function l(e,t,n){var r=Object.assign({},e);if(r.type=r.fillType,delete r.fillType,"color"===r.type)r.color=new o.default(r.color),delete r.gradient;else{if("gradient"!==r.type)throw new TypeError("Unknown fill type: '"+r.type+"'. Possible values: "+JSON.stringify(a));r.gradient=new s.default(r.gradient,t,n),delete r.color}Object.defineProperties(this,{type:{get:function(){return r.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(a));r.type=e}},color:{get:function(){return r.color},set:function(e){r.type="color",r.color=new o.default(e),delete r.gradient}},gradient:{get:function(){return r.gradient},set:function(e){r.type="gradient",r.gradient=new s.default(e,t,n),delete r.color}},opacity:{get:function(){return r.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");r.opacity=e}},blendMode:{get:function(){return r.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));r.blendMode=e}},fill:{get:function(){return"color"===r.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(r.default.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(612),o=n(567),s=["linear","radial","angular"];function r(e,t,n){var o=Object.assign({},e);o.colorStops=o.colorStops.map((function(e){return new i.default(e)})),Object.defineProperties(this,{type:{get:function(){return o.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(s));o.type=e},enumerable:!0},from:{get:function(){return o.from},set:function(e){o.from=e},enumerable:!0},to:{get:function(){return o.to},set:function(e){o.to=e},enumerable:!0},angle:{get:function(){return o.angle},set:function(e){o.angle=e},enumerable:!0},scale:{get:function(){return o.scale},set:function(e){o.scale=e},enumerable:!0},colorStops:{value:o.colorStops,enumerable:!0}})}r.prototype=Object.create(o.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map((function(e){return e.toObject()}))};return void 0!==this.angle&&(e.angle=this.angle),e},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(564),o=n(567);function s(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}s.prototype=Object.create(o.default.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(614),o=n(564),s=n(567);const r=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),a=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const u=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),p=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const h=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),f=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function g(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,p.EXTRA_LIGHT).replace(/heavy/i,p.EXTRA_BOLD):e}(e),n=t.match(a);n?(n=n[n.length-1],t=d(t,n),n=function(e){return/black|heavy|900/gi.test(e)?p.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?p.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?p.SEMI_BOLD:/bold|700/gi.test(e)?p.BOLD:/medium|500/gi.test(e)?p.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?p.EXTRA_LIGHT:/light|300/gi.test(e)?p.LIGHT:/thin|hairline|100/gi.test(e)?p.THIN:p.REGULAR}(n.toLowerCase())):n=p.REGULAR;let i=t.match(l);i?(i=i[i.length-1],t=d(t,i),i=i.toLowerCase()):i="normal";let o=t.match(c);o?(o=o[o.length-1],t=d(t,o),o=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?f.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?f.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?f.SEMI_CONDENSED:/condensed/i.test(e)?f.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?f.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?f.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?f.SEMI_EXPANDED:/expanded/i.test(e)?f.EXPANDED:f.NORMAL}(o.toLowerCase())):o=f.NORMAL;return{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:i,weight:n,stretch:o}}class Font extends s.default{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:s,fontFace:a,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:h,color:m}=e;let b,S,y,v;this.id=n,this.sourceId=i,this.name=s,this.fontFace=a,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=m&&new o.default(m),h?(this.fontVariationSettings=h,b=a,({style:S,weight:y,stretch:v}=function(e){const t=r.WEIGHT in e?e[r.WEIGHT]:p.REGULAR,n=r.WIDTH in e?e[r.WIDTH]:f.NORMAL;let i;return i=r.SLANT in e?`oblique ${e[r.SLANT]}deg`:e[r.ITALIC]?"italic":"normal",{style:i,weight:t,stretch:n}}(h))):({family:b,style:S,weight:y,stretch:v}=g(a)),this.fontFamily=b,this.fontStyle=S,this.fontWeight=y,this.fontStretch=v}get weightText(){return u[this.fontWeight]||String(this.fontWeight)}get stretchText(){return h[this.fontStretch]||String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every(([t,n])=>Object(i.isAlmostEqual)(e[t],n))}equals(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight)&&Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}t.default=Font},function(e,t,n){"use strict";n.r(t),n.d(t,"clamp",(function(){return i})),n.d(t,"round",(function(){return o})),n.d(t,"toPercentage",(function(){return s})),n.d(t,"percentageLength",(function(){return r})),n.d(t,"isAlmostEqual",(function(){return a})),n.d(t,"toRemSize",(function(){return l})),n.d(t,"mod",(function(){return c}));function i(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function s(e,t){return 100*e/t+"%"}function r(e,t){return o(100*e/t,1)+"%"}function a(e,t,n=1e-4){return e===t||Math.abs(e-t)<n}function l(e,t){return o(e/t,3)+"rem"}function c(e,t){return(e%t+t)%t}},function(e,t,n){"use strict";n.r(t);var i=n(564),o=n(567),s=["outer","inner"];function r(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(s));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}}})}r.prototype=Object.create(o.default.prototype),r.prototype.constructor=r,r.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutDistribution=t.LayoutAlignment=t.LayoutSizingMode=t.LayoutDirection=void 0;const o=i(n(567));!function(e){e.ROW="row",e.COLUMN="column"}(t.LayoutDirection||(t.LayoutDirection={})),function(e){e.FIXED="fixed",e.AUTO="auto"}(t.LayoutSizingMode||(t.LayoutSizingMode={})),function(e){e.MIN="min",e.CENTER="center",e.MAX="max",e.STRETCH="stretch",e.INHERIT="inherit"}(t.LayoutAlignment||(t.LayoutAlignment={})),function(e){e.CENTER="center",e.MAX="max",e.MIN="min",e.SPACE_BETWEEN="space-between"}(t.LayoutDistribution||(t.LayoutDistribution={}));class s extends o.default{constructor({direction:e,padding:t,gap:n,sizingMode:i,itemAlignment:o,distribution:s,alignment:r}){super(),this.direction=e,this.padding=Object.assign({},t),this.gap=n,this.sizingMode=i,this.alignment=r,this.itemAlignment=o,this.distribution=s}toObject(){return{direction:this.direction,padding:Object.assign({},this.padding),gap:this.gap,sizingMode:this.sizingMode,alignment:this.alignment,itemAlignment:this.itemAlignment,distribution:this.distribution}}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(618);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{open:!1,targetNode:null,resourceId:null,resourceType:null}}open(e,{targetNode:t,resourceId:n,resourceType:i}){return a(a({},e),{},{open:!0,targetNode:t,resourceId:n,resourceType:i})}close(e){return a(a({},e),{},{open:!1,targetNode:null,resourceId:null,resourceType:null})}reduce(e,t){switch(t.type){case s.default.OPEN:return this.open(e,t);case s.default.CLOSE:return this.close(e);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={OPEN:"moveResources/open",CLOSE:"moveResources/close",MOVE:"moveResources/move"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(587)),r=i(n(584));class a extends o.default{constructor(e){super(e)}getInitialState(){return{notifications:[],loading:null,error:null}}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}getNotificationsSuccess(e,t){return Object.assign({},e,{notifications:t,loading:!1})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t){var n;const i=e.notifications.find(({_id:e})=>e===t._id),o=[Object.assign(Object.assign({},t),{events:[...t.events,...null!==(n=null==i?void 0:i.events)&&void 0!==n?n:[]]}),...e.notifications.filter(({_id:e})=>e!==t._id)];return Object.assign(Object.assign({},e),{notifications:o})}setReadStatus(e,t,n){let i=e;for(const{_id:o,events:s}of t)i=this.setEventReadStatus(i,o,s.map(e=>e._id),n);return i}setReadStatusById(e,t,n){const i=e.notifications.map(e=>t.includes(e._id)?Object.assign(Object.assign({},e),{events:e.events.map(e=>Object.assign(Object.assign({},e),{markedAsRead:n}))}):e);return Object.assign(Object.assign({},e),{notifications:i})}restoreReadStatus(e,t){const n=e.notifications.map(e=>{const n=t.find(({_id:t})=>t===e._id);return n?Object.assign(Object.assign({},e),{events:e.events.map(e=>{const t=n.events.find(({_id:t})=>t===e._id);return t?Object.assign(Object.assign({},e),{markedAsRead:t.markedAsRead}):e})}):e});return Object.assign(Object.assign({},e),{notifications:n})}setEventReadStatus(e,t,n,i){const o=e.notifications.map(e=>{if(t!==e._id)return e;const o=e.events.map(e=>n.includes(e._id)?Object.assign(Object.assign({},e),{markedAsRead:i}):e);return Object.assign(Object.assign({},e),{events:o})});return Object.assign(Object.assign({},e),{notifications:o})}deleteEvent(e,t,n){const i=e.notifications.map(e=>{if(t!==e._id)return e;const i=e.events.filter(({_id:e})=>e!==n);return Object.assign(Object.assign({},e),{events:i})}).filter(({events:{length:e}})=>e);return Object.assign(Object.assign({},e),{notifications:i})}selectNotification(e,t,n,i){return i?e:this.setEventReadStatus(e,t._id,n,!0)}reduce(e,t){switch(t.type){case s.default.GetNotificationsRequested:return this.getNotificationsRequested(e);case s.default.GetNotificationsSuccess:return this.getNotificationsSuccess(e,t.notifications);case s.default.GetNotificationsFailed:return this.getNotificationsFailed(e,t.error);case s.default.AddNotification:return this.addNotification(e,t.notification);case s.default.MarkAllAsRead:return this.setReadStatus(e,t.notifications,!0);case s.default.SetReadStatusOfflineByNotifications:return this.setReadStatus(e,t.notifications,t.markedAsRead);case s.default.RestoreReadStatus:return this.restoreReadStatus(e,t.notifications);case s.default.SetReadStatusOffline:return this.setReadStatusById(e,t.nids,t.markedAsRead);case s.default.SetEventReadStatus:return this.setEventReadStatus(e,t.notification._id,t.eventIds,t.markedAsRead);case s.default.SetEventReadStatusOffline:return this.setEventReadStatus(e,t.nid,t.eventIds,t.markedAsRead);case s.default.DeleteEvent:return this.deleteEvent(e,t.nid,t.eventId);case r.default.Select:return this.selectNotification(e,t.activity,t.eventIds,t.options.autoSelect);default:return e}}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(621),r=n.n(s),a=n(622),l=n.n(a),c=n(623),d=n(624),u=n.n(d),p=n(586),h=n.n(p),f=n(590),g=n.n(f),m=n(625),b=n.n(m),S=n(626),y=n.n(S),v=n(574),C=n.n(v),O=n(559),E=n(627),T=n.n(E),_=n(628);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let j=0;class k extends o.a{getInitialState(){return{loading:!0,loadingProfiles:!0,loadingBarrels:!0,loadingOrganization:!0,error:null,organizations:[],organizationProfiles:{},organizationProjects:{},organizationStyleguides:{},focusedBarrels:{},dialogDismissStates:{}}}reset(){return this.getInitialState()}load(e,{data:{organization:t,organizations:n,organizationProfiles:i,organizationProjects:o,organizationStyleguides:s,focusedBarrels:r,dialogDismissStates:a},barrel:{organizationId:l}}){let c=D(D({},e),{},{loading:!1});return n&&(c=this.getOrganizationsSuccess(c,n)),t&&(c=this.addOrganization(c,t)),i&&(c=this.getOrganizationMemberProfilesSuccess(c,i)),o&&(c=this.loadOrganizationProjects(c,{projects:o,oid:l})),s&&(c=this.loadOrganizationStyleguides(c,{styleguides:s,oid:l})),r&&(c=this.getFocusedBarrelsSuccess(c,r)),a&&(c=this.updateDialogDismissStates(c,{oid:l,dialogDismissParams:a})),c}addOrganization(e,t){const n=e.organizations.find(({_id:e})=>e===t._id),i=n?new b.a(D(D({},n),t)):new b.a(t);return D(D({},e),{},{organizations:e.organizations.filter(({_id:e})=>e!==t._id).concat(i),loadingOrganization:!1})}addOrganizationWorkflowStatus(e,{oid:t,workflowStatusData:n}){const i=e.organizations.find(({_id:e})=>e===t),o=i.workflowStatuses.find(({_id:e})=>e===n._id&&e.startsWith("newWorkflowStatusId"))||{},s=i.workflowStatuses.map(e=>e._id===o._id?new y.a(n):e);return o._id||s.push(new y.a(n)),D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{workflowStatuses:s})):e)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),n)):e),loadingOrganization:!1})}updateOrganizationProfile(e,t,n){const i=e.organizationProfiles[t];if(!i)return;const o=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:o})})}updateOrganizationSubscription(e,{oid:t,plan:n}){const i=e.organizations.find(({_id:e})=>e===t);return i?this.updateOrganization(e,i._id,{paymentPlan:n}):e}updateOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:o}){const s=new y.a(D(D({},o),i));return D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{workflowStatuses:e.workflowStatuses.map(e=>e._id===n?s:e)})):e)})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}deleteOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n}){return D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{workflowStatuses:e.workflowStatuses.filter(({_id:e})=>e!==n)})):e)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return D(D({},e),{},{organizations:t.map(e=>new b.a(e)),loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}getOrganizationSuccess(e,{organization:t}){if(!t)return D(D({},e),{},{loadingOrganization:!1});return e.organizations.find(({_id:e})=>e===t._id)?this.updateOrganization(e,t._id,t):this.addOrganization(e,t)}getOrganizationSectionsSuccess(e,{sections:t,oid:n}){const i=e.organizations.find(({_id:e})=>e===n);return i?this.updateOrganization(e,i._id,{sections:t}):e}organizationMembersRequested(e,{oid:t}){const n=e.organizations.find(({_id:e})=>e===t);return n?this.updateOrganization(e,n._id,{membersLoading:!0,membersError:null,members:null}):e}getOrganizationMembersSuccess(e,{organizationMembers:t}){const{_id:n,members:i}=t||{},o=e.organizations.find(({_id:e})=>e===n);return o?this.updateOrganization(e,o._id,{membersLoading:!1,members:i}):e}getOrganizationMembersFailed(e,{oid:t,error:n}){const i=e.organizations.find(({_id:e})=>e===t);return i?this.updateOrganization(e,i._id,{membersLoading:!1,membersError:n}):e}getOrganizationMemberProfilesRequested(e){return Object.assign({},e,{loadingProfiles:!0})}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return D(D({},e),{},{organizationProfiles:D(D({},e.organizationProfiles),{},{[n]:t})})}addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i,index:o}){const s=e.organizations.find(({_id:e})=>e===n);if(!s||!s.sections)return e;let r;return r=i?s.sections.find(e=>e._id===i):s.sections[0],!r||r.projects.includes(t)?e:D(D({},e),{},{organizations:e.organizations.map(e=>e._id===n?new b.a(D(D({},e),{},{sections:e.sections.map(e=>{if(e._id===r._id){const n=[...e.projects];return o?n.splice(o,0,t):n.push(t),new T.a(D(D({},e),{},{projects:n}))}return e})})):e)})}addBarrel(e,{barrel:{_id:t},oid:n,oseid:i,index:o,barrelType:s}){const{organizationProjects:r,organizationStyleguides:a}=e;let l=e;if(s===C.a.PROJECT){l=this.addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i,index:o});const s=r[n];if(s&&!s.includes(t))return D(D({},l),{},{organizationProjects:D(D({},r),{},{[n]:[...s,t]})})}else{const i=a[n];if(i&&!i.includes(t)){const s=[...i];return o?s.splice(o,0,t):s.push(t),D(D({},e),{},{organizationStyleguides:D(D({},a),{},{[n]:s})})}}return l}removeProjectFromOrganizationSection(e,{pid:t,oid:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===n),{sectionIds:s,sections:r}=D({},o)||{};if(!r)return e;const a=r.find(e=>e._id===i);return a?(Object(O.arrayRemove)(a.projects,e=>e===t),this.sortAndPurgeEmptySections(e,{oid:n,sections:r,sectionIds:s})):e}removeBarrel(e,{bid:t,oid:n,oseid:i}){const{organizationProjects:o,organizationStyleguides:s}=e;let r=e;i&&(r=this.removeProjectFromOrganizationSection(e,{oid:n,pid:t,oseid:i}));const a=o[n];if(a&&a.includes(t))return D(D({},r),{},{organizationProjects:D(D({},o),{},{[n]:a.filter(e=>e!==t)})});const l=s[n];return l&&l.includes(t)?D(D({},r),{},{organizationStyleguides:D(D({},s),{},{[n]:l.filter(e=>e!==t)})}):r}loadOrganizationProjects(e,{projects:t,oid:n}){return D(D({},e),{},{organizationProjects:D(D({},e.organizationProjects),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationProject(e,{bid:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const s=this.removeBarrel(e,{bid:t,oid:o}),r="user"===o?s:this.removeBarrelFromFocus(s,{bid:t,oid:o});return this.addBarrel(r,{barrel:{_id:t},oid:i?n:"user",barrelType:C.a.PROJECT})}loadOrganizationStyleguides(e,{styleguides:t,oid:n}){return D(D({},e),{},{organizationStyleguides:D(D({},e.organizationStyleguides),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationStyleguide(e,{affectedIds:t,targetId:n,toOrganization:i,oid:o}){if(!i&&"user"===o)return e;const{organizationStyleguides:s}=e,r=s[o],a=i?n:"user",l=s[a];return D(D({},e),{},{organizationStyleguides:{[o]:r.filter(e=>!t.includes(e)),[a]:l&&[...l,...t]}})}setWorkspaceLoading(e,{selectedOrganizationId:t}){if(!t)return e;const{organizationProjects:n,organizationStyleguides:i}=e,o=!n[t]||!i[t];let s=!1;if("user"!==t){const n=e.organizations.find(({_id:e})=>e===t);s=!n||!n.complete}return D(D({},e),{},{loadingBarrels:o,loadingOrganization:s})}getFocusedBarrelsSuccess(e,{focusedBarrels:t,oid:n}){return t?D(D({},e),{},{focusedBarrels:D(D({},e.focusedBarrels),{},{[n]:t})}):e}addBarrelToFocus(e,{oid:t,bid:n,barrelType:i,shouldPopOldestBarrel:o}){const s=e.focusedBarrels[t];if(!s)return e;const r=s.filter(({unpinned:e})=>!e);return r.includes(n)?e:(o&&r.shift(),D(D({},e),{},{focusedBarrels:D(D({},e.focusedBarrels),{},{[t]:[...r,{barrelType:i,barrelId:n}]})}))}removeBarrelFromFocus(e,{oid:t,bid:n,poppedBarrel:i}){const o=e.focusedBarrels[t];if(!o)return e;const s=o.slice();return i&&s.unshift(i),D(D({},e),{},{focusedBarrels:D(D({},e.focusedBarrels),{},{[t]:s.filter(({barrelId:e})=>e!==n)})})}unpinBarrelFromFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return D(D({},e),{},{focusedBarrels:D(D({},e.focusedBarrels),{},{[t]:i.map(e=>e.barrelId===n?D(D({},e),{},{unpinned:!0}):e)})})}removeArchivedBarrelFromFocus(e,{bid:t}){return Object.keys(e.focusedBarrels).reduce((e,n)=>this.removeBarrelFromFocus(e,{oid:n,bid:t}),e)}repinBarrelToFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return D(D({},e),{},{focusedBarrels:{[t]:i.map(e=>e.barrelId===n?D(D({},e),{},{unpinned:!1}):e)}})}removeUnjoinedBarrels(e,{oid:t,remainingProjects:n,remainingStyleguides:i}){const o=this.updateMemberAccessibility(e,{oid:t,restricted:!0});return D(D({},o),{},{organizationProjects:D(D({},o.organizationProjects),{},{[t]:n}),organizationStyleguides:D(D({},o.organizationStyleguides),{},{[t]:i})})}updateMemberAccessibility(e,{oid:t,restricted:n=!1}){return D(D({},e),{},{organizationProfiles:D(D({},e.organizationProfiles),{},{[t]:D(D({},e.organizationProfiles[t]),{},{restricted:n})})})}updateMemberTags(e,{oid:t,mid:n,operation:i,tags:o}){const s=e.organizations.find(({_id:e})=>e===t);if(!s)return e;const r=Boolean(s.members)&&s.members.find(({user:{_id:e}})=>e===n);if(!r)return e;let a=[];return"add"===i?a=r.tags.concat(o):"remove"===i&&(a=r.tags.filter(e=>!o.includes(e))),D(D({},e),{},{organizations:e.organizations.map(e=>{if(e._id!==t)return e;const i=(e.members||[]).map(e=>e.user._id!==n?e:D(D({},e),{},{tags:a}));return new b.a(D(D({},e),{},{members:i}))})})}updateMemberData(e,{uid:t,userData:n}){return D(D({},e),{},{organizations:e.organizations.map(e=>{if(!e.members)return e;const i=e.members.map(e=>e.user._id!==t?e:D(D({},e),{},{user:D(D({},e.user),n)}));return new b.a(D(D({},e),{},{members:i}))})})}sortAndPurgeEmptySections(e,{oid:t,sections:n,sectionIds:i}){const o=e.organizationProjects[t],s=e.organizationProfiles[t],r=i.map((e,t)=>{const i=n.find(t=>t._id===e);return i&&s.restricted&&t>0&&!i.projects.some(e=>o.includes(e))?null:i}).filter(Boolean);return D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sections:r,sectionIds:i})):e)})}addProjectSection(e,{oid:t,index:n,sectionData:i,dialogDismissParams:o}){const s=e.organizations.find(({_id:e})=>e===t),{sectionIds:r,sections:a}=D({},s)||{};if(!r)return e;i.projects&&i.projects.forEach(e=>{const t=a.find(t=>t.projects.includes(e));t&&Object(O.arrayRemove)(t.projects,t=>t===e)});const l=new T.a(i);l._id||(l._id=_.TEMPORARY_PROJECT_SECTION_ID,l.newSection=!0,l.key="newProjectSection-"+j++),l._id!==_.TEMPORARY_PROJECT_SECTION_ID&&r.includes(l._id)||r.splice(n,0,l._id),a.push(l);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:a,sectionIds:r})}addProjectSectionId(e,{oid:t,index:n,oseid:i}){const o=e.organizations.find(({_id:e})=>e===t),{sectionIds:s}=D({},o)||{};return s.splice(n,0,i),D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sectionIds:s})):e)})}updateProjectSection(e,{oid:t,oseid:n,sectionData:i}){const o=e.organizations.find(({_id:e})=>e===t),{sections:s,sectionIds:r}=D({},o)||{};if(!s)return e;return D({},s.find(e=>e._id===n))?D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sections:s.map(e=>e._id===n?new T.a(D(D({},e),i)):e),sectionIds:r.map(e=>e===n&&i._id&&i._id!==e?i._id:e)})):e)}):e}removeProjectSection(e,{oid:t,oseid:n}){const i=e.organizations.find(({_id:e})=>e===t),{sectionIds:o,sections:s}=D({},i)||{};if(!o)return e;const r=D({},s[0]),a=s.find(({_id:e})=>e===n);return a&&r.projects.push(...a.projects),D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sections:s.map((e,t)=>0===t?r:e._id===n?null:e).filter(Boolean),sectionIds:o.filter(e=>e!==n)})):e)})}updateProjectSectionOrder(e,{oid:t,oseid:n,index:i,dialogDismissParams:o}){const s=e.organizations.find(({_id:e})=>e===t),{sectionIds:r,sections:a}=D({},s);if(!r)return e;const l=r.indexOf(n);if(l<0)return e;r.splice(l,1),r.splice(i,0,n);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(c,{oid:t,sections:a,sectionIds:r})}updateProjectOrder(e,{oid:t,oseid:n,index:i,projects:o,dialogDismissParams:s}){const r=e.organizations.find(({_id:e})=>e===t),a=e.organizationProjects[t],l=e.organizationProfiles[t],{sections:c,sectionIds:d}=D({},r);if(!a||!l||!c)return e;o.forEach(e=>{const t=c.find(t=>t.projects.includes(e));t&&Object(O.arrayRemove)(t.projects,t=>t===e)});const u=c.find(e=>e._id===n);if(!u)return e;u.projects.splice(i,0,...o);const p=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:s});return this.sortAndPurgeEmptySections(p,{oid:t,sections:c,sectionIds:d})}addSectionLink(e,{oid:t,oseid:n,linkData:i}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const s=o.sections.find(({_id:e})=>e===n);if(!s)return e;const r=new T.a(D(D({},s),{},{links:[...s.links,i]})),a=o.sections.map(e=>e._id===n?r:e);return D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sections:a})):e)})}updateSectionLink(e,{oid:t,oseid:n,oselid:i,linkData:o}){const s=e.organizations.find(({_id:e})=>e===t);if(!s.sections)return e;const r=s.sections.find(({_id:e})=>e===n);if(!r)return e;const a=r.links.map(e=>e._id===i?o:e),l=new T.a(D(D({},r),{},{links:a})),c=s.sections.map(e=>e._id===n?l:e);return D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sections:c})):e)})}removeSectionLink(e,{oid:t,oseid:n,oselid:i}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const s=o.sections.find(({_id:e})=>e===n);if(!s)return e;const r=s.links.filter(e=>e._id!==i),a=new T.a(D(D({},s),{},{links:r})),l=o.sections.map(e=>e._id===n?a:e);return D(D({},e),{},{organizations:e.organizations.map(e=>e._id===t?new b.a(D(D({},e),{},{sections:l})):e)})}updateDialogDismissStates(e,{oid:t,dialogDismissParams:n}){return n?D(D({},e),{},{dialogDismissStates:D(D({},e.dialogDismissStates),{},{[t]:D(D({},e.dialogDismissStates[t]),n)})}):e}loadWorkspaceData(e,t){const n=this.getOrganizationsSuccess(e,t.organizations),i=t.organizationProfiles?this.getOrganizationMemberProfilesSuccess(n,t.organizationProfiles):n,o=this.getOrganizationSuccess(i,t),s=this.getFocusedBarrelsSuccess(o,t),r=this.loadOrganizationProjects(s,t),a=this.updateDialogDismissStates(r,t);return this.loadOrganizationStyleguides(a,t)}hydrateEmbeddedData(e,t){const{organization:n,projects:i,oid:o,styleguides:s,focusedBarrels:r,organizationProfiles:a}=t;let l=e;return n&&(l=this.addOrganization(e,n)),i&&o&&(l=this.loadOrganizationProjects(l,{projects:i,oid:o})),s&&o&&(l=this.loadOrganizationStyleguides(l,{styleguides:s,oid:o})),r&&o&&(l=this.getFocusedBarrelsSuccess(l,{focusedBarrels:r,oid:o})),a&&(l=this.getOrganizationMemberProfilesSuccess(l,a)),l}reduce(e,t){switch(t.type){case u.a.UPDATE_PAGE_STATE:return this.setWorkspaceLoading(e,t.updateState);case g.a.LOAD:return this.load(e,t);case g.a.ADD:return this.addBarrel(e,t);case g.a.REMOVE:return this.removeBarrel(e,t);case g.a.REMOVE_MEMBER:return t.shouldRemoveBarrel?this.removeBarrel(e,t):e;case g.a.ARCHIVE:return this.removeArchivedBarrelFromFocus(e,t);case l.a.GET_PROJECTS_SUCCESS:return this.loadOrganizationProjects(e,t);case c.default.GET_STYLEGUIDES_SUCCESS:return this.loadOrganizationStyleguides(e,t);case l.a.TRANSFER_OWNERSHIP:case c.default.TRANSFER_OWNERSHIP:case g.a.OWNERSHIP_TRANSFERRED:return t.affectedIds?this.transferOrganizationStyleguide(e,t):this.transferOrganizationProject(e,t);case r.a.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case r.a.ADD_ORGANIZATION_WORKFLOW_STATUS:return this.addOrganizationWorkflowStatus(e,t);case r.a.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case r.a.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t.id,t.organizationProfile);case r.a.UPDATE_ORGANIZATION_SUBSCRIPTION:return this.updateOrganizationSubscription(e,t);case r.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:return this.updateOrganizationWorkflowStatus(e,t);case r.a.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case r.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.deleteOrganizationWorkflowStatus(e,t);case r.a.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case r.a.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);case r.a.GET_ORGANIZATION_SUCCESS:return this.getOrganizationSuccess(e,t);case r.a.GET_ORGANIZATION_SECTIONS_SUCCESS:return this.getOrganizationSectionsSuccess(e,t);case r.a.ORGANIZATION_MEMBERS_REQUESTED:return this.organizationMembersRequested(e,t);case r.a.GET_ORGANIZATION_MEMBERS_SUCCESS:return this.getOrganizationMembersSuccess(e,t);case r.a.GET_ORGANIZATION_MEMBERS_FAILED:return this.getOrganizationMembersFailed(e,t);case r.a.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:return this.getOrganizationMemberProfilesRequested(e);case r.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:return this.getOrganizationMemberProfilesSuccess(e,t.organizationProfiles);case r.a.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case r.a.GET_FOCUSED_BARRELS_SUCCESS:return this.getFocusedBarrelsSuccess(e,t);case r.a.ADD_BARREL_TO_FOCUS:return this.addBarrelToFocus(e,t);case r.a.UNPIN_BARREL_FROM_FOCUS:return this.unpinBarrelFromFocus(e,t);case r.a.REMOVE_BARREL_FROM_FOCUS:return this.removeBarrelFromFocus(e,t);case r.a.REPIN_BARREL_TO_FOCUS:return this.repinBarrelToFocus(e,t);case r.a.REMOVE_UNJOINED_BARRELS:return this.removeUnjoinedBarrels(e,t);case r.a.GET_BARRELS:return this.updateMemberAccessibility(e,t);case r.a.UPDATE_MEMBER_TAGS:return this.updateMemberTags(e,t);case g.a.UPDATE_USER_DATA:return this.updateMemberData(e,t);case r.a.ADD_PROJECT_SECTION:return this.addProjectSection(e,t);case r.a.UPDATE_PROJECT_SECTION:return this.updateProjectSection(e,t);case r.a.REMOVE_PROJECT_SECTION:return this.removeProjectSection(e,t);case r.a.UPDATE_PROJECT_SECTION_ORDER:return this.updateProjectSectionOrder(e,t);case r.a.UPDATE_PROJECT_ORDER:return this.updateProjectOrder(e,t);case r.a.ADD_SECTION_LINK:return this.addSectionLink(e,t);case r.a.UPDATE_SECTION_LINK:return this.updateSectionLink(e,t);case r.a.REMOVE_SECTION_LINK:return this.removeSectionLink(e,t);case h.a.LOAD_WORKSPACE_DATA:return this.loadWorkspaceData(e,t);case h.a.RESET:return this.reset();case h.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=k},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_BARRELS="organizaton/getBarrels",e.REQUEST_INVITE="requestInvite",e.ADD_ORGANIZATION="addOrganization",e.ADD_ORGANIZATION_WORKFLOW_STATUS="addOrganizationWorkflowStatus",e.UPDATE_ORGANIZATION="updateOrganization",e.UPDATE_ORGANIZATION_PROFILE="updateOrganizationProfile",e.UPDATE_ORGANIZATION_SUBSCRIPTION="updateOrganizationSubscription",e.UPDATE_ORGANIZATION_WORKFLOW_STATUS="updateOrganizationWorkflowStatus",e.REMOVE_ORGANIZATION="removeOrganization",e.DELETE_ORGANIZATION_WORKFLOW_STATUS="deleteOrganizationWorkflowStatus",e.GET_ORGANIZATIONS_REQUESTED="getOrganizationsRequested",e.GET_ORGANIZATIONS_FAILED="getOrganizationsFailed",e.GET_ORGANIZATION_SUCCESS="getOrganizationSuccess",e.GET_ORGANIZATION_SECTIONS_SUCCESS="getOrganizationSectionsSuccess",e.ORGANIZATION_MEMBERS_REQUESTED="organizationMembersRequested",e.GET_ORGANIZATION_MEMBERS_SUCCESS="getOrganizationMembersSuccess",e.GET_ORGANIZATION_MEMBERS_FAILED="getOrganizationMembersFailed",e.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED="getOrganizationMemberProfilesRequested",e.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS="getOrganizationMemberProfilesSuccess",e.ADD_ORGANIZATION_MEMBER_PROFILE="addOrganizationMemberProfile",e.GET_FOCUSED_BARRELS_SUCCESS="getFocusedBarrelsSuccess",e.ADD_BARREL_TO_FOCUS="addBarrelToFocus",e.ADD_BARREL_TO_FOCUS_SUCCESS="addBarrelToFocusSuccess",e.REMOVE_BARREL_FROM_FOCUS="removeBarrelFromFocus",e.UNPIN_BARREL_FROM_FOCUS="unpinBarrelFromFocus",e.UNPIN_BARREL_FROM_FOCUS_SUCCESS="unpinBarrelFromFocusSuccess",e.REPIN_BARREL_TO_FOCUS="repinBarrelToFocus",e.HIT_PIN_LIMIT="hitPinLimit",e.REMOVE_UNJOINED_BARRELS="organization/removeUnjoinedBarrels",e.UPDATE_MEMBER_TAGS="organization/updateMemberTags",e.ADD_PROJECT_SECTION="addProjectSection",e.ADD_PROJECT_SECTION_ID="addProjectSectionId",e.UPDATE_PROJECT_SECTION="updateProjectSection",e.REMOVE_PROJECT_SECTION="removeProjectSection",e.UPDATE_PROJECT_SECTION_ORDER="updateProjectSectionOrder",e.UPDATE_PROJECT_ORDER="updateProjectOrder",e.ADD_SECTION_LINK="createSectionLink",e.UPDATE_SECTION_LINK="updateSectionLink",e.REMOVE_SECTION_LINK="removeSectionLink"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_PROJECTS_SUCCESS="projects/getProjectsSuccess",e.GET_PROJECTS_FAILED="projects/getProjectsFailed",e.REQUEST_PROJECT="projects/requestProject",e.GET_PROJECT_REQUESTED="projects/getProjectRequested",e.GET_PROJECT_SUCCESS="projects/getProjectSuccess",e.GET_PROJECT_FAILED="projects/getProjectFailed",e.UPDATE_PROJECT="projects/updateProject",e.TRANSFER_OWNERSHIP="projects/transferOwnerShip",e.CREATE_PROJECT="projects/createProject",e.INIT_TRANSFER_OWNERSHIP="projects/initTransferOwnerShip",e.INVITE_USER="projects/inviteUser",e.TOGGLE_PROJECT_SELECTION="projects/toggleProjectSelection"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);t.default={GET_STYLEGUIDES_SUCCESS:"styleguides/getStyleguidesSuccess",GET_STYLEGUIDES_FAILED:"styleguides/getStyleguidesFailed",GET_STYLEGUIDE_REQUESTED:"styleguides/getStyleguideRequested",GET_STYLEGUIDE_SUCCESS:"styleguides/getStyleguideSuccess",GET_STYLEGUIDE_FAILED:"styleguides/getStyleguidesFailed",UPDATE_STYLEGUIDE:"styleguides/updateStyleguide",TRANSFER_OWNERSHIP:"styleguides/transferOwnership",SELECT_PARENT:"styleguides/selectParent",REMOVE_PARENT:"styleguides/removeParent",SELECT_PARENT_REQUEST:"styleguides/selectParentRequest",SELECT_PARENT_SUCCESS:"styleguides/selectParentSuccess",SELECT_PARENT_FAILED:"styleguides/selectParentFailed",CREATE_STYLEGUIDE:"styleguides/createStyleguide",INIT_TRANSFER_OWNERSHIP:"styleguides/initTransferOwnership",INVITE_USER:"styleguides/inviteUser"}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_PAGE_STATE="space/updatePageState",e.CHANGE_SELECTED_TAB="space/changeSelectedTab",e.CHANGE_SELECTED_ORGANIZATION="space/changeSelectedOrganization",e.CHANGE_FILTER_VALUE="space/changeFilterValue",e.CHANGE_PROJECT_SELECTED_SORT_TYPE="space/changeProjectSelectedSortType",e.TOGGLE_ARCHIVED_PROJECTS="space/toggleArchivedProjects",e.CHANGE_WORKFLOW_STATUS_FILTER="space/changeWorkflowStatusFilter",e.UNHIGHLIGHT_BARREL="space/unhighlightBarrel",e.HIGHLIGHT_SECTION="space/highlightSection",e.UNHIGHLIGHT_SECTION="space/unhighlightSection",e.EXPAND_SECTIONS="space/expandSections",e.COLLAPSE_SECTIONS="space/collapseSections",e.SET_STYLEGUIDES_TAB_VISITED="space/setStyleguidesTabVisited",e.OPEN_DIALOG="space/openDialog",e.CLOSE_DIALOG="space/closeDialog",e.HIDE_LOADING="space/hideLoading",e.TRACK_BARREL_CLICK="space/trackBarrelClick",e.TOGGLE_PROJECT_SELECTION="space/toggleProjectSelection",e.CLEAR_PROJECT_SELECTION="space/clearProjectSelection",e.SELECT_PROJECTS="space/selectProjects",e.DESELECT_PROJECTS="space/deselectProjects",e.POSTPONE_OFFER_REMINDER="space/postponeOfferReminder",e.SCROLLED_TO_PROJECT="space/scrolledToProject"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(626)),r=i(n(627));class a extends o.default{constructor(e){super();const{_id:t,name:n,status:i,domain:o,logo:a,paymentPlan:l,reservedSeatCount:c,subscriptionStatus:d,subscriptionCancelAt:u,sso:p,membersLoading:h,membersError:f,members:g,workflowStatuses:m=[],sectionIds:b=[],sections:S=[],complete:y=!1,created:v,recentlyUpgradedFromUserPlan:C,projectLimit:O,styleguideLimit:E}=e;this.id=t,this._id=t,this.name=n,this.status=i,this.domain=o,this.logo=a,this.paymentPlan=l,this.reservedSeatCount=c,this.subscriptionStatus=d,this.subscriptionCancelAt=u,this.sso=p,this.membersLoading=h,this.membersError=f,this.members=g,this.workflowStatuses=m.map(e=>new s.default(e)),this.sectionIds=b,this.sections=S.map(e=>new r.default(e)),this.complete=y,this.created=v,this.recentlyUpgradedFromUserPlan=C,this.projectLimit=O,this.styleguideLimit=E}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(564)),r=n(560);class a extends o.default{constructor(e){super();const{_id:t="newWorkflowStatusId-"+r.getRandomString(),name:n,color:i=new s.default({name:"yellow",r:254,g:207,b:51})}=e;this._id=t,this.name=n,this.color=new s.default(i)}static generateNew(e){if(!e||!e.startsWith("New Status"))return new a({name:"New Status"});const t=parseInt(e.substring("New Status".length),10)||0;return new a({name:"New Status "+(t+1)})}}a.All=new a({_id:"All",name:"All",color:new s.default({name:"karl",r:237,g:236,b:237})}),a.NoStatus=new a({_id:"No Status",name:"No Status",color:new s.default({name:"clooney",r:193,g:190,b:193})}),t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{_id:t,key:n,name:i,description:o,links:s=[],projects:r,newSection:a}=e;this._id=t,this.key=n||t,this.name=i,this.description=o,this.links=s,this.projects=r,this.newSection=a}}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"TEMPORARY_COMPONENT_SECTION_ID",(function(){return i})),n.d(t,"TEMPORARY_PROJECT_SECTION_ID",(function(){return o}));const i="newComponentSection",o="newProjectSection"},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(630));class r extends o.default{constructor(e){super(e)}getInitialState(){return{newReservedSeatCount:0,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1,isCancelScheduledSeatsUpdatePending:!1}}reset(){return this.getInitialState()}updateSeatsRequest(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!0})}updateSeatsSuccess(e,t){return Object.assign(Object.assign({},e),{newReservedSeatCount:t,scheduledSeatsUpdate:null,isUpdateSeatsPending:!1})}updateSeatsFailure(e){return Object.assign(Object.assign({},e),{isUpdateSeatsPending:!1})}getScheduledSeatsUpdateSuccess(e,t){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t})}cancelScheduledSeatsUpdateRequest(e){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:null,isCancelScheduledSeatsUpdatePending:!0})}cancelScheduledSeatsUpdateSuccess(e){return Object.assign(Object.assign({},e),{isCancelScheduledSeatsUpdatePending:!1})}cancelScheduledSeatsUpdateFailure(e,t){return Object.assign(Object.assign({},e),{scheduledSeatsUpdate:t,isCancelScheduledSeatsUpdatePending:!1})}reduce(e,t){switch(t.type){case s.default.RESET:return this.reset();case s.default.UPDATE_SEATS_REQUEST:return this.updateSeatsRequest(e);case s.default.UPDATE_SEATS_SUCCESS:return this.updateSeatsSuccess(e,t.reservedSeatCount);case s.default.UPDATE_SEATS_FAILURE:return this.updateSeatsFailure(e);case s.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.getScheduledSeatsUpdateSuccess(e,t.scheduledSeatsUpdate);case s.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:return this.cancelScheduledSeatsUpdateRequest(e);case s.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS:return this.cancelScheduledSeatsUpdateSuccess(e);case s.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE:return this.cancelScheduledSeatsUpdateFailure(e,t.cancelledScheduledSeatsUpdate);default:return e}}}t.default=r},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RESET="organizationBilling/reset",e.UPDATE_SEATS_REQUEST="organizationBilling/updateSeatsRequest",e.UPDATE_SEATS_SUCCESS="organizationBilling/updateSeatsSuccess",e.UPDATE_SEATS_FAILURE="organizationBilling/updateSeatsFailure",e.GET_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/getScheduledSeatsUpdateRequest",e.GET_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/getScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST="organizationBilling/cancelScheduledSeatsUpdateRequest",e.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS="organizationBilling/cancelScheduledSeatsUpdateSuccess",e.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE="organizationBilling/cancelScheduledSeatsUpdateFailure"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(632),r=n(574),a=n.n(r),l=n(635),c=n.n(l),d=n(622),u=n.n(d),p=n(597),h=n(590),f=n.n(h),g=n(642),m=n(599),b=n(591),S=n.n(b),y=n(645),v=n(621),C=n.n(v),O=n(559),E=n(586),T=n.n(E),_=n(646);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}class R extends o.a{constructor(e){super(e),this.reducer=new g.default({bidPropertyName:"pid",barrelPropertyName:"project",barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject",loadingBarrelsPropertyName:"loadingProjects"},{deleteBarrel:this.remove})}getInitialState(){return{loadingProject:!0,loadingProjects:!0,projects:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==a.a.PROJECT?e:this.reducer.addBarrel(e,{barrel:t})}activate(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"active"})}archive(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"archived"})}remove(e,{bid:t}){const n=e.projects,{[t]:i}=n,o=j(n,[t].map(k));return D(D({},e),{},{projects:D({},o)})}linkProjectToStyleguide(e,{project:{_id:t,remPreferences:n},styleguide:i}){return this.reducer.updateBarrel(e,{pid:t,data:{styleguideLink:{styleguide:i,status:"active"},remPreferences:new c.a(D(D({},n),{},{status:"linked"}))}})}unlinkProjectFromStyleguide(e,{pid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"styleguideLink",value:null})}updateUserData(e,{bid:t,uid:n,userData:i}){const o=e.projects[t];if(!o)return e;const r=o.users.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:D(D({},t),i)});let a=o.screens;return a&&(a=o.screens.map(e=>{let t=e.dots;t&&(t=t.map(e=>{const t=e.comments.map(e=>e.author&&e.author._id===n?D(D({},e),{},{author:D(D({},e.author),i)}):e);return e.creator&&e.creator._id===n?D(D({},e),{},{comments:t,creator:D(D({},e.creator),i)}):D(D({},e),{},{comments:t})}));const o=e.versions.map(e=>{let{creator:t,commit:o}=e,s=j(e,["creator","commit"]);const r=t&&t._id===n?D(D({},t),{},{userData:i}):t,a=o.author&&o.author._id===n?D(D({},o),{},{author:D(D({},o.author),{},{userData:i})}):o;return D(D({},s),{},{creator:r,commit:a})});return D(D({},e),{},{versions:o,dots:t})})),this.reducer.updateBarrel(e,{pid:t,data:new s.default(D(D({},o),{},{screens:a,users:r}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:o,users:s,oid:r}){if(!e.projects[t])return e;if(o||"user"!==r){const o=this.reducer.deleteWorkflowStatus(e,{bid:t});return s?this.reducer.updateBarrelValue(o,{pid:t,key:"users",value:e=>e.users.map(e=>{if(e.user._id===n||e.user._id===i){const t=s.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e})}):o}return this.reducer.updateBarrelValue(e,{pid:t,key:"users",value:e=>e.users.map(e=>{if(s){if(e.user._id===n||e.user._id===i){const t=s.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})})}load(e,t){const{data:{project:n,organizationProjects:i}}=t;let o=e;return i&&(o=this.reducer.getBarrelsSuccess(o,{projects:i})),n&&(o=this.reducer.getBarrelSuccess(o,{project:n})),o}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o}){if(o!==a.a.PROJECT)return e;const s=Object(_.default)(t);return this.reducer.updateBarrelValue(e,{pid:i,key:s,value:e=>e[s].filter(e=>!n.includes(e))})}addSection(e,{pid:t,section:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e||0===i)return e;const t=e[i-1];return t.screens=t.screens.filter(e=>!n.screens.includes(e)),e.splice(i,0,n),e}})}createSection(e,{pid:t,section:n}){const{_id:i,name:o}=n;return this.renameSection(e,{pid:t,seid:i,name:o})}updateSection(e,{pid:t,seid:n,sectionData:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),i)):e})}renameSection(e,{pid:t,seid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),{},{name:i})):e})}updateSectionDescription(e,{pid:t,seid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),{},{description:i})):e})}updateSectionOrder(e,{pid:t,seid:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=Object(O.arrayRemove)(e,n);return t?(e.splice(i,0,t),e):e}})}removeSection(e,{pid:t,seid:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=e.findIndex(e=>e._id===n);if(t<1)return e;const i=e[t];return e[t-1].screens.push(...i.screens),e.filter(e=>e._id!==n)}})}updateScreenOrder(e,{pid:t,screens:n,targetSectionId:i,targetIndex:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;n.forEach(t=>{const n=e.find(e=>e.screens.includes(t));n&&Object(O.arrayRemove)(n.screens,e=>e===t)});const t=e.find(e=>e._id===i);return t?(t.screens.splice(o,0,...n),e):void 0}})}updateScreenOrderV2(e,{pid:t,items:n,targetSectionId:i,targetIndex:o}){const s=e.projects[t];if(!s)return;const{variantGroups:r}=s,a=[];return n.forEach(({_id:e,type:t})=>{if("screen"===t)a.push(e);else if("variantGroup"===t){const t=r.find(({_id:t})=>t===e);a.push(...t.screens.map(({id:e})=>e))}}),this.updateScreenOrder(e,{pid:t,screens:a,targetSectionId:i,targetIndex:o})}createVariantGroup(e,{pid:t,vgid:n,screens:i,variantGroupName:o,shouldOrder:s}){if(!e.projects[t])return e;const r=this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value({variantGroups:e}){const t={_id:n,name:o,screens:i};return e?[...e,t]:[t]}});return s?this.orderVariantGroupScreens(r,{pid:t,vgid:n}):r}addScreensToVariantGroup(e,{pid:t,vgid:n,screens:i,shouldOrder:o}){if(!e.projects[t])return e;const s=this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;let t=e.map(e=>{const{_id:t,screens:o}=e;return t!==n?e:D(D({},e),{},{screens:o.concat(i)})});return t=t.map(e=>{const{_id:t,screens:o}=e;if(t!==n)return e;const[{requestId:s}]=i,r=o.filter(e=>s&&e.requestId===s),a=o.filter(e=>!r.includes(e));return r.sort((e,t)=>e.index-t.index),e.screens=a.concat(r),e}),t}});return o?this.orderVariantGroupScreens(s,{pid:t,vgid:n}):s}orderVariantGroupScreens(e,{pid:t,vgid:n}){const i=e.projects[t];if(!i||!i.sections||!i.variantGroups)return e;const o=i.variantGroups.find(({_id:e})=>e===n);if(!o)return e;const s=o.screens.map(({id:e})=>e),[r]=s,a=i.sections.find(e=>e.screens.includes(r));if(!a)return e;let l,c=0;for(let d=0;d<a.screens.length;d++){const e=a.screens[d];if(r===e){l=d;break}s.includes(e)&&(c+=1)}return l?this.updateScreenOrderV2(e,{pid:t,items:[{_id:n,type:"variantGroup"}],targetSectionId:a._id,targetIndex:l-c}):e}updateVariantGroup(e,{pid:t,vgid:n,variantGroupData:i}){if(!e.projects[t])return;const o=this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value:({variantGroups:e})=>e?e.map(e=>{const{_id:t}=e;return t!==n?e:D(D({},e),i)}):e});return this.orderVariantGroupScreens(o,{pid:t,vgid:i._id})}renameVariantGroup(e,{pid:t,vgid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value:({variantGroups:e})=>e?e.map(e=>e._id!==n?e:D(D({},e),{},{name:i})):e})}deleteVariantGroup(e,{pid:t,vgid:n,screens:i,syncWithApi:o}){const s=e.projects[t];if(!s||!s.variantGroups)return e;const r=s.variantGroups.find(({_id:e})=>e===n);if(!r)return e;let a;i?a=i.map(({id:e})=>e):o&&(a=r.screens.map(({id:e})=>e));const l=this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value:({variantGroups:e})=>e?e.filter(e=>e._id!==n):e});return a?this.removeScreens(l,{pid:t,screenIds:a}):l}addScreen(e,{pid:t,seid:n,index:i,screen:o}){const s=e.projects[t];if(!s||!s.screens)return e;if(s.screens.find(e=>e._id===o._id))return e;let r=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>[...e,o]});if(o.variantGroup){const e=s.variantGroups.find(({_id:e})=>e===o.variantGroup._id);r=e?this.addScreensToVariantGroup(r,{pid:t,vgid:e._id,screens:o.variantGroup.screens,shouldOrder:!1}):this.createVariantGroup(r,{pid:t,vgid:o.variantGroup._id,screens:o.variantGroup.screens,variantGroupName:o.variantGroup.name,shouldOrder:!1})}return this.reducer.updateBarrelValue(r,{pid:t,key:"sections",value({sections:e,screens:t}){if(!e)return e;const s=n?e.find(e=>e._id===n):e[0],r=void 0===i?s.screens.length:i;if(s.screens.splice(r,0,o._id),o.requestId){const e=t.filter(e=>e.requestId===o.requestId&&s.screens.includes(e._id));e.forEach(e=>{const t=s.screens.indexOf(e._id);s.screens.splice(t,1)}),e.sort((e,t)=>e.index-t.index),s.screens=s.screens.concat(e.map(e=>e._id))}return[...e]}})}removeScreen(e,{pid:t,sid:n,vgid:i}){let o=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.filter(e=>e._id!==n):e});return o=this.reducer.updateBarrelValue(o,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>(e.screens.includes(n)&&(e.screens=e.screens.filter(e=>e!==n)),e)):e}),i&&(o=this.removeScreenVariant(o,{pid:t,vgid:i,svid:n})),o}removeScreens(e,{pid:t,screenIds:n}){const i=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.filter(e=>!n.includes(e._id)):e});return this.reducer.updateBarrelValue(i,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>(n.forEach(t=>{e.screens.includes(t)&&(e.screens=e.screens.filter(e=>e!==t))}),e)):e})}updateScreenDescription(e,{pid:t,sid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?D(D({},e),{},{description:i}):e):e})}updateScreenName(e,{pid:t,sid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?D(D({},e),{},{name:i}):e):e})}updateTags(e,{pid:t,updates:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?(n.forEach(({_id:t,operation:n,tags:i})=>{const o=e.find(e=>e._id===t);o&&"add"===n?o.tags=(o.tags||[]).concat(i):o&&(o.tags=o.tags.filter(e=>!i.includes(e)))}),e):e})}setDots(e,{pid:t,sid:n,dots:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:e=>(e.screens||(e.screens=[]),e.screens.find(({_id:e})=>e===n)||e.screens.push({_id:n}),e.screens.map(e=>(e._id===n&&(e.dots=i),e)))})}addDot(e,{pid:t,sid:n,dot:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n)return e;return e.dots&&e.dots.find(e=>e._id===i._id)||(e.dots=(e.dots||[]).concat(i)),e}):e})}updateDot(e,{pid:t,sid:n,did:i,dotData:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),o)),e):e):e})}updateDotColor(e,{pid:t,sid:n,did:i,color:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),{},{color:o})),e):e):e})}updateDotPosition(e,{pid:t,sid:n,did:i,x:o,y:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),{},{x:o,y:s})),e):e):e})}updateDotStatus(e,{pid:t,sid:n,did:i,status:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:D(D({},e),{},{status:o})),e):e):e})}removeDot(e,{pid:t,sid:n,did:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.filter(({_id:e})=>e!==i),e):e):e})}addComment(e,{pid:t,sid:n,did:i,comment:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?D(D({},e),{},{dots:e.dots.map(e=>{if(e._id!==i)return e;return e.comments.find(e=>e._id===o._id)?e:D(D({},e),{},{comments:[...e.comments,o]})})}):e):e})}updateComment(e,{pid:t,sid:n,did:i,cmid:o,commentData:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?D(D({},e),{},{dots:e.dots.map(e=>e._id!==i?e:D(D({},e),{},{comments:e.comments.map(e=>e._id!==o?e:D(D({},e),s))}))}):e):e})}removeComment(e,{pid:t,sid:n,did:i,cmid:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?D(D({},e),{},{dots:e.dots.map(e=>e._id!==i?e:D(D({},e),{},{comments:e.comments.filter(e=>e._id!==o)}))}):e):e})}setVersions(e,{pid:t,sid:n,versions:i,totalVersionCount:o,allowedVersionCount:s}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.versions=i,e.totalVersionCount=o,e.allowedVersionCount=s),e)):e})}setSnapshot(e,{pid:t,sid:n,vid:i,snapshot:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;const s=t.versions.find(e=>e._id===i);return s&&Object.assign(s.snapshot,o),e}})}addVersion(e,{pid:t,sid:n,version:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;return t.versions.some(e=>e._id===i._id)||(t.updated=(new Date).toISOString(),t.versions.unshift(i),t.totalVersionCount&&t.totalVersionCount++,t.versions.length>t.allowedVersionCount&&t.versions.pop()),e}})}updateCommitColor(e,{pid:t,sid:n,vid:i,color:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:D(D({},e),{},{commit:D(D({},e.commit),{},{color:o})}))),e)):e})}updateCommitMessage(e,{pid:t,sid:n,vid:i,message:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:D(D({},e),{},{commit:D(D({},e.commit),{},{message:o})}))),e)):e})}removeVersion(e,{pid:t,sid:n,vid:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.filter(({_id:e})=>e!==i)),e)):e})}removeScreenVariant(e,{pid:t,vgid:n,svid:i}){const o=e.projects[t];if(!o||!o.sections)return e;let s,r;const a=this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find(({_id:e})=>n===e);return t?2===t.screens.length?e.filter(e=>e._id!==n):(s=t.screens[0].id,r=t.screens.length-1,t.screens=t.screens.filter(({id:e})=>i!==e),e):e}});if(!s)return a;const l=o.sections.find(e=>e.screens.includes(s));if(!l)return a;const c=l.screens.findIndex(e=>e===s);return this.updateScreenOrder(a,{pid:t,screens:[i],targetSectionId:l._id,targetIndex:c+r})}addScreenVariant(e,{pid:t,vgid:n,screenVariant:i,index:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find(({_id:e})=>n===e);return t?(t.screens.splice(o,0,i),e):e}})}renameScreenVariant(e,{pid:t,vgid:n,svid:i,name:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value({variantGroups:e}){if(!e)return e;const t=e.find(({_id:e})=>e===n);return t?(t.screens=t.screens.map(e=>(e.id===i&&(e.variantName=o),e)),e):e}})}reorderScreenVariant(e,{pid:t,vgid:n,svid:i,index:o}){const s=this.reducer.updateBarrelValue(e,{pid:t,key:"variantGroups",value({variantGroups:t}){if(!t)return t;const s=t.find(({_id:e})=>e===n);if(!s)return e;const r=Object(O.arrayRemove)(s.screens,e=>e.id===i);return r?(s.screens.splice(o,0,r),t):t}});return this.orderVariantGroupScreens(s,{pid:t,vgid:n})}hydrateEmbeddedData(e,t){const{project:n,projects:i}=t;let o=e;return i&&(o=this.reducer.getBarrelsSuccess(o,{projects:i})),n&&(o=this.reducer.getBarrelSuccess(o,{project:n})),o}deleteWorkflowStatuses(e,{statusDeletedBarrels:t}){const n=D({},e);return t.reduce((e,{bid:t})=>this.reducer.deleteWorkflowStatus(e,{bid:t}),n)}updateWorkflowStatuses(e,{statusUpdatedBarrels:t,workflowStatus:n}){const i=D({},e);return t.reduce((e,{bid:t})=>this.reducer.updateWorkflowStatus(e,{bid:t,workflowStatus:n}),i)}reduce(e,t){switch(t.type){case u.a.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case u.a.GET_PROJECTS_FAILED:return this.reducer.getBarrelsFailed(e,t);case u.a.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case u.a.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case u.a.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case u.a.UPDATE_PROJECT:return this.reducer.updateBarrel(e,t);case f.a.UPDATE_NAME:return this.reducer.updateName(e,t);case f.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case f.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case f.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case f.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case f.a.AUTHENTICATED_SLACK_INTEGRATION:return this.reducer.addIntegration(e,D(D({},t),{},{intype:"slacks"}));case f.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case f.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case f.a.ADD_COLOR:return this.reducer.addColor(e,t);case f.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case f.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case f.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case f.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case f.a.MIGRATE_COLORS:return this.reducer.migrateColors(e,t);case f.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case f.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case f.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case f.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case f.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case f.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case f.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case f.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case f.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case f.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case f.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case f.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case f.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case f.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case f.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case f.a.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case f.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case f.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case f.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case f.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case f.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case f.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case f.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case f.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case f.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case f.a.ATTACH_JIRA_ISSUE:return this.reducer.attachJiraIssue(e,t);case f.a.REMOVE_JIRA_ISSUE_ATTACHMENT:return this.reducer.removeJiraIssueAttachment(e,t);case f.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case f.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case f.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case f.a.UPDATE_WORKFLOW_STATUSES:return this.updateWorkflowStatuses(e,t);case f.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case f.a.DELETE_WORKFLOW_STATUSES:return this.deleteWorkflowStatuses(e,t);case f.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case f.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case f.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case f.a.ADD:return this.add(e,t);case f.a.ACTIVATE:return this.activate(e,t);case f.a.ARCHIVE:return this.archive(e,t);case f.a.REMOVE:return this.remove(e,t);case p.default.LINK_PROJECT_SUCCESS:case p.default.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case p.default.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case f.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case u.a.TRANSFER_OWNERSHIP:case f.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case f.a.LOAD:return this.load(e,t);case f.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case C.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case C.a.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case m.default.ADD_SECTION:case m.default.CONVERT_TAG_TO_SECTION:return this.addSection(e,t);case m.default.UPDATE_SECTION:return this.updateSection(e,t);case m.default.CREATE_SECTION:return this.createSection(e,t);case m.default.RENAME_SECTION:return this.renameSection(e,t);case m.default.UPDATE_SECTION_DESCRIPTION:return this.updateSectionDescription(e,t);case m.default.UPDATE_SECTION_ORDER:return this.updateSectionOrder(e,t);case m.default.REMOVE_SECTION:return this.removeSection(e,t);case m.default.UPDATE_SCREEN_ORDER:return this.updateScreenOrder(e,t);case m.default.UPDATE_SCREEN_ORDER_V2:return this.updateScreenOrderV2(e,t);case m.default.CREATE_VARIANT_GROUP:return this.createVariantGroup(e,t);case m.default.ADD_SCREENS_TO_VARIANT_GROUP:return this.addScreensToVariantGroup(e,t);case m.default.UPDATE_VARIANT_GROUP:return this.updateVariantGroup(e,t);case m.default.RENAME_VARIANT_GROUP:return this.renameVariantGroup(e,t);case m.default.DELETE_VARIANT_GROUP:return this.deleteVariantGroup(e,t);case S.a.ADD_SCREEN:return this.addScreen(e,t);case S.a.UPDATE_DESCRIPTION:return this.updateScreenDescription(e,t);case S.a.UPDATE_NAME:return this.updateScreenName(e,t);case S.a.REMOVE_SCREEN:return this.removeScreen(e,t);case S.a.UPDATE_TAGS:return this.updateTags(e,t);case S.a.SET_DOTS:return this.setDots(e,t);case S.a.CREATE_NOTE:case S.a.ADD_DOT:return this.addDot(e,t);case S.a.UPDATE_DOT:return this.updateDot(e,t);case S.a.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case S.a.UPDATE_DOT_POSITION:return this.updateDotPosition(e,t);case S.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case S.a.REMOVE_DOT:return this.removeDot(e,t);case S.a.CREATE_COMMENT:case S.a.ADD_COMMENT:return this.addComment(e,t);case S.a.UPDATE_COMMENT:return this.updateComment(e,t);case S.a.REMOVE_COMMENT:return this.removeComment(e,t);case S.a.SET_VERSIONS:return this.setVersions(e,t);case S.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case S.a.ADD_VERSION:return this.addVersion(e,t);case S.a.UPDATE_COMMIT_COLOR:return this.updateCommitColor(e,t);case S.a.UPDATE_COMMIT_MESSAGE:return this.updateCommitMessage(e,t);case S.a.REMOVE_VERSION:return this.removeVersion(e,t);case S.a.REMOVE_SCREEN_VARIANT:return this.removeScreenVariant(e,t);case S.a.ADD_SCREEN_VARIANT:return this.addScreenVariant(e,t);case S.a.RENAME_SCREEN_VARIANT:return this.renameScreenVariant(e,t);case S.a.REORDER_SCREEN_VARIANT:return this.reorderScreenVariant(e,t);case T.a.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case T.a.RESET:return this.reset();case T.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);case y.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case y.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case y.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case y.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case y.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case y.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);default:return e}}}t.default=R},function(e,t,n){"use strict";n.r(t);var i=n(559),o=n(564),s=n(613),r=n(633),a=n.n(r),l=n(635),c=n.n(l),d=n(567),u=n(636),p=n.n(u),h=n(626),f=n.n(h),g=n(640),m=n(641);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){let n,i;if(e)switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function C(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach((function(e){e.scaledFontSize=e.fontSize/t}));else{var o,s;n<14?(o=24,s=14):i>36?(o=36,s=24):(o=Math.min(36,n),s=Math.max(14,i));var r=n===i?0:(o-s)/(n-i);e[0].scaledFontSize=Math.round(o);for(var a=1;a<e.length;a++){var l=e[a-1].fontSize/t,c=e[a].fontSize/t;e[a].scaledFontSize=Math.round(e[a-1].scaledFontSize-(l-c)*r)}}}}function O(e,t){return`${e} - ${t}`}function E(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function T(e,t,n){let i;for(const o of e){if(i=o.components.find(e=>e[t]===n),i)return i;if(i=T(o.componentSections,t,n),i)return i}return null}function _(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),_(e.componentSections,n)})}function P(e){return e.components.concat(...e.componentSections.map(P))}function D(e){const t=S({},e);if(t.status||(t.status="active"),t.users&&(t.users=t.users.map(e=>new a.a(e))),t.users.sort(i.sortBy.role),t.integration=new p.a(t.integration),t.extensions||(t.extensions=[]),t.colors?t.colors=t.colors.map(e=>new o.default(e)):t.colors=[],t.textStyles?(t.textStyles=t.textStyles.map(e=>new s.default(e)).sort(i.fontSort),C(t.textStyles,t.densityScale)):t.textStyles=[],t.screens){if(t.sections){const e=t.screens.map(e=>e._id);t.sections.forEach(t=>{t.screens=t.screens.filter(t=>e.includes(t))})}t.screens.forEach(e=>{"versions"in e||(e.description=e.description||"",e.tags=e.tags||[],e.latestVersion&&(e.latestVersion.commit=e.latestVersion.commit||{message:"",color:Object(g.getColorValueByName)("yellow"),author:e.latestVersion.creator},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion))})}t.componentSections&&_(t.componentSections,[]),t.remPreferences=t.remPreferences?new c.a(t.remPreferences):{},t.workflowStatus=t.workflowStatus?new f.a(t.workflowStatus):f.a.NoStatus,Object.defineProperties(this,{_id:{value:t._id,enumerable:!0},id:{value:t._id,enumerable:!0},partial:{value:t.partial,enumerable:!0},complete:{value:t.complete,enumerable:!0},type:{value:t.type,enumerable:!0},name:{get:()=>t.name,set(e){t.name=e},enumerable:!0},description:{get:()=>t.description,set(e){t.description=e},enumerable:!0},colors:{get:()=>t.colors,enumerable:!0},densityScale:{get:()=>t.densityScale,set(e){t.densityScale=e},enumerable:!0},extensions:{get:()=>t.extensions,set(e){t.extensions=e},enumerable:!0},icon:{value:t.icon,enumerable:!0},integration:{get:()=>t.integration,set(e){t.integration=e},enumerable:!0},prefix:{get:()=>t.prefix,set(e){t.prefix=e},enumerable:!0},public:{get:()=>t.public,set(e){t.public=e},enumerable:!0},screens:{get:()=>t.screens,set(e){t.screens=e},enumerable:!0},variantGroups:{get:()=>t.variantGroups,set(e){t.variantGroups=e},enumerable:!0},sections:{get:()=>t.sections,set(e){t.sections=e},enumerable:!0},status:{get:()=>t.status,set(e){t.status=e},enumerable:!0},textStyles:{get:()=>t.textStyles,enumerable:!0},thumbnail:{get:()=>t.thumbnail,set(e){t.thumbnail=e},enumerable:!0},users:{get:()=>t.users,enumerable:!0},slackTeamId:{get(){if(t.integration.slacks.length)return t.integration.slacks[0].teamId},enumerable:!0},tags:{get:()=>Object(m.extractTagsFromScreens)(t.screens),enumerable:!0},dimensionSuffix:{get:()=>v(t.densityScale,t.type).dimensionSuffix,enumerable:!0},textDimensionSuffix:{get:()=>v(t.densityScale,t.type).textDimensionSuffix,enumerable:!0},created:{get:()=>t.created,set(e){t.created=e},enumerable:!0},updated:{get:()=>t.updated,set(e){t.updated=e},enumerable:!0},componentSections:{get:()=>t.componentSections,set(e){t.componentSections=e},enumerable:!0},connectedComponents:{get:()=>t.connectedComponents,set(e){t.connectedComponents=e},enumerable:!0},localConnectedComponents:{get:()=>t.localConnectedComponents,set(e){t.localConnectedComponents=e},enumerable:!0},parent:{get:()=>t.parent,set(e){t.parent=e},enumerable:!0},styleguideLink:{value:t.styleguideLink,enumerable:!0},ancestors:{get:()=>t.ancestors,set(e){t.ancestors=e},enumerable:!0},linkedProjects:{value:t.linkedProjects,enumerable:!0},spacingSections:{get:()=>t.spacingSections,set(e){t.spacingSections=e},enumerable:!0},remPreferences:{get:()=>t.remPreferences,set(e){t.remPreferences=e?new c.a(e):{}},enumerable:!0},workflowStatus:{get:()=>t.workflowStatus,set(e){t.workflowStatus=e?new f.a(e):f.a.NoStatus},enumerable:!0}})}D.prototype=Object.create(d.default.prototype),D.prototype.constructor=D,D.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map((function(e){return e.toObject()})),textStyles:this.textStyles.map((function(e){return e.toObject()})),spacingSections:this.spacingSections,remPreferences:this.remPreferences&&S(S({},this.remPreferences),{},{rootFontSize:this.remPreferences.remRootFontSize}),density:i.getDensityScaleRepresentation(this.type,this.densityScale)}},D.prototype.addTextStyle=function(e){this.textStyles.push(new s.default(e)),this.textStyles.sort(i.fontSort),C(this.textStyles,this.densityScale)},D.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find((function(t){return t.id===e}));n&&(Object.assign(n,t),this.textStyles.sort(i.fontSort),C(this.textStyles,this.densityScale))},D.prototype.removeTextStyle=function(e){var t=i.arrayRemove(this.textStyles,(function(t){return t.id===e}));return C(this.textStyles,this.densityScale),t},D.prototype.findTextStyleById=function(e){return this.textStyles.find((function(t){return t.id===e}))},D.prototype.findTextStyleByName=function(e){return this.textStyles.find((function(t){return t.name===e}))},D.prototype.findTextStyleEqual=function(e){return this.textStyles.find((function(t){return e.equals(t)}))},D.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},D.prototype.findSpacingSectionById=function(e){return this.spacingSections.find(({_id:t})=>t===e)||{}},D.prototype.findSpacingTokenInsideSectionById=function(e,t){const n=this.spacingSections.find(({_id:t})=>t===e);return n?n.spacingTokens.find(({_id:e})=>e===t):{}},D.prototype.findUser=function(e){return this.users.find((function(t){return t.user._id===e}))},D.prototype.findOwner=function(){return this.users.find((function(e){return"owner"===e.role}))},D.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.sortBy.role)},D.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.sortBy.role))},D.prototype.removeUser=function(e){return i.arrayRemove(this.users,(function(t){return t.user._id===e}))},D.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.sortBy.role)),this.screens.forEach((function(n){n.dots&&n.dots.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach((function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)}))})),n.versions.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)}))}))},D.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},D.prototype.addColor=function(e){this.colors.push(new o.default(e))},D.prototype.removeColor=function(e){return i.arrayRemove(this.colors,(function(t){return t.id===e}))},D.prototype.updateColor=function(e,t){var n=this.colors.find((function(t){return t.id===e}));Object.assign(n,t)},D.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},D.prototype.findColorById=function(e){return this.colors.find((function(t){return t.id===e}))},D.prototype.findColorByName=function(e){return this.colors.find((function(t){return t.name===e}))},D.prototype.findColorEqual=function(e){return this.colors.find((function(t){return e.equals(t)}))},D.prototype.findColorByHexAndAlpha=function(e){return this.colors.find((function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n}))},D.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},D.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},D.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},D.prototype._checkProjectColors=function(e){let t;for(var n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(O(t,Math.round(100*e.a).toString()))},D.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=O(e,E(++n));return t},D.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},D.prototype.deleteTag=function(e){return this.screens.reduce((function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t}),[])},D.prototype.addSection=function(e,t){var n=this;return e.screens.forEach((function(e){var t=n.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),this.sections.splice(t,0,e),e},D.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var o=this.sections.findIndex((function(t){return e===t._id})),s=i.screens.splice(t,i.screens.length-t);return this.sections.splice(o+1,0,{name:n,screens:s}),this.sections[o+1]}},D.prototype.findSection=function(e){return e?this.sections.find((function(t){return t._id===e})):null},D.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex((function(t){return t._id===e}));return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.arrayRemove(this.sections,(function(t){return t._id===e}))}},D.prototype.updateSectionOrder=function(e,t){var n=this,o=[].concat(e).map((function(e){return i.arrayRemove(n.sections,(function(t){return t._id===e}))})).filter((function(e){return e}));Array.prototype.splice.apply(this.sections,[t,0].concat(o))},D.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex((function(t){return t._id===e}))},D.prototype.findScreenSection=function(e){return this.sections.find((function(t){return t.screens.includes(e)}))},D.prototype.addScreensToSection=function(e,t,n){var o=this,s=this.findSection(e);s&&(t.forEach((function(e){var t=o.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),Array.prototype.splice.apply(s.screens,[n,0].concat(t)))},D.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},D.prototype.findScreen=function(e){return this.screens.find(t=>t._id===e)},D.prototype.findScreenByName=function(e){return this.screens.find(t=>t.name===e)},D.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.arrayRemove(n.screens,(function(e){return e===t})))return i.arrayRemove(this.screens,(function(e){return e._id===t}))},D.prototype.updateScreenOrder=function(e,t,n){var o=this.findSection(e);o&&(t=[].concat(t).map((function(e){return i.arrayRemove(o.screens,(function(t){return t===e}))})).filter((function(e){return e})),Array.prototype.splice.apply(o.screens,[n,0].concat(t)))},D.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>n.allowedVersionCount?n.versions.pop():void 0},D.prototype.findVersion=function(e,t){const n=this.findScreen(e);return n?n.versions.find(e=>e._id===t):null},D.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var o=i.arrayRemove(n.versions,(function(e){return e._id===t}));return n.totalVersionCount&&n.totalVersionCount--,o}},D.prototype.addIntegration=function(e,t){this.integration[e].push(t)},D.prototype.removeIntegration=function(e,t){return i.arrayRemove(this.integration[e],(function(e){return e._id===t}))},D.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach((function(n){var i=new o.default(n),s=i.toCSS(e);t[s]=i.name})),t},D.prototype.removeExtension=function(e){return i.arrayRemove(this.extensions,(function(t){return t._id===e}))},D.prototype.findComponentById=function(e){return T(this.componentSections,"_id",e)},D.prototype.findComponentByName=function(e){return T(this.componentSections,"name",e)},D.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(t=t.componentSections.find(e=>e._id===n),!t)return null;return t},D.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t))},D.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const o=i.components.find(e=>e._id===t);o&&Object.assign(o,n)},D.prototype.updateComponentOrder=function(e,t,n,o){const s=this.findComponentSection(e);if(!s)return;const r=this.findComponentSection(t);if(!r)return;const a=i.arrayRemove(s.components,e=>e._id===n);a&&(a.idPath=[...t,a._id],r.components.splice(o,0,a))},D.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const o=i.arrayRemove(n.components,e=>e._id===t);return o||void 0},D.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),_([n],e),i.componentSections.splice(t,0,n))},D.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},D.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const o=e.pop(),s=this.findComponentSection(e);if(!s)return;const r=this.findComponentSection(t);if(!r)return;const a=i.arrayRemove(s.componentSections,e=>e._id===o);a&&(n?r.components.push(...P(a)):(r.components.push(...a.components),r.componentSections.push(...a.componentSections)),_(this.componentSections,[]))},D.prototype.updateComponentSectionOrder=function(e,t,n){const o=e.pop(),s=this.findComponentSection(e);if(!s)return;const r=this.findComponentSection(t);if(!r)return;const a=i.arrayRemove(s.componentSections,e=>e._id===o);a&&(r.componentSections.splice(n,0,a),_([a],t))},D.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const o=i.arrayRemove(n.componentSections,e=>e._id===t);return o||void 0},D.prototype.findVariantGroup=function(e){return this.variantGroups.find(t=>t._id===e)},t.default=D},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(634));class r extends o.default{constructor(e){super();const{role:t,user:n,integration:i}=e;this.role=t,this.user=new s.default(n),this.integration=i}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{_id:t,paymentPlan:n,email:i,status:o,username:s,fullName:r,bio:a,subscriptionStatus:l,subscriptionCancelAt:c,emotar:d,avatar:u,lastSeen:p,offers:h}=e;this.id=t,this._id=t,this.paymentPlan=n,this.email=i,this.status=o,this.username=s,this.fullName=r,this.bio=a,this.subscriptionStatus=l,this.subscriptionCancelAt=c,this.emotar=d,this.avatar=u,this.lastSeen=p,this.offers=h}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{status:t,remRootFontSize:n,useForFontSizes:i,useForMeasurements:o}=e;this.status=t,this.remRootFontSize=n,this.useForFontSizes=i,this.useForMeasurements=o}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(637)),r=i(n(638));class a extends o.default{constructor(e){super();const{slacks:t,jira:n}=e||{};this.slacks=t?t.map(e=>new s.default(e)):[],n&&(this.jira=new r.default(n))}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{_id:t,teamName:n,teamId:i,scope:o,incomingWebHook:s}=e;this._id=t,this.id=t,this.teamName=n,this.teamId=i,this.scope=o,this.incomingWebHook=s}}t.default=s},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567)),s=i(n(639));class r extends o.default{constructor(e){super();const{_id:t,attachments:n}=e;this.id=t,this._id=t,n&&(this.attachments=n.map(e=>new s.default(e)))}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{_id:t,deploymentUrl:n,type:i,itemId:o,issueKey:s,issueUrl:r}=e;this.id=t,this._id=t,this.deploymentUrl=n,this.type=i,this.itemId=o,this.issueKey=s,this.issueUrl=r}}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"colorNames",(function(){return l})),n.d(t,"reactions",(function(){return c})),n.d(t,"getColorName",(function(){return d})),n.d(t,"getColorValueByName",(function(){return u})),n.d(t,"isMentioned",(function(){return p})),n.d(t,"hasImage",(function(){return h})),n.d(t,"checkFilter",(function(){return f})),n.d(t,"isDraft",(function(){return g})),n.d(t,"getRandomPlaceholder",(function(){return m}));var i=n(559),o=n(564);const s={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},r={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}},a=["It’s a dangerous business, Frodo.","Call me Ishmael.","Cool cool cool.","Streets ahead.","It’s okay to be sleepy in the afternoon.","I’m not superstitious, but I am a little stitious.","You’re a wizard, Harry.","They’re taking the hobbits to Isengard.","Mama mia, let me go!","When Paris has to pee, Paris has to pee!","I have a bad feeling about this.","It’s a trap!","Ten thousand thundering typhoons!","Billions of blue blistering barnacles!","Who ordered the carrot juice?","I like Kaş.","Did I stutter?","We’re gonna need a bigger boat.","Yip yip!"],l=Object.freeze(Object.keys(r)),c={thumbsUp:"👍",raisedHands:"🙌",starryEyes:"🤩"};function d(e){const t="string"==typeof e?e:new o.default(e).hexBase();return s[t]}function u(e){return r[e]}function p(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.mentionRegexFn)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}function h(e){return/!\[.*\]\(.+\)/.test(e)}function f(e,t,n,i){return(!n||d(e.color)===n)&&("mentioned"===t?p(e,i):t===(e.status||"open"))}function g(e){return e&&e.startsWith("newDot")}function m(){return Math.floor(100*Math.random())>2?"Type something":a[Math.floor(Math.random()*a.length)]}},function(e,t,n){"use strict";n.r(t),n.d(t,"extractTagsFromScreens",(function(){return o}));var i=n(559);function o(e){if(!e)return null;var t=new Set(e.reduce((function(e,t){return e.concat(t.tags||[])}),[])),n=[];return t.forEach((function(e){n.push(e)})),n.sort(i.sortBy.naturally)}},function(e,t,n){"use strict";n.r(t);var i=n(559),o=n(643),s=n(632),r=n(564),a=n(613),l=n(635),c=n.n(l),d=n(626),u=n.n(d),p=n(628),h=n(560);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=0;t.default=class{constructor(e,t){this.bidPropertyName=e.bidPropertyName,this.barrelPropertyName=e.barrelPropertyName,this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.loadingBarrelsPropertyName=e.loadingBarrelsPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t}){const n=t.map(e=>new s.default(e));return g(g({},e),{},{[this.loadingBarrelsPropertyName]:!1,[this.barrelsPropertyName]:g(g({},e[this.barrelsPropertyName]),Object(i.normalizeArray)(n,"_id"))})}getBarrelsFailed(e,{error:t}){return g(g({},e),{},{[this.loadingBarrelsPropertyName]:!1,error:t})}getBarrelRequested(e){return g(g({},e),{},{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{[this.barrelPropertyName]:t}){const n=this.updateBarrel(e,{[this.bidPropertyName]:t._id,data:g(g({},t),{},{complete:!t.partial}),upsert:!0});return g(g({},n),{},{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return g(g({},e),{},{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{barrel:t}){return g(g({},e),{},{[this.barrelsPropertyName]:g(g({},e[this.barrelsPropertyName]),{},{[t._id]:new s.default(t)})})}updateBarrel(e,{[this.bidPropertyName]:t,data:n,upsert:i}){const{[this.barrelsPropertyName]:o}=e,r=o[t];return r||i?g(g({},e),{},{[this.barrelsPropertyName]:g(g({},o),{},{[t]:new s.default(g(g({},r),"function"==typeof n?n(r):n))})}):e}joinBarrel(e,{[this.bidPropertyName]:t,user:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:e=>e.users.find(e=>e.user._id===n.user._id)?e.users:e.users.concat(n)})}updateName(e,{bid:t,name:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{name:n}})}updateDescription(e,{bid:t,description:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{description:n}})}updateDensityScale(e,{bid:t,densityScale:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{densityScale:n}})}updateThumbnail(e,{bid:t,thumbnail:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{thumbnail:n}})}addIntegration(e,{bid:t,intype:n,integration:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return e[n].find(e=>e._id===i._id)?g({},e):g(g({},e),{},{[n]:[...e[n],i]})}})}removeIntegration(e,{bid:t,intype:n,inid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return g(g({},e),{},{[n]:e[n].filter(({_id:e})=>e!==i)})}})}toggleScene(e,{bid:t,accessibility:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{public:n}})}addMembers(e,{bid:t,members:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value(e){const t=n.filter(t=>!e.users.some(e=>e.user._id===t.user._id));return[...e.users,...t]}})}updateUserRole(e,{bid:t,uid:n,role:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:({users:e})=>e.map(e=>e.user._id!==n?e:g(g({},e),{},{role:i}))})}removeMember(e,{bid:t,mid:n,currentUserId:i,shouldRemoveBarrel:o}){return o?this.deleteBarrel(e,{bid:t}):this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>g(g({},e),{},{users:e.users.filter(({user:e})=>e._id!==n),complete:e.complete&&n!==i})})}addColor(e,{bid:t,color:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e,new r.default(n)]})}addMultipleColors(e,{bid:t,colors:n}){return n.reduce((e,n)=>this.addColor(e,{bid:t,color:n}),e)}updateColor(e,{bid:t,cid:n,colorData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.map(e=>e.id!==n?e:new r.default(g(g({},e),i)))})}removeColor(e,{bid:t,cid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.filter(({id:e})=>e!==n)})}removeAllColors(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:[]})}migrateColors(e,{bid:t,colorsToUpdate:n,colorsToAdd:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e.map(e=>{const t=n[e.id];return t?new r.default(g(g({},e),t)):e}),...i.map(e=>new r.default(e))]})}updateColorOrder(e,{bid:t,cid:n,to:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value({colors:e}){const t=Object(i.arrayRemove)(e,e=>e.id===n);return t?(e.splice(o,0,t),e):e}})}addTextStyle(e,{bid:t,textStyle:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>[...e,new a.default(n)]})}addMultipleTextStyles(e,{bid:t,textStyles:n}){return n.reduce((e,n)=>this.addTextStyle(e,{bid:t,textStyle:n}),e)}updateTextStyle(e,{bid:t,tsid:n,textStyleData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.map(e=>e.id!==n?e:new a.default(g(g({},e),i)))})}removeTextStyle(e,{bid:t,tsid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.filter(({id:e})=>e!==n)})}removeAllTextStyles(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:[]})}addSpacingSection(e,{bid:t,spacingSection:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>[...e,g(g({},n),{},{spacingTokens:n.spacingTokens||[]})]})}updateSpacingSection(e,{bid:t,ssid:n,updatedSpacingSection:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>e._id!==n?e:g(g({},e),i))})}removeSpacingSection(e,{bid:t,ssid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.filter(({_id:e})=>e!==n)})}addSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,spacingToken:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:r}=e,a=Object(o.sortArrayOfObjectsByPropertyName)([...r,s],"value");let l=1===a.length?a[0]._id:t;return i&&(l=s._id),g(g({},e),{},{baseTokenId:l,spacingTokens:a})})})}updateSpacingToken(e,{bid:t,ssid:n,sptid:i,updatedSpacingToken:s,oldSpacingToken:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:a}=e,l=a.filter(({_id:e})=>e!==i),c=g(g({},r),s),d=t===i?c._id:t;return g(g({},e),{},{baseTokenId:d,spacingTokens:Object(o.sortArrayOfObjectsByPropertyName)([...l,c],"value")})})})}removeSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,sptid:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:s}=e,r=s.filter(({_id:e})=>e!==o);let a=t;return i&&(a=r.length&&r[0]._id||null),g(g({},e),{},{baseTokenId:a,spacingTokens:r})})})}updateRemPreferences(e,{bid:t,updatedRemPreferences:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"remPreferences",value:({remPreferences:e})=>new c.a(g(g({},e),n))})}addComponent(e,{bid:t,csids:n,component:i,index:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;if(e.findComponentById(i._id))return e.componentSections;const t=e.findComponentSection(n);if(!t)return e.componentSections;if(void 0===o?t.components.push(i):t.components.splice(o,0,i),i.requestId){const e=t.components.filter(e=>e.requestId===i.requestId),n=t.components.filter(t=>!e.includes(t));e.sort((e,t)=>e.index-t.index),t.components=n.concat(e)}return[...e.componentSections]}})}updateComponent(e,{bid:t,csids:n,coid:i,componentData:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const s=t.components.find(e=>e._id===i);return s?(Object.assign(s,o),[...e.componentSections]):e.componentSections}})}setComponentSnapshot(e,{bid:t,csids:n,coid:i,vid:o,snapshot:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const r=t.components.find(e=>e._id===i);return r&&r.latestVersion._id===o?(Object.assign(r.latestVersion.snapshot,s),[...e.componentSections]):e.componentSections}})}removeComponent(e,{bid:t,csids:n,coid:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object(i.arrayRemove)(t.components,o),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{bid:t,csids:n,coid:i,componentVersion:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const s=t.components.find(({_id:e})=>e===i);return s&&s.latestVersion._id!==o._id?(s.latestVersion=o,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{bid:t,csids:n,componentSection:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;if(e.componentSections.find(e=>e._id===o._id))return e.componentSections;const s=g({},o);return s._id||(s._id=p.TEMPORARY_COMPONENT_SECTION_ID,s.newSection=!0,s.key="newComponentSection-"+b++),o.components?s.components=o.components.map(t=>{const n=e.findComponentSection(t.csid);return Object(i.arrayRemove)(n.components,t.coid)}):s.components=[],o.componentSections||(s.componentSections=[]),void 0===o.index?t.componentSections.push(s):t.componentSections.splice(o.index,0,s),[...e.componentSections]}})}updateComponentSection(e,{bid:t,csids:n,componentSectionData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object.assign(t,i),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{bid:t,csids:n,tcsids:o,flatten:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=[...n],r=t.pop(),a=e.findComponentSection(t);if(!a)return e.componentSections;const l=e.findComponentSection(o);if(!l)return e.componentSections;const c=Object(i.arrayRemove)(a.componentSections,r);return c?(this.removeVariantFromComponents(c),s?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]):e.componentSections}})}removeComponentSection(e,{bid:t,csids:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=n.pop(),o=e.findComponentSection(n);return o?(Object(i.arrayRemove)(o.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{Object(i.arrayRemove)(e.componentSections,t)}),[...e.componentSections]}})}updateComponentsOrder(e,{bid:t,components:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{coid:n,csid:o,tcsid:s,to:r}=t,a=e.findComponentSection(o),l=e.findComponentSection(s);if(!a||!l)return e.componentSections;const c=Object(i.arrayRemove)(a.components,n);if(!c)return e.componentSections;const d=void 0===r?l.components.length:r;l.components.splice(d,0,c)}),[...e.componentSections]}})}updateComponentSectionsOrder(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{csid:n,tcsid:o,to:s}=t,r=e.findComponentSection(n.slice(0,-1)),a=o?e.findComponentSection(o):e,l=Object(i.arrayRemove)(r.componentSections,n[n.length-1]);a.componentSections.splice(s,0,l)}),[...e.componentSections]}})}attachJiraIssue(e,{bid:t,jira:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira?g(g({},e),{},{jira:g(g({},e.jira),{},{attachments:[...e.jira.attachments,...n.attachments.filter(t=>!e.jira.attachments.find(e=>e.id===t.id))]})}):g(g({},e),{},{jira:n})})}removeJiraIssueAttachment(e,{bid:t,aid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira&&e.jira.attachments?g(g({},e),{},{jira:g(g({},e.jira),{},{attachments:e.jira.attachments.filter(e=>e.id!==n)})}):e})}setLocalConnectedComponents(e,{bid:t,localConnectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"localConnectedComponents",value:e=>n})}updateConnectedComponents(e,{bid:t,connectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"connectedComponents",value:e=>n})}updateWorkflowStatus(e,{bid:t,workflowStatus:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:n})}deleteWorkflowStatus(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:u.a.NoStatus})}onOrganizationWorkflowStatusDelete(e,{workflowStatusId:t}){const n=e[this.barrelsPropertyName];return Object.values(n).filter(e=>e.workflowStatus._id===t).reduce((e,t)=>this.deleteWorkflowStatus(e,{bid:t.id}),e)}removeUnjoinedBarrels(e,t){const n=e[this.barrelsPropertyName],i=t["remaining"+Object(h.uppercaseFirst)(this.barrelsPropertyName)];return g(g({},e),{},{[this.barrelsPropertyName]:Object.fromEntries(Object.entries(n).filter(([e])=>i.includes(e)))})}flattenComponents(e){return e.components.concat(...e.componentSections.map(e=>this.flattenComponents(e)))}updateBarrelValue(e,{[this.bidPropertyName]:t,key:n,value:i}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>new s.default(g(g({},e),{},{[n]:"function"==typeof i?i(e):i}))})}addComponentVariantProperty(e,{bid:t,csid:n,componentVariantProperty:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties.push(i),[...e.componentSections]):e.componentSections}})}updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t||!t.variant||!t.variant.properties)return e.componentSections;const s=t.variant.properties.find(({_id:e})=>e===i);return s?(Object.assign(s,o),[...e.componentSections]):e.componentSections}})}updateComponentVariantPropertyName(e,{bid:t,csid:n,vpid:i,name:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{name:o}})}updateComponentVariantPropertyValues(e,{bid:t,csid:n,vpid:i,values:o}){return this.updateComponentVariantProperty(e,{bid:t,csid:n,vpid:i,data:{values:o}})}updateComponentVariantPropertiesOrder(e,{bid:t,csid:n,properties:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t||!t.variant)return e.componentSections;for(let n=0;n<o.length;n++){const{_id:e,to:s}=o[n],r=Object(i.arrayRemove)(t.variant.properties,t=>t._id===e);t.variant.properties.splice(s,0,r)}return[...e.componentSections]}})}setComponentVariantData(e,{bid:t,csid:n,name:i,sectionVariant:o,components:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(i&&(t.name=i),o&&(t.variant=o),s&&s.forEach(({_id:t,variant:n})=>{const i=e.findComponentById(t);i&&(i.variant=n)}),[...e.componentSections]):e.componentSections}})}removeVariantPropertyFromComponents(e,t){e.components.forEach(e=>{e.variant&&(e.variant.values=e.variant.values.filter(e=>e.propertyId!==t))}),e.componentSections.forEach(e=>this.removeVariantPropertyFromComponents(e,t))}removeComponentVariantProperty(e,{bid:t,csid:n,vpid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t&&t.variant&&t.variant.properties?(t.variant.properties=t.variant.properties.filter(({_id:e})=>e!==i),this.removeVariantPropertyFromComponents(t,i),[...e.componentSections]):e.componentSections}})}removeVariantFromComponents(e){e.components.forEach(e=>{delete e.variant}),e.componentSections.forEach(e=>this.removeVariantFromComponents(e))}removeComponentVariantData(e,{bid:t,csid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);return t?(delete t.variant,this.removeVariantFromComponents(t),[...e.componentSections]):e.componentSections}})}groupComponentsByVariantProperty(e,{bid:t,csid:n,components:i,componentSections:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=e.findComponentSection([n]);if(!t)return e.componentSections;const s=this.flattenComponents(t);return o.forEach(e=>{e.components=e.components.map(({_id:e})=>s.find(({_id:t})=>t===e))}),t.componentSections=o,t.components=i.map(({_id:e})=>s.find(({_id:t})=>t===e)),[...e.componentSections]}})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"sortArrayOfObjectsByPropertyName",(function(){return o})),n.d(t,"removeDuplicatesFromArrayOfObjects",(function(){return s})),n.d(t,"joinDOMElements",(function(){return r})),n.d(t,"populateArrayOfConstantIncrements",(function(){return a}));var i=n(644);function o(e,t){return e.sort((e,n)=>e[t]-n[t])}function s(e,t){return e.reduce(({memory:e,result:n},i)=>(e[i[t]]||(n.push(i),e[i[t]]=!0),{memory:e,result:n}),{memory:{},result:[]}).result}function r(e,t){return e.reduce((e,n,i)=>(i>0&&e.push(t),e.push(n),e),[])}function a(e,t,n,{excludeStart:i=!1,excludeEnd:o=!1}={}){if(n<=0)throw new RangeError(`Invalid number of steps: ${n}. Steps must be a positive number`);if(e>=t)return[];const s=i?[]:[e],r=(t-e)/n;for(let a=1;a<n;a++)s.push(e+a*r);return o?s:s.concat(t)}n.d(t,"union",(function(){return i.union})),n.d(t,"intersection",(function(){return i.intersection})),n.d(t,"difference",(function(){return i.difference}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.difference=t.intersection=t.union=void 0,t.union=function(e,t){return[...new Set([...e,...t])]},t.intersection=function(e,t){return e.filter(e=>t.includes(e))},t.difference=function(e,t){return e.filter(e=>!t.includes(e))}},function(e,t,n){"use strict";n.r(t);t.default={UPDATE_STATE:"styleguide/updateState",CHANGE_LEFT_SIDEBAR_WIDTH:"styleguide/changeLeftSidebarWidth",CHANGE_RIGHT_SIDEBAR_WIDTH:"styleguide/changeRightSidebarWidth",CHANGE_SORT_TYPE:"styleguide/changeSortType",CHANGE_COMPONENT_FILTER_VALUE:"styleguide/changeComponentFilterValue",CHANGE_SELECTED_NAVIGATOR_ID:"styleguide/changeSelectedNavigatorId",HIGHLIGHT_COLORS:"styleguide/highlightColors",UNHIGHLIGHT_COLOR:"styleguide/unhighlightColor",HIGHLIGHT_TEXT_STYLES:"styleguide/highlightTextStyles",UNHIGHLIGHT_TEXT_STYLE:"styleguide/unhighlightTextStyle",HIGHLIGHT_SPACING_TOKENS:"styleguide/highlightSpacingTokens",UNHIGHLIGHT_SPACING_TOKEN:"styleguide/unhighlightSpacingToken",SECTION_SCROLLED:"styleguide/sectionScrolled",CHANGE_SELECTION:"styleguide/changeSelection",COMPONENT_SNAPSHOTS_READY:"styleguide/componetSnapshotsReady",EXPAND_SECTIONS:"styleguide/expandSections",COLLAPSE_SECTIONS:"styleguide/collapseSections",COLLAPSE_ALL_SECTIONS:"styleguide/collapseAllSections",HIDE_SUGGESTED_COLORS:"styleguide/hideSuggestedColors",HIDE_SUGGESTED_TEXT_STYLES:"stylegudie/hideSuggestedTextStyles",OPEN_MOVE_RESOURCES_POPUP:"styleguide/openMoveResourcesPopup",CLOSE_MOVE_RESOURCES_POPUP:"styleguide/closeMoveResourcesPopup",SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/selectMoveResourcesTargetStyleguide",DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/deselectMoveResourcesTargetStyleguide",CONVERT_SECTION_TO_VARIANT_SECTION:"styleguide/convertSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_SECTION:"styleguide/convertVariantSectionToSection",CREATE_COMPONENT_VARIANT_PROPERTY:"styleguide/createComponentVariantProperty",ADD_COMPONENT_VARIANT_PROPERTY:"styleguide/addComponentVariantProperty",UPDATE_COMPONENT_VARIANT_PROPERTY:"styleguide/updateComponentVariantProperty",UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:"styleguide/updateComponentVariantPropertyName",UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:"styleguide/updateComponentVariantPropertyValues",UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:"styleguide/updateComponentVariantPropertiesOrder",UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:"styleguide/updateComponentVariantPropertyValue",SET_COMPONENT_VARIANT_DATA:"styleguide/setComponentVariantData",REMOVE_COMPONENT_VARIANT_PROPERTY:"styleguide/removeComponentVariantProperty",REMOVE_COMPONENT_VARIANT_DATA:"styleguide/removeComponentVariantData",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"styleguide/createComponentSectionVariantGroups",GROUP_COMPONENTS_BY_VARIANT_PROPERTY:"styleguide/groupComponentsByVariantProperty",HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:"styleguide/hideComponentVariantsOnboardingDialog"}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(543);const o={[i.RESOURCE_TYPE.COLORS]:"colors",[i.RESOURCE_TYPE.TEXT_STYLES]:"textStyles",[i.RESOURCE_TYPE.COMPONENTS]:"componentSections"};function s(e){return o[e]}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(586),r=n.n(s),a=n(590),l=n.n(a),c=n(574),d=n.n(c);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.a{getInitialState(){return{projects:[],styleguides:[]}}init({projects:e,styleguides:t}){return{projects:e,styleguides:t}}update(e,t){const{barrel:{barrelType:n},data:{[n]:{_id:i,name:o}}}=t,s=n===d.a.PROJECT?"projects":"styleguides",r=e[s].filter(({_id:e})=>e!==i),a=[{_id:i,name:o},...r].slice(0,10);return p(p({},e),{},{[s]:a})}reduce(e,t){switch(t.type){case l.a.LOAD:return this.update(e,t);case r.a.INIT_RECENTLY_LOADED_BARRELS:return this.init(t);default:return e}}}t.default=f},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(649)),r=i(n(590)),a=i(n(586)),l=i(n(591));class c extends o.default{constructor(e){super(e)}getInitialState(){return{componentVariantViewVisible:!1,selectedLayer:null,destinationLayer:null,selectedComponentVariantId:null,sourceLayerId:null}}open(e,t,n){return Object.assign(Object.assign({},e),{componentVariantViewVisible:!0,selectedComponentVariantId:t,sourceLayerId:n})}close(){return this.getInitialState()}selectLayer(e,t){return Object.assign(Object.assign({},e),{selectedLayer:t,destinationLayer:t})}enterLayer(e,t){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{destinationLayer:null}):e}deselectLayer(e){return e.selectedLayer?Object.assign(Object.assign({},e),{selectedLayer:null,destinationLayer:null}):e}changeComponentVariant(e,t){return Object.assign(Object.assign({},e),{selectedComponentVariantId:t,selectedLayer:null,destinationLayer:null})}resetComponentVariant(e,t){return e.selectedComponentVariantId!==t?e:Object.assign(Object.assign({},e),{selectedComponentVariantId:null,selectedLayer:null,destinationLayer:null})}reduce(e,t){switch(t.type){case a.default.RESET:case r.default.RESET:case r.default.LOAD:case r.default.CHANGE_SELECTED_VIEW:return this.getInitialState();case s.default.OPEN:return this.open(e,t.coid,t.sourceLayerId);case s.default.CLOSE:return this.close();case s.default.SELECT_LAYER:return this.selectLayer(e,t.layer);case s.default.ENTER_LAYER:return this.enterLayer(e,t.layer);case s.default.LEAVE_LAYER:return this.leaveLayer(e);case s.default.DESELECT_LAYER:return this.deselectLayer(e);case s.default.CHANGE_VARIANT:return this.changeComponentVariant(e,t.coid);case r.default.REMOVE_COMPONENT:return this.resetComponentVariant(e,t.coid);case l.default.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=c},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="componentVariant/open",e.CLOSE="componentVariant/close",e.SELECT_LAYER="componentVariant/selectLayer",e.ENTER_LAYER="componentVariant/enterLayer",e.LEAVE_LAYER="componentVariant/leaveLayer",e.DESELECT_LAYER="componentVariant/deselectLayer",e.CHANGE_VARIANT="componentVariant/changeVariant"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(591),r=n.n(s),a=n(590),l=n.n(a),c=n(640);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.a{getInitialState(){return{loadingDots:!0,statusFilter:"open",colorFilter:null,lastNoteColorUsed:"yellow",flash:!1,dotId:null,highlightedDots:[],highlightedComments:[],savedNotes:{}}}reset(e){const{savedNotes:t}=e;return u(u({},this.getInitialState()),{},{savedNotes:t})}load(e,t={}){const{savedNotes:n}=e;return u(u(u({},this.getInitialState()),t),{},{savedNotes:n})}setDots(e,t,n,i){return u(u({},e),{},{loadingDots:!1,dotId:t,statusFilter:n,colorFilter:i})}createNote(e,t){return u(u({},e),{},{dotId:t,statusFilter:"open",colorFilter:null})}updateDot(e,t,n){return e.dotId!==t&&t===n?e:u(u({},e),{},{dotId:n})}updateDotStatus(e,t,n,i){const o=i||e.statusFilter;return e.dotId===t&&o!==n?u(u({},e),{},{statusFilter:o,dotId:null}):i?u(u({},e),{},{statusFilter:o}):e}updateLastNoteColorUsed(e,t){return u(u({},e),{},{lastNoteColorUsed:t})}saveNote(e,t,n,i){const{savedNotes:o}=e,s=Object(c.isDraft)(n)?"newDot":n;return u(u({},e),{},{savedNotes:u(u({},o),{},{[t]:u(u({},o[t]),{},{[s]:i})})})}removeDot(e,t,n,i){let{savedNotes:o}=e;return Object(c.isDraft)(n)&&(o=u(u({},o),{},{[t]:u(u({},o[t]),{},{newDot:i})})),e.dotId!==n?Object(c.isDraft)(n)?u(u({},e),{},{savedNotes:o}):e:u(u({},e),{},{savedNotes:o,dotId:null})}changeDotFilter(e,t,n,i){return u(u({},e),{},{colorFilter:n,statusFilter:t,dotId:i})}flash(e,t){return u(u({},e),{},{flash:t})}dotsFlashed(e){return u(u({},e),{},{flash:!1})}selectDot(e,t,n){if(e.dotId===t)return e;let i=[];return Array.isArray(n)?i=n:n&&(i=[n]),u(u({},e),{},{dotId:t,highlightedComments:i,highlightedDots:e.highlightedDots.filter(e=>e!==t)})}deselectDot(e){return u(u({},e),{},{dotId:null})}highlightDots(e,t){return u(u({},e),{},{highlightedDots:[].concat(t).filter(Boolean)})}unhighlightDot(e,t){return u(u({},e),{},{highlightedDots:e.highlightedDots.filter(e=>e!==t)})}unhighlightComment(e,t){return u(u({},e),{},{highlightedComments:e.highlightedComments.filter(e=>e!==t)})}reduce(e,t){switch(t.type){case l.a.CHANGE_SELECTED_VIEW:case l.a.RESET:return this.reset(e);case l.a.LOAD:return this.load(e,t.dots);case r.a.SET_DOTS:return this.setDots(e,t.dotId,t.statusFilter,t.colorFilter);case r.a.CREATE_NOTE:return this.createNote(e,t.dot._id);case r.a.UPDATE_DOT:return this.updateDot(e,t.did,t.dotData._id);case r.a.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.did,t.status,t.statusFilter);case r.a.UPDATE_DOT_COLOR:return this.updateLastNoteColorUsed(e,t.colorName);case r.a.SAVE_NOTE:return this.saveNote(e,t.sid,t.did,t.note);case r.a.ADD_DOT:return this.saveNote(e,t.sid,t.dot._id,"");case r.a.CREATE_COMMENT:return this.saveNote(e,t.sid,t.did,"");case r.a.REMOVE_DOT:return this.removeDot(e,t.sid,t.did,t.note);case r.a.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color,t.dotId);case r.a.ENABLE_NOTE_MODE:return this.flash(e,t.flash);case r.a.DOTS_FLASHED:return this.dotsFlashed(e);case r.a.OPEN_SCREEN:case r.a.SELECT_DOT:return this.selectDot(e,t.dotId,t.commentId);case r.a.SELECT_LAYER:case r.a.CLOSE_DOT_POPUP:case r.a.OPEN_DOT_MENU:case r.a.DESELECT_LAYER:case r.a.SHOW_FLOW_LINKS:return this.deselectDot(e);case r.a.HIGHLIGHT_DOTS:return this.highlightDots(e,t.dids);case r.a.UNHIGHLIGHT_DOT:return this.unhighlightDot(e,t.did);case r.a.UNHIGHLIGHT_COMMENT:return this.unhighlightComment(e,t.cmid);default:return e}}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(586),r=n.n(s),a=n(590),l=n.n(a),c=n(591),d=n.n(c),u=n(649),p=n.n(u),h=n(652),f=n(653),g=n(540),m=n(543);function b(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends o.a{getInitialState(){return{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,notesVisible:!0,noteMode:!1,tagManagerScreenIds:[],layoutGridEnabled:!1,scrollTop:0,scrollLeft:0,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,screenSidebarWidth:260,selectedSidebarTab:h.default[0].id,sourceFiles:{},componentVariantsOnboardingHintboxSeen:!1,componentVariantViewSeen:!1,numberOfLayerComponentViews:0,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:Object(g.isMobileViewport)(),hasNewVersions:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,versionsSidebarWidth:280}}reset(){return this.getInitialState()}load(e={}){return y(y({},this.getInitialState()),e)}openScreen(e,t){let{shouldResetDashboardFilters:n,barrelId:i,dotId:o,commentId:s}=t,r=b(t,["shouldResetDashboardFilters","barrelId","dotId","commentId"]);return y(y(y({},e),r),{},{selectedLayer:null,destinationLayer:null,noteMode:!1})}closeScreen(e){return y(y({},e),{},{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,noteMode:!1,tagManagerScreenIds:[],layoutGridEnabled:!1,scrollTop:0,scrollLeft:0,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,selectedSidebarTab:h.default[0].id,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:!1,hasNewVersions:!1,showVersionsAuntie:!1})}changeZoomLevel(e,t,n=!1){const i=Math.max(f.ZOOM_LEVEL_MIN,Math.min(t,f.ZOOM_LEVEL_MAX));return y(y({},e),{},{zoomLevel:i,animateZooming:n})}zoomIn(e){const t=f.default.find(t=>t>e.zoomLevel)||f.ZOOM_LEVEL_MAX;return this.changeZoomLevel(e,t,!0)}zoomOut(e){const t=[...f.default].reverse().find(t=>t<e.zoomLevel)||f.ZOOM_LEVEL_MIN;return this.changeZoomLevel(e,t,!0)}resetZoom(e){return this.changeZoomLevel(e,f.ZOOM_LEVEL_DEFAULT,!0)}zoomApplied(e){return e.animateZooming?y(y({},e),{},{animateZooming:!1}):e}startGesture(e){return y(y({},e),{},{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,t){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,t){return this.changeZoomLevel(e,e.zoomLevel-t/100)}changeScrollPosition(e,t,n){return y(y({},e),{},{scrollTop:t,scrollLeft:n})}openTagManager(e,t){return y(y({},e),{},{tagManagerScreenIds:t})}closeTagManager(e){return y(y({},e),{},{tagManagerScreenIds:[]})}toggleLayoutGrid(e){return y(y({},e),{},{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return y(y({},e),{},{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return y(y({},e),{},{noteMode:!1})}showNotes(e){return y(y({},e),{},{notesVisible:!0,noteMode:!1})}hideNotes(e){return y(y({},e),{},{notesVisible:!1,noteMode:!1})}selectLayer(e,{layer:t,shouldIncrementNumberOfLayerComponentViews:n}){const i=e.numberOfLayerComponentViews+(n?1:0);return y(y({},e),{},{selectedLayer:t,destinationLayer:t,numberOfLayerComponentViews:i})}deselectLayer(e){return y(y({},e),{},{selectedLayer:null,destinationLayer:null})}enterLayer(e,t){return e.selectedLayer?y(y({},e),{},{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?y(y({},e),{},{destinationLayer:null}):e}enablePercentageMode(e){return y(y({},e),{},{percentageMode:!0})}disablePercentageMode(e){return y(y({},e),{},{percentageMode:!1})}showFlowLinks(e){return y(y({},e),{},{flowLinksVisible:!0})}hideFlowLinks(e){return y(y({},e),{},{flowLinksVisible:!1})}changeSidebarTab(e,t){return y(y({},e),{},{selectedSidebarTab:t})}changeScreenSidebarWidth(e,t){return y(y({},e),{},{screenSidebarWidth:t})}setSnapshot(e,{sid:t}){return t!==e.screenId?e:y(y({},e),{},{loadingSnapshot:!1})}setVersionId(e,{versionId:t,latestVersionSelected:n}){return y(y({},e),{},{versionId:t,latestVersionSelected:n,selectedLayer:null,destinationLayer:null})}setVersions(e,{sid:t,versionId:n}){return t!==e.screenId?e:y(y({},e),{},{versionId:n,loadingVersions:!1})}addVersion(e,{sid:t,versionId:n,latestVersionSelected:i,hasNewVersions:o}){return t!==e.screenId?e:y(y({},e),{},{versionId:n,latestVersionSelected:i,hasNewVersions:o,loadingSnapshot:!0})}showVersions(e,{loadingVersions:t}){return y(y({},e),{},{loadingVersions:t,versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return y(y({},e),{},{versionsVisible:!1,versionsCompactMode:!1})}toggleVersions(e,t){return e.versionsVisible?this.hideVersions(e):this.showVersions(e,t)}enableVersionsCompactMode(e){return y(y({},e),{},{versionsCompactMode:!0})}disableVersionsCompactMode(e){return y(y({},e),{},{versionsCompactMode:!1})}showVersionsAuntie(e){return y(y({},e),{},{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return y(y({},e),{},{showVersionsAuntie:!1})}newVersionsFound(e){return y(y({},e),{},{hasNewVersions:!0})}changeVersionsSidebarWidth(e,t){return y(y({},e),{},{versionsSidebarWidth:t})}removeVersion(e,{sid:t,versionId:n,removingCurrentVersion:i}){return t===e.screenId&&i?y(y({},e),{},{versionId:n,latestVersionSelected:!0}):e}setSourceFile(e,{versionId:t,sourceFile:n}){return y(y({},e),{},{sourceFiles:y(y({},e.sourceFiles),{},{[t]:n})})}updateForRemoveScreen(e,{removingCurrentScreen:t}){return t?this.closeScreen(e):e}hideComponentVariantsOnboardingHintbox(e){return y(y({},e),{},{componentVariantsOnboardingHintboxSeen:!0})}setComponentVariantViewAsSeen(e){return y(y({},e),{},{componentVariantViewSeen:!0})}reduce(e,t){switch(t.type){case r.a.RESET:case l.a.RESET:return this.reset();case l.a.LOAD:return this.load(t.screen);case l.a.CHANGE_SELECTED_VIEW:return t.selectedView===m.ProjectViewTypes.SCREEN?e:this.closeScreen(e);case d.a.OPEN_SCREEN:return this.openScreen(e,t);case d.a.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case d.a.ZOOM_IN:return this.zoomIn(e);case d.a.ZOOM_OUT:return this.zoomOut(e);case d.a.RESET_ZOOM:return this.resetZoom(e);case d.a.START_GESTURE:return this.startGesture(e);case d.a.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t.scale);case d.a.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t.deltaY);case d.a.ZOOM_APPLIED:return this.zoomApplied(e);case d.a.CHANGE_SCROLL_POSITION:return this.changeScrollPosition(e,t.scrollTop,t.scrollLeft);case d.a.OPEN_TAG_MANAGER:return this.openTagManager(e,t.sids);case d.a.CLOSE_TAG_MANAGER:return this.closeTagManager(e);case d.a.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case d.a.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case d.a.DISABLE_NOTE_MODE:return this.disableNoteMode(e);case d.a.SHOW_NOTES:case d.a.SELECT_DOT:case d.a.CREATE_NOTE:return this.showNotes(e);case d.a.HIDE_NOTES:return this.hideNotes(e);case d.a.SELECT_LAYER:return this.selectLayer(e,t);case d.a.DESELECT_LAYER:return this.deselectLayer(e);case d.a.ENTER_LAYER:return this.enterLayer(e,t.layer,t.percentageMode);case d.a.LEAVE_LAYER:return this.leaveLayer(e);case d.a.ENABLE_PERCENTAGE_MODE:return this.enablePercentageMode(e);case d.a.DISABLE_PERCENTAGE_MODE:return this.disablePercentageMode(e);case d.a.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case d.a.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case d.a.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t.selectedSidebarTab);case d.a.CHANGE_SCREEN_SIDEBAR_WIDTH:return this.changeScreenSidebarWidth(e,t.screenSidebarWidth);case d.a.SET_SNAPSHOT:return this.setSnapshot(e,t);case d.a.SET_VERSION_ID:return this.setVersionId(e,t);case d.a.SET_VERSIONS:return this.setVersions(e,t);case d.a.ADD_VERSION:return this.addVersion(e,t);case d.a.SHOW_VERSIONS:return this.showVersions(e,t);case d.a.HIDE_VERSIONS:return this.hideVersions(e);case d.a.TOGGLE_VERSIONS:return this.toggleVersions(e,t);case d.a.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case d.a.ENABLE_VERSIONS_COMPACT_MODE:return this.enableVersionsCompactMode(e);case d.a.DISABLE_VERSIONS_COMPACT_MODE:return this.disableVersionsCompactMode(e);case d.a.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case d.a.NEW_VERSIONS_FOUND:return this.newVersionsFound(e);case d.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:return this.changeVersionsSidebarWidth(e,t.versionsSidebarWidth);case d.a.REMOVE_VERSION:return this.removeVersion(e,t);case d.a.SET_SOURCE_FILE:return this.setSourceFile(e,t);case d.a.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case d.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:return this.hideComponentVariantsOnboardingHintbox(e);case p.a.OPEN:return this.setComponentVariantViewAsSeen(e);case p.a.SELECT_LAYER:return this.deselectLayer(e);default:return e}}}t.default=C},function(e,t,n){"use strict";n.r(t);t.default=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"ZOOM_LEVEL_DEFAULT",(function(){return o})),n.d(t,"ZOOM_LEVEL_MIN",(function(){return s})),n.d(t,"ZOOM_LEVEL_MAX",(function(){return r}));const i=Object.freeze([.25,.5,.75,1,1.5,2,2.5,3,4,5]),o=1,s=i[0],r=i[i.length-1];t.default=i},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(11)),l=r(n(655)),c=r(n(590)),d=s(n(656)),u=n(559);function p(e,t,n,i){return n?Object.assign(Object.assign({},e),{[t]:d.getEventsOfGroup(i,t)}):u.filterOut(e,t)}function h(e,t,n,i){var o;const s=d.getGroupOfEvent(i,t);let r=null!==(o=e[s])&&void 0!==o?o:[];return n&&!r.includes(t)?Object.assign(Object.assign({},e),{[s]:r.concat(t)}):!n&&r.includes(t)?(r=r.filter(e=>e!==t),0===r.length?u.filterOut(e,s):Object.assign(Object.assign({},e),{[s]:r})):e}class f extends a.default{getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[],barrelType:null}}load(e,t,n,i){return Object.assign(Object.assign({},e),{barrelType:i,eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:d.groupEvents(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?Object.assign(Object.assign({},e),{open:!0,inid:t,channelName:n}):e}authenticatedSlackIntegration(e,{integration:t,events:n,barrelType:i,openPreferences:o}){const s=this.load(e,t._id,n,i);return o?this.open(s,t._id,t.incomingWebHook.channel):s}close(e){return Object.assign(Object.assign({},e),{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,t,n){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[e.inid]:p(e.eventGroupsByInid[e.inid],t,n,e.barrelType)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,t,n){return e.inid===t?Object.assign(Object.assign({},e),{loading:e.loading.filter(e=>e!==n)}):e}eventGroupUpdateFailed(e,t,n){return Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:p(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n],e.barrelType)}),loading:e.inid===t?e.loading.filter(e=>e!==n):e.loading})}eventUpdated(e,t,n,i){return e.eventGroupsByInid[t]?Object.assign(Object.assign({},e),{eventGroupsByInid:Object.assign(Object.assign({},e.eventGroupsByInid),{[t]:h(e.eventGroupsByInid[t],n,i,e.barrelType)})}):e}reduce(e,t){switch(t.type){case l.default.LOAD:return this.load(e,t.inid,t.events,t.barrelType);case l.default.OPEN:return this.open(e,t.inid,t.channelName);case l.default.CLOSE:return this.close(e);case l.default.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t.eventGroup,t.checked);case l.default.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t.inid,t.eventGroup);case l.default.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t.inid,t.eventGroup);case l.default.EVENT_UPDATED:return this.eventUpdated(e,t.inid,t.event,t.enabled);case c.default.AUTHENTICATED_SLACK_INTEGRATION:return this.authenticatedSlackIntegration(e,t);default:return e}}}t.default=f},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INIT="slackPreferences/init",e.LOAD="slackPreferences/load",e.OPEN="slackPreferences/open",e.CLOSE="slackPreferences/close",e.UPDATE_EVENT_GROUP="slackPreferences/updateEventGroup",e.EVENT_GROUP_UPDATED="slackPreferences/eventGroupUpdated",e.EVENT_GROUP_UPDATE_FAILED="slackPreferences/eventGroupUpdateFailed",e.EVENT_UPDATED="slackPreferences/eventUpdated"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.eventGroupsByBarrelType=t.groupEvents=t.getGroupOfEvent=t.getEventsOfGroup=void 0;const o=i(n(574)),s={[o.default.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["project.spacingtoken.created","project.spacingtoken.updated","project.spacingtoken.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[o.default.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["styleguide.spacingtoken.created","styleguide.spacingtoken.updated","styleguide.spacingtoken.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function r(e){return Object.keys(s[e]).reduce((t,n)=>s[e][n].events.reduce((e,t)=>(e[t]=n,e),t),{})}t.eventGroupsByBarrelType=s;const a={project:r(o.default.PROJECT),styleguide:r(o.default.STYLEGUIDE)};function l(e,t){return a[e][t]}t.groupEvents=function(e,t){return t.reduce((t,n)=>{var i;const o=l(e,n);return o&&(null!==(i=t[o])&&void 0!==i?i:t[o]=[]).push(n),t},{})},t.getEventsOfGroup=function(e,t){return s[e][t].events},t.getGroupOfEvent=l},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(624)),r=i(n(586)),a=i(n(621)),l=i(n(623)),c=i(n(622)),d=i(n(590)),u=i(n(626)),p=n(543);class h extends o.default{getInitialState(){return{loading:!0,selectedTab:p.WorkspaceTabs.PROJECTS,selectedOrganizationId:"user",selectedProjectSortType:p.SortTypes.CREATED,showArchivedProjects:!1,pinnedBarrelOnce:!1,selectedWorkflowStatusFilter:u.default.All._id,filterValue:"",highlightedBarrels:[],highlightedSection:null,collapsedSections:{},styleguidesTabVisited:!1,visibleDialogType:null,visibleDialogParams:{},offerReminderNextDate:null}}reset(){return this.getInitialState()}updatePageState(e,t){return Object.assign(Object.assign(Object.assign({},e),t),{loading:!1})}changeProjectSelectedSortType(e,t){return Object.assign(Object.assign({},e),{selectedProjectSortType:t})}toggleArchivedProjects(e){return Object.assign(Object.assign({},e),{showArchivedProjects:!e.showArchivedProjects})}setPinnedBarrelOnce(e){return e.pinnedBarrelOnce?e:Object.assign(Object.assign({},e),{pinnedBarrelOnce:!0})}updateForUnpinBarrel(e,{bid:t}){return this.unhighlightBarrel(e,{bid:t})}changeWorkflowStatusFilter(e,{workflowStatusFilter:t}){return Object.assign(Object.assign({},e),{selectedWorkflowStatusFilter:t})}changeWorkflowStatusFilterOnDelete(e,{oldWorkflowStatusData:t}){return e.selectedWorkflowStatusFilter===t._id?this.changeWorkflowStatusFilter(e,{workflowStatusFilter:u.default.All._id}):e}unhighlightBarrel(e,{bid:t}){return Object.assign(Object.assign({},e),{highlightedBarrels:e.highlightedBarrels.filter(e=>e!==t)})}highlightSection(e,{oseid:t}){const{collapsedSections:n}=e;return n[t]&&(n[t]=!1),Object.assign(Object.assign({},e),{collapsedSections:n,highlightedSection:t})}unhighlightSection(e){return Object.assign(Object.assign({},e),{highlightedSection:null})}expandHighlightedSections(e,{organization:t}){if(!t)return e;const{sections:n}=t,{highlightedBarrels:i,selectedTab:o}=e;if(!n||!i.length||o!==p.WorkspaceTabs.PROJECTS)return e;const s=n.filter(e=>"default"!==e.name&&e.projects.some(e=>i.includes(e))).map(e=>e._id);return this.expandSections(e,{oseids:s})}expandSections(e,{oseids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,{oseids:t}){return Object.assign(Object.assign({},e),{collapsedSections:Object.assign(Object.assign({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}setStyleguidesTabVisited(e){return Object.assign(Object.assign({},e),{styleguidesTabVisited:!0})}showLoading(e){return Object.assign(Object.assign({},e),{loading:!0})}hideLoading(e){return Object.assign(Object.assign({},e),{loading:!1})}openDialog(e,{dialogType:t,dialogParams:n}){return Object.assign(Object.assign({},e),{visibleDialogType:t,visibleDialogParams:n})}closeDialog(e){return Object.assign(Object.assign({},e),{visibleDialogType:null,visibleDialogParams:{}})}closePreviewDialog(e,{bid:t}){const{previewBarrelId:n}=e.visibleDialogParams;return n===t?this.closeDialog(e):e}resetSortTypeAndFilters(e,t){let n=e;return t.syncWithApi&&(e.selectedProjectSortType!==p.SortTypes.SECTIONS&&(n=this.changeProjectSelectedSortType(n,p.SortTypes.SECTIONS)),e.selectedWorkflowStatusFilter!==u.default.All._id&&(n=this.changeWorkflowStatusFilter(n,{workflowStatusFilter:u.default.All._id}))),n}resetUIInteractions(e,t){return this.resetSortTypeAndFilters(e,t)}highlightCopiedBarrel(e,{barrel:t,addedWithCopy:n}){return n?Object.assign(Object.assign({},this.closeDialog(e)),{highlightedBarrels:[t._id,...e.highlightedBarrels]}):e}postponeOfferReminder(e,{nextDate:t}){return Object.assign(Object.assign({},e),{offerReminderNextDate:t})}changeFilterValue(e,t){return Object.assign(Object.assign({},e),{filterValue:t})}reduce(e,t){switch(t.type){case s.default.UPDATE_PAGE_STATE:return this.updatePageState(e,t.updateState);case s.default.CHANGE_PROJECT_SELECTED_SORT_TYPE:return this.changeProjectSelectedSortType(e,t.sortType);case s.default.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case s.default.TOGGLE_ARCHIVED_PROJECTS:return this.toggleArchivedProjects(e);case s.default.CHANGE_WORKFLOW_STATUS_FILTER:return this.changeWorkflowStatusFilter(e,t);case s.default.UNHIGHLIGHT_BARREL:return this.unhighlightBarrel(e,t);case s.default.EXPAND_SECTIONS:return this.expandSections(e,t);case s.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case s.default.SET_STYLEGUIDES_TAB_VISITED:return this.setStyleguidesTabVisited(e);case s.default.OPEN_DIALOG:return this.openDialog(e,t);case s.default.CLOSE_DIALOG:return this.closeDialog(e);case s.default.HIDE_LOADING:return this.hideLoading(e);case s.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t);case s.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case s.default.POSTPONE_OFFER_REMINDER:return this.postponeOfferReminder(e,t);case d.default.ADD:return this.highlightCopiedBarrel(e,t);case a.default.ADD_BARREL_TO_FOCUS_SUCCESS:return this.setPinnedBarrelOnce(e);case a.default.REMOVE_BARREL_FROM_FOCUS:return this.updateForUnpinBarrel(e,t);case a.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.changeWorkflowStatusFilterOnDelete(e,t);case a.default.ADD_PROJECT_SECTION:case a.default.UPDATE_PROJECT_ORDER:return this.resetUIInteractions(e,t);case c.default.CREATE_PROJECT:case l.default.CREATE_STYLEGUIDE:return this.showLoading(e);case d.default.ARCHIVE:case d.default.REMOVE:return this.closePreviewDialog(e,t);case r.default.LOAD_WORKSPACE_DATA:return this.expandHighlightedSections(e,t);case r.default.RESET:return this.reset();default:return e}}}t.default=h},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(624));class r extends o.default{getInitialState(){return{scrollToHighlightedBarrel:!1}}scrolledToProject(){return{scrollToHighlightedBarrel:!1}}scrollToHighlightedBarrel(e){return{scrollToHighlightedBarrel:!!e}}reduce(e,t){switch(t.type){case s.default.SCROLLED_TO_PROJECT:return this.scrolledToProject();case s.default.UPDATE_PAGE_STATE:return this.scrollToHighlightedBarrel(t.updateState.scrollToHighlightedBarrel);default:return e}}}t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(586)),r=i(n(624)),a=i(n(590));class l extends o.default{getInitialState(){return{selectedProjects:[]}}toggleProjectSelection(e,t){const n=new Set(e.selectedProjects);return n.has(t)?n.delete(t):n.add(t),Object.assign(Object.assign({},e),{selectedProjects:Array.from(n)})}clearProjectSelection(e){return Object.assign(Object.assign({},e),{selectedProjects:[]})}selectProjects(e,t){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.concat(t.filter(t=>e.selectedProjects.indexOf(t)<0))})}deselectProjects(e,t){return Object.assign(Object.assign({},e),{selectedProjects:e.selectedProjects.filter(e=>!t.includes(e))})}reduce(e,t){switch(t.type){case r.default.TOGGLE_PROJECT_SELECTION:return this.toggleProjectSelection(e,t.pid);case r.default.CLEAR_PROJECT_SELECTION:case a.default.DELETE_WORKFLOW_STATUSES:case a.default.UPDATE_WORKFLOW_STATUSES:case s.default.SET_PAGE:return this.clearProjectSelection(e);case r.default.SELECT_PROJECTS:return this.selectProjects(e,t.projectIds);case r.default.DESELECT_PROJECTS:return this.deselectProjects(e,t.projectIds);default:return e}}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(645),r=n(586),a=n.n(r),l=n(590),c=n.n(l),d=n(661),u=n(543);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends o.a{getInitialState(){return{sortType:u.SortTypes.SECTIONS,filterValue:"",leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,collapsedSections:{},highlightedColors:[],highlightedTextStyles:[],highlightedSpacingTokens:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1},componentVariantsOnboardingDialogSeen:!1,convertedAnySectionIntoVariant:!1}}reset(){return this.getInitialState()}load(e={}){return h(h({},this.getInitialState()),e)}updateState(e,t){return h(h({},e),t)}changeSortType(e,t){return h(h({},e),{},{sortType:t})}changeComponentFilterValue(e,t){return h(h({},e),{},{filterValue:t})}changeLeftSidebarWidth(e,t){return h(h({},e),{},{leftSidebarWidth:t})}changeRightSidebarWidth(e,t){return h(h({},e),{},{rightSidebarWidth:t})}changeSelectedNavigatorId(e,t,n){return h(h({},e),{},{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,t){return h(h({},e),{},{highlightedColors:[].concat(t).filter(Boolean)})}unhighlightColor(e,t){return h(h({},e),{},{highlightedColors:e.highlightedColors.filter(e=>e!==t)})}highlightTextStyles(e,t){return h(h({},e),{},{highlightedTextStyles:[].concat(t).filter(Boolean)})}unhighlightTextStyle(e,t){return h(h({},e),{},{highlightedTextStyles:e.highlightedTextStyles.filter(e=>e!==t)})}highlightSpacingTokens(e,t){return h(h({},e),{},{highlightedSpacingTokens:[].concat(t).filter(Boolean)})}unhighlightSpacingToken(e,t){return h(h({},e),{},{highlightedSpacingTokens:e.highlightedSpacingTokens.filter(e=>e!==t)})}sectionScrolled(e){return h(h({},e),{},{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n,collapsedSections:i}){return h(h({},e),{},{selectionComponentId:t,selection:n,collapsedSections:i||e.collapsedSections})}updateForChangeSelectedView(e,{selectedView:t}){return t===u.ProjectViewTypes.STYLEGUIDE?e:h(h({},e),{},{selectionComponentId:null,selection:null,convertedAnySectionIntoVariant:!1})}componentSnapshotsReady(e){return h({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?h(h({},e),{},{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{resources:t,resourceType:n,targetNode:i}){return h(h({},e),{},{moveResourcesPopup:{resources:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return h(h({},e),{},{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return h(h({},e),{},{moveResourcesPopup:h(h({},n),{},{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return h(h({},e),{},{moveResourcesPopup:h(h({},t),{},{targetStyleguide:null})})}expandSections(e,{seids:t}){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!1])))})}collapseSections(e,{seids:t}){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}collapseAllSections(e,{seids:t}){return h(h({},e),{},{selectedNavigatorId:null,selectionComponentId:null,collapsedSections:h(h({},e.collapsedSections),Object.fromEntries(t.map(e=>[e,!0])))})}setSuggestedResources(e){return h(h({},e),{},{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}hideComponentVariantsOnboardingDialog(e){return h(h({},e),{},{componentVariantsOnboardingDialogSeen:!0})}convertedAnySectionIntoVariant(e,{userConvertedSectionIntoVariant:t}){return e.convertedAnySectionIntoVariant||!t?e:h(h({},e),{},{convertedAnySectionIntoVariant:!0})}reduce(e,t){switch(t.type){case a.a.RESET:return this.reset();case c.a.LOAD:return this.load(t.styleguide);case c.a.CHANGE_SELECTED_VIEW:return this.updateForChangeSelectedView(e,t);case s.default.UPDATE_STATE:return this.updateState(e,t.update);case s.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case s.default.CHANGE_COMPONENT_FILTER_VALUE:return this.changeComponentFilterValue(e,t.filterValue);case s.default.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t.leftSidebarWidth);case s.default.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t.rightSidebarWidth);case s.default.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t.selectedStyleguideSection,t.selectedNavigatorId);case s.default.HIGHLIGHT_COLORS:return this.highlightColors(e,t.cids);case s.default.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t.cid);case s.default.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t.tsids);case s.default.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t.tsid);case s.default.HIGHLIGHT_SPACING_TOKENS:return this.highlightSpacingTokens(e,t.sptids);case s.default.UNHIGHLIGHT_SPACING_TOKEN:return this.unhighlightSpacingToken(e,t.sptid);case s.default.SECTION_SCROLLED:return this.sectionScrolled(e);case s.default.CHANGE_SELECTION:return this.changeSelection(e,t);case s.default.COMPONENT_SNAPSHOTS_READY:return this.componentSnapshotsReady(e);case s.default.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case s.default.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case s.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case s.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case s.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:return this.hideComponentVariantsOnboardingDialog(e);case s.default.EXPAND_SECTIONS:return this.expandSections(e,t);case s.default.COLLAPSE_SECTIONS:return this.collapseSections(e,t);case s.default.COLLAPSE_ALL_SECTIONS:return this.collapseAllSections(e,t);case c.a.REMOVE_COMPONENT:return this.removeComponent(e,t);case c.a.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case c.a.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case d.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);case s.default.SET_COMPONENT_VARIANT_DATA:return this.convertedAnySectionIntoVariant(e,t);default:return e}}}t.default=g},function(e,t,n){"use strict";n.r(t);t.default={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans",HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX:"hideMultipleColorsSupportedHintBox",HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX:"hideExportToStyleguideHintBox"}},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(623),r=n(590),a=n.n(r),l=n(597),c=n(645),d=n(621),u=n.n(d),p=n(586),h=n.n(p),f=n(632),g=n(574),m=n.n(g),b=n(642),S=n(646);function y(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends o.a{constructor(e){super(e),this.reducer=new b.default({bidPropertyName:"stid",barrelPropertyName:"styleguide",barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide",loadingBarrelsPropertyName:"loadingStyleguides"},{deleteBarrel:this.remove})}getInitialState(){return{loadingStyleguide:!0,loadingStyleguides:!0,loadingSelectParent:!1,styleguides:{}}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==m.a.STYLEGUIDE?e:this.reducer.addBarrel(e,{barrel:t})}updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:o}){if(n!==m.a.STYLEGUIDE)return e;const{styleguides:s}=e,r=s[t],a=Object.fromEntries(i.map(e=>{const n=s[e];return n.status=o,n.parent&&(n.ancestors=n.ancestors.filter(e=>!r.ancestors.includes(e)),t===e&&(n.parent=null)),[e,n]}));return O(O({},e),{},{styleguides:O(O({},s),a)})}activateStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"active"})}archiveStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"archived"})}remove(e,{bid:t}){const n=e.styleguides,{[t]:i}=n,o=y(n,[t].map(v));return Object.values(o).forEach(e=>{e.parent===t&&(e.parent=i.parent),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter(e=>e!==t))}),O(O({},e),{},{styleguides:O({},o)})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,styleguides:i}){const o=this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),s=i.reduce((e,t)=>O(O({},e),{},{[t._id]:new f.default(O(O({},t),{},{complete:!0}))}),{});return O(O({},o),{},{loadingSelectParent:!1,styleguides:O(O({},o.styleguides),s)})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n}){return this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter(e=>e._id!==t)})}updateUserData(e,{bid:t,uid:n,userData:i}){return this.reducer.updateBarrelValue(e,{stid:t,key:"users",value:({users:e})=>e.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:O(O({},t),i)})})}transferOwnership(e,{bid:t,affectedIds:n,fromUserId:i,targetId:o,toOrganization:s,users:r,oid:a}){const l=e.styleguides[t];if(!l)return e;const c=n.map(t=>e.styleguides[t]);if(s||"user"!==a){const n=c.reduce((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter(e=>e!==n.parent),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter(e=>e!==l.parent)),e[n._id]=n,e),{});return O(O({},e),{},{styleguides:O(O({},e.styleguides),n)})}const d=c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"ancestors",value:e=>e.ancestors.filter(e=>!l.ancestors.includes(e))}),e),u=this.reducer.updateBarrelValue(d,{stid:l._id,key:"parent",value:null});return c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"users",value:e=>e.users.map(e=>{if(r){if(e.user._id===i||e.user._id===o){const t=r.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===o&&(e.role="owner"),e.user._id===i&&(e.role="admin"),e})}),u)}load(e,t){const{barrel:{barrelType:n}}=t;if(n===m.a.STYLEGUIDE){const{data:{styleguide:n,organizationStyleguides:i,ancestors:o}}=t;if(n.partial)return this.reducer.getBarrelSuccess(e,{styleguide:n});let s=e;return i&&(s=this.reducer.getBarrelsSuccess(e,{styleguides:i})),o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(s,{styleguide:n}))}const{data:{project:i,organizationStyleguides:o,linkedStyleguides:s}}=t;if(i.partial)return e;const r=o?this.reducer.getBarrelsSuccess(e,{styleguides:o}):e;return s.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),r)}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:o,targetStyleguideId:s}){const r=Object(S.default)(t);let a=e;o===m.a.STYLEGUIDE&&(a=this.reducer.updateBarrelValue(e,{stid:i,key:r,value:e=>e[r].filter(e=>!n.includes(e))}));const l=e.styleguides[s];return l&&l.complete?this.reducer.updateBarrelValue(a,{stid:s,key:r,value:e=>e[r].concat(n)}):a}selectParent(e,{stid:t,parent:n}){const i=e.styleguides[t],o=[...e.styleguides[n].ancestors,n];return i.parent=n,i.ancestors=o,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...o,...e.ancestors.slice(n)])}),O(O({},e),{},{styleguides:O({},e.styleguides)})}removeParent(e,{stid:t}){const n=e.styleguides[t];return n.ancestors=[],n.parent=null,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))}),O(O({},e),{},{styleguides:O({},e.styleguides)})}selectParentRequest(e){return O(O({},e),{},{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,styleguides:i}){const o=this.selectParent(e,{stid:t,parent:n}),s=i.reduce((e,t)=>O(O({},e),{},{[t._id]:new f.default(O(O({},t),{},{complete:!0}))}),{});return O(O({},o),{},{loadingSelectParent:!1,styleguides:O(O({},o.styleguides),s)})}selectParentFailed(e){return O(O({},e),{},{loadingSelectParent:!1})}hydrateEmbeddedData(e,t){const{styleguides:n,project:i,linkedStyleguides:o,styleguide:s,ancestors:r}=t;let a=e;return n&&(a=this.reducer.getBarrelsSuccess(e,{styleguides:n})),i?i.partial?a:o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),a):s?s.partial?this.reducer.getBarrelSuccess(a,{styleguide:s}):r.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(a,{styleguide:s})):a}reduce(e,t){switch(t.type){case s.default.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case s.default.GET_STYLEGUIDES_FAILED:return this.reducer.getBarrelsFailed(e,t);case s.default.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case s.default.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case s.default.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case s.default.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,t);case a.a.UPDATE_NAME:return this.reducer.updateName(e,t);case a.a.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case a.a.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case a.a.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case a.a.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case a.a.AUTHENTICATED_SLACK_INTEGRATION:return this.reducer.addIntegration(e,O(O({},t),{},{intype:"slacks"}));case a.a.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case a.a.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case a.a.ADD_MEMBERS:return this.reducer.addMembers(e,t);case a.a.ADD_COLOR:return this.reducer.addColor(e,t);case a.a.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case a.a.UPDATE_COLOR:return this.reducer.updateColor(e,t);case a.a.REMOVE_COLOR:return this.reducer.removeColor(e,t);case a.a.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case a.a.MIGRATE_COLORS:return this.reducer.migrateColors(e,t);case a.a.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case a.a.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case a.a.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case a.a.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case a.a.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case a.a.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case a.a.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case a.a.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case a.a.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case a.a.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case a.a.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case a.a.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case a.a.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case a.a.ADD_COMPONENT:return this.reducer.addComponent(e,t);case a.a.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case a.a.SET_COMPONENT_SNAPSHOT:return this.reducer.setComponentSnapshot(e,t);case a.a.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case a.a.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case a.a.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case a.a.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case a.a.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case a.a.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case a.a.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case a.a.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case a.a.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case a.a.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case a.a.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case a.a.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case a.a.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case a.a.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case a.a.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case a.a.ADD:return this.add(e,t);case a.a.ACTIVATE:return this.activateStyleguide(e,t);case a.a.ARCHIVE:return this.archiveStyleguide(e,t);case a.a.REMOVE:return this.remove(e,t);case l.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.default.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case a.a.UPDATE_USER_DATA:return this.updateUserData(e,t);case s.default.TRANSFER_OWNERSHIP:case a.a.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case a.a.LOAD:return this.load(e,t);case a.a.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case u.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case u.a.REMOVE_UNJOINED_BARRELS:return this.reducer.removeUnjoinedBarrels(e,t);case s.default.SELECT_PARENT:return this.selectParent(e,t);case s.default.REMOVE_PARENT:return this.removeParent(e,t);case s.default.SELECT_PARENT_REQUEST:return this.selectParentRequest(e,t);case s.default.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case s.default.SELECT_PARENT_FAILED:return this.selectParentFailed(e,t);case c.default.CREATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.addComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY:return this.reducer.updateComponentVariantProperty(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return this.reducer.updateComponentVariantPropertyName(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return this.reducer.updateComponentVariantPropertyValues(e,t);case c.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:return this.reducer.updateComponentVariantPropertiesOrder(e,t);case c.default.SET_COMPONENT_VARIANT_DATA:return this.reducer.setComponentVariantData(e,t);case c.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return this.reducer.removeComponentVariantProperty(e,t);case c.default.REMOVE_COMPONENT_VARIANT_DATA:return this.reducer.removeComponentVariantData(e,t);case c.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY:return this.reducer.groupComponentsByVariantProperty(e,t);case h.a.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case h.a.RESET:return this.reset();case h.a.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=T},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(664);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.a{getInitialState(){return{overridingCategory:null}}setOverridingCategory(e,t){return a(a({},e),{},{overridingCategory:t})}reduce(e,t){switch(t.type){case s.default.SET_OVERRIDING_CATEGORY:return this.setOverridingCategory(e,t.overridingCategory);default:return e}}}t.default=c},function(e,t,n){"use strict";n.r(t);t.default={SET_OVERRIDING_CATEGORY:"supportButton/setOverridingCategory"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(666)),r=i(n(590));class a extends o.default{constructor(e){super(e)}getInitialState(){return{channels:[],loading:!0}}reset(){return this.getInitialState()}setTeamsIntegration(e,t){return Object.assign(Object.assign({},e),{channels:t,loading:!1})}reduce(e,t){switch(t.type){case r.default.RESET:return this.reset();case s.default.SET_TEAMS_INTEGRATION:return this.setTeamsIntegration(e,t.channels);default:return e}}}t.default=a},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GET_TEAMS_INTEGRATION="teamsIntegration/getTeamsIntegration",e.SET_TEAMS_INTEGRATION="teamsIntegration/setTeamsIntegration"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(661),r=n(591),a=n.n(r),l=n(590),c=n.n(l),d=n(560),u=n(645),p=n(564),h=n(613);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return Object.keys(e).reduce((t,n)=>{const{colors:i=[],textStyles:o=[]}=e[n];return g(g({},t),{},{[n]:{colors:i.map(e=>new p.default(g({_id:Object(d.getRandomString)()},e))),textStyles:o.map(e=>new h.default(g({_id:Object(d.getRandomString)()},e)))}})},{})}class S extends o.a{getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1,multipleColorsSupportedHintBoxVisible:!1,exportToStyleguideHintBoxVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:s,textStyles:r}}=n;if(!s.length)return e;const a=new p.default(i);return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},n),{},{[o]:{textStyles:r,colors:s.filter(e=>e.id!==a.id)}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:s}}=n;return s.length?i.reduce((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:o}),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:o}=t;if(!n[o])return e;const{[o]:{colors:s,textStyles:r}}=n;if(!r.length)return e;const a=new h.default(i);return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},n),{},{[o]:{colors:s,textStyles:r.filter(e=>e.id!==a.id)}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:o}=t;if(!n[o])return e;const{[o]:{textStyles:s}}=n;return s.length?i.reduce((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:o}),e):e}changeHintBoxVisibilities(e,t){const{colorsToAdd:n,hasLinkedStyleguideColor:i}=t,o=n.length>0;return g(g({},e),{},{multipleColorsSupportedHintBoxVisible:o,exportToStyleguideHintBoxVisible:i})}hideMultipleColorsSupportedHintBox(e){return g(g({},e),{},{multipleColorsSupportedHintBoxVisible:!1,listVisible:!1})}hideExportToStyleguideHintBox(e){return g(g({},e),{},{exportToStyleguideHintBoxVisible:!1,listVisible:!1})}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},i),{},{[n]:g(g({},o),{},{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:o}}=e;return g(g({},e),{},{suggestedResourcesByBarrel:g(g({},i),{},{[n]:g(g({},o),{},{textStyles:[]})})})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return g(g({},e),{},{suggestedResourcesByBarrel:b(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case a.a.OPEN_SCREEN:return this.hideImportsList(e);case c.a.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case c.a.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case c.a.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case c.a.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case c.a.MIGRATE_COLORS:return this.changeHintBoxVisibilities(e,t);case u.default.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case u.default.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case s.default.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case s.default.SHOW_IMPORTS_LIST:return this.showImportsList(e);case s.default.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case s.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case s.default.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case s.default.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);case s.default.HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX:return this.hideMultipleColorsSupportedHintBox(e);case s.default.HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX:return this.hideExportToStyleguideHintBox(e);default:return e}}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(669),r=n(670),a=n.n(r);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.a{getInitialState(){return{isGetWebhooksPending:!0,isGetWebhookPending:!1,isCreateWebhookPending:!1,isUpdateWebhookPending:!1,isDeleteWebhookPending:!1,webhooks:[]}}getWebhooksSuccess(e,{webhooks:t}){return c(c({},e),{},{webhooks:t.map(e=>new a.a(e)),isGetWebhooksPending:!1})}getWebhookRequest(e){return c(c({},e),{},{isGetWebhookPending:!0})}getWebhookSuccess(e,{webhook:t}){const{webhooks:n}=e;return c(c({},e),{},{webhooks:n.map(e=>e._id===t._id?new a.a(c(c({},t),{},{complete:!0})):e),isGetWebhookPending:!1})}getWebhookFailure(e){return c(c({},e),{},{isGetWebhookPending:!1})}createWebhookRequest(e){return c(c({},e),{},{isCreateWebhookPending:!0})}createWebhookSuccess(e,{webhook:t}){return c(c({},e),{},{webhooks:e.webhooks.filter(({_id:e})=>e!==t._id).concat(new a.a(t)),isCreateWebhookPending:!1})}createWebhookFailure(e){return c(c({},e),{},{isCreateWebhookPending:!1})}updateWebhookRequest(e){return c(c({},e),{},{isUpdateWebhookPending:!0})}updateWebhookSuccess(e,{webhook:t}){return c(c({},e),{},{webhooks:e.webhooks.map(e=>e._id===t._id?new a.a(t):e),isUpdateWebhookPending:!1})}updateWebhookFailure(e){return c(c({},e),{},{isUpdateWebhookPending:!1})}deleteWebhookRequest(e){return c(c({},e),{},{isDeleteWebhookPending:!0})}deleteWebhookSuccess(e,{webhookId:t}){return c(c({},e),{},{webhooks:e.webhooks.filter(({_id:e})=>e!==t),isDeleteWebhookPending:!1})}deleteWebhookFailure(e){return c(c({},e),{},{isDeleteWebhookPending:!1})}reduce(e,t){switch(t.type){case s.default.GET_WEBHOOKS_SUCCESS:return this.getWebhooksSuccess(e,t);case s.default.GET_WEBHOOK_REQUEST:return this.getWebhookRequest(e,t);case s.default.GET_WEBHOOK_SUCCESS:return this.getWebhookSuccess(e,t);case s.default.GET_WEBHOOK_FAILURE:return this.getWebhookFailure(e,t);case s.default.CREATE_WEBHOOK_REQUEST:return this.createWebhookRequest(e,t);case s.default.CREATE_WEBHOOK_SUCCESS:return this.createWebhookSuccess(e,t);case s.default.CREATE_WEBHOOK_FAILURE:return this.createWebhookFailure(e,t);case s.default.UPDATE_WEBHOOK_REQUEST:return this.updateWebhookRequest(e,t);case s.default.UPDATE_WEBHOOK_SUCCESS:return this.updateWebhookSuccess(e,t);case s.default.UPDATE_WEBHOOK_FAILURE:return this.updateWebhookFailure(e,t);case s.default.DELETE_WEBHOOK_REQUEST:return this.deleteWebhookRequest(e,t);case s.default.DELETE_WEBHOOK_SUCCESS:return this.deleteWebhookSuccess(e,t);case s.default.DELETE_WEBHOOK_FAILURE:return this.deleteWebhookFailure(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";n.r(t);t.default={GET_WEBHOOKS_REQUEST:"getWebhooksRequest",GET_WEBHOOKS_SUCCESS:"getWebhooksSuccess",GET_WEBHOOK_REQUEST:"getWebhookRequest",GET_WEBHOOK_SUCCESS:"getWebhookSuccess",GET_WEBHOOK_FAILURE:"getWebhookFailure",CREATE_WEBHOOK_REQUEST:"createWebhookRequest",CREATE_WEBHOOK_SUCCESS:"createWebhookSuccess",CREATE_WEBHOOK_FAILURE:"createWebhookFailure",UPDATE_WEBHOOK_REQUEST:"updateWebhookRequest",UPDATE_WEBHOOK_SUCCESS:"updateWebhookSuccess",UPDATE_WEBHOOK_FAILURE:"updateWebhookFailure",DELETE_WEBHOOK_REQUEST:"deleteWebhookRequest",DELETE_WEBHOOK_SUCCESS:"deleteWebhookSuccess",DELETE_WEBHOOK_FAILURE:"deleteWebhookFailure"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(567));class s extends o.default{constructor(e){super();const{_id:t,url:n,status:i,urlHealth:o,subscriptions:s,subscribedAllEvents:r,createdBy:a,updatedBy:l,created:c,updated:d,oauthApp:u,complete:p}=e;this.id=t,this._id=t,this.url=n,this.status=i,this.urlHealth=o,this.subscriptions=s,this.subscribedAllEvents=r,this.createdBy=a,this.updatedBy=l,this.created=c,this.updated=d,this.oauthApp=u,this.complete=p}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(11),o=n.n(i),s=n(588),r=n.n(s),a=n(586),l=n.n(a),c=n(672),d=n(643);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.a{getInitialState(){return{loading:!0,userId:null,username:null,fullName:null,email:null,avatar:null,emotar:null,verified:null,registeredAt:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,notificationSettings:null,zeplinThreeZeroWhatsNewSeen:!0,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,shouldPromoteExportDesignTokens:!0,selectedView:c.USER_MENU,acquaintancesLoading:!1,acquaintancesError:null,acquaintances:null,offers:[]}}loadUser(e,t){if(!t)return e;const{_id:n,username:i,fullName:o,email:s,status:r,avatar:a,emotar:l,registeredAt:c,emailNotifications:d,notificationSettings:u,billing:h,paymentPlan:f,offers:g}=t;return p(p({},e),{},{userId:n,username:i,fullName:o,email:s,verified:"verified"===r,avatar:a,emotar:l,registeredAt:c,isEmailNotificationEnabled:d,notificationSettings:u,billing:h,paymentPlan:f,offers:g,loading:!1})}updateUser(e,t){return p(p(p({},e),t),{},{loading:!1})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}muteProjectNotifications(e,{pid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=Object(d.union)(n.mutedProjects,[t]);return p(p({},e),{},{notificationSettings:p(p({},n),{},{mutedProjects:i})})}muteStyleguideNotifications(e,{stid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=Object(d.union)(n.mutedStyleguides,[t]);return p(p({},e),{},{notificationSettings:p(p({},n),{},{mutedStyleguides:i})})}unmuteProjectNotifications(e,{pid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=Object(d.difference)(n.mutedProjects,[t]);return p(p({},e),{},{notificationSettings:p(p({},n),{},{mutedProjects:i})})}unmuteStyleguideNotifications(e,{stid:t}){const{notificationSettings:n}=e;if(!n)return e;const i=Object(d.difference)(n.mutedStyleguides,[t]);return p(p({},e),{},{notificationSettings:p(p({},n),{},{mutedStyleguides:i})})}markZeplinThreeZeroWhatsNewAsSeen(e){return p(p({},e),{},{zeplinThreeZeroWhatsNewSeen:!0})}stopPromotingSpacingSectionDescriptionEditButton(e){return p(p({},e),{},{shouldPromoteSpacingSectionDescriptionEditButton:!1})}hideStyleguideTutorial(e){return p(p({},e),{},{shouldDisplayStyleguideTutorial:!1})}stopPromotingExportDesignTokens(e){return p(p({},e),{},{shouldPromoteExportDesignTokens:!1})}acquaintancesRequested(e){return p(p({},e),{},{acquaintancesLoading:!0,acquaintancesError:null,acquaintances:null})}setAcquaintances(e,t){return p(p({},e),{},{acquaintancesLoading:!1,acquaintances:t})}getAcquaintancesFailed(e,t){return p(p({},e),{},{acquaintancesLoading:!1,acquaintancesError:t})}reduce(e,t){switch(t.type){case l.a.HYDRATE_EMBEDDED_DATA:case r.a.LOAD_USER:return this.loadUser(e,t.user);case r.a.UPDATE_USER:return this.updateUser(e,t.user);case r.a.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case r.a.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);case r.a.MUTE_PROJECT_NOTIFICATIONS:return this.muteProjectNotifications(e,t);case r.a.MUTE_STYLEGUIDE_NOTIFICATIONS:return this.muteStyleguideNotifications(e,t);case r.a.UNMUTE_PROJECT_NOTIFICATIONS:return this.unmuteProjectNotifications(e,t);case r.a.UNMUTE_STYLEGUIDE_NOTIFICATIONS:return this.unmuteStyleguideNotifications(e,t);case r.a.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:return this.markZeplinThreeZeroWhatsNewAsSeen(e);case r.a.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:return this.stopPromotingSpacingSectionDescriptionEditButton(e);case r.a.HIDE_STYLEGUIDE_TUTORIAL:return this.hideStyleguideTutorial(e);case r.a.STOP_PROMOTING_EXPORT_DESIGN_TOKENS:return this.stopPromotingExportDesignTokens(e);case r.a.ACQUAINTANCES_REQUESTED:return this.acquaintancesRequested(e);case r.a.SET_ACQUAINTANCES:return this.setAcquaintances(e,t.acquaintances);case r.a.GET_ACQUAINTANCES_FAILED:return this.getAcquaintancesFailed(e,t.error);default:return e}}}t.default=f},function(e,t,n){"use strict";n.r(t),n.d(t,"EMOTARS",(function(){return i})),n.d(t,"USER_MENU",(function(){return o}));const i="emotars",o="userMenu"},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(11)),s=i(n(674)),r=i(n(590)),a=i(n(586));class l extends o.default{constructor(e){super(e)}getInitialState(){return{versionsAssets:{},componentsAssets:{}}}reset(){return this.getInitialState()}setVersionAssets(e,{vid:t,assets:n}){return Object.assign(Object.assign({},e),{versionsAssets:Object.assign(Object.assign({},e.versionsAssets),{[t]:n})})}setComponentAssets(e,{coid:t,assets:n}){return Object.assign(Object.assign({},e),{componentsAssets:Object.assign(Object.assign({},e.componentsAssets),{[t]:n})})}updateVersionAssetOptimizedContents(e,{vid:t,assets:n}){const i=e.versionsAssets[t];return i&&i.length?Object.assign(Object.assign({},e),{versionsAssets:Object.assign(Object.assign({},e.versionsAssets),{[t]:i.map(e=>{const t=n.find(({_id:t})=>t===e._id);return t?Object.assign(Object.assign({},e),{contents:e.contents.map(e=>{const n=t.contents.find(({_id:t,originalContentId:n})=>e._id===n||t);return n?Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),n)}):e})}):e})})}):e}updateVersionAssetOptimizedContent(e,{vid:t,vaid:n,vacid:i,patch:o}){const s=e.versionsAssets[t];return s&&s.length?Object.assign(Object.assign({},e),{versionsAssets:Object.assign(Object.assign({},e.versionsAssets),{[t]:s.map(e=>e._id!==n?e:Object.assign(Object.assign({},e),{contents:e.contents.map(e=>e._id!==i?e:Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),o)}))}))})}):e}processVersionAssetContentRequest(e,{vid:t,vaid:n,vacid:i}){return this.updateVersionAssetOptimizedContent(e,{vid:t,vaid:n,vacid:i,patch:{status:"processing"}})}processVersionAssetContentFailure(e,{vid:t,vaid:n,vacid:i}){return this.updateVersionAssetOptimizedContent(e,{vid:t,vaid:n,vacid:i,patch:{status:"error"}})}updateComponentVersionAssetOptimizedContents(e,{coid:t,assets:n}){const i=e.componentsAssets[t];return i&&i.length?Object.assign(Object.assign({},e),{componentsAssets:Object.assign(Object.assign({},e.componentsAssets),{[t]:i.map(e=>{const t=n.find(({_id:t})=>t===e._id);return t?Object.assign(Object.assign({},e),{contents:e.contents.map(e=>{const n=t.contents.find(({_id:t,originalContentId:n})=>e._id===n||t);return n?Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),n)}):e})}):e})})}):e}updateComponentVersionAssetOptimizedContent(e,{coid:t,vaid:n,vacid:i,patch:o}){const s=e.componentsAssets[t];return s&&s.length?Object.assign(Object.assign({},e),{componentsAssets:Object.assign(Object.assign({},e.componentsAssets),{[t]:s.map(e=>e._id!==n?e:Object.assign(Object.assign({},e),{contents:e.contents.map(e=>e._id!==i?e:Object.assign(Object.assign({},e),{optimized:Object.assign(Object.assign({},e.optimized),o)}))}))})}):e}processComponentVersionAssetContentRequest(e,{coid:t,vaid:n,vacid:i}){return this.updateComponentVersionAssetOptimizedContent(e,{coid:t,vaid:n,vacid:i,patch:{status:"processing"}})}processComponentVersionAssetContentFailure(e,{coid:t,vaid:n,vacid:i}){return this.updateComponentVersionAssetOptimizedContent(e,{coid:t,vaid:n,vacid:i,patch:{status:"error"}})}reduce(e,t){switch(t.type){case a.default.RESET:case r.default.RESET:return this.reset();case s.default.SET_VERSION_ASSETS:return this.setVersionAssets(e,t);case s.default.SET_COMPONENT_ASSETS:return this.setComponentAssets(e,t);case s.default.UPDATE_VERSION_ASSET_OPTIMIZED_CONTENTS:return this.updateVersionAssetOptimizedContents(e,t);case s.default.PROCESS_VERSION_ASSET_CONTENT_REQUEST:return this.processVersionAssetContentRequest(e,t);case s.default.PROCESS_VERSION_ASSET_CONTENT_FAILURE:return this.processVersionAssetContentFailure(e,t);case s.default.UPDATE_COMPONENT_VERSION_ASSET_OPTIMIZED_CONTENTS:return this.updateComponentVersionAssetOptimizedContents(e,t);case s.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST:return this.processComponentVersionAssetContentRequest(e,t);case s.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_FAILURE:return this.processComponentVersionAssetContentFailure(e,t);default:return e}}}t.default=l},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SET_VERSION_ASSETS="assets/setVersionAssets",e.SET_COMPONENT_ASSETS="assets/setComponentAssets",e.UPDATE_VERSION_ASSET_OPTIMIZED_CONTENTS="assets/updateVersionAssetOptimizedContents",e.PROCESS_VERSION_ASSET_CONTENT_REQUEST="assets/processVersionAssetContentRequest",e.PROCESS_VERSION_ASSET_CONTENT_FAILURE="assets/processVersionAssetContentFailure",e.UPDATE_COMPONENT_VERSION_ASSET_OPTIMIZED_CONTENTS="assets/updateComponentVersionAssetOptimizedContents",e.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST="assets/processComponentVersionAssetContentRequest",e.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_FAILURE="assets/processComponentVersionAssetContentFailure"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(11)),r=o(n(676)),a=o(n(591)),l=n(643),c=n(677),d={getIdsFromParameters:e=>e.projects.flatMap(({screens:e})=>e).flatMap(({dots:e})=>e),updateDotState(e,t,n){const{_id:o,name:s,color:r,status:a}=n,l=null!=o?o:t,d={_id:l,status:a,name:s,color:r};if(!c.isAllPropertiesFilled(d)&&!e.dots[t])return e;c.deleteEmptyProperties(d);const u=e.dots,p=t,h=u[p],f=i(u,["symbol"==typeof p?p:p+""]);f[l]=Object.assign(Object.assign({},h),d);const g=e.errorDotIds.filter(e=>e!==l);return Object.assign(Object.assign({},e),{errorDotIds:g,dots:f})}};class u extends s.default{constructor(e){super(e)}getInitialState(){return{loadingDotIds:[],errorDotIds:[],dots:{}}}requestDotStates(e,{parameters:t}){const n=d.getIdsFromParameters(t),i=l.union(e.loadingDotIds,n),o=l.difference(e.errorDotIds,n);return Object.assign(Object.assign({},e),{errorDotIds:o,loadingDotIds:i})}addDotStates(e,{parameters:t,response:n}){const i=d.getIdsFromParameters(t),o=n.projects.flatMap(({screens:e})=>e).flatMap(({dots:e})=>e),s=o.map(({_id:e})=>e),r=l.difference(i,s),a=l.difference(e.loadingDotIds,i),c=l.union(e.errorDotIds,r);return Object.assign(Object.assign({},e),{loadingDotIds:a,errorDotIds:c,dots:Object.assign(Object.assign({},e.dots),Object.fromEntries(o.map(e=>[e._id,e])))})}dotStatesError(e,{parameters:t}){const n=d.getIdsFromParameters(t),i=l.difference(e.loadingDotIds,n);return Object.assign(Object.assign({},e),{loadingDotIds:i})}addDotState(e,{dot:t}){return d.updateDotState(e,t._id,t)}updateDotState(e,{did:t,dotData:n}){return d.updateDotState(e,t,n)}updateDotColor(e,{did:t,color:n}){return d.updateDotState(e,t,{color:n})}updateDotStatus(e,{did:t,status:n}){return d.updateDotState(e,t,{status:n})}reduce(e,t){switch(t.type){case r.default.RequestDotStates:return this.requestDotStates(e,t);case r.default.AddDotStates:return this.addDotStates(e,t);case r.default.DotStatesError:return this.dotStatesError(e,t);case a.default.ADD_DOT:return this.addDotState(e,t);case a.default.UPDATE_DOT:return this.updateDotState(e,t);case a.default.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case a.default.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);default:return e}}}t.default=u},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RequestDotStates="dotStates/request",e.AddDotStates="dotStates/add",e.DotStatesError="dotStates/error"}(i||(i={})),t.default=i},function(e,t,n){"use strict";function i(e){return null!=e}function o(e){return Object.keys(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEmptyProperties=t.isAllPropertiesFilled=t.entriesOf=t.keysOf=t.exists=void 0,t.exists=i,t.keysOf=o,t.entriesOf=function(e){return Object.entries(e)},t.isAllPropertiesFilled=function(e){return o(e).every(t=>e[t])},t.deleteEmptyProperties=function(e){o(e).forEach(t=>{i(e[t])||delete e[t]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e){const{id:t,label:n,accelerator:o,type:s,enabled:r,checked:a,visible:l,role:c,submenu:d}=e;this.id=t,this.label=n,this.accelerator=o,this.type=s,this.enabled=r,this.checked=a,this.visible=l,this.role=c,this.submenu=d?d.map(e=>new i(e)):null}}},function(e,t,n){"use strict";n.r(t);t.default={PROJECT_SUBMENU:"PROJECT",NEW_PROJECT:"NEW_PROJECT",OPEN_RECENT_PROJECT_SUBMENU:"OPEN_RECENT_PROJECT_SUBMENU",OPEN_RECENT_PROJECT:"OPEN_RECENT_PROJECT",STYLEGUIDE_SUBMENU:"STYLEGUIDE",NEW_STYLEGUIDE:"NEW_STYLEGUIDE",OPEN_RECENT_STYLEGUIDE_SUBMENU:"OPEN_RECENT_STYLEGUIDE_SUBMENU",OPEN_RECENT_STYLEGUIDE:"OPEN_RECENT_STYLEGUIDE",EDIT_SUBMENU:"EDIT",DELETE_PROJECT:"DELETE_PROJECT",DELETE_STYLEGUIDE:"DELETE_STYLEGUIDE",LEAVE_PROJECT:"LEAVE_PROJECT",LEAVE_STYLEGUIDE:"LEAVE_STYLEGUIDE",RENAME_SCREEN:"RENAME_SCREEN",DELETE_SCREEN:"DELETE_SCREEN",SET_AS_THUMBNAIL:"SET_AS_THUMBNAIL",ADD_TAG:"ADD_TAG",MANAGE_TAGS:"MANAGE_TAGS",VIEW_SUBMENU:"VIEW",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",ACTUAL_SIZE:"ACTUAL_SIZE",RESET_APP_ZOOM_FACTOR:"RESET_APP_ZOOM_FACTOR",OPEN_POPOUT:"OPEN_POPOUT",WORKSPACE:"WORKSPACE",DASHBOARD:"DASHBOARD",STYLEGUIDE:"STYLEGUIDE",JUMP_TO_SCREEN:"JUMP_TO_SCREEN",EXPAND_ALL_SECTIONS:"EXPAND_ALL_SECTIONS",COLLAPSE_ALL_SECTIONS:"COLLAPSE_ALL_SECTIONS",SHOW_VERSIONS:"SHOW_VERSIONS",HIDE_VERSIONS:"HIDE_VERSIONS",SHOW_BADGE:"SHOW_BADGE",TOGGLE_FULL_SCREEN:"TOGGLE_FULL_SCREEN",RELOAD:"RELOAD",RELOAD_IGNORING_CACHE:"RELOAD_IGNORING_CACHE",TOGGLE_DEV_TOOLS:"TOGGLE_DEV_TOOLS",TOGGLE_DEV_TOOLS_HOST:"TOGGLE_DEV_TOOLS_HOST",WINDOW_SUBMENU:"WINDOW",MINIMIZE:"MINIMIZE",CLOSE:"CLOSE",HELP_SUBMENU:"HELP",CHECK_FOR_UPDATES:"CHECK_FOR_UPDATES",CHECK_FOR_PLUGIN_UPDATES:"CHECK_FOR_PLUGIN_UPDATES",INSTALL_UPDATES_AUTOMATICALLY:"INSTALL_UPDATES_AUTOMATICALLY",INSTALL_FIGMA_PLUGIN:"INSTALL_FIGMA_PLUGIN",INSTALL_PHOTOSHOP_PLUGIN:"INSTALL_PHOTOSHOP_PLUGIN",SHOW_LOGS_IN_EXPLORER:"SHOW_LOGS_IN_EXPLORER",RESET_SUGGESTED_COLORS:"RESET_SUGGESTED_COLORS",RESET_SUGGESTED_TEXT_STYLES:"RESET_SUGGESTED_TEXT_STYLES",CLEAR_CACHE_AND_RESTART:"CLEAR_CACHE_AND_RESTART",RESET_ZEPLIN:"RESET_ZEPLIN",OPEN_HELP_CENTER:"OPEN_HELP_CENTER",ABOUT_ZEPLIN:"ABOUT_ZEPLIN"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582)),s=i(n(681)),r=n(559),a=i(n(574)),l=n(541),c={[a.default.PROJECT]:r.permissions.canCreateProject,[a.default.STYLEGUIDE]:r.permissions.canCreateStyleguide};function d(e){const{barrelId:t}=o.default.BarrelStore.getState(),{selectedOrganizationId:n}=o.default.SpaceStore.getState(),{paymentPlan:i}=o.default.UserStore.getState(),{organizations:r,organizationProfiles:a}=o.default.OrganizationStore.getState(),d=t?s.default.findBarrelOrganizationId(t):n,u="string"==typeof i?"free"!==i:"free"!==i.id;if("user"===d)return u||l.isWindowsApp;const p=r.find(e=>e._id===d),h=a[d];return p&&"suspended"!==p.status&&h&&c[e](h)}t.default={canCreateProject:function(){return d(a.default.PROJECT)},canCreateStyleguide:function(){return d(a.default.STYLEGUIDE)}}},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(682),r=n(574),a=n.n(r),l=n(556),c=n(559),d=n(643),u=n(684),p=n.n(u);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b({bid:e}={}){let t=e;if(t||({barrelId:t}=o.a.BarrelStore.getState()),!t)return null;const{projects:n}=o.a.ProjectsDataStore.getState();if(n&&t in n)return n[t];const{styleguides:i}=o.a.StyleguidesDataStore.getState();return i&&t in i?i[t]:null}function S({bid:e,uid:t}={}){const n=b({bid:e});if(!n)return null;let i=t;if(i||({userId:i}=o.a.UserStore.getState()),Object(c.isOrganizationProject)(n)){const{members:e}=s.default.getOrganization()||{};if(e&&e.length)return e.find(({user:e})=>e._id===i)}return n.users.find(({user:e})=>e._id===i)}function y(e){const{organizationId:t="user",barrelType:n=a.a.PROJECT}=o.a.BarrelStore.getState(),i=S(),s=n===a.a.PROJECT?"projects":"styleguides";return"user"!==t&&i?Object(l.urlResolve)("workspace-"+s,{url:{oid:t},query:e}):Object(l.urlResolve)(s,{query:e})}function v(e,t){return e.some(({user:{_id:e}})=>e===t._id)}function C(e,t){let n;if("linked"===e.status){const e=t.find(e=>"linked"!==e.remPreferences.status);n=e&&e.remPreferences}return n||e}function O(e,t){let n;return"linked"!==e.status&&(n=t.find(e=>"linked"!==e.remPreferences.status&&"web"===e.type)),n&&{name:n.name,remPreferences:n.remPreferences}}t.default={hasProject:function(e){const{projects:t}=o.a.ProjectsDataStore.getState();return t&&e in t},hasStyleguide:function(e){const{styleguides:t}=o.a.StyleguidesDataStore.getState();return t&&e in t},getBarrel:b,getProject:function({pid:e}={}){let t=e;if(!t){const{barrelId:e,barrelType:n}=o.a.BarrelStore.getState();n===a.a.PROJECT&&(t=e)}if(!t)return null;const{projects:n}=o.a.ProjectsDataStore.getState();return n&&t in n?n[t]:null},findUser:S,isUserRestricted:function(){const e=S();return e&&"pawn"===e.role},getVariantGroupOfScreen:function(e){const{variantGroups:t=[]}=b()||{};return t.find(t=>t.screens.some(({id:t})=>t===e))},findBarrelOrganizationId:function(e){if(!b({bid:e}))return null;const{organizationProjects:t,organizationStyleguides:n}=o.a.OrganizationStore.getState();for(const[i,o]of Object.entries(t))if(o.includes(e))return i;for(const[i,o]of Object.entries(n))if(o.includes(e))return i;return null},getWorkspaceURL:y,getStyleguidesData:function({barrelStore:e,styleguidesDataStore:t,projectsDataStore:n}){const i=e.getState(),{loading:o}=i,s=m(i,["loading"]);if(o)return[];const{styleguides:r}=t.getState(),l=b(),u=S(),{barrelId:p,barrelType:h}=s;if(l.partial||!u)return[];const{name:g,type:y,colors:E,textStyles:T,spacingSections:_,remPreferences:P,componentSections:D,connectedComponents:I,localConnectedComponents:j,users:k,dimensionSuffix:R,densityScale:A}=l,w=h===a.a.STYLEGUIDE?g:"Local Styleguide",N=function(e,t){if(t===a.a.STYLEGUIDE)return[...e.ancestors].reverse();if(!e.styleguideLink)return[];const{styleguideLink:{styleguide:n,status:i}}=e;if("active"===i){const e=[...n.ancestors].reverse();return[n._id,...e]}return[]}(l,h).map(e=>r[e]).filter(Boolean);return[{id:p,name:w,type:y,colors:E,textStyles:T,spacingSections:_.map(e=>f(f({},e),{},{spacingTokens:Object(d.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:C(P,N),parentStyleguideToInheritRemPreferences:O(P,N),componentSections:D,connectedComponents:I,localConnectedComponents:j,isMember:v(k,u.user),isOrganizationBarrel:Object(c.isOrganizationProject)(l),dimensionSuffix:R,densityScale:A},...N.map((e,t)=>({id:e._id,name:e.name,type:e.type,colors:e.colors,textStyles:e.textStyles,spacingSections:e.spacingSections.map(e=>f(f({},e),{},{spacingTokens:Object(d.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:C(e.remPreferences,N.slice(t+1)),componentSections:e.componentSections,connectedComponents:e.connectedComponents,localConnectedComponents:e.localConnectedComponents,isMember:v(e.users,u.user),isOrganizationBarrel:Object(c.isOrganizationProject)(e),dimensionSuffix:e.dimensionSuffix,densityScale:e.densityScale}))]},navigateToWorkspace:function(e){const t=y(e);setTimeout(()=>p.a.history.push(t),4)}}},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(683);function r(e){const{organizationProjects:t}=o.a.OrganizationStore.getState(),{projects:n}=o.a.ProjectsDataStore.getState(),i=t[e];if(i)return i.map(e=>n[e])}function a(e){const{organizations:t,organizationProjects:n}=o.a.OrganizationStore.getState();for(const[i,o]of Object.entries(n))if(o.includes(e)){const n=t.find(e=>e._id===i);if(n&&n.sections){const t=n.sections.find(t=>t.projects.find(t=>t===e));if(t)return t}}return null}function l({itemIds:e,visibleItems:t,visibleTargetIndex:n,firstDroppableIndex:i=0}){let o;return t.length<=i?e.length:n===i?(o=t[n],e.indexOf(o._id)):(o=t[n-1],e.indexOf(o._id)+1)}function c(e,t){const{showArchivedProjects:n}=o.a.SpaceStore.getState(),i=Object(s.getOrganization)(e).sections.find(e=>e._id===t),a=r(e);return i.projects.map(e=>a.find(t=>t._id===e&&(n||"archived"!==t.status))).filter(Boolean)}t.default={getOrganization:s.getOrganization,getOrganizationMembers:s.getOrganizationMembers,getOrganizationMember:s.getOrganizationMember,getOrganizationProjectsWithLookup:s.getOrganizationProjectsWithLookup,getOrganizationProjects:r,getOrganizationStyleguides:function(e){const{organizationStyleguides:t}=o.a.OrganizationStore.getState(),{styleguides:n}=o.a.StyleguidesDataStore.getState(),i=t[e];if(i)return i.map(e=>n[e])},getOrganizationWorkflowStatus:function(e,t){const{organizations:n}=o.a.OrganizationStore.getState(),{workflowStatuses:i}=n.find(({id:t})=>t===e)||{};return i.find(({_id:e})=>e===t)},getOrganizationProfile:function(e){const{organizationProfiles:t}=o.a.OrganizationStore.getState();return t[e]},getCollapsableSectionIds:s.getCollapsableSectionIds,getCollapsedSectionIds:s.getCollapsedSectionIds,getExpandedSectionIds:s.getExpandedSectionIds,findSectionIndicesOfProjects:function(e,t){const{sections:n}=Object(s.getOrganization)(e);return t.map(e=>{const t=n.find(t=>t.projects.includes(e)),i=t.projects.findIndex(t=>t._id===e);return{pid:e,oseid:t._id,index:i}})},findProjectOrganizationId:s.findProjectOrganizationId,findProjectOrganizationSection:a,findProjectOrganizationSectionId:function(e){const t=a(e);return t?t._id:null},findActualDropIndex:l,getVisibleProjectsOfSection:c,whereToDropSectionInWorkspace:function({oid:e,index:t}){const{sections:n,sectionIds:i}=Object(s.getOrganization)(e);return l({itemIds:i,visibleItems:n,visibleTargetIndex:t,firstDroppableIndex:1})},whereToDropProjectInSection:function({oid:e,oseid:t,index:n}){const i=Object(s.getOrganization)(e).sections.find(e=>e._id===t),o=c(e,t),r=void 0===n?o.length:n;return l({itemIds:i.projects,visibleItems:o,visibleTargetIndex:r})}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOrganizationProjectsWithLookup=t.getExpandedSectionIds=t.getCollapsedSectionIds=t.getCollapsableSectionIds=t.findProjectOrganizationId=t.getOrganizationMember=t.getOrganizationMembers=t.getOrganization=void 0;const o=i(n(582));function s(e,{pid:t}={}){let n=null!=e?e:o.default.BarrelStore.getState().organizationId;if(!n&&t&&(n=a(t)),!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return i.find(e=>e._id===n)}function r(e){var t;const n=e||o.default.BarrelStore.getState().organizationId;if(!n)return null;const{organizations:i}=o.default.OrganizationStore.getState();return null===(t=i.find(({_id:e})=>e===n))||void 0===t?void 0:t.members}function a(e){const{organizationProjects:t}=o.default.OrganizationStore.getState();for(const[n,i]of Object.entries(t))if(i.includes(e))return n;return null}function l(e){return s(e||o.default.SpaceStore.getState().selectedOrganizationId).sections.filter(e=>"individual"!==e.type).map(e=>e._id)}t.getOrganization=s,t.getOrganizationMembers=r,t.getOrganizationMember=function(e,t){const n=r(e);return n?n.find(({user:e})=>e._id===t):null},t.findProjectOrganizationId=a,t.getCollapsableSectionIds=l,t.getCollapsedSectionIds=function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter(e=>t[e])},t.getExpandedSectionIds=function(e){const{collapsedSections:t}=o.default.SpaceStore.getState();return l(e).filter(e=>!t[e])},t.getOrganizationProjectsWithLookup=function({oid:e,archivedProjectsVisible:t}){const{organizationProjects:n}=o.default.OrganizationStore.getState(),{projects:i}=o.default.ProjectsDataStore.getState(),s=n[e];if(s)return s.reduce((e,n)=>t||"archived"!==i[n].status?(e.projects.push(i[n]),e.lookup[n]=i[n],e):e,{projects:[],lookup:{}})}},function(e,t,n){"use strict";var i,o,s,r,a,l,c,d,u,p,h,f,g,m,b,S,y,v,C,O,E,T,_,P,D=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},I=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});const j=n(556),k=n(540);class R{constructor(e,t){i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),r.set(this,e=>{if("#"!==I(this,i).href&&(!I(this,o).match(I(this,i).href)||k.cmdKey(e)))return;if(e.preventDefault(),I(this,i).href===window.location.href)return;if(I(this,o).shouldPreventNavigation(I(this,i).href,e))return;const t={};"flowNav"in I(this,i).dataset&&(t.flowNavigation=!0);const n=location.href;switch(this.navigationOperation){case"replace":I(this,o).history.replace(I(this,i).href,t);break;case"pop":I(this,o).history.pop();break;case"push":default:I(this,o).history.push(I(this,i).href,t)}"back"in I(this,i).dataset&&(I(this,i).dataset.back&&I(this,o).onSetBackButton?I(this,o).onSetBackButton(I(this,i).dataset.back,n):I(this,o).onResetBackButton&&I(this,o).onResetBackButton())}),D(this,i,e),D(this,o,t),I(this,i).routerLink&&I(this,i).removeEventListener("click",I(I(this,i).routerLink,s)),D(this,s,I(this,r).bind(this)),I(this,i).routerLink=this,I(this,i).addEventListener("click",I(this,s))}get element(){return I(this,i)}get navigationOperation(){return I(this,i).dataset.navOp}}i=new WeakMap,o=new WeakMap,s=new WeakMap,r=new WeakMap;class A{constructor(e){a.set(this,void 0),l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),u.set(this,void 0),p.set(this,{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}),this.attach=e=>{const t=I(this,c);return I(this,l)[t]=e,D(this,c,+I(this,c)+1),t},this.detach=e=>{delete I(this,l)[e]},this.push=(e,{state:t,flowNavigation:n}={})=>{n?I(this,d).push({url:location.href,state:I(this,a).state}):I(this,d).length=0,I(this,a).pushState(t,"",e),I(this,h).call(this,{action:I(this,p).PUSH_STATE,state:t,url:e})},this.replace=(e,{state:t,flowNavigation:n}={})=>{n?I(this,d).push({url:location.href,state:I(this,a).state}):I(this,d).length=0,I(this,a).replaceState(t,"",e),I(this,h).call(this,{action:I(this,p).REPLACE_STATE,state:t,url:e})},this.pop=()=>{if(!I(this,d).length)return;const{state:e,url:t}=I(this,d).pop();I(this,a).pushState(e,"",t),I(this,h).call(this,{action:I(this,p).PUSH_STATE,state:e,url:window.location.toString()})},h.set(this,e=>{Object.keys(I(this,l)).forEach(t=>{I(this,l)[t](e)},this)}),f.set(this,e=>{I(this,u).onResetBackButton&&I(this,u).onResetBackButton(),I(this,h).call(this,{action:I(this,p).POP_STATE,state:e.state,url:window.location.toString()})}),D(this,a,window.history),D(this,l,{}),D(this,c,0),D(this,d,[]),D(this,u,e),window.addEventListener("popstate",I(this,f).bind(this))}}a=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap;g=new WeakMap,m=new WeakMap,b=new WeakMap,S=new WeakMap,y=new WeakMap,v=new WeakMap,C=new WeakMap,O=new WeakMap,E=new WeakMap,T=new WeakMap,_=new WeakMap,P=new WeakMap;const w=new class{constructor(){g.set(this,void 0),m.set(this,void 0),b.set(this,void 0),S.set(this,void 0),y.set(this,void 0),this.match=e=>!!I(this,E).call(this,I(this,O).call(this,e)).length,this.route=(e,t,{unshift:n}={unshift:!1})=>(I(this,C).call(this,{regex:e,handler:t},{unshift:n}),this),this.start=e=>(I(this,P).call(this,e),I(this,T).call(this,window.location.href),this),this.reload=()=>I(this,T).call(this,window.location.href,{reload:!0}),this.addPrevention=(e,t)=>I(this,m).push({regex:e,handler:t}),this.shouldPreventNavigation=(e,t)=>{const n=I(this,O).call(this,e);return I(this,m).find(({regex:e,handler:i})=>e.test(n.pathname)&&i({url:n,match:n.pathname.match(e).slice(1),query:j.parseUrlParams(n.search),ev:t}))},v.set(this,e=>new R(e,this)),C.set(this,(e,{unshift:t})=>{t?I(this,g).unshift(e):I(this,g).push(e)}),O.set(this,e=>"string"==typeof e?new URL(e,window.location.origin):e),E.set(this,e=>I(this,g).filter(t=>t.regex.test(e.pathname))),T.set(this,(e,{reload:t=!1}={})=>{const n=I(this,O).call(this,e),i=I(this,E).call(this,n);if(i.length)return i.reduce((e,i)=>e.then(()=>i.handler({url:n,match:n.pathname.match(i.regex).slice(1),query:j.parseUrlParams(n.search),reload:t})),Promise.resolve());location.assign(n.toString())}),_.set(this,e=>e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce((e,t)=>e.concat(I(this,_).call(this,t)),[])),P.set(this,e=>{const t=e.querySelectorAll('[data-link-type="inApp"]');Array.from(t).forEach(e=>{I(this,v).call(this,e)});new MutationObserver(e=>{e.forEach(e=>{if("attributes"===e.type){const t=e.target;"inApp"===t.dataset.linkType&&I(this,v).call(this,t)}else"childList"===e.type&&Array.from(e.addedNodes).forEach(e=>{I(this,_).call(this,e).forEach(e=>{I(this,v).call(this,e)})})})}).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}),D(this,g,[]),D(this,m,[]),D(this,b,new A(this)),D(this,S,null),D(this,y,null),I(this,b).attach(e=>{I(this,T).call(this,e.url)})}get history(){return I(this,b)}set onSetBackButton(e){D(this,S,e)}get onSetBackButton(){return I(this,S)}set onResetBackButton(e){D(this,y,e)}get onResetBackButton(){return I(this,y)}};t.default=w},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(678),o=n(679),s=n(686),r=n(559),a=n(582),l=n.n(a),c=n(681),d=n(574),u=n.n(d),p=n(687);function h(e,t,n){return e?{id:t===u.a.PROJECT?o.default.DELETE_PROJECT:o.default.DELETE_STYLEGUIDE,label:t===u.a.PROJECT?"Delete project…":"Delete styleguide…",enabled:!!e&&r.permissions.canDeleteProject(n)}:{id:o.default.DELETE_PROJECT,label:"Delete project…",enabled:!1}}function f(e,t,n){return e?{id:t===u.a.PROJECT?o.default.LEAVE_PROJECT:o.default.LEAVE_STYLEGUIDE,label:t===u.a.PROJECT?"Leave project…":"Leave styleguide…",enabled:t===u.a.PROJECT?r.permissions.canLeaveProject(n):r.permissions.canLeaveStyleguide(n)}:{id:o.default.DELETE_PROJECT,label:"Leave project…",enabled:!1}}function g(e,t,n){return e&&t?{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:r.permissions.canManageScreens(n)}:{id:o.default.DELETE_SCREEN,label:"Delete screen…",enabled:!1}}function m(e,t,n){return e&&t?{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:r.permissions.canUpdateProject(n)&&(!e.thumbnail||e.thumbnail!==t.versions[0].snapshot.url)}:{id:o.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:!1}}function b(e,t,n){if(!e||!t)return{id:o.default.MANAGE_TAGS,label:"Manage tags…",accelerator:"Alt+T",enabled:!1};const i=t.tags&&0!==t.tags.length;return{id:i?o.default.MANAGE_TAGS:o.default.ADD_TAG,label:i?"Manage tags…":"Add tag…",accelerator:"Alt+T",enabled:r.permissions.canManageScreens(n)}}function S(){const{barrelType:e}=l.a.BarrelStore.getState(),t=c.default.getBarrel(),n=p.default.getScreen(),r=c.default.findUser();return new i.default({id:o.default.EDIT_SUBMENU,label:"Edit",submenu:[h(t,e,r),f(t,e,r),s.default,g(t,n,r),s.default,m(t,n,r),s.default,b(t,n,r)]})}},function(e,t,n){"use strict";n.r(t),t.default={type:"separator"}},function(e,t,n){"use strict";n.r(t);var i=n(681),o=n(582),s=n.n(o),r=n(688),a=n(556),l=n(684),c=n.n(l);function d({bid:e,sid:t}={}){const n=i.default.getBarrel({bid:e});if(!n||!n.screens)return null;let o=t;return o||({screenId:o}=s.a.ScreenStore.getState()),o?n.screens.find(e=>e._id===o):null}function u(){const e=i.default.getBarrel();if(!e||!e.screens)return null;const{filterValue:t,sortType:n,tagFilter:o,jiraIssueFilter:a}=s.a.DashboardStore.getState(),{sortedSections:l,variantGroupsMapping:c}=Object(r.filterSortScreens)(e,n,{filterValue:t,tagFilter:o,jiraIssueFilter:a}),d=Object.keys(c).reduce((e,t)=>(c[t].variants.forEach(({id:n})=>{e[n]=t}),e),{});return{visibleScreens:l.flatMap(e=>e.screens),variantScreenMapping:d}}function p({bid:e,sid:t}={}){const n=d({bid:e,sid:t});return n&&n.dots?n.dots:null}function h({bid:e,sid:t,did:n}={}){const i=p({bid:e,sid:t});if(!i)return null;let o=n;return o||({dotId:o}=s.a.DotsStore.getState()),o?i.find(e=>e._id===o):null}t.default={getScreens:function({bid:e,sids:t=[]}={}){const n=i.default.getBarrel({bid:e});return n&&n.screens?n.screens.reduce((e,n)=>(t.includes(n._id)&&e.push(n),e),[]):null},getScreen:d,getVersion:function({bid:e,sid:t,vid:n}={}){const i=d({bid:e,sid:t});if(!i||!i.versions)return null;let o=n;return o||({versionId:o}=s.a.ScreenStore.getState()),o?i.versions.find(e=>e._id===o):null},getFilteredScreens:u,getPreviousScreen:function(e){const{visibleScreens:t,variantScreenMapping:n}=u();if(!t)return null;const i=n[e]||e,o=t.findIndex(e=>e._id===i);return o<1?null:t[o-1]},getNextScreen:function(e){const{visibleScreens:t,variantScreenMapping:n}=u();if(!t)return null;const i=n[e]||e,o=t.findIndex(e=>e._id===i);return-1===o||o===t.length-1?null:t[o+1]},getSectionOfScreen:function({bid:e,sid:t}={}){const n=i.default.getBarrel({bid:e});if(!n||!n.sections)return null;let o=t;return o||({screenId:o}=s.a.ScreenStore.getState()),o?n.sections.find(e=>e.screens.includes(o)):null},getDots:p,getDot:h,getComment:function({bid:e,sid:t,did:n,cmid:i}={}){const o=h({bid:e,sid:t,did:n});return o&&o.comments?o.comments.find(e=>e._id===i):null},navigateToScreen:function(e){const{barrelId:t}=s.a.BarrelStore.getState();c.a.history.push(Object(a.urlResolve)("project-screen",{url:{pid:t,sid:e}}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"createItemSectionMap",(function(){return y})),n.d(t,"filterSortScreens",(function(){return C})),n.d(t,"filterSortProjectSections",(function(){return v}));var i=n(559),o=n(543),s=n(568),r=n(641),a=n(560),l=n(626),c=n.n(l);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n){return{_id:e,[n]:t,type:"default",name:"default"}}function f(e,t,n){const o={};return e.filter(e=>{const i=n&&n(e),r=Object(s.calculateMatchingScore)(t,e.name,i);return o[e._id]=r,r}).sort((e,t)=>{const n=o[t._id]-o[e._id];return n||i.sortBy.name(e,t)})}function g({sections:e,items:t,itemsLookup:n,itemKey:s,sortType:r,shouldPutResultsToDefaultSection:l=!1}){if(!i.sortBy[r])return S(e,n,t,s);const c=t.slice(0).sort(i.sortBy[r]);return l?[h("sorted",c,s)]:r===o.SortTypes.CREATED||r===o.SortTypes.UPDATED?function(e,t){const n=[],o={};return e.forEach(e=>{const t=Object(i.getTimeSlot)(new Date(e.updated));let s;t in o?s=o[t]:(n.push(t),s=[],o[t]=s),s.push(e)},{}),n.map(e=>({_id:e,key:e,name:Object(a.uppercaseFirst)(e),actionsDisabled:!0,[t]:o[e],type:"timeline"}))}(c,s):r===o.SortTypes.NAME?function(e,t){const n=[],i=e.reduce((e,t)=>{const i=t.name.substr(0,1),o=Object(a.isLetter)(i)?i.toUpperCase():"#";return e[o]?e[o].push(t):(n.push(o),e[o]=[t]),e},{});return n.map(e=>({_id:e,key:e,name:e,actionsDisabled:!0,[t]:i[e],type:"name"}))}(c,s):void 0}function m(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;var i;return t.tags.length?(i=t.tags,n=Array.isArray(i)?e=>i.reduce((t,n)=>t&&e.tags&&e.tags.includes(n),!0):e=>e.tags&&e.tags.includes(i)):t.untagged&&(n=e=>!e.tags||!e.tags.length),e.map(e=>Object.assign(e,{screens:e.screens.filter(n)})).filter(e=>e.screens.length)}function b(e,t){const{jira:n}=e.integration||{};if(!t||!t.length||!n)return{filteredSections:e.sections,filteredScreens:e.screens};const i=n.attachments.filter(e=>t.some(t=>t.toLowerCase()===e.issueKey.toLowerCase())),o=i.filter(e=>"section"===e.type),s=i.filter(e=>"screen"===e.type),r=y(e.sections,"screens"),a=e.screens.map(e=>u(u({},e),{},{sectionId:r[e._id]})).filter(e=>s.find(t=>t.itemId===e._id)||o.find(t=>t.itemId===e.sectionId));return{filteredSections:e.sections.filter(e=>a.find(t=>t.sectionId===e._id)||!Object.values(r).includes(e._id)&&o.find(t=>t.itemId===e._id)).map(e=>u(u({},e),{},{screens:a.filter(t=>t.sectionId===e._id).map(e=>e._id)})),filteredScreens:a}}function S(e,t,n,i){return e&&e.length?e.map(e=>{let o=u({},e);return o[i]=e[i].map(e=>t?t[e]:n.find(t=>t._id===e)).filter(Boolean),e.type||(o.type="user"),o}):[]}function y(e,t){return e.reduce((e,n)=>(n[t].forEach(t=>{e[t]=n._id}),e),{})}function v({sections:e,projects:t,projectsLookup:n,sortType:o,filterValue:s=null,statusFilter:r=null,shouldPutResultsToDefaultSection:a}){if(s)return function(e,t,n,o){const s=y(e,"projects");let r=f(t,o,e=>Object(i.getPlatformString)(e.type)).reduce((e,t)=>{const n=s[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{}),a=f(e,o);return S(e.map(e=>r[e._id]?u(u({},e),{},{projects:r[e._id],collapsed:!0}):a.find(t=>t._id===e._id)).filter(Boolean),n,t,"projects")}(e,t,n,s);const{filteredSections:l,filteredProjects:d}=function(e,t,n){if(!n||n===c.a.All._id)return{filteredSections:e,filteredProjects:t};const i=y(e,"projects"),o=t.filter(({workflowStatus:{_id:e}})=>e===n),s=o.reduce((e,t)=>{const n=i[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{});return{filteredSections:e.map(e=>s[e._id]?u(u({},e),{},{projects:s[e._id],collapsed:!0}):null).filter(Boolean),filteredProjects:o}}(e,t,r);return g({sections:l,items:d,itemsLookup:n,itemKey:"projects",sortType:o,shouldPutResultsToDefaultSection:a})}function C(e,t,{filterValue:n,tagFilter:i,jiraIssueFilter:o}){let s,a;if(n)return s=function(e,t){const n=f(e.screens,t),{jira:i}=e.integration||{};if(i){const{filteredScreens:i}=b(e,[t]);n.push(...i.filter(e=>!n.some(t=>t._id===e._id)))}return n.length>0?[h("filtered",n,"screens")]:[]}(e,n.toLowerCase()),{sortedSections:s,visibleTags:e.tags,variantGroupsMapping:{}};const{filteredSections:l,filteredScreens:c}=b(e,o);s=m(g({sections:l,items:c,itemKey:"screens",sortType:t}),i),s.length&&e.sections[0]._id===s[0]._id&&(s[0].type="default"),a=Object(r.extractTagsFromScreens)(c);const{tags:d,untagged:u}=i;if("sections"!==t||d.length>0||u||o.length>0)return{sortedSections:s,visibleTags:a,variantGroupsMapping:{}};const{sections:p,variantGroupsMapping:S}=function(e,t){const n={},i={};return e.variantGroups.forEach(e=>{const{screens:t,_id:o,name:s}=e;let r;t.forEach((e,t)=>{const{id:a,variantName:l}=e;0===t?(r=a,n[r]={variantGroupId:o,variantGroupName:s,variantName:l,variants:[]}):(n[r].variants.push(e),i[a]=!0)})}),t.forEach(e=>{e.screens=e.screens.filter(e=>!i[e._id])}),{variantGroupsMapping:n,sections:t}}(e,s);return s=p,{sortedSections:s,visibleTags:a,variantGroupsMapping:S}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var i=n(679),o=n(681),s=n(687),r=n(682),a=n(690),l=n.n(a),c=n(691),d=n.n(c),u=n(541),p=n(686),h=n(574),f=n.n(h),g=n(582),m=n.n(g),b=n(678),S=n(543);const y=/^\/login/;function v(e,t){const n=!!e&&!!t;return[{id:i.default.ZOOM_IN,label:"Zoom in",accelerator:"Alt+=",enabled:n},{id:i.default.ZOOM_OUT,label:"Zoom out",accelerator:"Alt+-",enabled:n},{id:i.default.ACTUAL_SIZE,label:"Actual size",accelerator:"Alt+0",enabled:n},{role:"zoomin",visible:!1},{role:"zoomout",visible:!1},{role:"resetzoom",visible:!1}]}function C(e,t){const n=!!e&&!!t&&u.featureValue.popout;return{id:i.default.OPEN_POPOUT,label:"Pop screen out",accelerator:"Alt+O",enabled:n}}function O(e,t,n){const o=!e&&!y.test(location.pathname),s=!y.test(location.pathname),r=!!e&&n===S.ProjectViewTypes.DASHBOARD,a=!!e&&t===f.a.PROJECT,l=!!e&&n===S.ProjectViewTypes.STYLEGUIDE,c=!!e&&t===f.a.PROJECT;return[{id:i.default.WORKSPACE,label:"Workspace",type:"checkbox",accelerator:"Alt+Shift+A",checked:o,enabled:s},p.default,{id:i.default.DASHBOARD,label:"Dashboard",type:"checkbox",accelerator:"Alt+A",checked:r,enabled:a},{id:i.default.STYLEGUIDE,label:"Styleguide",type:"checkbox",accelerator:"Alt+S",checked:l,enabled:c}]}function E(e){const t=!!e;return{id:i.default.JUMP_TO_SCREEN,label:"Jump to screen…",accelerator:"Alt+J",enabled:t}}function T(e,t){const{page:n}=m.a.AppStore.getState(),{selectedTab:o,selectedProjectSortType:s,selectedOrganizationId:a}=m.a.SpaceStore.getState();let c=0,u=0;if("workspace"===n&&o===S.WorkspaceTabs.PROJECTS)s===S.SortTypes.SECTIONS&&(c=r.default.getCollapsableSectionIds(a).length,u=r.default.getCollapsedSectionIds(a).length);else if("barrel"===n&&e===f.a.PROJECT&&t===S.ProjectViewTypes.DASHBOARD){const{sortType:e}=m.a.DashboardStore.getState();e===S.SortTypes.SECTIONS&&(c=l.a.getCollapsableSectionIds().length,u=l.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===f.a.PROJECT&&t===S.ProjectViewTypes.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=m.a.StyleguideStore.getState();e===S.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(c=d.a.getCollapsableSectionIds().length,u=d.a.getCollapsedSectionIds().length)}else if("barrel"===n&&e===f.a.STYLEGUIDE){const{sortType:e,selectedStyleguideSection:t}=m.a.StyleguideStore.getState();e===S.SortTypes.SECTIONS&&"components"===t.toLowerCase()&&(c=d.a.getCollapsableSectionIds().length,u=d.a.getCollapsedSectionIds().length)}const p=u>0,h=0!==c&&c!==u;return[{id:i.default.EXPAND_ALL_SECTIONS,label:"Expand all sections",enabled:p},{id:i.default.COLLAPSE_ALL_SECTIONS,label:"Collapse all sections",enabled:h}]}function _(e,t,n){const o=!!e&&!!t,s=n?"Hide versions":"Show versions";return{id:n?i.default.HIDE_VERSIONS:i.default.SHOW_VERSIONS,label:s,enabled:o}}function P(e){return e?[p.default,{id:i.default.RESET_APP_ZOOM_FACTOR,label:"Reset app zoom factor"}]:[]}function D(e,t){const n=o.default.getBarrel(),r=s.default.getScreen(),{selectedView:a,barrelType:l}=m.a.BarrelStore.getState(),{versionsVisible:c}=m.a.ScreenStore.getState();return new b.default({id:i.default.VIEW_SUBMENU,label:"View",submenu:[...v(n,r),p.default,C(n,r),p.default,...O(n,l,a),p.default,E(n),p.default,...T(l,a),p.default,_(n,r,c),{id:i.default.SHOW_BADGE,label:"Show badge",type:"checkbox",checked:e},...P(t),p.default,{id:i.default.TOGGLE_FULL_SCREEN,label:"Toggle full screen",role:"toggleFullScreen"},p.default,{id:i.default.RELOAD,label:"Reload",accelerator:"CmdOrCtrl+R"},{id:i.default.RELOAD_IGNORING_CACHE,label:"Reload ignoring cache",accelerator:"CmdOrCtrl+Shift+R"},{id:i.default.TOGGLE_DEV_TOOLS,label:"Toggle dev tools",accelerator:"CmdOrCtrl+Shift+I"},{id:i.default.TOGGLE_DEV_TOOLS_HOST,label:"Toggle dev tools (host)",role:"toggleDevTools"}]})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(681)),s=i(n(582));function r(){const e=o.default.getBarrel();if(!e)return[];const{sections:t}=e;return t?t.filter(e=>"default"!==e.name&&e.screens.length>0).map(e=>e._id):[]}t.default={getCollapsableSectionIds:r,getCollapsedSectionIds:function(){const{collapsedSections:e}=s.default.DashboardStore.getState();return r().filter(t=>e[t])},getExpandedSectionIds:function(){const{collapsedSections:e}=s.default.DashboardStore.getState();return r().filter(t=>!e[t])}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(681)),s=i(n(582));function r(){const e=o.default.getStyleguidesData({barrelStore:s.default.BarrelStore,styleguidesDataStore:s.default.StyleguidesDataStore,projectsDataStore:s.default.ProjectsDataStore}),t=[];return e.forEach(({componentSections:e})=>{e.forEach(e=>{"default"!==e.name&&t.push(e._id)})}),t}t.default={getCollapsableSectionIds:r,getCollapsedSectionIds:function(){const{collapsedSections:e}=s.default.StyleguideStore.getState();return r().filter(t=>e[t])},getExpandedSectionIds:function(){const{collapsedSections:e}=s.default.StyleguideStore.getState();return r().filter(t=>!e[t])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(679),o=n(678);function s(){return new o.default({id:i.default.WINDOW_SUBMENU,label:"Window",submenu:[{role:"minimize"},{role:"close"}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(679),o=n(678),s=n(686);const r="IDLE",a={[r]:"Check for updates",["CHECKING_FOR_UPDATES"]:"Checking for updates",["DOWNLOADING_UPDATES"]:"Downloading updates"},l="DISABLED",c="IDLE",d={[c]:"Check for plugin updates",["CHECKING_FOR_UPDATES"]:"Checking for plugin updates",["DOWNLOADING_UPDATES"]:"Downloading plugin updates"};function u({appUpdaterState:e,pluginUpdaterState:t}){const n={id:i.default.CHECK_FOR_UPDATES,label:a[e],enabled:e===r};return t===l?[n]:[n,{id:i.default.CHECK_FOR_PLUGIN_UPDATES,label:d[t],enabled:t===c}]}function p({installUpdatesAutomatically:e,appUpdaterState:t,pluginUpdaterState:n}){return new o.default({id:i.default.HELP_SUBMENU,label:"Help",submenu:[...u({appUpdaterState:t,pluginUpdaterState:n}),{id:i.default.INSTALL_UPDATES_AUTOMATICALLY,label:"Install updates automatically",type:"checkbox",checked:e},s.default,{id:i.default.INSTALL_FIGMA_PLUGIN,label:"Install Figma plugin"},{id:i.default.INSTALL_PHOTOSHOP_PLUGIN,label:"Install Adobe Photoshop plugin"},s.default,{id:i.default.SHOW_LOGS_IN_EXPLORER,label:"Show logs in Explorer"},{id:i.default.RESET_SUGGESTED_COLORS,label:"Reset suggested colors"},{id:i.default.RESET_SUGGESTED_TEXT_STYLES,label:"Reset suggested text styles"},{id:i.default.CLEAR_CACHE_AND_RESTART,label:"Clear cache and restart"},{id:i.default.RESET_ZEPLIN,label:"Reset Zeplin"},s.default,{id:i.default.OPEN_HELP_CENTER,label:"Open help center"},s.default,{id:i.default.ABOUT_ZEPLIN,label:"About Zeplin"}]})}},function(e,t,n){"use strict";n.r(t);var i=n(542),o=n(695),s=n(681),r=n(696),a=n(555),l=n(701),c=n.n(l),d=n(687),u=n(702),p=n(705),h=n(691),f=n.n(h),g=n(682),m=n(706),b=n(690),S=n.n(b),y=n(541),v=n(582),C=n.n(v),O=n(556),E=n(684),T=n.n(E),_=n(679),P=n(543),D=n(574),I=n.n(D);const j={newProject(){const{selectedOrganizationId:e}=C.a.SpaceStore.getState(),{barrelId:t}=C.a.BarrelStore.getState();if(t)s.default.navigateToWorkspace({newProject:!0});else{const t="user"===e?Object(O.urlResolve)("projects",{query:{newProject:!0}}):Object(O.urlResolve)("workspace-projects",{url:{oid:e},query:{newProject:!0}});T.a.history.push(t)}},newStyleguide(){const{selectedOrganizationId:e}=C.a.SpaceStore.getState(),{barrelId:t}=C.a.BarrelStore.getState();if(t)s.default.navigateToWorkspace({newStyleguide:!0});else{const t="user"===e?Object(O.urlResolve)("styleguides",{query:{newStyleguide:!0}}):Object(O.urlResolve)("workspace-styleguides",{url:{oid:e},query:{newStyleguide:!0}});T.a.history.push(t)}},openRecentProject(e){T.a.history.push(Object(O.urlResolve)("project",{url:{bid:e}}))},openRecentStyleguide(e){T.a.history.push(Object(O.urlResolve)("styleguide",{url:{bid:e}}))},deleteProject(){const{id:e,name:t}=s.default.getBarrel();o.prompt("project",t,()=>{r.default.remove({bid:e,syncWithApi:!0})})},deleteStyleguide(){const{id:e,name:t}=s.default.getBarrel();o.prompt("styleguide",t,()=>{r.default.remove({bid:e,syncWithApi:!0})})},leaveBarrel(){const{userId:e}=C.a.UserStore.getState(),{name:t}=s.default.getBarrel();a.create({message:`Leave "${t}"?`,done:{name:"LEAVE",cb(){r.default.removeMember({mid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},deleteScreen(){const{_id:e,name:t}=d.default.getScreen();a.create({message:`Delete "${t}"?`,done:{name:"DELETE SCREEN",cb(){u.default.removeScreen({sid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},setAsThumbnail(){const{versions:[{snapshot:{url:e}}]}=d.default.getScreen();r.default.updateThumbnail({thumbnail:e,syncWithApi:!0})},manageTags(){const{screenId:e}=C.a.ScreenStore.getState();u.default.openTagManager([e])},expandAllSections(){const{page:e}=C.a.AppStore.getState(),{barrelType:t,selectedView:n}=C.a.BarrelStore.getState(),{selectedStyleguideSection:i}=C.a.StyleguideStore.getState(),{selectedTab:o}=C.a.SpaceStore.getState();if("workspace"===e&&o===P.WorkspaceTabs.PROJECTS){const e=g.default.getCollapsedSectionIds();c.a.expandSections(e)}else if("barrel"===e&&t===I.a.PROJECT&&n===P.ProjectViewTypes.DASHBOARD){const e=S.a.getCollapsedSectionIds();m.default.expandSections(e)}else if("barrel"===e&&(t===I.a.STYLEGUIDE||t===I.a.PROJECT&&n===P.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=f.a.getCollapsedSectionIds();p.default.expandSections(e)}},collapseAllSections(){const{page:e}=C.a.AppStore.getState(),{barrelType:t,selectedView:n}=C.a.BarrelStore.getState(),{selectedStyleguideSection:i}=C.a.StyleguideStore.getState(),{selectedTab:o}=C.a.SpaceStore.getState();if("workspace"===e&&o===P.WorkspaceTabs.PROJECTS){const e=g.default.getExpandedSectionIds();c.a.collapseSections(e)}else if("barrel"===e&&t===I.a.PROJECT&&n===P.ProjectViewTypes.DASHBOARD){const e=S.a.getExpandedSectionIds();m.default.collapseSections(e)}else if("barrel"===e&&(t===I.a.STYLEGUIDE||t===I.a.PROJECT&&n===P.ProjectViewTypes.STYLEGUIDE)&&"components"===i.toLowerCase()){const e=f.a.getExpandedSectionIds();p.default.collapseSections(e)}}};y.isWindowsApp&&i.default.ipcRenderer.on("menu-item-clicked",(e,{id:t})=>{if(t.startsWith(_.default.OPEN_RECENT_PROJECT))j.openRecentProject(t.substring(_.default.OPEN_RECENT_PROJECT.length+1));else if(t.startsWith(_.default.OPEN_RECENT_STYLEGUIDE))j.openRecentStyleguide(t.substring(_.default.OPEN_RECENT_STYLEGUIDE.length+1));else switch(t){case _.default.NEW_PROJECT:j.newProject();break;case _.default.NEW_STYLEGUIDE:j.newStyleguide();break;case _.default.DELETE_PROJECT:j.deleteProject();break;case _.default.DELETE_STYLEGUIDE:j.deleteStyleguide();break;case _.default.LEAVE_PROJECT:case _.default.LEAVE_STYLEGUIDE:j.leaveBarrel();break;case _.default.DELETE_SCREEN:j.deleteScreen();break;case _.default.SET_AS_THUMBNAIL:j.setAsThumbnail();break;case _.default.MANAGE_TAGS:case _.default.ADD_TAG:j.manageTags();break;case _.default.ZOOM_IN:u.default.zoomIn();break;case _.default.ZOOM_OUT:u.default.zoomOut();break;case _.default.ACTUAL_SIZE:u.default.resetZoom();break;case _.default.OPEN_POPOUT:u.default.openPopout();break;case _.default.WORKSPACE:s.default.navigateToWorkspace();break;case _.default.DASHBOARD:r.default.goToDashboard();break;case _.default.STYLEGUIDE:r.default.goToStyleguide();break;case _.default.JUMP_TO_SCREEN:r.default.openJumpToPopup();break;case _.default.EXPAND_ALL_SECTIONS:j.expandAllSections();break;case _.default.COLLAPSE_ALL_SECTIONS:j.collapseAllSections();break;case _.default.SHOW_VERSIONS:u.default.showVersions();break;case _.default.HIDE_VERSIONS:u.default.hideVersions()}})},function(e,t,n){"use strict";n.r(t),n.d(t,"prompt",(function(){return h}));var i=n(555),o=n(560);const s=document.getElementById("deleteBarrelDialog"),r=s.querySelector(".barrelType"),a=document.getElementById("barrelNameInput"),l=document.getElementById("deleteBarrelDialogCancelButton"),c=document.getElementById("deleteBarrelDialogDoneButton");let d,u,p;function h(e,t,n){d=e,u=t,p=n,r.textContent=d,s.showModal()}i.polyfill.registerDialog(s),a.addEventListener("input",()=>{const e=a.value===u;s.querySelector("button.done").disabled=!e;const t=e?"":Object(o.uppercaseFirst)(d)+" name doesn't match provided value";a.setCustomValidity(t)}),l.addEventListener("click",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&s.close()}),s.addEventListener("close",()=>{a.value="",a.setCustomValidity(""),a.parentElement.classList.remove("typed"),s.querySelector("button.done").disabled=!0}),a.addEventListener("keydown",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),a.value===u&&(s.close(),p())}}),c.addEventListener("click",()=>{a.value===u&&(s.close(),p())})},function(e,t,n){"use strict";n.r(t);var i=n(590),o=n.n(i),s=n(681),r=n(582),a=n.n(r),l=n(682),c=n(560),d=n(564),u=n(574),p=n.n(u),h=n(697),f=n(543);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=24;function y(e={}){if(!e.bid){const{barrelId:t}=a.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=a.a.BarrelStore.getState();e.barrelType=t}return e}function v(e){const t=s.default.getBarrel();if(!t)return!1;const{barrelType:n,selectedView:i}=a.a.BarrelStore.getState(),{selectedStyleguideSection:o}=a.a.StyleguideStore.getState();return!s.default.isUserRestricted()&&(t.id===e||t.ancestors&&t.ancestors.includes(e))&&(n===p.a.STYLEGUIDE||n===p.a.PROJECT&&i===f.ProjectViewTypes.STYLEGUIDE)&&"components"===o}const C={reset(){a.a.dispatcher.dispatch({type:o.a.RESET})},load(e){a.a.dispatcher.dispatch(m({type:o.a.LOAD},e))},updateState(e){a.a.dispatcher.dispatch({type:o.a.UPDATE_STATE,update:e})},setOrganizationId({oid:e}){a.a.dispatcher.dispatch({type:o.a.SET_ORGANIZATION_ID,oid:e})},setBarrelId({barrelId:e}){a.a.dispatcher.dispatch({type:o.a.SET_BARREL_ID,barrelId:e})},addToSlack(e){const{bid:t,barrelType:n}=y(e),{name:i}=s.default.getBarrel({bid:t});a.a.dispatcher.dispatch({type:o.a.ADD_TO_SLACK,bid:t,barrelType:n,name:i})},authenticateSlackIntegration(e){a.a.dispatcher.dispatch({type:o.a.AUTHENTICATE_SLACK_INTEGRATION,bid:e})},authenticatingSlackIntegrationFailed(e){a.a.dispatcher.dispatch({type:o.a.AUTHENTICATE_SLACK_INTEGRATION_FAILED,bid:e})},authenticatedSlackIntegration(e){const{bid:t,barrelType:n,integration:i,events:s}=e,{barrelId:r}=a.a.BarrelStore.getState();a.a.dispatcher.dispatch({type:o.a.AUTHENTICATED_SLACK_INTEGRATION,bid:t,barrelType:n,integration:i,events:s,openPreferences:r===t})},add({oid:e,oseid:t,index:n,barrel:i,barrelType:s,addedWithCopy:r=!1,syncWithApi:l=!1}){a.a.dispatcher.dispatch({type:o.a.ADD,oid:e,oseid:t,index:n,barrel:i,barrelType:s,addedWithCopy:r,syncWithApi:l})},activate(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let s=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=a.a.StyleguidesDataStore.getState();s=Object(h.getStyleguideAndItsDescendants)(e,t)}a.a.dispatcher.dispatch({type:o.a.ACTIVATE,bid:t,barrelType:n,affectedIds:s,syncWithApi:i})},archive(e){const{bid:t,barrelType:n,uid:i,syncWithApi:r=!1}=y(e),{barrelId:l}=a.a.BarrelStore.getState(),{name:c}=s.default.getBarrel({bid:t});let d=[t];if(n===p.a.STYLEGUIDE){const{styleguides:e}=a.a.StyleguidesDataStore.getState();d=Object(h.getStyleguideAndItsDescendants)(e,t)}const{userId:u}=a.a.UserStore.getState(),f=s.default.findUser({bid:t,uid:i});a.a.dispatcher.dispatch({type:o.a.ARCHIVE,bid:t,barrelType:n,currentBid:l,affectedIds:d,name:c,uid:i,currentUserId:u,user:f,syncWithApi:r})},remove(e){const{bid:t,barrelType:n,uid:i,syncWithApi:r=!1}=y(e),{barrelId:c}=a.a.BarrelStore.getState(),d=s.default.getBarrel({bid:t}),u=s.default.findBarrelOrganizationId(t),h=n===p.a.PROJECT?l.default.findProjectOrganizationSectionId(t):null,{userId:f}=a.a.UserStore.getState(),g=s.default.findUser({bid:t,uid:i});a.a.dispatcher.dispatch({type:o.a.REMOVE,oid:u,oseid:h,bid:t,barrelType:n,currentBid:c,oldBarrel:d,uid:i,currentUserId:f,user:g,syncWithApi:r})},copy(e){const{bid:t,barrelName:n,barrelType:i,options:r,syncWithApi:l=!1}=y(e),c=s.default.findBarrelOrganizationId(t);a.a.dispatcher.dispatch({type:o.a.COPY,bid:t,oid:c,barrelName:n,barrelType:i,options:r,syncWithApi:l})},updateName(e){const{bid:t,barrelType:n,name:i,syncWithApi:r=!1}=y(e);let l;r&&({name:l}=s.default.getBarrel({bid:t})),a.a.dispatcher.dispatch({type:o.a.UPDATE_NAME,bid:t,barrelType:n,name:i,oldName:l,syncWithApi:r})},updateDescription(e){const{bid:t,barrelType:n,description:i,syncWithApi:r=!1}=y(e);let l;r&&({description:l}=s.default.getBarrel({bid:t})),a.a.dispatcher.dispatch({type:o.a.UPDATE_DESCRIPTION,bid:t,barrelType:n,description:i,oldDescription:l,syncWithApi:r})},updateDensityScale(e){const{bid:t,barrelType:n,densityScale:i,syncWithApi:r=!1}=y(e);let l;r&&({densityScale:l}=s.default.getBarrel({bid:t})),a.a.dispatcher.dispatch({type:o.a.UPDATE_DENSITY_SCALE,bid:t,barrelType:n,densityScale:i,oldDensityScale:l,syncWithApi:r})},updateThumbnail(e){const{bid:t,barrelType:n,thumbnail:i,syncWithApi:r=!1}=y(e);let l;r&&({thumbnail:l}=s.default.getBarrel({bid:t})),a.a.dispatcher.dispatch({type:o.a.UPDATE_THUMBNAIL,bid:t,barrelType:n,thumbnail:i,oldThumbnail:l,syncWithApi:r})},addIntegration(e){const{bid:t,intype:n,integration:i,syncWithApi:s=!1}=y(e);a.a.dispatcher.dispatch({type:o.a.ADD_INTEGRATION,bid:t,intype:n,integration:i,syncWithApi:s})},removeIntegration(e){const{bid:t,barrelType:n,intype:i,inid:r,syncWithApi:l=!1}=y(e);let c;if(l){c=s.default.getBarrel({bid:t}).integration[i].find(({_id:e})=>e===r)}a.a.dispatcher.dispatch({type:o.a.REMOVE_INTEGRATION,bid:t,barrelType:n,intype:i,inid:r,removedIntegration:c,syncWithApi:l})},toggleScene(e){const{bid:t,barrelType:n,accessibility:i,syncWithApi:r=!1}=y(e);let l;r&&({public:l}=s.default.getBarrel({bid:t})),a.a.dispatcher.dispatch({type:o.a.TOGGLE_SCENE,bid:t,barrelType:n,accessibility:i,oldAccessibility:l,syncWithApi:r})},enableScene(){C.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){C.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{bid:t,barrelType:n,members:i,shouldLoadBarrel:s=!1,syncWithApi:r=!1}=y(e);a.a.dispatcher.dispatch({type:o.a.ADD_MEMBERS,bid:t,barrelType:n,members:i,shouldLoadBarrel:s,syncWithApi:r})},updateUserRole(e){const{bid:t,barrelType:n,uid:i,role:r,syncWithApi:l=!1}=y(e);let c;if(l){const e=s.default.getBarrel({bid:t});({role:c}=e.findUser(i))}a.a.dispatcher.dispatch({type:o.a.UPDATE_USER_ROLE,bid:t,barrelType:n,uid:i,role:r,oldRole:c,syncWithApi:l})},updateUserData(e){const{bid:t,uid:n,userData:i,syncWithApi:r=!1}=y(e);let l;if(r){const e=s.default.getBarrel({bid:t});({user:l}=e.findUser(n))}a.a.dispatcher.dispatch({type:o.a.UPDATE_USER_DATA,bid:t,uid:n,userData:i,oldUserData:l,syncWithApi:r})},transferOwnership(e){const{bid:t,barrelType:n,uid:i}=y(e);a.a.dispatcher.dispatch({type:o.a.TRANSFER_OWNERSHIP,syncWithApi:!0,bid:t,barrelType:n,uid:i})},ownershipTransferred(e){const{bid:t,barrelType:n,uid:i}=y(e),{barrelUser:{user:{_id:s}},organizationId:r}=a.a.BarrelStore.getState();let l;if(n===p.a.STYLEGUIDE){const{styleguides:e}=a.a.StyleguidesDataStore.getState();l=Object(h.getStyleguideAndItsDescendants)(e,t)}a.a.dispatcher.dispatch({type:o.a.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:s,targetId:i,oid:r,bid:t,affectedIds:l})},removeMember(e){const{bid:t,uid:n,mid:i,barrelType:r,syncWithApi:c=!1}=y(e),d=s.default.findBarrelOrganizationId(t),{restricted:u}=l.default.getOrganizationProfile(d)||{},p="user"!==d&&l.default.findProjectOrganizationSectionId(t),{barrelId:h}=a.a.BarrelStore.getState(),f=s.default.getBarrel({bid:t}),{userId:g}=a.a.UserStore.getState(),m=(u||"user"===d)&&i===g,b=s.default.findUser({bid:t,uid:n});let S,v;m?S=f:v=s.default.findUser({bid:t,uid:i}),a.a.dispatcher.dispatch({type:o.a.REMOVE_MEMBER,oid:d,bid:t,uid:n,mid:i,oseid:p,barrelType:r,shouldRemoveBarrel:m,currentBid:h,currentUserId:g,removingUser:b,removedBarrel:S,removedMember:v,syncWithApi:c})},addColor(e){const{bid:t,barrelType:n,color:i,syncWithApi:r=!1}=y(e);let l=i;if(r){const e=s.default.getBarrel({bid:t}),{id:n=Object(c.getRandomString)(S),name:o=e.getColorName(new d.default(i))}=i;l=m(m({},i),{},{name:o,_id:n})}a.a.dispatcher.dispatch({type:o.a.ADD_COLOR,bid:t,barrelType:n,color:l,syncWithApi:r})},addMultipleColors(e){const t=y(e),{bid:n,barrelType:i,syncWithApi:r=!1}=t;let{colors:l}=t;if(r){const e=s.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getColorName(new d.default(t)),i=t.id?t.id:Object(c.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}a.a.dispatcher.dispatch({type:o.a.ADD_MULTIPLE_COLORS,bid:n,barrelType:i,colors:l,syncWithApi:r})},updateColor(e){const{bid:t,barrelType:n,cid:i,colorData:r,syncWithApi:l=!1}=y(e);let c;if(l){var d=s.default.getBarrel({bid:t}).findColorById(i);({}=d),c=Object.assign({},d)}a.a.dispatcher.dispatch({type:o.a.UPDATE_COLOR,bid:t,barrelType:n,cid:i,colorData:r,oldColorData:c,syncWithApi:l})},removeColor(e){const{bid:t,barrelType:n,cid:i,syncWithApi:r=!1}=y(e);let l;if(r){l=s.default.getBarrel({bid:t}).findColorById(i)}a.a.dispatcher.dispatch({type:o.a.REMOVE_COLOR,bid:t,barrelType:n,cid:i,removedColor:l,syncWithApi:r})},removeAllColors(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let r;if(i){r=s.default.getBarrel({bid:t}).colors}a.a.dispatcher.dispatch({type:o.a.REMOVE_ALL_COLORS,bid:t,barrelType:n,colorsToRemove:r,syncWithApi:i})},migrateColors(e){const{bid:t,barrelType:n,colorsToUpdate:i,colorsToAdd:r,hasLinkedStyleguideColor:l,syncWithApi:c=!1}=e,d={};if(c){const e=s.default.getBarrel({bid:t});Object.keys(i).forEach(t=>{const n=e.findColorById(t);d[t]=n})}a.a.dispatcher.dispatch({type:o.a.MIGRATE_COLORS,bid:t,barrelType:n,colorsToUpdate:i,oldDataOfColorsToUpdate:d,colorsToAdd:r,hasLinkedStyleguideColor:l,syncWithApi:c})},updateColorOrder(e){const{bid:t,barrelType:n,cid:i,to:s}=y(e);a.a.dispatcher.dispatch({type:o.a.UPDATE_COLOR_ORDER,bid:t,barrelType:n,cid:i,to:s})},addTextStyle(e){const{bid:t,barrelType:n,textStyle:i,syncWithApi:r=!1}=y(e);let l=i;if(r){const e=s.default.getBarrel({bid:t}),{id:n=Object(c.getRandomString)(S),name:o=e.getTextStyleName()}=i;l=m(m({},i),{},{name:o,_id:n})}a.a.dispatcher.dispatch({type:o.a.ADD_TEXT_STYLE,bid:t,barrelType:n,textStyle:l,syncWithApi:r})},addMultipleTextStyles(e){const t=y(e),{bid:n,barrelType:i,syncWithApi:r=!1}=t;let{textStyles:l}=t;if(r){const e=s.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getTextStyleName(),i=t.id?t.id:Object(c.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}a.a.dispatcher.dispatch({type:o.a.ADD_MULTIPLE_TEXT_STYLES,bid:n,barrelType:i,textStyles:l,syncWithApi:r})},updateTextStyle(e){const{bid:t,barrelType:n,tsid:i,textStyleData:r,syncWithApi:l=!1}=y(e);let c;if(l){var d=s.default.getBarrel({bid:t}).findTextStyleById(i);({}=d),c=Object.assign({},d)}a.a.dispatcher.dispatch({type:o.a.UPDATE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,textStyleData:r,oldTextStyleData:c,syncWithApi:l})},removeTextStyle(e){const{bid:t,barrelType:n,tsid:i,syncWithApi:r=!1}=y(e);let l;if(r){l=s.default.getBarrel({bid:t}).findTextStyleById(i)}a.a.dispatcher.dispatch({type:o.a.REMOVE_TEXT_STYLE,bid:t,barrelType:n,tsid:i,removedTextStyle:l,syncWithApi:r})},removeAllTextStyles(e){const{bid:t,barrelType:n,syncWithApi:i=!1}=y(e);let r;if(i){r=s.default.getBarrel({bid:t}).textStyles}a.a.dispatcher.dispatch({type:o.a.REMOVE_ALL_TEXT_STYLES,bid:t,barrelType:n,textStylesToRemove:r,syncWithApi:i})},addSpacingSection(e){const{bid:t,barrelType:n,spacingSection:i,syncWithApi:s=!1}=y(e);let r=i;if(s){const{_id:e=Object(c.getRandomString)(S)}=i;r=m(m({},i),{},{_id:e})}a.a.dispatcher.dispatch({type:o.a.ADD_SPACING_SECTION,bid:t,barrelType:n,spacingSection:r,syncWithApi:s})},updateSpacingSection(e){const{bid:t,barrelType:n,ssid:i,updatedSpacingSection:r,syncWithApi:l=!1}=y(e);let c={};if(l){c=s.default.getBarrel({bid:t}).findSpacingSectionById(i)}a.a.dispatcher.dispatch({type:o.a.UPDATE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,updatedSpacingSection:r,oldSpacingSection:c,syncWithApi:l})},removeSpacingSection(e){const{bid:t,barrelType:n,ssid:i,syncWithApi:r=!1}=y(e);let l;if(r){l=s.default.getBarrel({bid:t}).findSpacingSectionById(i)}a.a.dispatcher.dispatch({type:o.a.REMOVE_SPACING_SECTION,bid:t,barrelType:n,ssid:i,removedSpacingSection:l,syncWithApi:r})},addSpacingToken(e){const{bid:t,barrelType:n,ssid:i,spacingToken:s,isBaseToken:r=!1,syncWithApi:l=!1}=y(e);let d=s;if(l){const{_id:e=Object(c.getRandomString)(S)}=s;d=m(m({},s),{},{_id:e})}a.a.dispatcher.dispatch({type:o.a.ADD_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,isBaseToken:r,spacingToken:d,syncWithApi:l})},updateSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:r,updatedSpacingToken:l,syncWithApi:c=!1}=y(e),d=s.default.getBarrel({bid:t}),{baseTokenId:u}=d.findSpacingSectionById(i),p=u===r;let h={};c&&(h=d.findSpacingTokenInsideSectionById(i,r)),a.a.dispatcher.dispatch({type:o.a.UPDATE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:r,isBaseToken:p,updatedSpacingToken:l,oldSpacingToken:h,syncWithApi:c})},removeSpacingToken(e){const{bid:t,barrelType:n,ssid:i,sptid:r,syncWithApi:l=!1}=y(e),c=s.default.getBarrel({bid:t}),{baseTokenId:d}=c.findSpacingSectionById(i),u=d===r;let p;l&&(p=c.findSpacingTokenInsideSectionById(i,r)),a.a.dispatcher.dispatch({type:o.a.REMOVE_SPACING_TOKEN,bid:t,barrelType:n,ssid:i,sptid:r,removedSpacingToken:p,isBaseToken:u,syncWithApi:l})},updateRemPreferences(e){const{bid:t,barrelType:n,updatedRemPreferences:i,isRevert:r=!1,syncWithApi:l=!1}=y(e);let c={};if(l){c=s.default.getBarrel({bid:t}).remPreferences}a.a.dispatcher.dispatch({type:o.a.UPDATE_REM_PREFERENCES,bid:t,barrelType:n,updatedRemPreferences:i,oldRemPreferences:c,isRevert:r,syncWithApi:l})},addComponent(e){const{bid:t,csids:n,component:i,index:s}=y(e);a.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT,bid:t,csids:n,component:i,index:s})},updateComponent(e){const{bid:t,barrelType:n,csids:i,coid:r,componentData:l,syncWithApi:c=!1}=y(e);let d;if(c){var u=s.default.getBarrel({bid:t}).findComponentById(r);({}=u),d=Object.assign({},u)}a.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT,bid:t,barrelType:n,csids:i,coid:r,shouldFetchSnapshot:v(t),componentData:l,oldComponentData:d,syncWithApi:c})},setComponentSnapshot(e){const{bid:t,csids:n,coid:i,vid:s,snapshot:r}=e;a.a.dispatcher.dispatch({type:o.a.SET_COMPONENT_SNAPSHOT,bid:t,csids:n,coid:i,vid:s,snapshot:r})},removeComponent(e){const{bid:t,barrelType:n,csids:i,coid:r,syncWithApi:l=!1}=y(e);let c;if(l){c=s.default.getBarrel({bid:t}).findComponentById(r)}a.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT,bid:t,barrelType:n,csids:i,coid:r,oldComponent:c,syncWithApi:l})},addComponentVersion(e){const{bid:t,barrelType:n,csids:i,coid:s,componentVersion:r}=y(e);a.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT_VERSION,bid:t,barrelType:n,csids:i,coid:s,shouldFetchSnapshot:v(t),componentVersion:r})},addComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSection:s,isCreateGroup:r=!1,syncWithApi:l=!1}=y(e);a.a.dispatcher.dispatch({type:o.a.ADD_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSection:s,isCreateGroup:r,syncWithApi:l})},updateComponentSection(e){const{bid:t,barrelType:n,csids:i,componentSectionData:r,isComponentGroup:l=!1,syncWithApi:c=!1}=y(e);let d;if(c){var u=s.default.getBarrel({bid:t}).findComponentSection(i);({}=u),d=Object.assign({},u)}a.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,componentSectionData:r,oldComponentSectionData:d,isComponentGroup:l,syncWithApi:c})},mergeComponentSection(e){const{bid:t,barrelType:n,csids:i,tcsids:r,flatten:l,index:c,syncWithApi:d=!1}=y(e);let u,p=r,h=l;if(d){const e=s.default.getBarrel({bid:t});if(u=e.findComponentSection(i),1===i.length)h=!0,p=[e.componentSections[0]._id];else{const t=i.slice(0,i.length-1),n=e.findComponentSection(t),o=n.componentSections.indexOf(u);let s=n.componentSections[o-1];s||(s=n),h="default"===s.name,p=s.idPath}}a.a.dispatcher.dispatch({type:o.a.MERGE_COMPONENT_SECTION,bid:t,barrelType:n,csids:i,tcsids:p,flatten:h,index:c,oldComponentSection:u,syncWithApi:d})},removeComponentSection(e){const{bid:t,csids:n}=y(e);a.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT_SECTION,bid:t,csids:n})},removeComponentSections(e){const{bid:t,componentSections:n}=y(e);a.a.dispatcher.dispatch({type:o.a.REMOVE_COMPONENT_SECTIONS,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,barrelType:n,componentSections:i,syncWithApi:s=!1}=y(e);a.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENT_SECTIONS_ORDER,bid:t,barrelType:n,componentSections:i,syncWithApi:s})},updateComponentsOrder(e){const{bid:t,barrelType:n,components:i,syncWithApi:r=!1}=y(e);if(r){const e=s.default.getBarrel({bid:t});i.forEach(t=>{void 0===t.to&&(t.to=e.findComponentSection(t.tcsid).components.length)})}a.a.dispatcher.dispatch({type:o.a.UPDATE_COMPONENTS_ORDER,bid:t,barrelType:n,components:i,syncWithApi:r})},changeSelectedView(e,t={}){a.a.dispatcher.dispatch({type:o.a.CHANGE_SELECTED_VIEW,selectedView:e,viewUpdate:t})},updateWorkflowStatus(e){const{barrelType:t,bid:n,workflowStatus:i,syncWithApi:r=!1}=y(e),l=r?s.default.getBarrel({bid:n}).workflowStatus:{};a.a.dispatcher.dispatch({type:o.a.UPDATE_WORKFLOW_STATUS,barrelType:t,bid:n,workflowStatus:i,oldWorkflowStatusData:l,syncWithApi:r})},updateWorkflowStatuses(e){const{workflowStatus:t,syncWithApi:n=!1}=y(e),{bids:i}=e,r=i.map(e=>{const{barrelType:t,bid:i}=y({bid:e});return{bid:i,barrelType:t,oldWorkflowStatusData:n?s.default.getBarrel({bid:i}).workflowStatus:{}}});a.a.dispatcher.dispatch({type:o.a.UPDATE_WORKFLOW_STATUSES,statusUpdatedBarrels:r,workflowStatus:t,syncWithApi:n})},deleteWorkflowStatus(e){const{barrelType:t,bid:n,syncWithApi:i=!1}=y(e),r=i?s.default.getBarrel({bid:n}).workflowStatus:{};a.a.dispatcher.dispatch({type:o.a.DELETE_WORKFLOW_STATUS,barrelType:t,bid:n,oldWorkflowStatusData:r,syncWithApi:i})},deleteWorkflowStatuses(e){const{syncWithApi:t=!1}=y(e),{bids:n}=e,i=n.map(e=>{const{barrelType:n,bid:i}=y({bid:e});return{bid:i,barrelType:n,oldWorkflowStatusData:t?s.default.getBarrel({bid:i}).workflowStatus:{}}});a.a.dispatcher.dispatch({type:o.a.DELETE_WORKFLOW_STATUSES,statusDeletedBarrels:i,syncWithApi:t})},setAssetExportTarget(e){a.a.dispatcher.dispatch({type:o.a.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName(e){const{bid:t,containerId:n,snapshot:i,assetId:s,name:r,source:l}=y(e);a.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_NAME,bid:t,containerId:n,snapshot:i,assetId:s,name:r,source:l})},changeAssetDensityScalePref(e,t){const{bid:n}=y();a.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_DENSITY_SCALE_PREF,bid:n,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){const{bid:t}=y();a.a.dispatcher.dispatch({type:o.a.CHANGE_ASSET_NAMING_CONVENTION,bid:t,assetNamingConvention:e})},toggleSVGOptimization(e){const{bid:t}=y();a.a.dispatcher.dispatch({type:o.a.TOGGLE_SVG_OPTIMIZATION,bid:t,showOptimizedSVG:e})},togglePNGOptimization(e){const{bid:t}=y();a.a.dispatcher.dispatch({type:o.a.TOGGLE_PNG_OPTIMIZATION,bid:t,showOptimizedPNG:e})},toggleJPGOptimization(e){const{bid:t}=y();a.a.dispatcher.dispatch({type:o.a.TOGGLE_JPG_OPTIMIZATION,bid:t,showOptimizedJPG:e})},goToDashboard(){const{selectedView:e}=a.a.BarrelStore.getState();if(e===f.ProjectViewTypes.DASHBOARD)return;const{bid:t}=y(),{tagFilter:n}=a.a.DashboardStore.getState();a.a.dispatcher.dispatch({type:o.a.GO_TO_DASHBOARD,bid:t,tagFilter:n})},goToStyleguide(){const{selectedView:e}=a.a.BarrelStore.getState();if(e===f.ProjectViewTypes.STYLEGUIDE)return;const{bid:t}=y();a.a.dispatcher.dispatch({type:o.a.GO_TO_STYLEGUIDE,bid:t})},changeExportTarget(){a.a.dispatcher.dispatch({type:o.a.CHANGE_EXPORT_TARGET})},openExportTarget(){a.a.dispatcher.dispatch({type:o.a.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,assets:t,assetId:n,format:i,toastContainer:r,source:l}){const{barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:p,showOptimizedPNG:h,showOptimizedJPG:f}=a.a.BarrelStore.getState(),{type:g}=s.default.getBarrel({bid:c});a.a.dispatcher.dispatch({type:o.a.DOWNLOAD_ASSET,barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:p,showOptimizedPNG:h,showOptimizedJPG:f,platform:g,containerName:e,assets:t,assetId:n,format:i,toastContainer:r,source:l})},downloadMultipleAsset({containerName:e,assets:t,assetList:n,toastContainer:i,source:r}){const{barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,showOptimizedPNG:p,showOptimizedJPG:h}=a.a.BarrelStore.getState(),{type:f}=s.default.getBarrel({bid:l});a.a.dispatcher.dispatch({type:o.a.DOWNLOAD_MULTIPLE_ASSET,barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,showOptimizedPNG:p,showOptimizedJPG:h,platform:f,containerName:e,assets:t,assetList:n,toastContainer:i,source:r})},exportCode(e){const{bid:t,resourceType:n,source:i,exportObjects:r,extensionId:l}=y(e),{name:c,type:d}=s.default.getBarrel({bid:t});a.a.dispatcher.dispatch({type:o.a.EXPORT_CODE,barrelName:c,platform:d,resourceType:n,source:i,exportObjects:r,extensionId:l})},copyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:s}){a.a.dispatcher.dispatch({type:o.a.COPY_CODE,code:e,toastContainer:t,platform:n,extensionId:i,source:s})},hideNoVectorAssetInfo(){a.a.dispatcher.dispatch({type:o.a.HIDE_NO_VECTOR_ASSET_INFO})},hideDensityMismatchWarning(){a.a.dispatcher.dispatch({type:o.a.HIDE_DENSITY_MISMATCH_WARNING})},hideSourceFileInfo(){a.a.dispatcher.dispatch({type:o.a.HIDE_SOURCE_FILE_INFO})},dismissFlowLinkInfo(){a.a.dispatcher.dispatch({type:o.a.DISMISS_FLOW_LINK_INFO})},dismissNoResourceInfo(){const{bid:e}=y();a.a.dispatcher.dispatch({type:o.a.DISMISS_NO_RESOURCE_INFO,bid:e})},hideSlackReconnectionAuntie(){const{bid:e}=y();a.a.dispatcher.dispatch({type:o.a.HIDE_SLACK_RECONNECTION_AUNTIE,bid:e})},openJumpToPopup(){a.a.dispatcher.dispatch({type:o.a.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){a.a.dispatcher.dispatch({type:o.a.CLOSE_JUMP_TO_POPUP})},copyComponentSectionWebLink(e){const{bid:t,barrelType:n,seid:i}=y(e);a.a.dispatcher.dispatch({type:o.a.COPY_COMPONENT_SECTION_WEB_LINK,bid:t,barrelType:n,seid:i})},copyComponentSectionAppURI(e){const{bid:t,barrelType:n,cseid:i}=y(e);a.a.dispatcher.dispatch({type:o.a.COPY_COMPONENT_SECTION_APP_URI,bid:t,barrelType:n,cseid:i})},fetchComponentSectionShortLink(e){const{bid:t,barrelType:n,seid:i}=y(e);a.a.dispatcher.dispatch({type:o.a.FETCH_COMPONENT_SECTION_SHORT_LINK,bid:t,barrelType:n,seid:i})},join(e){const{bid:t,barrelType:n,source:i,shouldLoadBarrel:s=!0}=y(e);a.a.dispatcher.dispatch({type:o.a.JOIN,bid:t,barrelType:n,shouldLoadBarrel:s,source:i,syncWithApi:!0})},stopLoadingJoin(){a.a.dispatcher.dispatch({type:o.a.STOP_JOIN_LOADING})},enableDevMode(){const{bid:e,barrelType:t}=y(),{styleguideLink:n,ancestors:i}=s.default.getBarrel({bid:e});a.a.dispatcher.dispatch({type:o.a.ENABLE_DEV_MODE,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},disableDevMode(){a.a.dispatcher.dispatch({type:o.a.DISABLE_DEV_MODE})},reloadLocalConnectedComponents(){const{bid:e,barrelType:t}=y(),{styleguideLink:n,ancestors:i}=s.default.getBarrel({bid:e});a.a.dispatcher.dispatch({type:o.a.RELOAD_LOCAL_CONNECTED_COMPONENTS,bid:e,barrelType:t,styleguideLink:n,ancestors:i})},setLocalConnectedComponents(e){const{bid:t,localConnectedComponents:n}=y(e);a.a.dispatcher.dispatch({type:o.a.SET_LOCAL_CONNECTED_COMPONENTS,bid:t,localConnectedComponents:n})},setConnectedComponentsLocalWorkspace(e){const{bid:t,workspace:n}=y(e);a.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE,bid:t,workspace:n})},getConnectedComponentsEditorInfo(){const{bid:e}=y();a.a.dispatcher.dispatch({type:o.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO,bid:e})},setConnectedComponentsEditorInfo(e){a.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_EDITOR_INFO,editorInfo:e})},setConnectedComponentsEditorPreference(e,t){a.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE,extension:e,editor:t})},setConnectedComponentsWorkspacePath(e){a.a.dispatcher.dispatch({type:o.a.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH,workspacePath:e})},selectConnectedComponentsWorkspaceFolder(){const{bid:e}=y();a.a.dispatcher.dispatch({type:o.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER,bid:e})},openComponentFileInEditor(e,t){const{bid:n}=y();a.a.dispatcher.dispatch({type:o.a.OPEN_COMPONENT_FILE_IN_EDITOR,bid:n,filePath:e,editor:t})},moveResourcesRequest(e){const{bid:t,barrelType:n,resourceType:i,resources:r,targetStyleguideId:l}=y(e);let c;s.default.getBarrel({bid:l}).densityScale||({densityScale:c}=s.default.getBarrel({bid:t})),a.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_REQUEST,bid:t,barrelType:n,densityScale:c,targetStyleguideId:l,resourceType:i,resources:r,syncWithApi:!0})},moveResourcesSuccess(e){const{bid:t,barrelType:n,resourceType:i,resources:s,targetStyleguideId:r}=y(e);a.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_SUCCESS,bid:t,barrelType:n,resourceType:i,resources:s,targetStyleguideId:r})},moveResourcesFail(){a.a.dispatcher.dispatch({type:o.a.MOVE_RESOURCES_FAIL})},attachJiraIssue(e){const{bid:t,jira:n}=y(e);a.a.dispatcher.dispatch({type:o.a.ATTACH_JIRA_ISSUE,bid:t,jira:n})},removeJiraIssueAttachment(e){const{bid:t,aid:n}=y(e);a.a.dispatcher.dispatch({type:o.a.REMOVE_JIRA_ISSUE_ATTACHMENT,bid:t,aid:n})},updateConnectedComponents(e){const{bid:t,connectedComponents:n}=y(e);a.a.dispatcher.dispatch({type:o.a.UPDATE_CONNECTED_COMPONENTS,bid:t,connectedComponents:n})},highlightedConnectToCodeButtonViewed(){a.a.dispatcher.dispatch({type:o.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED})},markConnectedComponentsOnboardingDialogAsSeen(){a.a.dispatcher.dispatch({type:o.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN})}};t.default=C},function(e,t,n){"use strict";n.r(t),n.d(t,"generateTrees",(function(){return a})),n.d(t,"generateNodes",(function(){return l})),n.d(t,"getSelectableParentStyleguides",(function(){return r})),n.d(t,"getStyleguideAndItsDescendants",(function(){return c}));var i=n(559),o=n(698),s=n(699);function r({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:o,parentId:s,users:r}){return t.filter(t=>{let a;if(e)a=i.permissions.canUpdateStyleguide(n);else{const e=t.users.find(e=>"owner"===e.role),n=r.find(e=>"owner"===e.role);a=e&&n&&e.user._id===n.user._id}return a&&t._id!==o&&t._id!==s&&"active"===t.status&&!(t.ancestors||[]).includes(o)})}function a(e){const t={};return e.forEach((e,n)=>{const i=new o.default(e,n);t[i.id]=i}),e.forEach(e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}}),Object.keys(t).filter(e=>t[e].isRoot()).map(e=>new s.default(t[e]))}function l(e){return e.map(e=>new o.default(e))}function c(e,t){return Object.values(e).filter(e=>e._id===t||e.ancestors.includes(t)).map(e=>e._id)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(700);class o{constructor(e){this.root=e,this.levels=function e(t,n=1,o={}){return t.children.length>0&&(o[n]=(o[n]||[]).concat(t.children),t.children.forEach(t=>{e(t,n+1,o)})),Object.keys(o).map(e=>new i.default(Number(e),o[e]))}(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce((e,t)=>e+t.nodes.length,0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582)),s=i(n(624)),r={updatePageState(e){o.default.dispatcher.dispatch({type:s.default.UPDATE_PAGE_STATE,updateState:e})},changeSelectedTab(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_TAB,tab:e})},changeSelectedOrganization(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_ORGANIZATION,oid:e})},changeFilterValue(e){o.default.dispatcher.dispatch({type:s.default.CHANGE_FILTER_VALUE,filterValue:e})},changeWorkflowStatusFilter({workflowStatus:e}){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.CHANGE_WORKFLOW_STATUS_FILTER,oid:t,workflowStatusFilter:e._id,workflowStatus:e})},changeProjectSelectedSortType(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.CHANGE_PROJECT_SELECTED_SORT_TYPE,oid:t,sortType:e})},toggleArchivedProjects(){o.default.dispatcher.dispatch({type:s.default.TOGGLE_ARCHIVED_PROJECTS})},unhighlightBarrel(e){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_BARREL,bid:e})},highlightSection(e){o.default.dispatcher.dispatch({type:s.default.HIGHLIGHT_SECTION,oseid:e})},unhighlightSection(){o.default.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_SECTION})},expandSections(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.EXPAND_SECTIONS,oid:t,oseids:e})},collapseSections(e){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.COLLAPSE_SECTIONS,oid:t,oseids:e})},setStyleguidesTabVisited(){o.default.dispatcher.dispatch({type:s.default.SET_STYLEGUIDES_TAB_VISITED})},openDialog(e,t={}){o.default.dispatcher.dispatch({type:s.default.OPEN_DIALOG,dialogType:e,dialogParams:t})},closeDialog(){const{visibleDialogType:e,visibleDialogParams:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.CLOSE_DIALOG,dialogType:e,dialogParams:t})},hideLoading(){o.default.dispatcher.dispatch({type:s.default.HIDE_LOADING})},trackBarrelClick({isFromPinArea:e}){const{selectedOrganizationId:t}=o.default.SpaceStore.getState();o.default.dispatcher.dispatch({type:s.default.TRACK_BARREL_CLICK,oid:t,isFromPinArea:e})},toggleProjectSelection(e){o.default.dispatcher.dispatch({type:s.default.TOGGLE_PROJECT_SELECTION,pid:e})},clearProjectSelection(){o.default.dispatcher.dispatch({type:s.default.CLEAR_PROJECT_SELECTION})},selectProjects(e){o.default.dispatcher.dispatch({type:s.default.SELECT_PROJECTS,projectIds:e})},deselectProjects(e){o.default.dispatcher.dispatch({type:s.default.DESELECT_PROJECTS,projectIds:e})},postponeOfferReminder(e){o.default.dispatcher.dispatch({type:s.default.POSTPONE_OFFER_REMINDER,nextDate:e})},scrolledToProject(){o.default.dispatcher.dispatch({type:s.default.SCROLLED_TO_PROJECT})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(681),r=n(591),a=n.n(r),l=n(687),c=n(640),d=n(560),u=n(559),p=n(703);function h(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e={}){if(!e.pid){const{barrelId:t}=o.a.BarrelStore.getState();e.pid=t}if(!e.sid){const{screenId:t}=o.a.ScreenStore.getState();e.sid=t}if(!e.vid){const{versionId:t}=o.a.ScreenStore.getState();e.vid=t}if(!e.did){const{dotId:t}=o.a.DotsStore.getState();e.did=t}if(e.svid&&!e.vgid){const t=s.default.getVariantGroupOfScreen(e.svid);t&&(e.vgid=t._id)}return e}const S={calculateVersionsLastSeenForCurrentScreen(){const{screenId:e,versionsVisible:t}=o.a.ScreenStore.getState();if(!e||!t)return{};const{versions:[{created:n}]}=l.default.getScreen();return{sid:e,date:new Date(n)}},openScreen(e,t,n,i){const s=l.default.getScreen({sid:e}),{barrelId:r}=o.a.BarrelStore.getState(),c={type:a.a.OPEN_SCREEN,barrelId:r,screenId:e,dotId:n,commentId:i};if(s){const{versions:[n={}]}=s;let i,o;t?(i=l.default.getVersion({sid:e,vid:t}),o=t,Object.assign(c,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})):(i=n,o=i._id);const r=n._id===o,{visibleScreens:a}=l.default.getFilteredScreens();if(!a)return;const d=!a.some(t=>t._id===e);Object.assign(c,{versionId:o,latestVersionSelected:r,loadingSnapshot:!i||!("layers"in i.snapshot),loadingVersions:!s.totalVersionCount,shouldResetDashboardFilters:d})}o.a.dispatcher.dispatch(g(g({},c),{},{screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()}))},selectLayer(e){const t=s.default.getStyleguidesData({barrelStore:o.a.BarrelStore,styleguidesDataStore:o.a.StyleguidesDataStore,projectsDataStore:o.a.ProjectsDataStore}),n=Boolean(Object(p.findComponentLayer)(e,t)),{numberOfLayerComponentViews:i}=o.a.ScreenStore.getState(),r=n&&i<p.LAYER_COMPONENT_VIEW_LIMIT;o.a.dispatcher.dispatch({type:a.a.SELECT_LAYER,layer:e,numberOfLayerComponentViews:i,shouldIncrementNumberOfLayerComponentViews:r})},deselectLayer(){o.a.dispatcher.dispatch({type:a.a.DESELECT_LAYER})},enterLayer(e,t){o.a.dispatcher.dispatch({type:a.a.ENTER_LAYER,layer:e,percentageMode:t})},leaveLayer(){o.a.dispatcher.dispatch({type:a.a.LEAVE_LAYER})},enablePercentageMode(){o.a.dispatcher.dispatch({type:a.a.ENABLE_PERCENTAGE_MODE})},disablePercentageMode(){o.a.dispatcher.dispatch({type:a.a.DISABLE_PERCENTAGE_MODE})},addScreen(e){const{pid:t,seid:n,index:i,screen:s,syncWithApi:r=!1}=b(e);o.a.dispatcher.dispatch({type:a.a.ADD_SCREEN,pid:t,seid:n,index:i,screen:s,syncWithApi:r})},updateDescription(e){const{pid:t,sid:n,description:i,syncWithApi:s=!1}=b(e);let r;s&&({description:r}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:a.a.UPDATE_DESCRIPTION,pid:t,sid:n,description:i,oldDescription:r,syncWithApi:s})},updateName(e){const{pid:t,sid:n,name:i,onError:s,syncWithApi:r=!1}=b(e);let c;r&&({name:c}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:a.a.UPDATE_NAME,pid:t,sid:n,name:i,oldName:c,onError:s,syncWithApi:r})},removeScreen(e){const{pid:t,uid:n,sid:i,vgid:r=null,syncWithApi:c=!1}=b(g(g({},e),{},{svid:e.sid})),{screenId:d}=o.a.ScreenStore.getState(),u=i===d;let p,h,f,m;if((c||u)&&(p=l.default.getScreen({bid:t,sid:i})),u&&r){const{variantGroups:e}=s.default.getBarrel({bid:t}),{screens:n}=e.find(({_id:e})=>e===r),o=n[0].id===i?n[1].id:n[0].id;l.default.navigateToScreen(o)}if(c){const e=l.default.getSectionOfScreen({bid:t,sid:i});h=e._id,f=e.screens.indexOf(i)}if(n){m=s.default.getBarrel({bid:t}).findUser(n)}o.a.dispatcher.dispatch({type:a.a.REMOVE_SCREEN,pid:t,seid:h,index:f,sid:i,vgid:r,removedScreen:p,removingCurrentScreen:u,user:m,syncWithApi:c})},openTagManager(e){o.a.dispatcher.dispatch({type:a.a.OPEN_TAG_MANAGER,sids:e})},closeTagManager(){o.a.dispatcher.dispatch({type:a.a.CLOSE_TAG_MANAGER})},updateTags(e){const{pid:t,updates:n,isScreen:i=!1,syncWithApi:s=!1}=b(e);o.a.dispatcher.dispatch({type:a.a.UPDATE_TAGS,pid:t,updates:n,isScreen:i,syncWithApi:s})},removeTag(e){const{pid:t,tag:n,syncWithApi:i=!1}=b(e),{screens:o}=s.default.getBarrel({bid:t}),r=o.filter(({tags:e})=>e&&e.includes(n)).map(({_id:e})=>({_id:e,operation:"remove",tags:[n]}));this.updateTags({pid:t,updates:r,syncWithApi:i})},openSourceFile(e){o.a.dispatcher.dispatch({type:a.a.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){o.a.dispatcher.dispatch({type:a.a.OPEN_SOURCE_FOLDER,path:e})},setDots(e){const{pid:t,sid:n,dots:i}=b(e);i.forEach(e=>{e.status=e.status||"open"});let{statusFilter:s,colorFilter:r,dotId:l,highlightedDots:c}=o.a.DotsStore.getState();if(l){const e=i.find(e=>e._id===l);e?[s,r]=[e.status,null]:l=null}else if(c.length>1){const e=i.some(e=>"open"===e.status&&c.includes(e._id));e&&"open"!==s?[s,r]=["open",null]:e||"resolved"===s||([s,r]=["resolved",null])}o.a.dispatcher.dispatch({type:a.a.SET_DOTS,pid:t,sid:n,dots:i,dotId:l,colorFilter:r,statusFilter:s})},selectDot({dotId:e,commentId:t,source:n}){const{dotId:i}=o.a.DotsStore.getState();i!==e&&o.a.dispatcher.dispatch({type:a.a.SELECT_DOT,dotId:e,commentId:t,source:n})},saveNote({sid:e,did:t,note:n}){o.a.dispatcher.dispatch({type:a.a.SAVE_NOTE,sid:e,did:t,note:n})},highlightDots(e){o.a.dispatcher.dispatch({type:a.a.HIGHLIGHT_DOTS,dids:e})},unhighlightDot({did:e}){o.a.dispatcher.dispatch({type:a.a.UNHIGHLIGHT_DOT,did:e})},unhighlightComment(e){o.a.dispatcher.dispatch({type:a.a.UNHIGHLIGHT_COMMENT,cmid:e})},closeDotPopup(){o.a.dispatcher.dispatch({type:a.a.CLOSE_DOT_POPUP})},changeDotFilter(e,t){const n=s.default.findUser();let{dotId:i}=o.a.DotsStore.getState();if(i){const o=l.default.getDot({did:i});Object(c.checkFilter)(o,e,t,n.user)||(i=null)}o.a.dispatcher.dispatch({type:a.a.CHANGE_DOT_FILTER,dotId:i,status:e,color:t})},dotsFlashed(){o.a.dispatcher.dispatch({type:a.a.DOTS_FLASHED})},openPopout(e){const{pid:t,sid:n,vid:i}=b(e),{name:s}=l.default.getScreen({bid:t,sid:n}),{snapshot:{width:r,height:c,url:d}}=l.default.getVersion({bid:t,sid:n,vid:i});o.a.dispatcher.dispatch({type:a.a.OPEN_POPOUT,pid:t,name:s,width:r,height:c,url:d})},changeZoomLevel(e,t){o.a.dispatcher.dispatch({type:a.a.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){o.a.dispatcher.dispatch({type:a.a.ZOOM_IN})},zoomOut(){o.a.dispatcher.dispatch({type:a.a.ZOOM_OUT})},resetZoom(){o.a.dispatcher.dispatch({type:a.a.RESET_ZOOM})},zoomApplied(){o.a.dispatcher.dispatch({type:a.a.ZOOM_APPLIED})},startGesture(){o.a.dispatcher.dispatch({type:a.a.START_GESTURE})},zoomWithGesture(e){o.a.dispatcher.dispatch({type:a.a.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){o.a.dispatcher.dispatch({type:a.a.ZOOM_WITH_WHEEL,deltaY:e})},changeScrollPosition(e,t){o.a.dispatcher.dispatch({type:a.a.CHANGE_SCROLL_POSITION,scrollTop:e,scrollLeft:t})},toggleLayoutGrid(){o.a.dispatcher.dispatch({type:a.a.TOGGLE_LAYOUT_GRID})},enableNoteMode({flash:e=!0}={}){o.a.dispatcher.dispatch({type:a.a.ENABLE_NOTE_MODE,flash:e})},disableNoteMode(){o.a.dispatcher.dispatch({type:a.a.DISABLE_NOTE_MODE})},createNote(e){const{pid:t,sid:n,x:i,y:s}=b(e),{dots:r}=l.default.getScreen(),{lastNoteColorUsed:u}=o.a.DotsStore.getState(),p={_id:"newDot"+Object(d.getRandomString)(),name:r&&r.length?String(parseInt(r[r.length-1].name,10)+1):"1",x:i,y:s,color:Object(c.getColorValueByName)(u),status:"open",comments:[]};o.a.dispatcher.dispatch({type:a.a.CREATE_NOTE,pid:t,sid:n,dot:p})},addDot(e){const{pid:t,sid:n,uid:i,dot:r,syncWithApi:l=!1}=b(e);let d,p;i&&({userId:d,username:p}=o.a.UserStore.getState());let h=!1,f=!1;if(l){const e=s.default.getBarrel({bid:t}),[{note:n}]=r.comments;h=Object(u.isThereAnyMentionedUser)(e.users,n),f=Object(c.hasImage)(n)}o.a.dispatcher.dispatch({type:a.a.ADD_DOT,pid:t,sid:n,uid:i,userId:d,username:p,dot:r,hasMention:h,hasImage:f,syncWithApi:l})},updateDot(e){const{pid:t,sid:n,did:i,dotData:s,syncWithApi:r=!1}=b(e);let c;if(r){let e;var d=l.default.getDot({bid:t,sid:n,did:i})||{};({_id:e}=d),c=h(d,["_id"])}o.a.dispatcher.dispatch({type:a.a.UPDATE_DOT,pid:t,sid:n,did:i,dotData:s,oldDotData:c,syncWithApi:r})},updateDotColor(e){const{pid:t,sid:n,did:i,color:s,syncWithApi:r=!1}=b(e);let d;if(r){var u=(l.default.getDot({bid:t,sid:n,did:i})||{}).color;({}=u),d=Object.assign({},u)}o.a.dispatcher.dispatch({type:a.a.UPDATE_DOT_COLOR,pid:t,sid:n,did:i,color:s,oldColor:d,colorName:Object(c.getColorName)(s),syncWithApi:r})},updateDotPosition(e){const{pid:t,sid:n,did:i,x:s,y:r,syncWithApi:c=!1}=b(e);let d,u;c&&({x:d,y:u}=l.default.getDot({bid:t,sid:n,did:i})||{}),o.a.dispatcher.dispatch({type:a.a.UPDATE_DOT_POSITION,pid:t,sid:n,did:i,x:s,y:r,oldX:d,oldY:u,syncWithApi:c})},updateDotStatus(e){const{pid:t,sid:n,did:i,status:s,statusFilter:r,syncWithApi:c=!1,source:d="Screen"}=b(e);let u;c&&({status:u}=l.default.getDot({bid:t,sid:n,did:i})||{}),o.a.dispatcher.dispatch({type:a.a.UPDATE_DOT_STATUS,pid:t,sid:n,did:i,status:s,oldStatus:u,statusFilter:r,syncWithApi:c,source:d})},removeDot(e){const{pid:t,sid:n,did:i,note:s,syncWithApi:r=!1}=b(e);let c;r&&(c=l.default.getDot({bid:t,sid:n,did:i})),o.a.dispatcher.dispatch({type:a.a.REMOVE_DOT,pid:t,sid:n,did:i,note:s,removedDot:c,syncWithApi:r})},createComment(e){const{pid:t,sid:n,did:i,note:r,hasReaction:p,syncWithApi:h=!1,source:f="Screen"}=b(e),g="newComment"+Object(d.getRandomString)(),{user:{_id:m,email:S,username:y,emotar:v,avatar:C}}=s.default.findUser({bid:t}),O=Date.now(),E={_id:g,author:{_id:m,email:S,username:y,emotar:v,avatar:C},note:r,created:O,updated:O};let T,_=!1,P=!1;if(h){const e=s.default.getBarrel({bid:t}),o=l.default.getDot({bid:t,sid:n,did:i}),a=o.comments.map(e=>e.author._id).lastIndexOf(Zeplin.user._id)+1,d=o.comments.slice(a);_=Object(u.isThereAnyMentionedUser)(e.users,r),T=d.some(e=>e.author._id!==Zeplin.user._id&&e.note.includes("@"+Zeplin.user.username)),P=Object(c.hasImage)(r)}o.a.dispatcher.dispatch({type:a.a.CREATE_COMMENT,pid:t,sid:n,did:i,comment:E,hasReaction:p,toMention:T,hasMention:_,hasImage:P,syncWithApi:h,source:f})},addComment(e){const{pid:t,sid:n,uid:i,did:s,comment:r}=b(e);let l,c;i&&({userId:l,username:c}=o.a.UserStore.getState()),o.a.dispatcher.dispatch({type:a.a.ADD_COMMENT,pid:t,sid:n,uid:i,userId:l,username:c,did:s,comment:r})},updateComment(e){const{pid:t,sid:n,uid:i,did:r,cmid:c,commentData:d,syncWithApi:u=!1}=b(e);let p,f,g,m;if(u){let e;var S=l.default.getComment({pid:t,sid:n,did:r,cmid:c})||{};({_id:e}=S),p=h(S,["_id"])}i&&(({userId:f,username:g}=o.a.UserStore.getState()),({user:m}=s.default.findUser({bid:t,uid:i})||{})),o.a.dispatcher.dispatch({type:a.a.UPDATE_COMMENT,pid:t,sid:n,uid:i,author:m,userId:f,username:g,did:r,cmid:c,commentData:d,oldCommentData:p,syncWithApi:u})},removeComment(e){const{pid:t,sid:n,did:i,cmid:s,syncWithApi:r=!1}=b(e);let c;r&&(c=l.default.getComment({pid:t,sid:n,did:i,cmid:s})),o.a.dispatcher.dispatch({type:a.a.REMOVE_COMMENT,pid:t,sid:n,did:i,cmid:s,removedComment:c,syncWithApi:r})},openDotMenu(){o.a.dispatcher.dispatch({type:a.a.OPEN_DOT_MENU})},showNotes(){o.a.dispatcher.dispatch({type:a.a.SHOW_NOTES})},hideNotes(){o.a.dispatcher.dispatch({type:a.a.HIDE_NOTES})},showFlowLinks(){o.a.dispatcher.dispatch({type:a.a.SHOW_FLOW_LINKS})},hideFlowLinks(){o.a.dispatcher.dispatch({type:a.a.HIDE_FLOW_LINKS})},changeSidebarTab(e){o.a.dispatcher.dispatch({type:a.a.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeScreenSidebarWidth(e){o.a.dispatcher.dispatch({type:a.a.CHANGE_SCREEN_SIDEBAR_WIDTH,screenSidebarWidth:e})},getVersions(){const{screenId:e}=o.a.ScreenStore.getState();o.a.dispatcher.dispatch({type:a.a.GET_VERSIONS,screenId:e})},setVersions(e){const{pid:t,sid:n,versions:i,totalVersionCount:s,allowedVersionCount:r}=b(e);i.forEach(e=>{e.commit=e.commit||{message:"",color:Object(c.getColorValueByName)("yellow"),author:e.creator}});let{versionId:l}=o.a.ScreenStore.getState();i.some(({_id:e})=>e===l)||(l=i[0]._id),o.a.dispatcher.dispatch({type:a.a.SET_VERSIONS,pid:t,sid:n,versions:i,totalVersionCount:s,allowedVersionCount:r,versionId:l})},setVersionId(e){const{barrelId:t}=o.a.BarrelStore.getState(),{screenId:n}=o.a.ScreenStore.getState(),{versions:[{_id:i}]=[{}]}=l.default.getScreen()||{};let s=e;s||(s=i);const r=s===i;o.a.dispatcher.dispatch({type:a.a.SET_VERSION_ID,barrelId:t,screenId:n,versionId:s,latestVersionSelected:r})},setSnapshot(e){const{pid:t,sid:n,vid:i,snapshot:s}=b(e);o.a.dispatcher.dispatch({type:a.a.SET_SNAPSHOT,pid:t,sid:n,vid:i,snapshot:s})},showVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;o.a.dispatcher.dispatch({type:a.a.SHOW_VERSIONS,loadingVersions:t,screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()})},hideVersions(){o.a.dispatcher.dispatch({type:a.a.HIDE_VERSIONS})},toggleVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;o.a.dispatcher.dispatch({type:a.a.TOGGLE_VERSIONS,loadingVersions:t,screenVersionsLastSeen:S.calculateVersionsLastSeenForCurrentScreen()})},enableVersionsCompactMode(){o.a.dispatcher.dispatch({type:a.a.ENABLE_VERSIONS_COMPACT_MODE})},disableVersionsCompactMode(){o.a.dispatcher.dispatch({type:a.a.DISABLE_VERSIONS_COMPACT_MODE})},showVersionsAuntie(){o.a.dispatcher.dispatch({type:a.a.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){o.a.dispatcher.dispatch({type:a.a.HIDE_VERSIONS_AUNTIE})},newVersionsFound(){o.a.dispatcher.dispatch({type:a.a.NEW_VERSIONS_FOUND})},changeVersionsSidebarWidth(e){o.a.dispatcher.dispatch({type:a.a.CHANGE_VERSIONS_SIDEBAR_WIDTH,versionsSidebarWidth:e})},addVersion(e){const{pid:t,sid:n,version:i,syncWithApi:r=!1}=b(e);i.commit=i.commit||{message:"",color:Object(c.getColorValueByName)("yellow"),author:i.creator};if(!s.default.getBarrel({bid:t}).complete)return;let d;const u=l.default.getScreen({bid:t,sid:n});if(!u)return;const{versions:p,allowedVersionCount:h}=u;p.length>h&&(d=p[p.length-1]);const{screenVersionsLastSeen:f}=o.a.BarrelStore.getState();let{versionId:g,latestVersionSelected:m,versionsVisible:S}=o.a.ScreenStore.getState();(m||d&&d._id===g)&&(m=!0,g=i._id);const y=f&&f[n]?f[n]:new Date(0),v=Boolean(p.filter(({created:e})=>new Date(e)>y).length)&&!S;o.a.dispatcher.dispatch({type:a.a.ADD_VERSION,pid:t,sid:n,version:i,poppedVersion:d,syncWithApi:r,versionId:g,latestVersionSelected:m,hasNewVersions:v,screenVersionsLastSeen:this.calculateVersionsLastSeenForCurrentScreen()})},updateCommitColor(e){const{pid:t,sid:n,vid:i,color:s,syncWithApi:r=!1}=b(e);let c;if(r){var d=l.default.getVersion({sid:n,vid:i}).commit.color;({}=d),c=Object.assign({},d)}o.a.dispatcher.dispatch({type:a.a.UPDATE_COMMIT_COLOR,pid:t,sid:n,vid:i,color:s,oldColor:c,syncWithApi:r})},updateCommitMessage(e){const{pid:t,sid:n,vid:i,message:s,syncWithApi:r=!1}=b(e);let c;if(r){c=l.default.getVersion({sid:n,vid:i}).commit.message}o.a.dispatcher.dispatch({type:a.a.UPDATE_COMMIT_MESSAGE,pid:t,sid:n,vid:i,message:s,oldMessage:c,syncWithApi:r})},removeVersion(e){const{pid:t,sid:n,vid:i,syncWithApi:s=!1}=b(e);let r;s&&(r=l.default.getVersion({sid:n,vid:i}));let{versionId:c}=o.a.ScreenStore.getState();const{latestVersionSelected:d}=o.a.ScreenStore.getState(),u=i===c;u&&d?({versions:[,{_id:c}]}=l.default.getScreen({sid:n})):u&&({versions:[{_id:c}]}=l.default.getScreen({sid:n})),o.a.dispatcher.dispatch({type:a.a.REMOVE_VERSION,pid:t,sid:n,vid:i,removedVersion:r,removingCurrentVersion:u,syncWithApi:s,versionId:c})},setSourceFile({versionId:e,sourceFile:t}){o.a.dispatcher.dispatch({type:a.a.SET_SOURCE_FILE,versionId:e,sourceFile:t})},hideComponentVariantsOnboardingHintbox(){o.a.dispatcher.dispatch({type:a.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX})},renameScreenVariant(e){const{pid:t,vgid:n,svid:i,name:r,syncWithApi:l}=b(e);let c;if(l){const{variantGroups:e}=s.default.getBarrel({bid:t}),{screens:o}=e.find(({_id:e})=>e===n);c=o.find(({id:e})=>e===i).variantName}o.a.dispatcher.dispatch({type:a.a.RENAME_SCREEN_VARIANT,pid:t,vgid:n,svid:i,name:r,oldName:c,syncWithApi:l})},reorderScreenVariant(e){const{pid:t,vgid:n,svid:i,index:r,syncWithApi:l}=b(e);let c;if(l){const{variantGroups:e}=s.default.getBarrel({bid:t}),{screens:o}=e.find(({_id:e})=>e===n);c=o.findIndex(({id:e})=>e===i)}o.a.dispatcher.dispatch({type:a.a.REORDER_SCREEN_VARIANT,pid:t,vgid:n,svid:i,index:r,oldIndex:c,syncWithApi:l})},removeScreenVariant(e){const{pid:t,vgid:n,svid:i,syncWithApi:r}=b(e),{variantGroups:c}=s.default.getBarrel({bid:t}),{screens:d}=c.find(({_id:e})=>e===n);let u,p;r&&(p=d.find(({id:e})=>e===i),u=d.findIndex(({id:e})=>e===i));const{screenId:h}=o.a.ScreenStore.getState();if(i===h){const e=d[0].id===i?d[1].id:d[0].id;l.default.navigateToScreen(e)}o.a.dispatcher.dispatch({type:a.a.REMOVE_SCREEN_VARIANT,pid:t,vgid:n,svid:i,oldIndex:u,oldScreenVariant:p,syncWithApi:r})},addScreenVariant(e){const{pid:t,vgid:n,screenVariant:i,index:s}=b(e);o.a.dispatcher.dispatch({type:a.a.ADD_SCREEN_VARIANT,pid:t,vgid:n,screenVariant:i,index:s})},selectScreenVariant(e){const{pid:t,svid:n,usingKeyboardShortcut:i}=b(e);o.a.dispatcher.dispatch({type:a.a.SELECT_SCREEN_VARIANT,pid:t,svid:n,usingKeyboardShortcut:i})}};t.default=S},function(e,t,n){"use strict";n.r(t),n.d(t,"LAYER_COMPONENT_VIEW_LIMIT",(function(){return s})),n.d(t,"HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT",(function(){return r})),n.d(t,"findUsedScreens",(function(){return a})),n.d(t,"findConnectedComponentByIdOrName",(function(){return l}));var i=n(559),o=n(704);n.d(t,"findComponentById",(function(){return o.findComponentById})),n.d(t,"findComponentByName",(function(){return o.findComponentByName})),n.d(t,"findComponentLayer",(function(){return o.findComponentLayer})),n.d(t,"isBooleanProperty",(function(){return o.isBooleanProperty})),n.d(t,"isTruthyPropertyValue",(function(){return o.isTruthyPropertyValue})),n.d(t,"findOmittedVariantProperties",(function(){return o.findOmittedVariantProperties})),n.d(t,"getComponentSectionById",(function(){return o.getComponentSectionById})),n.d(t,"getComponentLayerForVariant",(function(){return o.getComponentLayerForVariant})),n.d(t,"LayerComponentSearchResult",(function(){return o.LayerComponentSearchResult}));const s=50,r=50;function a(e,t,n){return e.filter(({versions:[{snapshot:{componentNames:e,componentIds:i}}]})=>i&&i.includes(n)||e&&e.includes(t))}function l(e,t,n,o){if(!t||!n)return null;let s=null,r=0;for(const a of n){const n=o?a.localConnectedComponents:a.connectedComponents;if(n){for(const t of n){const{zeplinIds:n}=t;if(n&&n.includes(e))return t}for(const e of n){const{zeplinNames:n}=e;if(n.includes(t))return e;for(const o of n)if(new RegExp(`^${Object(i.escapeRegExpButAsterisk)(o)}$`.replace(/\*/g,".*")).test(t)){const t=o.replace(/\*/g,"").length;(!s||t>r)&&(s=e,r=t)}}}}return s}},function(e,t,n){"use strict";function i({componentSections:e},t,n=[]){for(const o of e){const e=o.components.find(e=>t(e));if(e)return{ancestors:[...n,o],component:e};const s=i(o,t,[...n,o]);if(s)return s}return null}function o({componentSections:e},t){for(const n of e){if(n._id===t)return n;const e=o(n,t);if(e)return e}return null}function s(e,t,n){if(!t&&!n)return null;if(n)for(const o of e){const e=i(o,e=>e.sourceId===n);if(e)return Object.assign({barrelId:o.id},e)}if(t)for(const o of e){const e=i(o,e=>e.name===t);if(e)return Object.assign({barrelId:o.id},e)}return null}function r(e,t){if(!e||!t)return null;const n=function(e){let{parent:t}=e;const n=[e];for(;t;)n.push(t),({parent:t}=t);return n}(e);return n?function(e,t){for(const n of e){const{componentName:e,componentId:i}=n;if(!e&&!i)continue;const o=s(t,e,i);if(o)return Object.assign({layer:n},o)}return null}(n,t):null}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentLayerForVariant=t.findOmittedVariantProperties=t.isTruthyPropertyValue=t.isBooleanProperty=t.findComponentLayer=t.getComponentSectionById=t.findComponentById=void 0,t.findComponentById=function(e,t){if(!t)return null;for(const n of e){const e=i(n,e=>e._id===t);if(e)return Object.assign({barrelId:n.id},e)}return null},t.getComponentSectionById=function(e,t){if(!t)return null;for(const n of e){const e=o(n,t);if(e)return e}return null},t.findComponentLayer=r,t.isBooleanProperty=function(e){const t=[["true","false"],["yes","no"],["on","off"]];for(const n of t)if(e.every(e=>n.includes(e.toLowerCase())))return!0;return!1},t.isTruthyPropertyValue=function(e){return["true","yes","on"].includes(e.toLowerCase())},t.findOmittedVariantProperties=function(e){const t={};return e.forEach(({variant:e})=>{e&&e.values.forEach(({propertyId:e,value:n})=>{const i=`${e}:${n}`;i in t?t[i]++:t[i]=1})}),Object.entries(t).filter(([,t])=>t===e.length).map(([e])=>e)},t.getComponentLayerForVariant=function(e,t){const n=r(e,t);if(!n)return null;const i=n.ancestors.find(e=>e.variant);return i?Object.assign(Object.assign({},n),{component:Object.assign(Object.assign({},n.component),{name:i.name})}):n}},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(645),r=n(681),a=n(560),l=n(703),c=n(691),d=n.n(c);function u(e={}){if(!e.bid){const{barrelId:t}=o.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=o.a.BarrelStore.getState();e.barrelType=t}return e}const p={updateState(e){o.a.dispatcher.dispatch({type:s.default.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){o.a.dispatcher.dispatch({type:s.default.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){o.a.dispatcher.dispatch({type:s.default.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){o.a.dispatcher.dispatch({type:s.default.CHANGE_SORT_TYPE,sortType:e})},changeComponentFilterValue(e){o.a.dispatcher.dispatch({type:s.default.CHANGE_COMPONENT_FILTER_VALUE,filterValue:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){o.a.dispatcher.dispatch({type:s.default.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},expandSections(e){o.a.dispatcher.dispatch({type:s.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.a.dispatcher.dispatch({type:s.default.COLLAPSE_SECTIONS,seids:e})},collapseAllSections(){const e=d.a.getExpandedSectionIds();e.length&&o.a.dispatcher.dispatch({type:s.default.COLLAPSE_ALL_SECTIONS,seids:e})},highlightColors(e){o.a.dispatcher.dispatch({type:s.default.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){o.a.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){o.a.dispatcher.dispatch({type:s.default.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){o.a.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},highlightSpacingTokens(e){o.a.dispatcher.dispatch({type:s.default.HIGHLIGHT_SPACING_TOKENS,sptids:e})},unhighlightSpacingToken(e){o.a.dispatcher.dispatch({type:s.default.UNHIGHLIGHT_SPACING_TOKEN,sptid:e})},sectionScrolled(){o.a.dispatcher.dispatch({type:s.default.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t,collapsedSections:n}){const{selectionComponentId:i}=o.a.StyleguideStore.getState();if(e&&e!==i&&e!==t._id){const t=r.default.getStyleguidesData({barrelStore:o.a.BarrelStore,styleguidesDataStore:o.a.StyleguidesDataStore,projectsDataStore:o.a.ProjectsDataStore}),{component:n}=Object(l.findComponentById)(t,e)||{};if(!n)return;const{latestVersion:{snapshot:{assets:i=[]}}}=n;if(i.find(e=>"snapshot"===e.layerId))return void o.a.dispatcher.dispatch({type:s.default.CHANGE_SELECTION,selectionComponentId:e,selection:n})}o.a.dispatcher.dispatch({type:s.default.CHANGE_SELECTION,selectionComponentId:e,selection:t,collapsedSections:n})},componentSnapshotsReady(){o.a.dispatcher.dispatch({type:s.default.COMPONENT_SNAPSHOTS_READY})},hideSuggestedColors(e,t){o.a.dispatcher.dispatch({type:s.default.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){o.a.dispatcher.dispatch({type:s.default.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({resources:e,resourceType:t,targetNode:n}){o.a.dispatcher.dispatch({type:s.default.OPEN_MOVE_RESOURCES_POPUP,resources:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){o.a.dispatcher.dispatch({type:s.default.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){o.a.dispatcher.dispatch({type:s.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){o.a.dispatcher.dispatch({type:s.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})},convertSectionToVariantSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:r=!1}=u(e);o.a.dispatcher.dispatch({type:s.default.CONVERT_SECTION_TO_VARIANT_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:r})},convertVariantSectionToSection(e){const{bid:t,barrelType:n,csid:i,syncWithApi:r=!1}=u(e);o.a.dispatcher.dispatch({type:s.default.CONVERT_VARIANT_SECTION_TO_SECTION,bid:t,barrelType:n,csid:i,syncWithApi:r})},createComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:r={},syncWithApi:l=!1}=u(e);let c=r;if(l){const{_id:e="newVariant"+Object(a.getRandomString)(),name:t="",values:n=[]}=r;c={_id:e,name:t,values:n}}o.a.dispatcher.dispatch({type:s.default.CREATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:c,syncWithApi:l})},addComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,componentVariantProperty:r,syncWithApi:a=!1}=u(e);o.a.dispatcher.dispatch({type:s.default.ADD_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,componentVariantProperty:r,syncWithApi:a})},updateComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:r,data:a}=u(e);o.a.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:r,data:a})},updateComponentVariantPropertyName(e){const{bid:t,barrelType:n,csid:i,vpid:a,name:l,syncWithApi:c=!1}=u(e);let d;if(c){const e=r.default.getBarrel({bid:t}).findComponentSection([i]);({name:d}=e.variant.properties.find(({_id:e})=>e===a))}o.a.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME,bid:t,barrelType:n,csid:i,vpid:a,name:l,oldName:d,syncWithApi:c})},updateComponentVariantPropertyValues(e){const{bid:t,barrelType:n,csid:i,vpid:a,values:l,syncWithApi:c=!1}=u(e);let d;if(c){const e=r.default.getBarrel({bid:t}).findComponentSection([i]);({values:d}=e.variant.properties.find(({_id:e})=>e===a))}o.a.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES,bid:t,barrelType:n,csid:i,vpid:a,values:l,oldValues:d,syncWithApi:c})},updateComponentVariantPropertiesOrder(e){const{bid:t,barrelType:n,csid:i,properties:a,syncWithApi:l=!1}=u(e);let c;if(l){const e=r.default.getBarrel({bid:t}).findComponentSection([i]);c=a.map(({_id:t})=>{const n=e.variant.properties.findIndex(e=>e._id===t);return{_id:t,to:n}})}o.a.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER,bid:t,barrelType:n,csid:i,properties:a,oldProperties:c,syncWithApi:l})},updateComponentVariantPropertyValue(e){const{bid:t,barrelType:n,csid:i,vpid:r,coid:a,value:l,syncWithApi:c=!1}=u(e);o.a.dispatcher.dispatch({type:s.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE,bid:t,barrelType:n,csid:i,vpid:r,coid:a,value:l,syncWithApi:c})},setComponentVariantData(e){const{bid:t,barrelType:n,csid:i,name:r,sectionVariant:a,components:l,userConvertedSectionIntoVariant:c=!1}=u(e);o.a.dispatcher.dispatch({type:s.default.SET_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i,name:r,sectionVariant:a,components:l,userConvertedSectionIntoVariant:c})},removeComponentVariantProperty(e){const{bid:t,barrelType:n,csid:i,vpid:a,syncWithApi:l=!1}=u(e);let c;if(l){c=r.default.getBarrel({bid:t}).findComponentSection([i]).variant.properties.find(({_id:e})=>e===a)}o.a.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,vpid:a,removedComponentVariantProperty:c,syncWithApi:l})},removeComponentVariantData(e){const{bid:t,barrelType:n,csid:i}=u(e);o.a.dispatcher.dispatch({type:s.default.REMOVE_COMPONENT_VARIANT_DATA,bid:t,barrelType:n,csid:i})},createComponentSectionVariantGroups(e){const{bid:t,barrelType:n,csid:i,vpid:r}=u(e);o.a.dispatcher.dispatch({type:s.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,bid:t,barrelType:n,csid:i,vpid:r,syncWithApi:!0})},groupComponentsByVariantProperty(e){const{bid:t,barrelType:n,csid:i,components:r,componentSections:a}=u(e);o.a.dispatcher.dispatch({type:s.default.GROUP_COMPONENTS_BY_VARIANT_PROPERTY,bid:t,barrelType:n,csid:i,components:r,componentSections:a})},hideComponentVariantsOnboardingDialog(){o.a.dispatcher.dispatch({type:s.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG})}};t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(681),r=n(599),a=n(687),l=n(560);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){if(!e.pid){const{barrelId:t}=o.a.BarrelStore.getState();e.pid=t}return e}const h={changeSortType(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_SORT_TYPE,sortType:e})},toggleFixedThumbnailSize(){o.a.dispatcher.dispatch({type:r.default.TOGGLE_FIXED_THUMBNAIL_SIZE})},changeSidebarWidth(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})},changeTagFilter(e){o.a.dispatcher.dispatch({type:r.default.CHANGE_TAG_FILTER,tagFilter:e})},expandSections(e){o.a.dispatcher.dispatch({type:r.default.EXPAND_SECTIONS,seids:e})},collapseSections(e){o.a.dispatcher.dispatch({type:r.default.COLLAPSE_SECTIONS,seids:e})},downloadScreens(e,t){o.a.dispatcher.dispatch({type:r.default.DOWNLOAD_SCREENS,screens:e,fileName:t})},downloadScreen(e){const t=a.default.getScreen({sid:e});h.downloadScreens([t],t.name)},downloadScreensOfTag(e){const{screens:t}=s.default.getBarrel(),n=t.filter(t=>t.tags&&t.tags.includes(e));h.downloadScreens(n,e+".zip")},downloadScreensOfVariantGroup(e){const{variantGroups:t}=s.default.getBarrel(),n=t.find(({_id:t})=>e===t);if(n){const e=n.screens.map(({id:e})=>a.default.getScreen({sid:e}));h.downloadScreens(e,n.name+".zip")}},unhighlightScreen(e){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_SCREEN,sid:e})},downloadScreensOfSection(e){const{sections:t,screens:n}=s.default.getBarrel(),i=t.find(t=>t._id===e),o=i.screens.map(e=>n.find(t=>t._id===e));h.downloadScreens(o,i.name+".zip")},highlightSection(e){o.a.dispatcher.dispatch({type:r.default.HIGHLIGHT_SECTION,seid:e})},unhighlightSection(){o.a.dispatcher.dispatch({type:r.default.UNHIGHLIGHT_SECTION})},splitSection(e){const{sections:t}=s.default.getBarrel(),n=t.find(t=>t.screens.includes(e)),i=n.screens.indexOf(e),o=t.findIndex(e=>e._id===n._id),r=n.screens.slice(i),a={_id:"newSectionFromSplit"+Object(l.getRandomString)(),name:"Untitled section",screens:r};this.addSection({section:a,index:o+1})},addSection(e){const{pid:t,section:n,index:i,syncWithApi:s=!1}=p(e);o.a.dispatcher.dispatch({type:r.default.ADD_SECTION,pid:t,section:n,index:i,syncWithApi:s})},createSection(e){const{pid:t,seid:n,name:i}=p(e),{sections:a}=s.default.getBarrel(),l=a.findIndex(e=>e._id===n),c=d(d({},a[l]),{},{name:i});o.a.dispatcher.dispatch({type:r.default.CREATE_SECTION,pid:t,section:c,index:l,syncWithApi:!0})},convertTagToSection(e){const{pid:t,tag:n}=p(e),{screens:i,sections:[a]}=s.default.getBarrel(),c=i.filter(e=>e.tags&&e.tags.includes(n)).map(e=>e._id),d=[...a.screens],u={_id:"newSectionFromTag"+Object(l.getRandomString)(),name:n,screens:c};o.a.dispatcher.dispatch({type:r.default.CONVERT_TAG_TO_SECTION,pid:t,section:u,index:1,defaultSectionId:a._id,oldDefaultSectionScreens:d,syncWithApi:!0})},updateSection(e){const{pid:t,seid:n,sectionData:i,highlight:s=!1}=p(e);o.a.dispatcher.dispatch({type:r.default.UPDATE_SECTION,pid:t,seid:n,sectionData:i,highlight:s})},renameSection(e){const{pid:t,seid:n,name:i,onError:a,syncWithApi:l=!1}=p(e);let c;if(l){const{sections:e}=s.default.getBarrel();({name:c="Untitled section"}=e.find(e=>e._id===n)||{})}o.a.dispatcher.dispatch({type:r.default.RENAME_SECTION,pid:t,seid:n,name:i,oldName:c,onError:a,syncWithApi:l})},updateSectionDescription(e){const{pid:t,seid:n,description:i,onError:a,syncWithApi:l=!1}=p(e);let c;if(l){const{sections:e}=s.default.getBarrel();({description:c=""}=e.find(e=>e._id===n)||{})}o.a.dispatcher.dispatch({type:r.default.UPDATE_SECTION_DESCRIPTION,pid:t,seid:n,description:i,oldDescription:c,onError:a,syncWithApi:l})},updateSectionOrder(e){const{pid:t,seid:n,index:i,syncWithApi:a=!1}=p(e);let l;if(a){const{sections:e}=s.default.getBarrel();l=e.findIndex(e=>e._id===n)}o.a.dispatcher.dispatch({type:r.default.UPDATE_SECTION_ORDER,pid:t,seid:n,index:i,oldIndex:l,syncWithApi:a})},removeSection(e){const{pid:t,seid:n,syncWithApi:i=!1}=p(e);let a,l;if(i){const{sections:e}=s.default.getBarrel({bid:t});a=e.findIndex(e=>e._id===n),l=e[a]}o.a.dispatcher.dispatch({type:r.default.REMOVE_SECTION,pid:t,seid:n,index:a,removedSection:l,syncWithApi:i})},updateScreenOrder(e){const{pid:t,screens:n,targetSectionId:i,targetIndex:a,syncWithApi:l=!1}=p(e),c=s.default.getBarrel({bid:t});if(!c.complete)return;const{sections:d}=c;let u;l&&(u=n.map(e=>{const{_id:t,screens:n}=d.find(t=>t.screens.includes(e));return{sourceSectionId:t,sourceIndex:n.findIndex(t=>t===e)}}));let h=a;if(void 0===a){const{screens:{length:e}}=d.find(e=>e._id===i);h=e}o.a.dispatcher.dispatch({type:r.default.UPDATE_SCREEN_ORDER,pid:t,screens:n,targetSectionId:i,targetIndex:h,oldIndices:u,syncWithApi:l})},updateScreenOrderV2(e){const{pid:t,items:n,targetSectionId:i,targetIndex:a,syncWithApi:l=!1}=p(e),c=s.default.getBarrel({bid:t});if(!c.complete)return;const{sections:d,variantGroups:u}=c;let h;l&&(h=n.map(({_id:e,type:t})=>{let n=e;if("variantGroup"===t){const t=u.find(({_id:t})=>t===e);n=t.screens[0].id}const{_id:i,screens:o}=d.find(e=>e.screens.includes(n));return{sourceSectionId:i,sourceIndex:o.findIndex(e=>e===n)}}));let f=a;if(void 0===a){const{screens:{length:e}}=d.find(e=>e._id===i);f=e}o.a.dispatcher.dispatch({type:r.default.UPDATE_SCREEN_ORDER_V2,pid:t,items:n,targetSectionId:i,targetIndex:f,oldIndices:h,syncWithApi:l})},createVariantGroup(e){const{pid:t,vgid:n,screens:i,variantGroupName:s,shouldOrder:a=!1,syncWithApi:l=!1}=p(e);o.a.dispatcher.dispatch({type:r.default.CREATE_VARIANT_GROUP,pid:t,vgid:n,screens:i,variantGroupName:s,shouldOrder:a,syncWithApi:l})},addScreensToVariantGroup(e){const{pid:t,vgid:n,screens:i,shouldOrder:a=!1,syncWithApi:l=!1}=p(e);let c;if(l){const{variantGroups:e}=s.default.getBarrel({bid:t});c=e.find(({_id:e})=>e===n)}o.a.dispatcher.dispatch({type:r.default.ADD_SCREENS_TO_VARIANT_GROUP,pid:t,vgid:n,screens:i,oldVariantGroup:c,shouldOrder:a,syncWithApi:l})},updateVariantGroup(e){const{pid:t,vgid:n,variantGroupData:i,syncWithApi:a=!1}=p(e);let l;if(a){const{variantGroups:e}=s.default.getBarrel({bid:t});l=e.find(({_id:e})=>e===n)}o.a.dispatcher.dispatch({type:r.default.UPDATE_VARIANT_GROUP,pid:t,vgid:n,variantGroupData:i,oldVariantGroupData:l,syncWithApi:a})},renameVariantGroup(e){const{pid:t,vgid:n,name:i,syncWithApi:a=!1}=p(e);let l;if(a){const{variantGroups:e}=s.default.getBarrel(t);l=e.find(({_id:e})=>e===n).name}o.a.dispatcher.dispatch({type:r.default.RENAME_VARIANT_GROUP,pid:t,vgid:n,name:i,oldName:l,syncWithApi:a})},deleteVariantGroupRequest(e){const{pid:t,vgid:n,syncWithApi:i=!1}=p(e);o.a.dispatcher.dispatch({type:r.default.DELETE_VARIANT_GROUP_REQUEST,pid:t,vgid:n,syncWithApi:i})},deleteVariantGroup(e){const{pid:t,vgid:n,uid:i,screens:a=null,syncWithApi:l}=p(e),{screenId:c}=o.a.ScreenStore.getState();let d,u,h;if(c){const{variantGroups:e}=s.default.getBarrel({bid:t});u=e.find(({_id:e})=>n===e),u&&(d=u.screens.some(({id:e})=>e===c))}if(i){h=s.default.getBarrel({bid:t}).findUser(i)}o.a.dispatcher.dispatch({type:r.default.DELETE_VARIANT_GROUP,pid:t,vgid:n,screens:a,user:h,removingCurrentScreen:d,removedVariantGroup:u,syncWithApi:l})},hideScreenVariantsOnboarding(){o.a.dispatcher.dispatch({type:r.default.HIDE_SCREEN_VARIANTS_ONBOARDING})}};t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(542),o=n(708),s=n(541);i.default&&s.supports.SPA&&(i.default.ipcRenderer.on("close-all-banners",(function(){o.closeBanner("appUpdate"),o.closeBanner("pluginUpdate")})),i.default.ipcRenderer.on("app-update-downloaded",(e,t)=>{o.closeBanner("appUpdate"),o.show({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("appUpdate"),i.default.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-update-later",t)}})}),i.default.ipcRenderer.on("plugin-update-downloaded",(e,t)=>{var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),o.closeBanner("pluginUpdate"),o.show({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("pluginUpdate"),i.default.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-plugin-install-later",t)}})}))},function(e,t,n){"use strict";n.r(t),n.d(t,"show",(function(){return o})),n.d(t,"closeBanner",(function(){return s}));var i=document.getElementById("bannerTemplate");function o(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",(function(e){e.stopPropagation()})),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()})),e.bodyCallbacks)for(var o in e.bodyCallbacks)t.querySelector(o).addEventListener("click",e.bodyCallbacks[o]);e.container?e.container.appendChild(t):document.body.appendChild(t)}function s(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendGAPageView=void 0;const i=n(549);t.sendGAPageView=function({title:e,source:t}={}){Zeplin.user&&!i.shouldTrackUser(Zeplin.user)||(ga("set","location",location.href),e&&ga("set","title",e),ga("send","pageview",t))}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.renderComponent()}update(e){Object.assign(this.props,e),this.renderComponent()}renderComponent(){i.render(i.h(this.preactComponent,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:e=>{this.domNode=e}},this.props)),this.domContainer)}remove(){i.render(null,this.domContainer),this.domNode=null,this.props=null}}},,,,function(e,t,n){"use strict";n.r(t);var i=n(717);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(560),s=n(5),r=n.n(s),a=n(718),l=n.n(a),c=n(563),d=n(719),u=n.n(d);n(722);const{h:p}=i;class h extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleMaskChange=this.handleMaskChange.bind(this),this.state={value:e.value,focusWithin:!1,isMasked:"password"===e.type}}handleInputChange(e){const t=e.target.value;this.setState({value:t});const{onInput:n}=this.props;n(t)}handleBlur(){const{onBlur:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!0})}handleMaskChange(){this.setState(e=>({isMasked:!e.isMasked}))}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}render(){const{value:e,focusWithin:t,isMasked:n}=this.state,{label:s,onKeyPress:r,primary:a,valid:d,extraInfoText:p,extraInfoLoading:h,tipText:f,showTipText:g,minLength:m,maxLength:b,autoComplete:S,autofocus:y,inputRef:v,type:C}=this.props;let O;a&&d?O="img/icTickBlue.svg":d?O="img/icTick.svg":!1===d&&(O="img/icInvalid.svg");let E=C;const T="password"===C;T&&!n&&(E="text");const _=Object(o.getRandomString)(),P=(t||g)&&!!f,D=l()("inputArea",{focus:t,typed:!!e});return i.h("div",{class:l()("inputWithLabelContainer",{primary:a,invalid:!1===d})},i.h("div",{class:D,title:s},i.h("input",{id:_,value:e,name:"textInput",type:E,placeholder:s,minLength:m,maxLength:b,ref:v,autoComplete:S,autofocus:y,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:r}),i.h("label",{for:_,class:"inputLabel"},s),i.h("div",{class:"extraInputInfo"},h&&i.h("img",{src:Object(c.imageUrl)("img/icSpinnerBlueTheme.svg"),class:"spinner"}),!!O&&i.h("img",{src:Object(c.imageUrl)(O)}),i.h("span",{class:"extraInfoText"},p),T&&i.h("label",{class:"showPasswordContainer"},i.h(u.a,{onChange:this.handleMaskChange,checked:!n}),i.h("span",{class:"showText"},"Show")))),P&&i.h("div",{class:"tipText"},f))}}h.defaultProps={value:"",type:"text",maxLength:100,autoComplete:"off",autofocus:!1},h.propTypes={value:r.a.string,label:r.a.string,onKeyPress:r.a.func,onInput:r.a.func,onBlur:r.a.func,onFocus:r.a.func,primary:r.a.bool,valid:r.a.bool,extraInfoText:r.a.string,extraInfoLoading:r.a.bool,tipText:r.a.object,showTipText:r.a.boolean,maxLength:r.a.number,autoComplete:r.a.string,type:r.a.string,inputRef:r.a.func},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(677);t.default=function(...e){const t=new Set;return e.forEach(e=>{e&&(Array.isArray(e)?e.filter(i.exists).forEach(e=>t.add(e)):"string"==typeof e?t.add(e):"object"==typeof e&&Object.keys(e).filter(t=>!0===e[t]).forEach(e=>t.add(e)))}),Array.from(t).join(" ")}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(720));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=o(n(718));n(721),t.default=function(e){const{class:t,partialSelect:n}=e,o=i(e,["class","partialSelect"]);return s.h("div",{class:r.default("checkboxComponent",t,{partialSelect:n})},s.h("input",Object.assign(o,{type:"checkbox"})),s.h("div",{class:"indicator"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(724);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r);n(725);const{h:l}=i;function c(e){const{children:t,baseRef:n,class:o,style:s,type:r,disabled:l,inverted:c,ninja:d,primary:u,secondary:p,warning:h,onClick:f,onMouseEnter:g,onMouseLeave:m,"data-testid":b}=e,S=a()("button",o,{inverted:!!c,ninja:!!d,primary:!!u,secondary:!!p,warning:!!h});return i.h("button",{style:s,ref:n,type:r,disabled:l,onClick:f,onMouseEnter:g,onMouseLeave:m,class:S},t)}c.propTypes={class:s.a.string,style:s.a.object,disabled:s.a.bool,children:s.a.node,onClick:s.a.func,primary:s.a.bool,secondary:s.a.bool},c.defaultProps={type:"button"},t.default=c},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var i=n(730);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(731);n(739);function c(e){const{title:t,message:n,positiveButtonText:o,negativeButtonText:s,fallbackButtonText:r,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:p,onClose:h,width:f,loading:g,class:m}=e;return i.h(l.default,{class:a()("basicDialog",m,{onlyMessage:!t}),positiveButtonText:o,negativeButtonText:s,fallbackButtonText:r,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:p,width:f,loading:g,onClose:h},i.h("div",{class:"dialogBody"},t&&i.h("h1",{class:"title"},t),i.h("div",{class:"message"},n)))}c.displayName="BasicDialog",c.defaultProps={width:400},c.propTypes={title:s.a.string,message:s.a.string.isRequired,positiveButtonText:s.a.string,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hideNegativeButton:s.a.bool,onClose:s.a.func,width:s.a.number,loading:s.a.bool},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(732),a=n(735),l=n(718),c=n.n(l),d=n(559);n(738);const{h:u}=i;class p extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.isDismissable&&document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{baseRef:e,class:t,children:n,positiveButtonText:o,negativeButtonText:s,fallbackButtonText:l,positiveButtonType:u,negativeButtonType:p,fallbackButtonType:h,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b,onNegativeButtonClick:S,onFallbackButtonClick:y,hideNegativeButton:v,onClose:C,width:O,height:E,footer:T,showBackdrop:_,isDismissable:P,loading:D,loadingText:I,hideFooter:j}=this.props;return i.h(a.default,null,i.h("div",{class:c()("overlayDialogContainer",{showBackdrop:_}),onClick:P&&C},i.h("div",{ref:e,class:c()("overlayDialog",t,{loading:D,hasLoadingText:Boolean(I)}),style:{width:O,height:E},onClick:d.stopPropagation},i.h("div",{class:"overlayDialogContent"},n),!j&&i.h(r.default,{positiveButtonText:o,negativeButtonText:s,fallbackButtonText:l,positiveButtonType:u,negativeButtonType:p,fallbackButtonType:h,positiveButtonDisabled:f,negativeButtonDisabled:g,fallbackButtonDisabled:m,onPositiveButtonClick:b||C,onNegativeButtonClick:S||C,onFallbackButtonClick:y||C,hideNegativeButton:v,footer:T,loading:D,loadingText:I}))))}}p.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit",hideNegativeButton:!0,showBackdrop:!0,isDismissable:!0},p.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,positiveButtonType:s.a.string.isRequired,negativeButtonType:s.a.string.isRequired,fallbackButtonType:s.a.string.isRequired,positiveButtonDisabled:s.a.bool,negativeButtonDisabled:s.a.bool,fallbackButtonDisabled:s.a.bool,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hideNegativeButton:s.a.bool,width:s.a.number.isRequired,height:s.a.number,class:s.a.string,onClose:s.a.func.isRequired,children:s.a.node.isRequired,footer:s.a.node,showBackdrop:s.a.bool,isDismissable:s.a.bool,hideFooter:s.a.bool,loading:s.a.bool,loadingText:s.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(733);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(563);n(734);const{h:c}=i;function d(e){const{positiveButtonText:t,negativeButtonText:n,fallbackButtonText:o,positiveButtonType:s,negativeButtonType:r,fallbackButtonType:c,positiveButtonDisabled:d,negativeButtonDisabled:u,fallbackButtonDisabled:p,onPositiveButtonClick:h,onNegativeButtonClick:f,onFallbackButtonClick:g,hidePositiveButton:m,hideNegativeButton:b,footer:S,loading:y,loadingText:v}=e;return i.h("form",{method:"dialog",class:a()("buttonsContainer",{loading:y,hasLoadingText:Boolean(v)})},S&&i.h("div",{class:"footer"},S),!y&&o&&i.h("button",{class:"secondary fallback",onClick:g,type:c,disabled:p},o),!y&&!b&&i.h("button",{class:"secondary",onClick:f,type:r,disabled:u},n),!m&&i.h("button",{autoFocus:!0,className:"primary",onClick:h,type:s,disabled:y||d},y?i.h(i.Fragment,null,i.h("img",{src:Object(l.imageUrl)("img/icSpinnerBlue.svg"),className:"spinning"}),v):t))}d.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},d.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,positiveButtonType:s.a.string.isRequired,negativeButtonType:s.a.string.isRequired,fallbackButtonType:s.a.string.isRequired,positiveButtonDisabled:s.a.bool,negativeButtonDisabled:s.a.bool,fallbackButtonDisabled:s.a.bool,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hidePositiveButton:s.a.bool,hideNegativeButton:s.a.bool,footer:s.a.node,loading:s.a.bool,loadingText:s.a.string},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(736);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(221),s=n(737);const{h:r}=i;class a extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>"string"==typeof e?document.querySelector(e):e,(n="findNode")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{didRender:e}=this.props,{portal:t}=this.nodeRefs;e&&e(t.firstChild)}render(){const{children:e,into:t}=this.props;return Object(o.createPortal)(i.h("div",{ref:Object(s.default)(this,"portal")},e),this.findNode(t))}}a.defaultProps={into:document.body},t.default=a},function(e,t,n){"use strict";function i(e,t,n="nodeRefs"){n in e||(e[n]={}),"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:o}=e;return"function"!=typeof o[t]&&(o[t]=e=>{i[t]=e}),o[t]}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(556),s=n(760),r=n(547),a=n(545),l=n(555),c=n(684),d=n.n(c),u=n(762),p=n(541),h=n(544),f=n(2239),g=(n(947),n(2240)),m=n(582),b=n.n(m),S=n(2247),y=n.n(S),v=n(2323),C=n(2325),O=n(2326),E=n(2340),T=n(2341);n(2342),n(2343),n(2344),n(2345),n(707),n(2347),n(580),n(2348);function _(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function j(){const e=await(p.isWindowsApp&&r.userPrefs.get("lastAppLocation")),t=function(){const e=new URLSearchParams(location.search).get("uri");if(!e)return null;try{const t=new URL(e);if(p.isWindowsApp&&t.pathname.startsWith("//export-xd")&&!p.supports.xdPlugin)return l.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(h.ZPL_PROTOCOL+"//update")}},cancel:{name:"CANCEL"}}),null;return Object(o.convertURItoWebURL)(t)||null}catch(t){return null}}()||e;t?history.replaceState(null,null,t):await Object(g.goToLastOrganizationWorkspace)()}function k(e){return e?e.map(e=>D(D({},e),{},{complete:!1})):null}a.default.get("userToken")?(b.a.initializeStores(),y()(),Object(g.registerWorkspaceRouteHandlers)(),Object(O.registerWorkspaceSocketBindings)(),Object(C.default)(),Object(E.registerSSOTokenExpiration)(),Object(T.registerSentryToDispatcherAndStores)(),Object(f.setMixpanelGroupProperties)(),i.render(i.h(u.default),document.body),function(){if("apiData"in Zeplin){const e=Zeplin.apiData,{projects:t,styleguides:n,focusedBarrels:i,oid:o,organizations:r,organizationProfiles:a,barrel:l,project:c,linkedStyleguides:d=[],ancestors:u,versions:p,dots:h}=e,f=_(e,["projects","styleguides","focusedBarrels","oid","organizations","organizationProfiles","barrel","project","linkedStyleguides","ancestors","versions","dots"]);s.default.hydrateEmbeddedData({config:Zeplin.apiConfig,projects:k(t),styleguides:k(n),focusedBarrels:i,oid:o,organizations:r,organizationProfiles:a,project:c,linkedStyleguides:d,versions:p,dots:h,styleguide:l,ancestors:u,user:Zeplin.user}),Zeplin.apiData=f}else s.default.hydrateEmbeddedData({config:Zeplin.apiConfig,user:Zeplin.user})}(),Object(v.default)(),async function(){await j(),window.addEventListener("online",()=>{a.default.get("userToken")&&(s.default.reset(),setTimeout(async()=>{try{await d.a.reload()}catch(e){location.reload()}},1e3))}),d.a.onSetBackButton=s.default.setBackButton,d.a.onResetBackButton=s.default.resetBackButton,d.a.start(document.body)}()):Zeplin.requireLogin(),d.a.route(/.*/,e=>Object(f.trackVisitiedAppEvent)(e.url.pathname))},function(e,t,n){"use strict";n.r(t);var i=n(586),o=n.n(i),s=n(582),r=n.n(s),a=n(761);const l={loadWorkspaceData({organizations:e,organizationProfiles:t,organization:n,focusedBarrels:i,projects:s,styleguides:a,dialogDismissParams:l,oid:c}){r.a.dispatcher.dispatch({type:o.a.LOAD_WORKSPACE_DATA,organizations:e,organizationProfiles:t,organization:n,focusedBarrels:i,projects:s,styleguides:a,dialogDismissParams:l,oid:c})},reset(){r.a.dispatcher.dispatch({type:o.a.RESET})},hydrateEmbeddedData({projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:s,organizationProfiles:a,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:p,ancestors:h,organization:f,user:g,config:m}){r.a.dispatcher.dispatch({type:o.a.HYDRATE_EMBEDDED_DATA,projects:e,styleguides:t,focusedBarrels:n,oid:i,organizations:s,organizationProfiles:a,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:p,ancestors:h,organization:f,user:g,config:m})},initRecentlyLoadedBarrels({projects:e,styleguides:t}){r.a.dispatcher.dispatch({type:o.a.INIT_RECENTLY_LOADED_BARRELS,projects:e,styleguides:t})},resetBackButton(){r.a.dispatcher.dispatch({type:o.a.RESET_BACK_BUTTON})},setBackButton(e,t){r.a.dispatcher.dispatch({type:o.a.SET_BACK_BUTTON,label:e,link:t})},setPage(e){r.a.dispatcher.dispatch({type:o.a.SET_PAGE,page:e})},ssoTokenExpired(e){const{organizations:t}=r.a.OrganizationStore.getState();if(!t)return void Zeplin.logout();const n=t.find(t=>t.sso&&t.sso.provider.identifier===e),{sessionDuration:i}=n.sso;r.a.dispatcher.dispatch({type:o.a.SSO_TOKEN_EXPIRED,frequency:Object(a.turnMinutesIntoHumanReadableInterval)(i)})},unsetSSOTokenExpired(){r.a.dispatcher.dispatch({type:o.a.UNSET_SSO_TOKEN_EXPIRED})},loginSSO(){r.a.dispatcher.dispatch({type:o.a.LOGIN_SSO})}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCalendarDateOfISOString=t.turnMinutesIntoHumanReadableInterval=t.getDateDifference=t.inSameDay=t.getDateString=void 0;const i=n(559),o=n(560);function s(e){return e instanceof Date?e:new Date(e)}t.getDateString=function(e){const t=s(e),n=new Date;if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){if(n.getDate()===t.getDate())return"today";if(n.getDate()-t.getDate()==1)return"yesterday"}return i.formatTime(t,{year:"numeric",month:"long",day:"numeric"})},t.inSameDay=function(e,t){const n=s(e),i=s(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()},t.getDateDifference=function(e,t,n){const i={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3};if(!e||!i[e.toLowerCase()])throw new TypeError(`Unknown datePart type: '${e}'. datePart should be one of (w, d, h, m, s)`);return Math.floor((s(n).getTime()-s(t).getTime())/i[e.toLowerCase()])};t.turnMinutesIntoHumanReadableInterval=function(e){let t,n;return e<60?(t=e,n="minute"):e<1440?(t=Math.floor(e/60),n="hour"):e<10080?(t=Math.floor(e/1440),n="day"):e<43200?(t=Math.floor(e/10080),n="week"):(t=Math.floor(e/43200),n="month"),o.pluralize(t,n)},t.getCalendarDateOfISOString=function(e=new Date){return e.toISOString().substr(0,10)}},function(e,t,n){"use strict";n.r(t);var i=n(763);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(764),s=n(1037),r=n(1395),a=n(2125),l=n.n(a),c=n(2227),d=n(2232),u=n(2235),p=n(760),h=n(582),f=n.n(h),g=n(541),m=n(845),b=n.n(m);n(2238);class S extends i.Component{static getStores(){return[f.a.AppStore]}static calculateState(){const{page:e,ssoTokenExpired:t}=f.a.AppStore.getState();return{page:e,ssoTokenExpired:t}}getChildContext(){const{page:e}=this.state;return{page:e}}componentDidMount(){document.addEventListener("dragover",e=>{e.preventDefault(),e.stopPropagation()}),document.addEventListener("drop",e=>{e.preventDefault(),e.stopPropagation()})}render(){const{page:e,ssoTokenExpired:t}=this.state;if(g.isWindowsApp&&!g.supports.SPA)return i.h(d.default,null);let n;return n="barrel"===e?r.default:"activities"===e?l.a:s.default,i.h(i.Fragment,null,i.h(o.default,null),i.h(n,null),i.h(c.default,null),t&&i.h(u.default,{onLogin:p.default.loginSSO,onLogout:Zeplin.logout,frequency:t}))}}t.default=b()(S)},function(e,t,n){"use strict";n.r(t);var i=n(765),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(560),r=n(556),a=n(541),l=i(n(574)),c=n(543),d=i(n(766)),u=i(n(845)),p=i(n(847)),h=i(n(860)),f=i(n(863)),g=i(n(868)),m=i(n(912)),b=i(n(1027)),S=i(n(681)),y=i(n(687)),v=i(n(682)),C=i(n(582)),O=i(n(701)),E=i(n(1033)),T=i(n(1034)),_=n(677);class P extends o.Component{constructor(){super(...arguments),this.getAllNotifications=()=>{setTimeout(()=>{E.default.getNotifications(null,500)},4)}}static getStores(){return[C.default.AppStore,C.default.SpaceStore,C.default.OrganizationStore,C.default.UserStore,C.default.BarrelStore,C.default.DashboardStore,C.default.ScreenStore,C.default.ProjectsDataStore,C.default.StyleguidesDataStore,C.default.NotificationsStore,C.default.ActivitiesViewStore]}static calculateState(){const{loading:e,selectedTab:t,selectedOrganizationId:n}=C.default.SpaceStore.getState(),{loading:i,loadingOrganization:o,loadingProfiles:a,loadingBarrels:d,organizations:u}=C.default.OrganizationStore.getState(),{loading:p,username:h,avatar:f,userId:g,notificationSettings:m}=C.default.UserStore.getState(),{loading:b,initingNewlyIntegratedSlackChannel:O,barrelId:E,barrelType:P,organizationId:D,selectedView:I}=C.default.BarrelStore.getState(),{partial:j=!1,name:k=""}=S.default.getBarrel()||{},{tagFilter:{tags:R,untagged:A},filterValue:w,jiraIssueFilter:N}=C.default.DashboardStore.getState(),{loadingSnapshot:L,screenId:M}=C.default.ScreenStore.getState(),{loading:x,notifications:U}=C.default.NotificationsStore.getState(),{selectedOrganizationId:B,listScrollData:V}=C.default.ActivitiesViewStore.getState(),{name:z=""}=y.default.getScreen()||{};let{backButtonLabel:F,backButtonLink:W}=C.default.AppStore.getState();const{page:G}=C.default.AppStore.getState();let H,$=!1;"workspace"===G?($=e||i||o||a||p||d,H=n):"activities"===G?($=x||o||d||!!V,H=B||n):I===c.ProjectViewTypes.SCREEN?($=b||L,H=D||n):($=b||O,H=D||n);const q=!!H&&"user"!==H;if("activities"!==G||F&&W){if(!("workspace"===G||b||F&&W))if(I===c.ProjectViewTypes.SCREEN){const e={q:w,ja:N,sid:M};Object.assign(e,A?{untagged:"true"}:{tag:R}),F="Dashboard",W=r.urlResolve("project-dashboard",{url:{pid:E},query:e})}else{const{name:e}=v.default.getOrganization(H)||{},t=P===l.default.PROJECT?"projects":"styleguides",n={[P===l.default.PROJECT?"pid":"stid"]:E};W=q?r.urlResolve("workspace-"+t,{url:{oid:H},query:n}):r.urlResolve(t,{query:n}),F=this.getBackButtonLabel(q,e)}}else{const{name:e}=v.default.getOrganization(H)||{};W=q?r.urlResolve("workspace-projects",{url:{oid:H}}):r.urlResolve("projects"),F=this.getBackButtonLabel(q,e)}let Z,K,Y,J;if("barrel"===G&&(I===c.ProjectViewTypes.STYLEGUIDE?Z="Styleguide":I===c.ProjectViewTypes.DASHBOARD?Z="Dashboard":I===c.ProjectViewTypes.SCREEN&&(Z=z)),K=$?"Zeplin":"workspace"===G?`Workspace - ${s.uppercaseFirst(t)} - Zeplin`:"activities"===G?"Notifications - Zeplin":I===c.ProjectViewTypes.SCREEN?`${z} - ${k} - Zeplin`:k+" - Zeplin","barrel"===G&&I===c.ProjectViewTypes.SCREEN){const e=y.default.getPreviousScreen(M);e&&(Y=r.urlResolve("project-screen",{url:{pid:E,sid:e._id}}));const t=y.default.getNextScreen(M);t&&(J=r.urlResolve("project-screen",{url:{pid:E,sid:t._id}}))}const X=(v.default.getOrganizationProjects(H)||[]).filter(e=>e.users.some(({user:e})=>e._id===g)&&"archived"!==e.status),Q=(v.default.getOrganizationStyleguides(H)||[]).filter(e=>e.users.some(({user:e})=>e._id===g)&&"archived"!==e.status),ee=U.map(e=>T.default.filterEventsByMutedStatus(e,H,X.map(({_id:e})=>e),Q.map(({_id:e})=>e),m)).filter(_.exists).some(({events:e,actionName:t})=>!T.default.areEventsRead(e)&&T.default.isTypeValid(t));return{loading:$,selectedView:I,page:G,title:K,backButtonLink:W,backButtonLabel:F,activitiesBackButtonLabel:Z,organizations:u,username:h,avatar:f,selectedOrganizationId:H,screenName:z,previousScreenURL:Y,nextScreenURL:J,barrelType:P,isPreview:j,barrelId:E,barrelName:k,hasUnreadNotifications:ee,notifications:U}}static getBackButtonLabel(e,t){return e?o.h("div",{class:"backButtonLabel",title:t},o.h("div",{class:"organizationName ellipsis"},t),o.h("div",null,"’s Workspace")):"Workspace"}componentDidMount(){this.getAllNotifications(),window.addEventListener("online",this.getAllNotifications)}componentWillUnmount(){window.removeEventListener("online",this.getAllNotifications)}renderHeaderCenter(){const{loading:e,page:t,selectedView:n,organizations:i,username:s,avatar:r,selectedOrganizationId:a,screenName:d,previousScreenURL:u,nextScreenURL:g,barrelType:m,isPreview:b,barrelId:S,barrelName:y}=this.state;return"workspace"===t?i.length?o.h(p.default,{organizations:i,username:s,avatar:r,selectedOrganizationId:a,onOrganizationChange:O.default.changeSelectedOrganization}):o.h("div",{class:"noOrganizationsLabel noSelect"},"Workspace"):"activities"===t?o.h("span",{title:"Notifications"},"Notifications"):n===c.ProjectViewTypes.SCREEN?o.h(h.default,{loading:e,title:d,previousScreenURL:u,nextScreenURL:g}):m===l.default.STYLEGUIDE||b?o.h("span",{title:y},y):o.h(f.default,{barrelId:S,selectedTab:n})}renderHeaderRight(){const{selectedOrganizationId:e,hasUnreadNotifications:t,page:n,backButtonLink:i,activitiesBackButtonLabel:s}=this.state;let a;const l="activities"===n;return a=l?i:"user"===e?r.urlResolve("activities"):r.urlResolve("workspace-activities",{url:{oid:e}}),o.h(o.Fragment,null,o.h(g.default,null),o.h(b.default,{hasUnreadNotifications:t,active:l,backLabel:l?"":s,backLink:a}),o.h(m.default,null))}render(){const{loading:e,backButtonLabel:t,backButtonLink:n,title:i}=this.state;return document.title=i,o.h(d.default,{loading:e,hideLogo:a.isWindowsApp,backButtonLabel:t,backButtonLink:n,headerCenter:this.renderHeaderCenter(),headerRight:this.renderHeaderRight()})}}t.default=u.default(P)},function(e,t,n){"use strict";n.r(t);var i=n(767),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(768)),r=n(771),a=i(n(718)),l=n(563);function c({headerLeft:e,headerCenter:t,headerRight:n,homeURL:i,backButtonLabel:c,backButtonLink:d,hideLogo:u,tall:p,hidden:h,loading:f,class:g}){return o.h("header",{class:a.default(g,{tall:p,hidden:h})},o.h("div",{class:"headerLeft noSelect"},!u&&o.h("a",{class:"homeLink",href:i,"data-link-type":"inApp","data-back":""},o.h("img",{src:l.imageUrl("img/icZeplin.svg"),alt:"Zeplin",class:"logo"})),c&&o.h("a",{class:"backLink ellipsis",href:d,"data-link-type":"inApp","data-back":""},o.h(r.IconArrowLeft,{color:"var(--gandalf)"}),o.h("span",null,c)),e),o.h("div",{class:"headerCenter noSelect"},t),o.h("div",{class:"headerRight noSelect"},n),o.h(s.default,{running:f}))}n(844),c.defaultProps={homeURL:"/"},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(769);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737);n(770);class s extends i.Component{constructor(e){super(e),this.state={stopRequested:!1,backgroundColor:e.initialColor},this.colorIndex=0}animate(){const{running:e,colors:t,initialColor:n,duration:i,easing:o}=this.props,{stopRequested:s}=this.state;if(!this.nodeRefs.bar||!e&&!s)return;const r=s?n:t[this.colorIndex];this.nodeRefs.bar.animate([{transform:"scaleX(0)",backgroundColor:r},{transform:"scaleX(1)",backgroundColor:r}],{duration:i,easing:o}).addEventListener("finish",()=>{if(s)return this.colorIndex=0,void this.setState({stopRequested:!1,backgroundColor:r});this.colorIndex=(this.colorIndex+1)%t.length,this.setState({backgroundColor:r}),this.animate()})}componentDidMount(){this.props.running&&this.animate()}componentDidUpdate(e){const{running:t}=this.props;e.running&&!t?this.setState({stopRequested:!0}):!e.running&&t&&this.animate()}render(){const{backgroundColor:e}=this.state;return i.h("div",{class:"loadingBar",style:{backgroundColor:e}},i.h("div",{ref:Object(o.default)(this,"bar")}))}}s.defaultProps={initialColor:"var(--snowman)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.default=s},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogoZeplin=t.IconScreenVariant=t.IconToken=t.IconMuted=t.IconTick=t.IconCursorPointer=t.IconHourGlass=t.IconAddNote=t.IconHintClose=t.IconSectionDrag=t.IconElevator=t.IconTeams=t.IconLayerStyle=t.IconZoomOut=t.IconZoomIn=t.IconDescription=t.IconTrello=t.IconSlimArrowRight=t.IconSketchCloud=t.IconPaper=t.IconJira=t.IconInvision=t.IconGitlab=t.IconGithub=t.IconFigma=t.IconConfluence=t.IconBitbucket=t.IconAsana=t.IconAbstract=t.IconNotion=t.IconZeplin=t.IconCustomLink=t.IconUnpin=t.IconPin=t.IconDotSpinner=t.IconReadme=t.IconSlack=t.IconDivider=t.IconPopout=t.IconMoveHandle=t.IconClose=t.IconCollapseLeft=t.IconCollapse=t.IconChevron=t.IconGear=t.IconPlusWithCircle=t.IconPlus=t.IconSpinner=t.IconScreenLink=t.IconMagnifier=t.IconFolder=t.IconComponent=t.IconSpacing=t.IconInfo=t.IconTextStyle=t.IconColor=t.IconDelete=t.IconVariants=t.IconGoTo=t.IconShare=t.IconDownload=t.IconCopy=t.IconAttachImage=t.IconArrowDown=t.IconArrowRight=t.IconArrowLeft=t.IconSettings=t.IconEdit=t.IconMenu=void 0;var o=n(772);Object.defineProperty(t,"IconMenu",{enumerable:!0,get:function(){return i(o).default}});var s=n(773);Object.defineProperty(t,"IconEdit",{enumerable:!0,get:function(){return i(s).default}});var r=n(774);Object.defineProperty(t,"IconSettings",{enumerable:!0,get:function(){return i(r).default}});var a=n(775);Object.defineProperty(t,"IconArrowLeft",{enumerable:!0,get:function(){return i(a).default}});var l=n(776);Object.defineProperty(t,"IconArrowRight",{enumerable:!0,get:function(){return i(l).default}});var c=n(777);Object.defineProperty(t,"IconArrowDown",{enumerable:!0,get:function(){return i(c).default}});var d=n(778);Object.defineProperty(t,"IconAttachImage",{enumerable:!0,get:function(){return i(d).default}});var u=n(779);Object.defineProperty(t,"IconCopy",{enumerable:!0,get:function(){return i(u).default}});var p=n(780);Object.defineProperty(t,"IconDownload",{enumerable:!0,get:function(){return i(p).default}});var h=n(781);Object.defineProperty(t,"IconShare",{enumerable:!0,get:function(){return i(h).default}});var f=n(782);Object.defineProperty(t,"IconGoTo",{enumerable:!0,get:function(){return i(f).default}});var g=n(783);Object.defineProperty(t,"IconVariants",{enumerable:!0,get:function(){return i(g).default}});var m=n(784);Object.defineProperty(t,"IconDelete",{enumerable:!0,get:function(){return i(m).default}});var b=n(785);Object.defineProperty(t,"IconColor",{enumerable:!0,get:function(){return i(b).default}});var S=n(786);Object.defineProperty(t,"IconTextStyle",{enumerable:!0,get:function(){return i(S).default}});var y=n(787);Object.defineProperty(t,"IconInfo",{enumerable:!0,get:function(){return i(y).default}});var v=n(788);Object.defineProperty(t,"IconSpacing",{enumerable:!0,get:function(){return i(v).default}});var C=n(789);Object.defineProperty(t,"IconComponent",{enumerable:!0,get:function(){return i(C).default}});var O=n(790);Object.defineProperty(t,"IconFolder",{enumerable:!0,get:function(){return i(O).default}});var E=n(791);Object.defineProperty(t,"IconMagnifier",{enumerable:!0,get:function(){return i(E).default}});var T=n(792);Object.defineProperty(t,"IconScreenLink",{enumerable:!0,get:function(){return i(T).default}});var _=n(793);Object.defineProperty(t,"IconSpinner",{enumerable:!0,get:function(){return i(_).default}});var P=n(796);Object.defineProperty(t,"IconPlus",{enumerable:!0,get:function(){return i(P).default}});var D=n(797);Object.defineProperty(t,"IconPlusWithCircle",{enumerable:!0,get:function(){return i(D).default}});var I=n(798);Object.defineProperty(t,"IconGear",{enumerable:!0,get:function(){return i(I).default}});var j=n(799);Object.defineProperty(t,"IconChevron",{enumerable:!0,get:function(){return i(j).default}});var k=n(800);Object.defineProperty(t,"IconCollapse",{enumerable:!0,get:function(){return i(k).default}});var R=n(801);Object.defineProperty(t,"IconCollapseLeft",{enumerable:!0,get:function(){return i(R).default}});var A=n(802);Object.defineProperty(t,"IconClose",{enumerable:!0,get:function(){return i(A).default}});var w=n(803);Object.defineProperty(t,"IconMoveHandle",{enumerable:!0,get:function(){return i(w).default}});var N=n(804);Object.defineProperty(t,"IconPopout",{enumerable:!0,get:function(){return i(N).default}});var L=n(805);Object.defineProperty(t,"IconDivider",{enumerable:!0,get:function(){return i(L).default}});var M=n(806);Object.defineProperty(t,"IconSlack",{enumerable:!0,get:function(){return i(M).default}});var x=n(807);Object.defineProperty(t,"IconReadme",{enumerable:!0,get:function(){return i(x).default}});var U=n(808);Object.defineProperty(t,"IconDotSpinner",{enumerable:!0,get:function(){return i(U).default}});var B=n(810);Object.defineProperty(t,"IconPin",{enumerable:!0,get:function(){return i(B).default}});var V=n(811);Object.defineProperty(t,"IconUnpin",{enumerable:!0,get:function(){return i(V).default}});var z=n(812);Object.defineProperty(t,"IconCustomLink",{enumerable:!0,get:function(){return i(z).default}});var F=n(813);Object.defineProperty(t,"IconZeplin",{enumerable:!0,get:function(){return i(F).default}});var W=n(814);Object.defineProperty(t,"IconNotion",{enumerable:!0,get:function(){return i(W).default}});var G=n(815);Object.defineProperty(t,"IconAbstract",{enumerable:!0,get:function(){return i(G).default}});var H=n(816);Object.defineProperty(t,"IconAsana",{enumerable:!0,get:function(){return i(H).default}});var $=n(817);Object.defineProperty(t,"IconBitbucket",{enumerable:!0,get:function(){return i($).default}});var q=n(818);Object.defineProperty(t,"IconConfluence",{enumerable:!0,get:function(){return i(q).default}});var Z=n(819);Object.defineProperty(t,"IconFigma",{enumerable:!0,get:function(){return i(Z).default}});var K=n(820);Object.defineProperty(t,"IconGithub",{enumerable:!0,get:function(){return i(K).default}});var Y=n(821);Object.defineProperty(t,"IconGitlab",{enumerable:!0,get:function(){return i(Y).default}});var J=n(822);Object.defineProperty(t,"IconInvision",{enumerable:!0,get:function(){return i(J).default}});var X=n(823);Object.defineProperty(t,"IconJira",{enumerable:!0,get:function(){return i(X).default}});var Q=n(824);Object.defineProperty(t,"IconPaper",{enumerable:!0,get:function(){return i(Q).default}});var ee=n(825);Object.defineProperty(t,"IconSketchCloud",{enumerable:!0,get:function(){return i(ee).default}});var te=n(826);Object.defineProperty(t,"IconSlimArrowRight",{enumerable:!0,get:function(){return i(te).default}});var ne=n(827);Object.defineProperty(t,"IconTrello",{enumerable:!0,get:function(){return i(ne).default}});var ie=n(828);Object.defineProperty(t,"IconDescription",{enumerable:!0,get:function(){return i(ie).default}});var oe=n(829);Object.defineProperty(t,"IconZoomIn",{enumerable:!0,get:function(){return i(oe).default}});var se=n(830);Object.defineProperty(t,"IconZoomOut",{enumerable:!0,get:function(){return i(se).default}});var re=n(831);Object.defineProperty(t,"IconLayerStyle",{enumerable:!0,get:function(){return i(re).default}});var ae=n(832);Object.defineProperty(t,"IconTeams",{enumerable:!0,get:function(){return i(ae).default}});var le=n(833);Object.defineProperty(t,"IconElevator",{enumerable:!0,get:function(){return i(le).default}});var ce=n(834);Object.defineProperty(t,"IconSectionDrag",{enumerable:!0,get:function(){return i(ce).default}});var de=n(835);Object.defineProperty(t,"IconHintClose",{enumerable:!0,get:function(){return i(de).default}});var ue=n(836);Object.defineProperty(t,"IconAddNote",{enumerable:!0,get:function(){return i(ue).default}});var pe=n(837);Object.defineProperty(t,"IconHourGlass",{enumerable:!0,get:function(){return i(pe).default}});var he=n(838);Object.defineProperty(t,"IconCursorPointer",{enumerable:!0,get:function(){return i(he).default}});var fe=n(839);Object.defineProperty(t,"IconTick",{enumerable:!0,get:function(){return i(fe).default}});var ge=n(840);Object.defineProperty(t,"IconMuted",{enumerable:!0,get:function(){return i(ge).default}});var me=n(841);Object.defineProperty(t,"IconToken",{enumerable:!0,get:function(){return i(me).default}});var be=n(842);Object.defineProperty(t,"IconScreenVariant",{enumerable:!0,get:function(){return i(be).default}});var Se=n(843);Object.defineProperty(t,"LogoZeplin",{enumerable:!0,get:function(){return i(Se).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"6",cy:"12",r:"2"}),i.h("circle",{cx:"12",cy:"12",r:"2"}),i.h("circle",{cx:"18",cy:"12",r:"2"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 9 16"},i.h("path",{fill:e,d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))}o.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=({color:e,width:t,class:n})=>{const o=8*t/12;return i.h("svg",{class:n,width:t,height:o,viewBox:"0 0 12 8"},i.h("path",{fill:e,d:"M6.003 8c.356 0 .71-.148.982-.442l4.608-4.982c.543-.588.543-1.543-.002-2.132-.546-.593-1.425-.59-1.97-.002L6 4.356 2.383.442C1.84-.145.955-.145.413.444c-.55.593-.548 1.544-.004 2.132l4.605 4.982c.27.293.627.44.984.44L6.002 8z"}))};o.defaultProps={color:"var(--teflon)",width:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 20 20"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5.8 13.5l-3.58 3.13c.16.2.4.33.66.36L3 17h3.37l1.64-1.58-2.2-1.92zM15 6H3a1 1 0 00-1 .88V15.54l3.47-3.03c.19-.17.49-.17.68 0l2.56 2.24 4.27-4.1c.2-.2.5-.2.7-.02L16 12.7V14l-2.65-2.37L7.77 17H15a1 1 0 001-.88V7a1 1 0 00-1-1zm2 8.92a1 1 0 001-.89V5.08a1 1 0 00-1-1H6a1 1 0 00-1 .89V5h10a2 2 0 012 2v7.92zM5 8a1 1 0 110 2 1 1 0 010-2zm10 10H3a2 2 0 01-1.7-.95l-.02-.03a1.66 1.66 0 01-.06-.1l.08.13a1.9 1.9 0 01-.14-.27l-.02-.05A2.02 2.02 0 011 16V7c0-1.1.9-2 2-2h1c0-1.1.9-2 2-2h11a2 2 0 012 2v9a2 2 0 01-2 2 2 2 0 01-2 2z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 48 48"},i.h("g",{stroke:e,"stroke-width":"2"},i.h("rect",{width:"16",height:"6",x:"16",y:"11",fill:"none",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"21",fill:e,"fill-opacity":".5",rx:"3"}),i.h("rect",{width:"16",height:"6",x:"16",y:"31",fill:e,rx:"3"})))}o.defaultProps={color:"var(--clooney)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,transparent:o}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}),i.h("path",{fill:o?"transparent":"#fff",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}))}o.defaultProps={color:"var(--gandalf)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:s,class:r}){return i.h("svg",{class:r,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}));case"remove":return i.h("g",{fill:t,"fill-rule":"evenodd",transform:"translate(4 4)",opacity:n},i.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}));default:return i.h("path",{fill:t,d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})}}(o,e,s))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,type:o,opacity:s,class:r}){return i.h("svg",{class:r,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}));case"remove":return i.h("g",{fill:t,transform:"translate(4 5)",opacity:n},i.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"}));default:return i.h("path",{fill:t,d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})}}(o,e,s))}o.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:e},i.h("rect",{width:"1",height:"12",x:"2",y:"2",rx:".5"}),i.h("path",{"fill-opacity":".3",d:"M3 5.5h11v5H3z"}),i.h("rect",{width:"3",height:"1",x:"1",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"5",rx:".5"}),i.h("rect",{width:"1",height:"12",x:"10",y:"2",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"10",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"1",y:"10",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{stroke:e,fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd",stroke:e},i.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z"}))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(794);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718));function r({color:e,width:t,height:n,class:i}){const r=s.default("iconSpinner",i);return o.h("svg",{class:r,width:t,height:n,viewBox:"0 0 12 12"},o.h("g",{fill:e,"fill-rule":"evenodd"},o.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),o.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),o.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),o.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),o.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),o.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),o.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),o.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})))}n(795),r.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=r},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,circleColor:t,width:n,height:o}){return i.h("svg",{width:n,height:o,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("circle",{fill:t,cx:"12",cy:"12",r:"12"}),i.h("path",{fill:e,d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"})))}o.defaultProps={circleColor:"transparent",color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 24 24"},i.h("path",{fill:n,"fill-rule":"evenodd",d:"M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9zm0 1c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 3c.276 0 .5.224.5.5v4h4c.276 0 .5.224.5.5s-.224.5-.5.5h-4v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4h-4c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h4v-4c0-.276.224-.5.5-.5z"}))}o.defaultProps={width:24,height:24,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 14 14"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}))}o.defaultProps={color:"var(--teflon)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 8 8"},i.h("path",{fill:e,"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"}))}o.defaultProps={color:"var(--teflon)",width:8,height:8},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 18 18"},i.h("path",{d:"M10.8,3.7 L5.5,9.05 L10.8,14.4",stroke:e,"stroke-width":"2.4","stroke-linecap":"round",fill:"none","stroke-linejoin":"round"}))}o.defaultProps={color:"var(--teflon)",width:18,height:18},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,height:t,class:n}){const o=4*t/20;return i.h("svg",{class:n,width:o,height:t,viewBox:"0 0 4 20"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"2",cy:"2",r:"2"}),i.h("circle",{cx:"2",cy:"10",r:"2"}),i.h("circle",{cx:"2",cy:"18",r:"2"})))}o.defaultProps={color:"var(--teflon)",height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("path",{"fill-opacity":".4",d:"M14.5 8.246c-.277 0-.5.224-.5.5v1c0 .276.223.5.5.5s.5-.224.5-.5v-1c0-.276-.223-.5-.5-.5zm0 3.5c-.277 0-.5.224-.5.5v1c0 .276.223.5.5.5s.5-.224.5-.5v-1c0-.276-.223-.5-.5-.5zM13.927 15h-.177c-.275 0-.5.223-.5.5 0 .276.225.5.5.5h.177c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zm-2.677 0h-1c-.275 0-.5.223-.5.5 0 .276.225.5.5.5h1c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zm-3.5 0h-2c-.276 0-.5.223-.5.5 0 .276.224.5.5.5h2c.276 0 .5-.224.5-.5 0-.277-.224-.5-.5-.5zM15 4.5h-1v1.746c0 .276.223.5.5.5s.5-.224.5-.5V4.5z"}),i.h("path",{d:"M17.5 6c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zM6.662 5.71c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm0 3.5c-.276 0-.5.224-.5.5v1c0 .276.224.5.5.5s.5-.224.5-.5v-1c0-.276-.224-.5-.5-.5zm1.64 2.29c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm2.198-2c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm0-3.5c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm0-3.5c-.276 0-.5.225-.5.5v1c0 .277.224.5.5.5s.5-.223.5-.5v-1c0-.275-.224-.5-.5-.5zm-2.338-5c-.277 0-.5.224-.5.5s.223.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm-3.5 0c-.276 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1zm-3.5 0c-.277 0-.5.224-.5.5s.224.5.5.5h1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-1z"}),i.h("path",{d:"M4 1c-.55 0-1 .45-1 1v13c0 .55.45 1 1 1h2.162v-1H4.5c-.275 0-.5-.225-.5-.5v-12c0-.275.225-.5.5-.5h9c.275 0 .5.225.5.5v2h1V2c0-.55-.45-1-1-1H4z"}))))}o.defaultProps={color:"var(--teflon)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 14 14"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"7",cy:"12",r:"2"}),i.h("circle",{cx:"7",cy:"2",r:"2"}),i.h("rect",{width:"14",height:"2",y:"6",rx:"1"})))}o.defaultProps={color:"var(--cornflower-blue)",width:14,height:14},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t,class:n}){const o=16*e/16;return i.h("svg",{class:n,width:e,height:o,viewBox:"0 0 16 16"},i.h("path",{fill:t||"#e01e5a",d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{fill:t||"#36c5f0",d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{fill:t||"#2eb67d",d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{fill:t||"#ecb22e",d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"}),i.h("g",{class:"iconActiveStateOverlay",fill:"none"},i.h("path",{d:"M3.406 1.703c0 .916-.748 1.665-1.664 1.665-.916 0-1.665-.749-1.665-1.665S.826.04 1.742.04h1.664v1.664zM4.245 1.703C4.245.787 4.994.04 5.91.04s1.664.748 1.664 1.664v4.168c0 .916-.748 1.664-1.664 1.664-.916 0-1.665-.748-1.665-1.664V1.703z",transform:"translate(0 8.387)"}),i.h("path",{d:"M5.91 3.406c-.916 0-1.665-.748-1.665-1.664 0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742C.826 7.574.077 6.826.077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{d:"M4.206 5.91c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665-.748 1.664-1.664 1.664H4.206V5.91zM3.368 5.91c0 .916-.749 1.664-1.665 1.664S.04 6.826.04 5.91V1.742C.039.826.787.077 1.703.077c.916 0 1.665.749 1.665 1.665V5.91z",transform:"translate(8.387)"}),i.h("path",{d:"M1.703 4.206c.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664S.04 6.787.04 5.871V4.206h1.664zM1.703 3.368C.787 3.368.04 2.619.04 1.703S.787.04 1.703.04h4.168c.916 0 1.664.748 1.664 1.664 0 .916-.748 1.665-1.664 1.665H1.703z",transform:"translate(8.387 8.387)"})))}o.defaultProps={width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M7 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7z"}),i.h("path",{d:"M17 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2V4h2zm-2 1v14h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2z"}),i.h("rect",{width:"6",height:"1",x:"8",y:"7",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"10",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"13",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"16",rx:".5"})))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(809);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718));function r(e){const{class:t,width:n,color:i}=e,r=14*n/14;return o.h("svg",{class:s.default("spinning",t),width:n,height:r,viewBox:"0 0 24 24"},o.h("g",{fill:i,"fill-rule":"evenodd"},o.h("circle",{cx:"12",cy:"1.8",r:"1.8"}),o.h("circle",{cx:"4.8",cy:"4.82",r:"1.8","fill-opacity":".44",transform:"rotate(-45 4.796 4.82)"}),o.h("circle",{cx:"1.8",cy:"12",r:"1.8","fill-opacity":".52"}),o.h("circle",{cx:"4.82",cy:"19.21",r:"1.8","fill-opacity":".6",transform:"rotate(-45 4.816 19.208)"}),o.h("circle",{cx:"12",cy:"22.2",r:"1.8","fill-opacity":".68"}),o.h("circle",{cx:"19.21",cy:"19.18",r:"1.8","fill-opacity":".76",transform:"rotate(-45 19.206 19.18)"}),o.h("circle",{cx:"22.2",cy:"12",r:"1.8","fill-opacity":".84"}),o.h("circle",{cx:"19.18",cy:"4.79",r:"1.8","fill-opacity":".92",transform:"rotate(-45 19.18 4.792)"})))}r.defaultProps={width:14,color:"var(--cornflower-blue)"},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.751 8.364c1.002-1.002 2.631-1.002 3.633 0l7.252 7.252c1.002 1.002 1.002 2.631 0 3.633-1.002 1.001-2.631 1.001-3.633 0l-3.26-3.263-3.862 3.863c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 3.862-3.862-3.26-3.263c-.96-.954-1.002-2.492-.127-3.495zm2.903.73c-.598-.598-1.574-.598-2.174.001-.597.593-.597 1.573.001 2.167l7.252 7.257c.599.598 1.575.598 2.173 0 .599-.599.599-1.575 0-2.173zm8.606-4.432l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.807 4.605l.047.042 14.5 14.499c.195.195.195.512 0 .707-.18.18-.465.195-.661.042l-.047-.042-14.5-14.499c-.195-.195-.195-.512 0-.707.18-.18.465-.195.661-.042zm1.135 3.543c.194.196.193.513-.003.708-.56.557-.583 1.462-.066 2.048l.068.071 7.079 7.085c.585.585 1.54.585 2.125 0 .196-.196.513-.196.708 0 .196.195.196.512 0 .708-.947.947-2.47.975-3.451.086l-.09-.087-3.197-3.2c-.016.037-.037.072-.062.104l-.043.049-4.129 4.129c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 4.13-4.128c.044-.045.096-.08.15-.105l-3.197-3.2c-.979-.972-.979-2.568 0-3.54.196-.194.513-.193.708.003zM16.26 4.662l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}o.defaultProps={color:"var(--peach)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("g",{fill:e,"fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87l.147.005h6.25c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75V2.5h.625c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-6.25C1.399 8.75 0 7.35 0 5.625 0 3.899 1.4 2.5 3.125 2.5h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M15 0c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-1.25V5h-2.606H15c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87L8.75 5h.625v1.25H8.75c-1.726 0-3.125-1.4-3.125-3.125C5.625 1.399 7.025 0 8.75 0H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.815 6.878c-.6-1.66-2.601-2.652-5.351-2.652-.575 0-1.172.044-1.78.132-.236-.765-.491-1.36-.76-1.771-.342-.522-.73-.787-1.155-.787-.03 0-.06.001-.088.004-.434.038-.784.33-1.039.869-.163.345-.292.796-.393 1.371-.787-.657-1.42-.977-1.923-.977-.229 0-.433.062-.608.184-.356.25-.512.676-.463 1.27.042.502.229 1.139.57 1.946l.02.044c-1.336.846-2.39 1.842-3.064 2.894L0 10.765l2.144 2.47-.069 3.266 3.773-1.358c.782.251 1.677.378 2.662.378.513 0 1.046-.035 1.588-.105l.011.038c.25.81.508 1.404.79 1.815.327.478.702.721 1.115.721.03 0 .059 0 .087-.003.434-.038.785-.338 1.043-.891.157-.337.286-.784.384-1.333.788.658 1.42.979 1.926.979.229 0 .434-.062.609-.184.367-.257.52-.709.455-1.343-.05-.49-.237-1.119-.553-1.87 1.42-.867 2.538-1.902 3.243-3.002.778-1.215.988-2.413.607-3.465zM9.031 8.007c-.18-.313-.346-.62-.5-.917.161-.083.325-.164.491-.241-.005.375-.002.762.009 1.158zm-.135-2.572c-.319.137-.63.283-.934.438-.326-.788-.414-1.234-.431-1.464.227.103.66.364 1.365 1.026zm-.387 8.745c-.875 0-1.656-.113-2.32-.337l-.357-.12-2.372.853.039-1.828-1.2-1.383 2.378-.856.197-.318c.543-.875 1.422-1.72 2.552-2.458.486.935 1.098 1.953 1.784 2.965.127 1.212.314 2.382.545 3.408-.426.05-.843.074-1.246.074zm1.92-9.38c.115-.92.272-1.376.376-1.592.032.045.07.103.11.175.167.293.338.71.5 1.218-.331.079-.664.17-.994.273l.008-.073zm.588 9.094c-.074-.325-.144-.666-.209-1.02.248.31.495.608.741.892-.177.047-.355.09-.532.128zm.958 2.685c-.026-.036-.055-.08-.086-.134-.174-.293-.354-.725-.523-1.254.33-.074.662-.16.992-.258-.113.94-.276 1.42-.383 1.646zm1.964-2.156l-.038-.035c.316-.13.628-.271.93-.42.217.528.357.977.407 1.308.007.049.012.09.015.127-.22-.1-.636-.351-1.314-.98zm4.6-5.773c-.164.534-.508 1.113-.994 1.673-.525.605-1.195 1.175-1.99 1.693-.807.526-1.706.973-2.674 1.33-.746-.824-1.534-1.818-2.284-2.887-.05-.07-.099-.141-.147-.211l-.025-.268c-.113-1.289-.151-2.549-.111-3.658 1.403-.494 2.836-.755 4.15-.755 1.105 0 2.08.185 2.819.534.657.31 1.083.725 1.267 1.232.141.39.138.834-.01 1.317z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.45.068c.05.004.1.012.152.014.284.01.554.076.81.205.173.088.335.192.493.306 1.043.75 2.086 1.5 3.129 2.252.244.176.486.354.728.532.081.06.159.126.229.2.063.066.118.138.158.222.024.05.043.1.045.158.001.014.008.03.013.044v13.771c-.016.035-.013.073-.013.109-.003.157-.04.307-.095.452-.064.172-.172.31-.315.42-.144.111-.309.175-.482.219-.186.048-.375.064-.565.076-.213.014-.425.025-.639.037l-.293.018-.638.04-.632.038c-.207.013-.416.028-.623.04l-.64.038-.877.056-.45.027-.75.046-.639.04-.623.037c-.208.013-.416.028-.624.04l-.64.038-.877.056c-.3.02-.6.036-.9.054l-.293.018-.631.04-.632.038-.723.045c-.065.004-.129.008-.193.014-.019.003-.038.011-.058.016h-.37c-.02-.006-.038-.014-.059-.017-.063-.01-.127-.017-.19-.029-.27-.046-.503-.165-.694-.366-.076-.08-.15-.166-.218-.255-.355-.468-.707-.937-1.06-1.406l-1.412-1.876c-.135-.18-.262-.366-.368-.565-.146-.274-.253-.563-.28-.878-.001-.027-.005-.053-.026-.072V2.168c.024-.03.027-.068.03-.105.007-.1.025-.198.052-.294.104-.373.332-.628.69-.758.138-.05.278-.077.422-.088l.516-.037.254-.02.523-.04L3.68.79c.171-.013.343-.028.515-.04.172-.013.344-.024.516-.038l.723-.056.83-.063.84-.063.946-.07.246-.018.53-.04c.17-.014.339-.025.508-.038l.515-.04c.174-.014.35-.025.524-.038l.807-.061.254-.02.516-.04.523-.038c.24-.019.481-.043.724-.048.028 0 .055-.007.083-.01h.17zm3.977 4.5c-.085 0-.17.005-.254.01l-.23.018c-.152.009-.304.013-.455.023l-.91.056-.924.053-.307.019-.662.04-.648.038c-.215.013-.43.028-.647.04-.22.014-.441.025-.662.038l-.91.056-.924.053-.3.018-.654.041c-.219.013-.437.024-.655.038l-.91.056-.924.053-.3.018-.709.043c-.133.009-.268.013-.4.032-.27.04-.414.174-.477.424l-.006.03c-.022.12-.026.241-.026.362V17.49c0 .098.008.194.027.29.051.253.197.416.44.488l.03.008c.11.03.223.037.336.034.129-.004.257-.01.385-.017.224-.012.447-.024.67-.038l.917-.056.94-.053.307-.02.662-.04c.221-.012.442-.024.663-.038.216-.012.431-.026.647-.04l.672-.036v-.001l.23-.012.316-.02.655-.04.663-.037.916-.056c.221-.014.442-.025.663-.038l.316-.019.693-.041c.12-.008.241-.014.362-.02l.647-.041.562-.034c.096-.007.188-.028.278-.063.16-.064.272-.177.332-.341.022-.06.037-.121.048-.183.024-.127.026-.257.026-.385V5.349c0-.08-.004-.158-.01-.237-.011-.11-.038-.218-.094-.315-.06-.104-.143-.179-.26-.207-.048-.011-.097-.02-.145-.021zM16.05 6.686c.005.008.011.014.013.021.031.135.035.27-.004.406-.01.034-.023.07-.04.101-.05.096-.127.16-.231.182l-.46.096c-.054.01-.106.022-.158.033-.016.033-.01.065-.01.096v1.974l.001 6.277v.084c-.008.008-.013.014-.02.018-.248.14-.505.26-.779.338-.167.048-.336.076-.51.08-.118.004-.236-.007-.352-.03-.131-.026-.248-.085-.354-.167-.09-.07-.17-.152-.243-.24-.136-.166-.266-.336-.379-.518-1.162-1.87-2.326-3.738-3.489-5.606-.015-.024-.03-.049-.046-.072-.004-.006-.011-.008-.02-.014-.003.01-.007.017-.007.024v5.665c.13.036.26.06.387.09l.39.09.386.09v.05c-.026.177-.111.32-.246.433-.146.122-.316.185-.503.197-.303.019-.606.034-.91.052l-.9.056-.678.037-.24.014c-.018-.002-.038-.005-.062-.006-.034-.169-.01-.322.084-.462.048-.07.113-.12.196-.144l.579-.166.081-.026.008-.013.002-.008.001-7.477V8.2l-.007-.02c-.014-.003-.031-.008-.048-.01L6.82 8.12c-.059-.005-.118-.01-.177-.017-.017-.002-.034-.007-.053-.012-.018-.075-.015-.149-.006-.221.02-.169.086-.32.2-.444.112-.122.25-.19.415-.202l.823-.062.57-.037.57-.04.539-.038.269-.02h.044c.08.12.157.244.235.366l.241.377.237.37.24.377.474.74.24.376.237.37.236.37.241.377.236.37.241.377.237.37.236.37.241.376c.079.122.156.246.243.376.006-.018.011-.026.012-.035v-.055-5.077l-.002-.097c-.083-.023-.165-.024-.246-.035l-.246-.027-.237-.029-.245-.032c-.02-.06-.02-.117-.013-.175.042-.358.342-.572.588-.586.144-.008.288-.02.431-.028.226-.014.452-.028.678-.04.105-.008.21-.014.316-.02l.655-.037.47-.03h.06zm-3.043-5.492c-.27.019-.539.04-.808.06l-.269.02-.523.04-.524.038-.807.06-.27.02-.546.042-.507.037-.562.042-.5.037-.554.042-.5.037-.563.042-.492.036-.57.043-.492.037-.53.04-.516.038c-.192.014-.384.028-.577.044-.095.008-.19.017-.283.032-.074.011-.144.04-.2.095-.07.07-.076.144-.017.225.01.015.022.03.036.042.02.02.042.038.065.056.473.385.945.77 1.42 1.153.09.073.186.142.282.207.128.086.268.144.419.173.145.028.29.038.437.032.204-.008.407-.02.609-.033.208-.012.416-.027.623-.04l.632-.037c.205-.013.41-.028.615-.04.213-.014.427-.025.64-.038l.3-.019.64-.04c.21-.013.42-.024.63-.038l.632-.04.64-.037.885-.057.901-.053.308-.019.654-.04.354-.022.632-.04.639-.037.732-.045.292-.018c.058-.004.114-.014.171-.044-.017-.1-.067-.167-.14-.222-.648-.48-1.295-.962-1.944-1.44-.308-.227-.655-.345-1.032-.378-.154-.014-.308-.004-.462.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.587.403c1.28.252 2.459.733 3.377 1.71.737.783 1.15 1.737 1.403 2.766.35 1.418.444 2.865.466 4.318.029 1.851-.02 3.695-.398 5.517-.546 2.638-2.093 4.167-4.737 4.723-1.554.326-3.123.4-4.702.403-1.761.003-3.517-.054-5.235-.493-1.852-.473-3.247-1.496-3.958-3.332-.38-.985-.551-2.012-.665-3.053-.049-.443-.092-.886-.138-1.328V8.18c.022-.139.056-.278.066-.418C.144 6.626.28 5.5.611 4.403c.566-1.87 1.736-3.17 3.628-3.714C5.141.429 6.08.233 7.012.15c2.531-.225 5.066-.241 7.575.252zM8.308 7.768c-2.051-.034-3.763 1.635-3.805 3.711-.043 2.117 1.605 3.823 3.744 3.876 2.069.052 3.797-1.636 3.84-3.751.041-2.096-1.638-3.801-3.779-3.836zm6.845-3.087H4.69v1.86h8.668v8.65h1.795V4.681zM8.27 9.618c1.078-.008 1.942.85 1.954 1.943.013 1.048-.868 1.93-1.928 1.931-1.052.002-1.92-.846-1.931-1.887-.012-1.1.832-1.98 1.905-1.987z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M15.527 10.325c-2.383 0-4.314 1.93-4.314 4.312 0 2.383 1.931 4.314 4.314 4.314 2.382 0 4.313-1.931 4.313-4.314 0-2.381-1.931-4.312-4.313-4.312zm-11.206 0c-2.382 0-4.313 1.93-4.313 4.313 0 2.382 1.93 4.313 4.313 4.313 2.382 0 4.313-1.931 4.313-4.313 0-2.382-1.931-4.313-4.313-4.313zm9.916-5.392c0 2.382-1.931 4.314-4.313 4.314-2.383 0-4.314-1.932-4.314-4.314S7.541.62 9.924.62c2.382 0 4.313 1.931 4.313 4.313z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.649 1C.297.996.004 1.277 0 1.633c0 .036.004.076.008.112l2.72 16.51c.068.417.43.726.854.73H16.63c.317.004.59-.225.641-.537l2.72-16.699c.057-.348-.18-.677-.528-.733-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.72 15.173c3.595-5.85 8.296-6.023 13.826-3.336 1.538.741 3.246 1.546 4.104 1.95.313.144.454.512.316.828l-1.954 4.42c-.069.155-.198.277-.358.336-.16.06-.337.052-.491-.021l-4.07-1.935c-2.948-1.408-4.583-1.737-6.209.947-.23.382-.442.738-.606 1.013-.087.146-.228.25-.392.29-.165.041-.338.014-.483-.075L.3 17.064c-.293-.18-.387-.562-.212-.858.196-.31.426-.698.631-1.033zM14.94.636c.171-.04.35-.006.496.092l4.103 2.525c.293.181.387.563.212.859-.196.31-.426.697-.631 1.032-3.596 5.843-8.297 6.023-13.84 3.34-1.537-.742-3.245-1.547-4.104-1.95-.313-.144-.454-.512-.315-.828l1.954-4.42c.068-.156.197-.277.357-.337.16-.06.338-.052.492.022L7.72 2.896c2.949 1.408 4.584 1.737 6.21-.947.23-.382.442-.738.606-1.013.087-.152.234-.26.404-.3z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.771 6.655c1.063.224 1.895.766 2.426 1.727.373.673.482 1.397.346 2.144-.28 1.533-1.574 2.658-3.078 2.703-1.695.051-2.975-.964-3.446-2.704v.322c0 1.883.004 3.767 0 5.65-.004 1.77-1.275 3.139-3.065 3.308-1.624.154-3.148-1.037-3.463-2.706-.34-1.795.887-3.497 2.822-3.842-1.92-.507-3.002-1.67-2.828-3.66.145-1.648 1.21-2.572 2.854-2.946-1.305-.244-2.204-.914-2.669-2.088-.846-2.139.701-4.44 3.028-4.476C8.913.053 11.129.059 13.344.086c1.712.02 3.115 1.34 3.232 2.97.13 1.806-.996 3.248-2.805 3.6zm-3.74 2.71c.347-1.411 1.23-2.296 2.707-2.678H10.03v2.679z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M18.659 4.98c-.895-1.531-2.108-2.745-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341c-1.532.894-2.745 2.108-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091.113-.104.17-.234.17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051c-.19.035-.432.05-.723.046-.29-.004-.592-.035-.904-.091-.313-.056-.604-.187-.873-.39-.269-.205-.46-.472-.573-.801l-.13-.3c-.087-.2-.223-.421-.41-.664-.187-.243-.375-.408-.566-.495l-.091-.065c-.061-.043-.118-.096-.17-.156-.052-.061-.09-.122-.117-.183-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065.208-.043.403-.108.586-.195.078-.582.29-1.029.638-1.341-.495-.052-.94-.13-1.335-.235-.395-.104-.803-.273-1.224-.508-.421-.234-.77-.525-1.048-.872s-.506-.803-.684-1.367c-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351.807-.225 1.64-.338 2.5-.338.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367-.282.343-.633.632-1.054.866-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.91 11.374L18.866 8.16c-.006-.03-.014-.059-.026-.086l-2.098-6.46c-.114-.341-.436-.57-.796-.568-.36-.002-.68.23-.787.573l-2 6.155H6.845L4.842 1.62c-.107-.341-.425-.574-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684c.165.12.39.12.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95c-.09-.065-.126-.18-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429c.036.104-.001.22-.09.284z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M9.936 0h7.957c1.202 0 1.947.747 1.947 1.952v15.936c0 1.205-.745 1.952-1.946 1.952H1.936C.749 19.84 0 19.088 0 17.9V1.94C0 .751.75.001 1.936.001h8zm6.366 12.68c-.034.087-.052.166-.093.23-.193.308-.354.647-.597.908-.282.303-.635.165-.695-.245-.025-.172-.008-.362.035-.531.19-.736.391-1.47.598-2.202.184-.65.284-1.306.146-1.978-.265-1.288-1.434-1.959-2.681-1.542-.599.2-1.072.576-1.462 1.06-.16.2-.3.413-.486.669l.369-1.704c-1.003 0-1.973-.002-2.942.003-.042 0-.11.05-.122.088-.139.488-.27.978-.41 1.491H9.38c-.015.081-.023.145-.038.206-.247.989-.504 1.975-.737 2.967-.098.42-.294.778-.577 1.09-.395.439-.86.768-1.48.782-.387.009-.584-.206-.567-.59.005-.12.013-.244.042-.362.37-1.505.745-3.009 1.118-4.514l.288-1.161c-1.109 0-2.186-.002-3.263.003-.049 0-.128.051-.14.094-.14.487-.269.976-.407 1.488h1.394c-.013.075-.021.13-.035.186-.214.878-.435 1.755-.644 2.634-.147.62-.346 1.23-.325 1.882.036 1.07.892 1.799 1.952 1.66.843-.112 1.477-.56 1.989-1.21.06-.076.116-.154.175-.23l.033.017-.315 1.285c.09.005.16.012.228.012.51 0 1.02-.007 1.531.004.172.004.246-.038.29-.219.347-1.429.698-2.858 1.072-4.28.095-.363.25-.719.427-1.05.19-.356.495-.614.888-.746.731-.247 1.411.212 1.435.982.006.212-.02.432-.073.637-.114.438-.258.866-.383 1.301-.179.623-.335 1.251-.313 1.905.018.557.182 1.05.706 1.344.681.383 1.76.291 2.362-.205.586-.482.865-1.143 1.078-1.863l-.788-.295zM6.62 3.878c-.7-.003-1.19.474-1.193 1.162-.002.647.52 1.194 1.155 1.207.664.013 1.215-.523 1.22-1.189.004-.682-.492-1.177-1.182-1.18z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(560);function s({width:e,color:t}){const n=16*e/16,s={one:`IconJira-${o.getRandomString()}-path-1`,two:`IconJira-${o.getRandomString()}-path-2`};return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("defs",null,i.h("linearGradient",{id:s.one,x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"})),i.h("linearGradient",{id:s.two,x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":t||"#0052CC"}),i.h("stop",{offset:"100%","stop-color":t||"#2684FF"}))),i.h("path",{fill:t||"#2684FF",d:"M15.286 7.55L8.403.667 7.736 0 2.554 5.181.184 7.55c-.245.248-.245.648 0 .895L4.92 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.187-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.364 2.365z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${s.one})`,d:"M7.736 5.633C6.187 4.085 6.18 1.577 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:`url(#${s.two})`,d:"M10.106 7.991l-2.37 2.372c1.554 1.555 1.554 4.076 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M15.285 7.55L8.402.667 7.735 0l-5.18 5.181L.184 7.55c-.247.248-.247.648 0 .895l4.733 4.734 2.817 2.816 5.181-5.181.08-.08 2.29-2.285c.12-.119.187-.28.187-.45 0-.168-.068-.33-.188-.45zm-7.55 2.813L5.37 7.998l2.365-2.365L10.1 7.998l-2.365 2.365z"}))}s.defaultProps={width:16},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.26 10.594c1.598 1.042 3.199 2.08 4.798 3.12.157.102.156.104-.004.208-2.997 1.95-5.994 3.898-8.986 5.852-.139.09-.22.03-.323-.037-1.235-.804-2.47-1.61-3.706-2.413L.826 13.935c-.054-.035-.118-.06-.163-.13l1.364-.89 3.569-2.32c.34.224.681.447 1.023.67l2.257 1.46c.307.198.616.392.918.599.103.07.175.065.278-.002 1.056-.69 2.115-1.375 3.173-2.062l.136-.095.879-.57zM10.079.073c2.985 1.947 5.974 3.889 8.962 5.832l.152.104c-.034.071-.1.091-.152.125l-.862.56c-1.599 1.042-3.198 2.081-4.798 3.122-.046.03-.09.063-.136.095-1.058.686-2.117 1.37-3.173 2.061-.103.068-.175.073-.278.002-.302-.207-.61-.401-.918-.6L6.62 9.917c-.812-.531-1.623-1.063-2.435-1.592C3.35 7.78 2.516 7.238 1.68 6.695L.797 6.12c-.046-.03-.091-.061-.15-.102l.54-.351C4.049 3.805 6.912 1.944 9.773.08c.109-.07.186-.085.306-.007z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{width:t,height:n,class:o,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.84 6.933l-9.377 11.411c-.07.085-.135.173-.205.258-.197.24-.48.24-.677.002-1.698-2.072-3.396-4.144-5.096-6.215C3.03 10.618 1.575 8.85.119 7.08L0 6.933v-.271l.087-.125c1.227-1.772 2.451-3.545 3.685-5.31.069-.1.206-.194.322-.209.39-.05.785-.06 1.177-.089C6.274.857 7.278.78 8.282.713 8.916.672 9.555.594 10.187.63c1.777.097 3.551.253 5.328.363.316.019.495.136.669.39 1.21 1.766 2.435 3.521 3.656 5.28v.27zm-15.436.276L9.92 17.507l5.515-10.298H4.404zm.36-.838h10.311L9.92 1.558 4.764 6.371zm3.982-4.828l-.018-.048-1.192.085c-.959.067-1.918.135-2.877.2-.11.007-.157.05-.165.163-.076 1.03-.156 2.06-.234 3.088-.017.228-.03.456-.046.684l.042.02 4.49-4.192zm2.366-.047l-.019.047 4.534 4.232c-.008-.169-.01-.272-.018-.375-.087-1.132-.18-2.264-.257-3.397-.012-.182-.085-.22-.247-.23-.862-.055-1.724-.121-2.586-.182-.47-.033-.938-.063-1.407-.095zM7.45 14.72l.032-.031c-.013-.028-.023-.058-.038-.085-1.3-2.428-2.601-4.856-3.9-7.286-.05-.095-.109-.122-.21-.122-.634.005-1.266.002-1.9.003-.039 0-.08.011-.142.021l6.158 7.5zm4.907-.03l.034.027L18.566 7.2c-.708 0-1.36.006-2.01-.005-.154-.002-.224.053-.293.183-1.272 2.383-2.549 4.764-3.824 7.146-.03.054-.055.111-.082.168zm6.293-8.309l-2.375-3.43c-.015.007-.03.014-.043.022l.264 3.409h2.154zM1.194 6.376h2.15l.263-3.407-.046-.014-2.368 3.421z"}))}o.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 11 9"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e,"fill-rule":"nonzero"},i.h("path",{d:"M112.477 14c.208 0 .423-.092.61-.27l3.647-3.585c.165-.163.266-.404.266-.645 0-.234-.1-.475-.266-.638l-3.647-3.586c-.187-.184-.402-.276-.61-.276-.517 0-.87.354-.87.822 0 .262.116.46.28.624l1.142 1.134 1.25 1.055H106.91c-.545 0-.911.348-.911.865s.366.872.912.872h7.367l-1.25 1.056-1.141 1.133c-.165.156-.28.362-.28.617 0 .468.352.822.869.822z",transform:"translate(-1139 -265) translate(640 192) translate(0 56) translate(393 12)"}))))}o.defaultProps={color:"var(--cornflower-blue)",width:11,height:9},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M14 0c1.105 0 2 .895 2 2v12c0 1.104-.895 2-2 2H2c-1.105 0-2-.896-2-2V2C0 .895.895 0 2 0h12zM6 2.08H3.04c-.52 0-.943.413-.96.93v9.11c0 .52.413.943.93.96H6c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96H6zm6.96 0H10c-.52 0-.943.413-.96.93v5.11c0 .52.413.943.93.96H12.96c.52 0 .943-.413.96-.93V3.04c0-.52-.413-.943-.93-.96h-.03z"}))}o.defaultProps={width:16,color:"#0079BF"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){return i.h("svg",{width:e,viewBox:"0 0 16 15"},i.h("path",{fill:t,d:"M16 12.002c0 .51-.385.933-.88.991l-.115.007h-2.817l-1.925 1.925L8.337 13H1c-.512 0-.934-.386-.992-.882L0 12V1C0 .486.387.064.884.006L1.001 0H15c.513 0 .936.386.993.883L16 1v11.002zM8.49.998L1.001 1 1 12.002 8.544 12h.207l1.512 1.511L11.774 12h3.23l-.003-4.477L15 7.5V1H8.5L8.49.999zM12.5 7.5c.277 0 .5.224.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.224-.5-.5 0-.246.177-.45.41-.492L3.5 7.5h9zm0-3c.277 0 .5.223.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.223-.5-.5 0-.246.177-.45.41-.492L3.5 4.5h9z"}))}o.defaultProps={color:"var(--teflon)",width:16},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("g",{fill:n},i.h("rect",{x:"5",width:"2",height:"12",rx:"1"}),i.h("rect",{y:"5",width:"12",height:"2",rx:"1"})))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("rect",{fill:n,y:"5",width:"12",height:"2",rx:"1"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 24 26"},i.h("path",{fill:e,d:"M12.417.958c.354 0 .708.142.991.425.284.284.425.638.425.992V3.65l6.234 3.612c.283.213.566.496.637.85.071.071.071.213.071.355 0 .212-.07.495-.212.708l-.78 1.346 3.188 5.454c.142.354.212.708.07 1.133-.07.354-.283.638-.637.85l-11.9 6.8-.268.154c-.995.54-2.099.838-3.203.838-1.7 0-3.329-.637-4.604-1.842C1.225 22.704.446 21.075.375 19.375v-17c0-.354.142-.708.425-.992.283-.283.637-.425.992-.425zm-.071 1.346H1.72v17c.07 1.346.637 2.621 1.629 3.542.992.991 2.337 1.487 3.683 1.487 1.346 0 2.621-.495 3.613-1.416l.142-.142.424-.425c.071-.142.142-.213.213-.283.07-.142.142-.213.212-.355l.071-.07c.425-.709.638-1.488.638-2.409V2.304zm-5.242 13.53c1.771 0 3.188 1.416 3.188 3.187 0 1.77-1.417 3.187-3.188 3.187-1.77 0-3.187-1.416-3.187-3.187s1.416-3.188 3.187-3.188zm11.9-3.896L13.48 21.5l8.288-4.817-2.763-4.745zm-11.9 5.312c-.991 0-1.77.78-1.77 1.77 0 .992.779 1.772 1.77 1.772.992 0 1.771-.78 1.771-1.771 0-.992-.78-1.771-1.77-1.771zm6.73-11.9v12.608l5.524-9.42-5.525-3.188z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:26},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(560);function s({width:e,color:t}){const n=16*e/16,s="IconTeams-"+o.getRandomString();return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},t?i.h(i.Fragment,null,i.h("path",{fill:t,d:"M8.81,0.58c1.34,0,2.43,1.09,2.43,2.43s-1.09,2.43-2.43,2.43c-0.04,0-0.07-0.01-0.1-0.01V4.6 c0-0.65-0.53-1.19-1.19-1.19h-1.1C6.4,3.28,6.38,3.15,6.38,3.01C6.38,1.66,7.47,0.58,8.81,0.58z M14.03,2.1 c0.92,0,1.67,0.75,1.67,1.67c0,0.92-0.75,1.67-1.67,1.67c-0.92,0-1.67-0.75-1.67-1.67C12.35,2.84,13.1,2.1,14.03,2.1z M5.87,5.74 H2.33v0.72h1.34v3.73h0.86V6.46h1.35V5.74z M7.52,3.92c0.35,0,0.64,0.26,0.68,0.6L8.2,4.6v6.84c0,0.35-0.26,0.64-0.6,0.68 l-0.09,0.01H0.68c-0.35,0-0.64-0.26-0.68-0.6L0,11.44V4.6c0-0.35,0.26-0.63,0.6-0.68l0.09-0.01H7.52z M15.3,6.15 c0.39,0,0.7,0.32,0.7,0.71v3.77c0,1.44-1.15,2.61-2.58,2.61h-0.01c-0.23,0-0.45-0.04-0.66-0.1c0.27-0.61,0.42-1.28,0.41-1.99V6.86 c0.01-0.27-0.1-0.51-0.25-0.72H15.3z M11.97,6.15c0.39,0.01,0.69,0.33,0.68,0.72l0,4.48c-0.04,2.24-1.84,4.07-4.1,4.12 c-1.81-0.04-3.3-1.23-3.86-2.84h2.82c0.66,0,1.19-0.53,1.19-1.19V6.15H11.97z"})):i.h(i.Fragment,null,i.h("defs",null,i.h("linearGradient",{id:s,x1:"17.372%",x2:"82.628%",y1:"-6.51%",y2:"106.51%"},i.h("stop",{offset:"0%","stop-color":"#5A62C3"}),i.h("stop",{offset:"50%","stop-color":"#4D55BD"}),i.h("stop",{offset:"100%","stop-color":"#3940AB"}))),i.h("g",{fill:"none",transform:"translate(0 1)"},i.h("path",{fill:"#5059C9",d:"M11.181 5.535h4.072c.385 0 .697.315.697.704v3.75c0 1.43-1.147 2.59-2.56 2.59h-.012c-1.414 0-2.56-1.16-2.56-2.589V5.903c0-.204.162-.368.363-.368z"}),i.h("circle",{cx:"13.987",cy:"3.17",r:"1.66",fill:"#5059C9"}),i.h("circle",{cx:"8.805",cy:"2.415",r:"2.415",fill:"#7B83EB"}),i.h("path",{fill:"#7B83EB",d:"M11.949 5.535H5.158c-.384.01-.688.328-.679.712v4.273c-.054 2.304 1.77 4.216 4.074 4.272 2.305-.056 4.128-1.968 4.075-4.272V6.247c.009-.384-.295-.703-.68-.712z"}),i.h("path",{fill:"#000",d:"M9.006 5.535V11.5c-.002.273-.168.52-.42.623-.081.035-.168.052-.255.052H4.903c-.048-.122-.092-.243-.129-.369-.129-.423-.195-.863-.195-1.306V6.243c-.01-.382.293-.699.675-.708h3.752z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 5.535V11.9c0 .088-.018.175-.052.256-.103.254-.347.42-.618.423H5.073c-.063-.123-.121-.245-.172-.371-.052-.126-.092-.245-.128-.37-.129-.426-.194-.869-.194-1.313V6.246c-.01-.383.29-.702.67-.711h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 5.535v5.567c-.003.37-.301.669-.67.672H4.773c-.129-.422-.194-.86-.194-1.3V6.24c-.01-.38.29-.695.67-.704h3.355z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.201 5.535v5.567c-.003.37-.306.669-.681.672H4.675c-.13-.422-.196-.86-.197-1.3V6.24c-.009-.38.296-.695.681-.704h3.042z",opacity:".2"}),i.h("path",{fill:"#000",d:"M9.006 3.682v1.14c-.063.005-.122.008-.184.008-.063 0-.122-.003-.185-.007-.124-.008-.248-.028-.369-.058-.747-.174-1.364-.688-1.66-1.384-.05-.117-.09-.238-.118-.362h1.841c.372.001.674.297.675.663z",opacity:".1"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.604 4.015v.815c-.124-.008-.246-.029-.366-.06-.741-.182-1.353-.721-1.647-1.45h1.343c.37.002.668.312.67.695z",opacity:".2"}),i.h("path",{fill:"#000",d:"M8.302 3.996v.734c-.77-.177-1.406-.701-1.711-1.41h1.015c.384.002.694.304.696.676z",opacity:".2"}),i.h("path",{fill:`url(#${s})`,d:"M.73 3.32h6.792c.375 0 .68.305.68.68v6.793c0 .375-.305.679-.68.679H.729c-.375 0-.679-.304-.679-.68V4c0-.375.304-.68.68-.68z"})),i.h("path",{class:"iconActiveStateOverlay",fill:"none",d:"M8.805 1c1.334 0 2.415 1.081 2.415 2.415S10.139 5.83 8.805 5.83c-.209 0-.411-.026-.605-.076v.78h7.053c.353 0 .644.266.69.61l.007.095v3.75c0 1.376-1.06 2.5-2.398 2.585l-.162.005h-.012c-.4 0-.777-.093-1.114-.257-.636 1.423-2.048 2.43-3.71 2.47-1.979-.048-3.602-1.463-3.989-3.32H.73c-.375 0-.679-.304-.679-.68V5c0-.375.304-.68.68-.68h5.835c-.113-.28-.175-.585-.175-.905C6.39 2.081 7.47 1 8.805 1zm5.182 1.51c.917 0 1.66.743 1.66 1.66 0 .917-.743 1.66-1.66 1.66-.917 0-1.66-.743-1.66-1.66 0-.917.743-1.66 1.66-1.66z"}),i.h("path",{fill:"#FFF",d:"M5.887 6.851L4.549 6.851 4.549 10.56 3.696 10.56 3.696 6.851 2.365 6.851 2.365 6.132 5.887 6.132z"})))}s.defaultProps={width:16},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M6 15c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8zM6 10c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm0 1c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zm14.5.5c.276 0 .5.224.5.5s-.224.5-.5.5h-11c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h11zM6 4c.276 0 .5.224.5.5v4c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-4c0-.276.224-.5.5-.5zm11.5 2c.276 0 .5.224.5.5s-.224.5-.5.5h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8z"}))}o.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({class:e,color:t,width:n,height:o}){return i.h("svg",{class:e,width:n,height:o,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M11.5 8.5c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 9.5 0 9.276 0 9s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 6.5 0 6.276 0 6s.224-.5.5-.5h11zm0-3c.276 0 .5.224.5.5s-.224.5-.5.5H.5C.224 3.5 0 3.276 0 3s.224-.5.5-.5h11z"}))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("g",null,i.h("path",{d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zM8.157 6.336c-.398-.399-1.029-.394-1.42-.002l-.403.402c-.393.392-.391 1.028.002 1.421L10.178 12l-3.842 3.843c-.399.398-.394 1.029-.002 1.42l.402.403c.392.393 1.028.391 1.421-.002L12 13.822l3.843 3.842c.398.399 1.029.394 1.42.002l.403-.402c.393-.392.391-1.028-.002-1.421L13.822 12l3.842-3.843c.399-.398.394-1.029.002-1.42l-.402-.403c-.392-.393-1.028-.391-1.421.002L12 10.178z",transform:"translate(-940 -173) translate(940 173)"})))))}o.defaultProps={color:"var(--gandalf)",width:24,height:24},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({class:e}){return i.h("svg",{class:e,width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M9.978 3.439c-.086.316-.147.64-.176.975H2.028l-.001 10.733 7.748-.001h.213l1.552 1.474 1.552-1.474h3.318l-.002-4.413c.351-.025.693-.08 1.024-.158v4.572c0 .537-.458.975-1.022.975h-2.893L11.54 18l-1.977-1.878H2.025c-.565 0-1.025-.438-1.025-.975V4.413c0-.537.461-.974 1.028-.974zm3.86 7.317c.284 0 .513.218.513.488s-.23.487-.513.487H4.595c-.284 0-.514-.218-.514-.487 0-.27.23-.488.514-.488zM15.892 1c.284 0 .513.219.513.488v2.927h3.081c.284 0 .514.218.514.487 0 .27-.23.488-.514.488h-3.08v2.927c0 .27-.23.488-.514.488-.284 0-.514-.219-.514-.488V5.39h-3.08c-.285 0-.514-.218-.514-.488 0-.269.23-.487.513-.487h3.081V1.488c0-.27.23-.488.514-.488zm-5.285 6.83c.214.35.465.675.748.975h-6.76c-.284 0-.514-.219-.514-.488 0-.27.23-.488.514-.488z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function(){return i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M2.75 19c-.414 0-.75-.336-.75-.75s.336-.75.75-.75H4v-2c0-2.46 1.481-4.575 3.6-5.5C5.481 9.074 4 6.96 4 4.5v-2h-.75c-.414 0-.75-.336-.75-.75S2.836 1 3.25 1h13.5c.414 0 .75.336.75.75s-.336.75-.75.75H16v2c0 2.46-1.481 4.575-3.6 5.5 2.119.925 3.6 3.04 3.6 5.5v2h1.25c.414 0 .75.336.75.75s-.336.75-.75.75H2.75zM10 10.5c-2.761 0-5 2.239-5 5v1.182C6.075 15.065 7.913 14 10 14c2.088 0 3.926 1.066 5.001 2.684L15 15.5c0-2.761-2.239-5-5-5zm5-8H5v2c0 2.761 2.239 5 5 5s5-2.239 5-5v-2z"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({class:e}){return i.h("svg",{class:e,width:"9",height:"12",viewBox:"0 0 9 12"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:"#554D56"},i.h("path",{d:"M29.322 16.279l-1.596 2.34c-.188.348-.657.249-.704-.15l-2.018-9.908c-.047-.398.329-.697.61-.498l8.166 5.228c.329.2.282.697-.094.797l-2.675.846 2.44 3.485c.142.2.095.449-.046.598l-1.173.896c-.188.15-.423.1-.564-.1l-2.346-3.534z",transform:"translate(-25 -8)"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=11*e/14;return i.h("svg",{width:e,height:n,viewBox:"0 0 14 11"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M5.057 7.264l6.8-7.055c.268-.279.702-.279.97 0l.972 1.008c.268.278.268.73 0 1.007l-8.256 8.567c-.268.279-.703.279-.971 0L.202 6.256c-.27-.278-.27-.73 0-1.008l.97-1.008c.269-.278.703-.278.972 0l2.913 3.024z"}))}o.defaultProps={width:14,color:"#C8CF2D"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,width:t,height:n,viewBox:"0 0 31 36"},i.h("path",{fill:e,d:"M35.997 27.472h-.536l-1.177-10.015-16.284 16 17.98-.034c1.66 0 3.02-1.335 3.02-2.985.007-1.632-1.341-2.966-3.003-2.966M28.583 36c.507-.001.918.379.917.854-.006 2.836-2.474 5.14-5.511 5.146-3.038.006-5.495-2.289-5.489-5.124.001-.474.42-.857.92-.858zm-4.85-30c3.74-.008 7.202 2.298 8.884 5.566l3.722-3.722c.499-.498 1.305-.498 1.803 0 .498.497.498 1.304 0 1.803L10.176 37.613c-.249.25-.575.374-.901.374-.327 0-.652-.125-.901-.374-.499-.497-.499-1.305 0-1.803l3.06-3.06c-1.439-.201-2.552-1.433-2.552-2.925.01-1.648 1.334-2.983 2.966-2.983h.528l1.419-11.96C14.382 9.988 18.827 6.01 23.732 6z",transform:"translate(-8 -6)"}))}o.defaultProps={color:"var(--gandalf)",width:31,height:36},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t}){const n=16*e/16;return i.h("svg",{width:e,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:t,d:"M12 4c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8zm0 1c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zm0 1.5c3.038 0 5.5 2.462 5.5 5.5s-2.462 5.5-5.5 5.5-5.5-2.462-5.5-5.5S8.962 6.5 12 6.5zm0 1c-2.485 0-4.5 2.015-4.5 4.5s2.015 4.5 4.5 4.5 4.5-2.015 4.5-4.5-2.015-4.5-4.5-4.5zm.166 1c.24-.004.437.22.433.496v.502c.213.044.432.126.651.256.222.116.315.421.202.67-.113.247-.384.337-.595.197-.672-.397-1.084-.11-1.211.134-.065.121-.072.216-.018.333.054.118.206.291.582.407.52.159.905.483 1.094.91.19.427.163.928-.037 1.32-.147.288-.378.514-.668.655v.608c.011.279-.183.512-.427.512s-.439-.233-.428-.512v-.458c-.313-.023-.65-.126-.998-.323-.217-.116-.308-.415-.201-.66.106-.245.37-.343.582-.216.834.474 1.268.166 1.401-.096.067-.13.072-.254.014-.386-.059-.133-.205-.304-.554-.41-.532-.164-.922-.474-1.117-.893-.194-.422-.158-.919.039-1.294.177-.338.473-.59.834-.71v-.546c-.002-.269.185-.492.422-.496z",transform:"translate(-204 -1013) translate(0 997) translate(200 12)"}))}o.defaultProps={width:16,color:"var(--teflon)"},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{fill:e},i.h("g",null,i.h("path",{"fill-opacity":".5",stroke:e,"stroke-width":"1.2",d:"M5.902.623l5.383 2.739c.052.028.089.074.105.127.004.013.007.026.009.04h0L6.097 6.482c-.062.031-.136.03-.199-.002h0L.715 3.743C.663 3.715.626 3.67.61 3.616.606 3.603.603 3.589.6 3.576h0L5.902.623z",transform:"translate(-4 -4) translate(4 4)"}),i.h("path",{d:"M11.646 5.33l-.081-.051c.399.21.551.704.34 1.102-.077.145-.195.264-.34.34L6.382 9.458c-.24.126-.525.126-.764 0L.435 6.72c-.399-.21-.551-.704-.34-1.102.062-.117.15-.217.259-.29l.081.05 5.183 2.736c.24.126.525.126.764 0l5.183-2.736c.028-.015.055-.032.081-.05z",transform:"translate(-4 -4) translate(4 4)"}),i.h("path",{d:"M11.646 7.777l-.081-.05c.399.21.551.704.34 1.102-.077.145-.195.263-.34.34l-5.183 2.736c-.24.127-.525.127-.764 0L.435 9.17c-.399-.21-.551-.704-.34-1.103.062-.116.15-.216.259-.29l.081.05 5.183 2.737c.24.126.525.126.764 0l5.183-2.737c.028-.015.055-.031.081-.05z",transform:"translate(-4 -4) translate(4 4)"})))))}o.defaultProps={color:"var(--gandalf)",width:12,height:12},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);var o;function s({class:e,width:t,type:n}){return n===o.OUTLINE?i.h("svg",{class:e,width:t,viewBox:"0 0 25 20"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M19.418 12.996c-1.091.714-2.31 1.316-3.625 1.79l-.067.023c-1.01-1.098-2.066-2.427-3.092-3.893l-.24-.345-.04-.433c-.154-1.768-.199-3.468-.133-4.948l.097-.035c1.863-.672 3.773-1.028 5.523-1.028 1.458 0 2.751.248 3.738.715.922.437 1.524 1.032 1.79 1.768.206.57.203 1.21-.009 1.9-.223.727-.685 1.51-1.335 2.26-.69.798-1.566 1.547-2.607 2.226m-9.163 2.821c-1.153 0-2.185-.15-3.066-.449l-.34-.114-.338.121-3.04 1.097.047-2.308.009-.395-.26-.299-1.51-1.746 3.05-1.1.338-.122.188-.304C6.11 8.942 7.401 7.744 9.01 6.746c.644 1.287 1.495 2.722 2.47 4.159.177 1.725.448 3.37.781 4.767-.684.096-1.356.145-2.006.145m2.106-12.369c.276-2.214.744-2.49.774-2.504.047.004.226.113.484.567.261.461.528 1.143.772 1.972v.005c-.69.15-1.391.345-2.096.586.02-.215.041-.424.066-.626m6.121 11.283c.369.848.606 1.57.684 2.093.074.488-.012.617-.027.635-.005.002-.019.005-.045.005-.104 0-.693-.069-2.155-1.428-.133-.123-.272-.256-.412-.395l.003-.033c.683-.263 1.336-.557 1.952-.877m-5.289.782c-.218-.9-.409-1.912-.564-2.992.704.947 1.42 1.83 2.116 2.608-.519.153-1.037.282-1.552.384m2.357.483c-.223 2.386-.708 3.017-.833 3.06-.044-.005-.21-.106-.452-.514-.25-.423-.507-1.052-.742-1.818-.022-.07-.044-.142-.065-.215.678-.138 1.368-.319 2.062-.544l.03.031M9.295 5.12c-.853-2.02-.61-2.511-.583-2.554.007-.002.02-.004.042-.004.122 0 .82.088 2.569 1.82l-.004.053c-.677.272-1.322.575-1.93.903l-.094-.218m2.025 3.808C10.744 8 10.24 7.102 9.827 6.27c.459-.25.94-.484 1.436-.698-.031 1.043-.012 2.178.057 3.355M24.336 6.26c-.738-2.045-3.275-3.162-6.495-3.162-.8 0-1.642.07-2.509.21l-.014-.048c-.312-1.06-.648-1.872-1-2.41C13.95.285 13.552 0 13.134 0c-.028 0-.056.001-.083.004-.423.037-.773.344-1.042.914-.248.526-.434 1.271-.566 2.276-1.147-1.045-2.053-1.575-2.695-1.575-.22 0-.414.058-.578.173-.347.243-.497.685-.445 1.313.05.605.28 1.385.7 2.382l.141.324C6.738 6.929 5.312 8.277 4.46 9.657L0 11.265l2.49 2.878-.079 3.805 4.449-1.605c.982.331 2.136.502 3.395.502.726 0 1.486-.056 2.268-.172.032.112.065.221.098.328.308 1.002.622 1.73.96 2.226.35.513.733.773 1.139.773.027 0 .054-.001.08-.004.423-.036.775-.353 1.049-.941.241-.52.428-1.268.557-2.227 1.146 1.047 2.052 1.577 2.696 1.577.22 0 .415-.058.58-.173.358-.252.505-.723.435-1.4-.066-.646-.331-1.5-.787-2.541l-.01-.024c3.79-2.234 5.94-5.444 5.016-8.006"})):i.h("svg",{class:e,width:t,viewBox:"0 0 60 48"},i.h("path",{fill:"#FDBD39",d:"M9.22500276 33.0840797L6.086191 34.2307306l-.1685294 9.3377181 10.8655059-3.9692989c-3.7267412-1.2518612-6.4482353-3.4543705-7.55816474-6.5150701"}),i.h("path",{fill:"#F69833",d:"M10.8676263 23.2078406L-.023009 27.1863498l6.1092 7.0443808 3.13881176-1.1466509c-1.10668235-3.0517727-.4242-6.5015026 1.64262354-9.8762391"}),i.h("path",{fill:"#FECF33",d:"M29.1946263 9.73401033C15.3264381 14.8002244 6.38569688 25.2544118 9.22500276 33.0840797L59.4462381 14.7376295C56.6069322 6.9079262 43.0628498 4.6677609 29.1946263 9.73401033"}),i.h("path",{fill:"#EE6723",d:"M39.4765792 38.0876989c13.8682236-5.0662495 22.8257647-15.4740664 19.9696589-23.3500694L9.22500276 33.0840797C12.0810734 40.9601181 25.608391 43.1539129 39.4765792 38.0876989"}),i.h("path",{fill:"#F69833",d:"M59.4462381 14.7376295L9.22500276 33.0840797c.98340004 2.7118406 4.73350584 4.0478701 9.99532944 4.0478701 5.1298588 0 11.6965412-1.2689004 18.5425764-3.7698952 13.8682589-5.066214 23.6254589-13.2687587 21.6833295-18.6244251"}),i.h("path",{fill:"#FDBD39",d:"M49.4509086 10.689724c-5.1298941 0-11.6965411 1.2689358-18.542647 3.7698952C17.0400734 19.5258686 7.28283806 27.7283779 9.22500276 33.0840797L59.4462381 14.7376295c-.9834-2.711876-4.7335059-4.0479055-9.9953295-4.0479055"}),i.h("path",{fill:"#EE6723",d:"M46.6773557 44.0629018h-.0003529c-1.4775883 0-3.6574942-1.3346833-6.4792236-3.9669254-3.3382588-3.1141904-7.1622353-7.6754657-10.7676706-12.8435247-3.6052941-5.1678465-6.5678117-10.3344886-8.3418-14.548251-1.9328117-4.59195273-2.2083882-7.41538004-.8191058-8.3919232.3046235-.21389226.6718235-.32225536 1.0913294-.32225536 1.1300823 0 3.3320117.84136384 7.4037529 4.84984207l.0890471.08760443-.0120353.12458746c-.0278471.28796456-.0535059.57851512-.0763765.86368117l-.0453882.56625833-.3994588-.4024561c-4.3871648-4.41986127-6.3183883-4.89702732-6.9451412-4.89702732-.1787294 0-.3210706.03634538-.4231059.1080797-.6026118.4234273-.6414 2.4973107 1.2324706 6.94869962 1.7423294 4.1386627 4.6617529 9.2271587 8.2204941 14.3280886 3.5588824 5.1014258 7.3243412 9.5952885 10.6029176 12.6537919 3.5354471 3.2980073 5.1286236 3.6541284 5.6495295 3.6541284.1798588 0 .3260117-.038648.4344-.1148812.6357176-.4466657.6364588-2.6683395-1.4532353-7.4595188l-.0959294-.2199498.21-.1149521c.2100352-.1149874.4131529-.2282037.6036352-.3364959l.2515765-.1429727.1159765.2657181c1.4817176 3.3949284 2.8667647 7.7097919 1.0506 8.9864856-.3062118.2150967-.6752118.3241682-1.0969059.3241682zm-.0003529-.5236782h.000375l-.00025.2618214-.000125-.2618214z"}),i.h("path",{fill:"#EE6723",d:"M39.8132498 37.9445491l-.0211059.2609358c-.3506117 4.3383144-1.2737647 9.5539837-3.6807529 9.7650775-.0484235.0043217-.0986471.0065535-.1488706.0065535-1.6351412 0-3.1821176-2.3427897-4.5978706-6.9634008-1.3395176-4.3713653-2.3789647-10.240614-2.9268706-16.526524-.5479411-6.2845992-.5397176-12.2458096.0231177-16.78540512.6134823-4.9467631 1.7814353-7.53011956 3.4712117-7.6784059.0499412-.00460517.1017177-.0069786.1528589-.0069786 1.1862 0 2.9739176 1.3431498 4.8040588 7.59930332l-1.1949882.23064797c-.6110471-2.09063912-1.2769765-3.79100812-1.9380706-4.9594096-.6115412-1.0807262-1.2061412-1.67589077-1.6743883-1.67589077-.0153882 0-.0308823.00063764-.0461647.00194834-.7324235.06433063-1.7990823 1.84096826-2.3937529 6.63629225-.5528118 4.458155-.5594824 10.3300251-.0187765 16.5339631.5410235 6.204859 1.5634941 11.986397 2.8789765 16.2794391.5891294 1.9227277 1.2353294 3.5073299 1.8687176 4.5826007.5840824.9915631 1.1493177 1.537665 1.5915883 1.537665.0152117 0 .0303529-.0007085.0454588-.0019838.7008-.0614258 2.0214706-1.9102229 2.5773176-8.4149136l1.2283059-.4215144"}))}!function(e){e.DEFAULT="default",e.OUTLINE="outline"}(o||(o={})),s.defaultProps={width:25,type:"default"},t.default=s},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(20)),s=i(n(846)),r={pure:!0,withProps:!1,withContext:!1};t.default=(e,t={})=>{const n=class extends e{constructor(n,i){super(n,i),this.getState=(t,n,i)=>{const o=this.options.withProps?n:void 0,s=this.options.withContext?i:void 0;return e.calculateState(t,o,s)},this.options=Object.assign(Object.assign({},r),t),this.fluxContainerSubscriptions=new o.default,this.fluxContainerSubscriptions.setStores(this.getStores(n)),this.fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this.getState(e,t,i))}),this.state=Object.assign(Object.assign({},this.state||{}),this.getState(void 0,n,i))}getStores(t,n){const i=this.options.withProps?t:void 0,o=this.options.withContext?n:void 0;return e.getStores(i,o)}componentWillReceiveProps(e,t){var n;null===(n=super.componentWillReceiveProps)||void 0===n||n.call(this,e,t),(this.options.withProps||this.options.withContext)&&(this.fluxContainerSubscriptions.setStores(this.getStores(e,t)),this.setState(n=>this.getState(n,e,t)))}shouldComponentUpdate(e,t,n){return this.options.pure?s.default(this.props,e)||s.default(this.state,t):!super.shouldComponentUpdate||super.shouldComponentUpdate(e,t,n)}componentWillUnmount(){var e;null===(e=super.componentWillUnmount)||void 0===e||e.call(this),this.fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n}},function(e,t,n){"use strict";n.r(t);t.default=(e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}},function(e,t,n){"use strict";n.r(t);var i=n(848);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(849),s=n(853),r=n(559);n(859);function a(e){const{username:t,avatar:n,organizations:a,selectedOrganizationId:l,onOrganizationChange:c}=e,d=[{id:"user",name:t,logoUrl:n},...a.map(e=>({id:e._id,name:e.name,logoUrl:e.logo})).sort(r.sortBy.name)];return i.h("div",{class:"organizationDropdownWrapper"},i.h(o.default,{optionsClass:"organizationDropdownOptions",top:35,fixedTop:!0,centerX:!0,onChange:c},d.map(({id:e,name:t,logoUrl:n})=>i.h(o.default.Item,{key:e,class:"organizationDropdownItem",label:i.h(s.default,{name:t,logoUrl:n,personal:"user"===e}),value:e,selected:l===e}))))}a.defaultProps={selectedOrganizationId:"user"},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(850);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(735),a=n(851),l=n(771),c=n(718),d=n.n(c),u=n(737);n(852);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:h}=i;class f extends i.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}positionOptions(){const{top:e,left:t,fixedTop:n,autoScroll:i,centerX:o,alignRight:s,posRef:r}=this.props,a=r.getBoundingClientRect(),l=this.nodeRefs.options.getBoundingClientRect(),c=e||a.height,d=t||0;let u=a.top+c,p=a.left;o?p+=(a.width-l.width)/2:s?p=a.right-l.width:p+=d,!n&&u<this.edgeOffset?u=this.edgeOffset:!n&&u+l.height+this.edgeOffset>window.innerHeight&&(u=window.innerHeight-l.height-this.edgeOffset,i&&u<this.edgeOffset&&(u=this.edgeOffset)),i&&(this.nodeRefs.options.style.maxHeight=window.innerHeight-u-this.edgeOffset+"px",this.nodeRefs.options.style.overflowY="auto"),p<this.edgeOffset?p=this.edgeOffset:p+l.width+this.edgeOffset>window.innerWidth&&(p=window.innerWidth-l.width-this.edgeOffset),this.nodeRefs.options.style.transform=`translate3d(${p}px, ${u}px, 0)`}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){const{disableClosingWithESC:t,onClose:n}=this.props;!t&&n&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:d()("dropdownOptions",t),ref:Object(u.default)(this,"options")},e))}}class g extends i.Component{constructor(...e){super(...e),p(this,"state",{open:!1}),p(this,"hideOptions",()=>{this.setState({open:!1})}),p(this,"toggleOptions",e=>{const{onDropdownClick:t,disabled:n}=this.props;n||(t?t(e):(e.stopPropagation(),this.setState(e=>({open:!e.open}))))}),p(this,"handleItemSelect",e=>{this.props.multiSelect||this.setState({open:!1}),this.props.onChange(e)})}get labelAndTitle(){const{children:e,multiSelect:t,defaultLabel:n,showSelectedAsLabel:o}=this.props;if(!o)return{label:n,title:null};const s=function e(t,n=0){if(n===t.length)return;const o=t[n];if(o.type&&o.type.name===a.default.name){if(o.props.selected)return o}else if(o.props&&o.props.children)return e(i.toChildArray(o.props.children));return e(t,n+1)}(i.toChildArray(e));let r,l=n;if(!t&&s){const{dropdownLabel:e,label:t}=s.props;l=e||t}return!t&&s&&"string"==typeof s.props.label?r=s.props.label:"string"==typeof n&&(r=n),{label:l,title:r}}componentDidUpdate(e,t){const{onDropdownStateChange:n}=this.props,{open:i}=this.state;n&&t.open!==i&&n(i)}renderOptions(){const{portalInto:e,showCheck:t,top:n,left:o,fixedTop:s,autoScroll:l,centerX:c,alignRight:d,optionsClass:u,disableClosingWithESC:p}=this.props,h=function e(t,n,o){const{children:s}=t.props;return i.toChildArray(s).map(t=>t.type&&t.type.name===a.default.name?i.cloneElement(t,{showCheck:n,onSelect:o}):t.props&&t.props.children?i.cloneElement(t,{children:e(t,n,o)}):t)}(this,t,this.handleItemSelect);return i.h(r.default,{into:e},i.h(f,{class:u,onClose:this.hideOptions,fixedTop:s,autoScroll:l,posRef:this.nodeRefs.base,top:n,left:o,centerX:c,alignRight:d,disableClosingWithESC:p},h))}render(){const{open:e}=this.state,{class:t,labelClass:n,showLabel:o,showChevron:s,disabled:r,chevronColor:a}=this.props,c=d()("dropdown","noSelect",t,{open:e,disabled:r}),{label:p,title:h}=this.labelAndTitle,f=r?void 0:"0";return i.h("div",{ref:Object(u.default)(this,"base"),class:c,title:h,tabIndex:f,onClick:this.toggleOptions},o&&i.h("span",{class:d()("ellipsis",n)},p),s&&i.h(l.IconArrowDown,{width:"9",color:a,class:"chevron"}),e&&this.renderOptions())}}g.propTypes={portalInto:s.a.oneOfType([s.a.element,s.a.object]),showCheck:s.a.bool,defaultLabel:s.a.oneOfType([s.a.object,s.a.string]),multiSelect:s.a.bool,top:s.a.number,left:s.a.number,fixedTop:s.a.bool,autoScroll:s.a.bool,centerX:s.a.bool,children:s.a.oneOfType([s.a.arrayOf(s.a.instanceOf(a.default)),s.a.node]),onChange:s.a.func.isRequired,onDropdownStateChange:s.a.func,disableClosingWithESC:s.a.bool,showLabel:s.a.bool,labelClass:s.a.string,showChevron:s.a.bool,chevronColor:s.a.string,alignRight:s.a.bool,disabled:s.a.bool},g.defaultProps={portalInto:document.body,fixedTop:!1,autoScroll:!1,showCheck:!0,showLabel:!0,showChevron:!0,multiSelect:!1,disableClosingWithESC:!1,showSelectedAsLabel:!0},g.Item=a.default,t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(563);const{h:c}=i;class d extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:o,children:s}=this.props,r=a()("dropdownItem","noSelect",o,{selected:t});return i.h("div",{class:r,onClick:this.handleClick},i.h("div",{class:"dropdownItemContent ellipsis"},s||e),n&&t&&i.h("img",{class:"dropdownCheck",src:Object(l.imageUrl)("img/icMenuCheck.svg"),alt:"&check;"}))}}d.displayName="Dropdown.Item",d.propTypes={label:s.a.oneOfType([s.a.string,s.a.node,s.a.element]),dropdownLabel:s.a.string,value:s.a.string.isRequired,selected:s.a.bool,showCheck:s.a.bool,children:s.a.oneOfType([s.a.node,s.a.element]),onSelect:s.a.func.isRequired},d.defaultProps={selected:!1,showCheck:!0},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(854);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(855),s=n.n(o),r=n(718),a=n.n(r);n(858);t.default=function({logoUrl:e,name:t,personal:n}){const o=(n?"Personal":t+"’s")+" Workspace",r=n?"user":"organization",l=a()("organizationItem",{personal:n});return i.h("div",{class:l},i.h(s.a,{class:"organizationLogo",src:e,type:r,size:24,bgSize:15}),i.h("div",{class:"organizationName ellipsis"},o))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(856);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(718));n(857);function a({class:e,src:t,srcset:n,type:i,title:a,size:l,bgSize:c}){const[d,u]=s.useState(!0),[p,h]=s.useState(!1),f=s.useRef();function g(){u(!1),h(!1)}s.useEffect(()=>{var e;(null===(e=f.current)||void 0===e?void 0:e.src)&&f.current.complete?g():(u(!0),h(!1))},[t,n]);const m=r.default("avatarFrame",e,i,{placeholder:d||p}),b={width:l,height:l,backgroundSize:null!=c?c:"contain"};return o.h("div",{class:m,style:b,title:a},o.h("img",{ref:f,srcSet:n,src:t,width:l,height:l,onLoad:g,onError:function(){h(!0)},alt:"👤"}))}a.defaultProps={type:"user",size:32},t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(861);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(771),a=n(737),l=n(718),c=n.n(l);n(862);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{titleWidth:null,offline:!1,online:!1}),d(this,"fixTitleWidth",()=>{this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})}),d(this,"restoreTitleWidth",()=>{const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})}),d(this,"setOffline",()=>{this.setState({offline:!0})}),d(this,"setOnline",()=>{this.setState({offline:!1,online:!0}),document.hidden?document.addEventListener("visibilitychange",this.unsetOnline,{once:!0}):this.unsetOnline()}),d(this,"unsetOnline",()=>{this.onlineTimeout=setTimeout(()=>{this.setState({online:!1})},1e4)})}get titleExtra(){const{offline:e,online:t}=this.state;return e?"Looks like there is a problem with the connection.":t?"Keep working! Connection is back…":"Loading layers…"}componentDidMount(){window.addEventListener("offline",this.setOffline),window.addEventListener("online",this.setOnline)}componentWillUnmount(){clearTimeout(this.onlineTimeout),window.removeEventListener("offline",this.setOffline),window.removeEventListener("online",this.setOnline),document.removeEventListener("visibilitychange",this.unsetOnline)}render(){const{loading:e,title:t,previousScreenURL:n,nextScreenURL:o}=this.props,{titleWidth:s,offline:l,online:d}=this.state,u=c()("screenNavigator",{loading:e,offline:l,online:d}),p=null===s?{}:{width:s};return i.h("div",{class:u,ref:Object(a.default)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.h("a",{href:n,title:"← Previous screen",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(r.IconArrowLeft,null)),i.h("div",{class:"screenTitle"},i.h("h2",{class:"ellipsis",ref:Object(a.default)(this,"title"),style:p,title:t},t),i.h("div",{class:"titleExtra"},this.titleExtra)),i.h("a",{href:o,title:"Next screen →",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(r.IconArrowRight,null)))}}u.propTypes={loading:s.a.bool,title:s.a.string,previousScreenURL:s.a.string,nextScreenURL:s.a.string},u.defaultProps={loading:!1,title:""},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(864);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(540),s=n(556),r=n(543),a=n(865);function l({barrelId:e,selectedTab:t}){if(!e)return null;const n=Object(o.getOS)()===o.OS.MAC?"⌥":"Alt+",l=Object(s.urlResolve)("project-dashboard",{url:{pid:e}}),c=Object(s.urlResolve)("project-styleguide",{url:{bid:e}});return i.h(a.default,null,i.h(a.default.Tab,{label:"Dashboard",shortcut:n+"A",selected:t===r.ProjectViewTypes.DASHBOARD,href:l}),i.h(a.default.Tab,{label:"Styleguide",shortcut:n+"S",selected:t===r.ProjectViewTypes.STYLEGUIDE,href:c}))}},function(e,t,n){"use strict";n.r(t);var i=n(866);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(867);function r({children:e}){return i.h("div",{class:"headerTabView"},e)}r.Tab=function({label:e,shortcut:t,href:n,selected:o}){const r=s()("tab","noSelect",{selected:o});return i.h("a",{href:n,class:r,"data-link-type":"inApp"},i.h("span",{class:"label"},e),i.h("span",{class:"shortcut"},t))},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(869);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(582),s=n.n(o),r=n(870),a=n(871),l=n(845),c=n.n(l);n(911);function d(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:o},progress:{update:s,isGettingProject:r,isGettingProjectFailed:a,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:p}}=e,{_id:h,name:f,type:g}=n;return{id:t,versionCollectionId:h,versionCollectionName:f,versionCollectionType:g,barrelId:i,barrelType:o,update:s,gettingProject:r,gettingProjectFailed:a,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:p}}class u extends i.Component{static getStores(){return[s.a.VersionImportsStore]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:o,multipleColorsSupportedHintBoxVisible:r,exportToStyleguideHintBoxVisible:a}=s.a.VersionImportsStore.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const l=t.reduce((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:o,anyVersionImportFailed:s}=e,r=Math.floor((o*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),a=s||!!t.progress.isApiOperationFailed,l=i.find(e=>e._id===t.barrel._id);let c=i;return l?l.versionImports.push(d(t)):c.unshift({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[d(t)]}),{importsByBarrel:c,versionImportsProgress:r,anyVersionImportFailed:a}},{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:c,versionImportsProgress:u,anyVersionImportFailed:p}=l;return{suggestedResourcesByBarrel:o,indicatorVisible:n,versionImportsProgress:u,anyVersionImportFailed:p,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:c,multipleColorsSupportedHintBoxVisible:r,exportToStyleguideHintBoxVisible:a}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,importsSource:s,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,multipleColorsSupportedHintBoxVisible:u,exportToStyleguideHintBoxVisible:p}=this.state;return e?i.h(a.default,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListOpen:r.default.showImportsList,onListClose:r.default.hideImportsList,importsSource:s,componentRejections:l,suggestedResourcesByBarrel:c,multipleColorsSupportedHintBoxVisible:u,exportToStyleguideHintBoxVisible:p,importsByBarrel:d,onImportClick:r.default.goToImportedVersion,onRetryImport:r.default.retryImport,onCancelImport:r.default.cancelImport,onRetryGetProject:r.default.retryGetProjectForImports,onClearImports:r.default.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:r.default.hideComponentLimitHint,onComponentLimitActionClick:r.default.seePlans}):null}}t.default=c()(u)},function(e,t,n){"use strict";n.r(t);var i=n(661),o=n(582),s=n.n(o);const r={hideImportsIndicator(){s.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_INDICATOR})},showImportsList(){s.a.dispatcher.dispatch({type:i.default.SHOW_IMPORTS_LIST})},hideImportsList(){s.a.dispatcher.dispatch({type:i.default.HIDE_IMPORTS_LIST})},handleImports(e){s.a.dispatcher.dispatch({type:i.default.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){s.a.dispatcher.dispatch({type:i.default.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(){s.a.dispatcher.dispatch({type:i.default.GO_TO_IMPORTED_VERSION})},retryImport(e){s.a.dispatcher.dispatch({type:i.default.RETRY_IMPORT,id:e})},cancelImport(e){s.a.dispatcher.dispatch({type:i.default.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){s.a.dispatcher.dispatch({type:i.default.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){s.a.dispatcher.dispatch({type:i.default.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){s.a.dispatcher.dispatch({type:i.default.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){s.a.dispatcher.dispatch({type:i.default.SEE_PLANS})},hideMultipleColorsSupportedHintBox(){s.a.dispatcher.dispatch({type:i.default.HIDE_MULTIPLE_COLORS_SUPPORTED_HINT_BOX})},hideExportToStyleguideHintBox(){s.a.dispatcher.dispatch({type:i.default.HIDE_EXPORT_TO_STYLEGUIDE_HINT_BOX})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(872);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(873),a=n(876),l=n(879),c=n(558),d=n(880),u=n(723),p=n(899),h=n(904),f=n(907),g=n(870);n(910);class m extends i.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}handleExportToStyleguideHintBoxClick(){g.default.hideExportToStyleguideHintBox(),Object(c.openLink)("https://zpl.io/exporting-to-a-styleguide")}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:o,onRetryGetProject:s}=this.props,{id:r,versionCollectionId:a,versionCollectionName:l,versionCollectionType:c,barrelId:u,barrelType:p,update:h,gettingProject:f,gettingProjectFailed:g,countOfUploadedImages:m,countOfImagesToUpload:b,apiOperationCompleted:S,apiOperationFailed:y,apiOperationFailedError:v}=e;return f&&!g?i.h(d.GettingProject,null):f&&g?i.h(d.GettingProjectFailed,{id:r,onRetry:s}):b===m&&S&&!y?i.h(d.Done,{key:r,id:r,update:h,barrelId:u,barrelType:p,versionCollectionId:a,versionCollectionName:l,versionCollectionType:c,onClick:t}):S&&y?i.h(d.Failed,{key:r,id:r,update:h,versionCollectionName:l,errorMessage:v?v.message:null,onRetry:n}):S?void 0:i.h(d.InProgress,{key:r,id:r,update:h,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:m,onCancel:o})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:o,onComponentLimitActionClick:s}=this.props;if(!t[e])return null;const{owner:r,ownerPlan:a,rejected:l,total:c}=t[e];return i.h(p.default,{key:"componentLimitHintBox",onHideClick:o,onActionClick:s,owner:r,currentUser:n,ownerPlan:a,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.h("div",{key:e._id},i.h("div",{class:"barrelInformation"},i.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:o}=this.props,{colors:s=[],textStyles:r=[]}=n[e]||{};return i.h(h.default,{onClick:o,colors:s,textStyles:r,barrelType:t,barrelId:e})}renderMultipleColorsSupportedHintBox(e,t){const{multipleColorsSupportedHintBoxVisible:n,exportToStyleguideHintBoxVisible:o}=this.props;if(o){const n="Zeplin now supports multiple colors with same values, you can re-export your colors to your styleguide to start using them.";return i.h(f.default,{barrelType:t,barrelId:e,content:n,onClick:this.handleExportToStyleguideHintBoxClick})}if(n){const n="Zeplin now supports multiple colors with same values, we updated the colors in the styleguide.";return i.h(f.default,{barrelType:t,barrelId:e,content:n,onClick:g.default.hideMultipleColorsSupportedHintBox})}return null}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,o=1===t.length?t[0].name:"Zeplin";return i.h("div",{class:"versionImports"},i.h("div",{class:"body"},i.h("div",{class:"title"},i.h("div",null,e),i.h(l.default,{asset:"img/icHand.png"}),i.h("div",{class:"ellipsis"},o)),1===t.length&&this.renderComponentRejection(t[0]._id),1===t.length&&this.renderSuggestedResources(t[0]._id,t[0].barrelType),1===t.length&&this.renderMultipleColorsSupportedHintBox(t[0]._id,t[0].barrelType),1===t.length?i.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport)):t.map(this.renderBarrelGroup)),i.h(u.default,{onClick:n},i.h("div",null),i.h("div",null),i.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:o,onListClose:s,onListOpen:l}=this.props;return i.h(r.default,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:o,onClose:s,onOpen:l,left:2,top:2},i.h(a.default,{warning:n,progress:t}))}}m.propTypes={versionImportsProgress:s.a.number.isRequired,anyVersionImportFailed:s.a.bool.isRequired,listOpen:s.a.bool.isRequired,onListOpen:s.a.func.isRequired,onListClose:s.a.func.isRequired,importsSource:s.a.string.isRequired,importsByBarrel:s.a.arrayOf(s.a.shape({_id:s.a.string.isRequired,name:s.a.string.isRequired,type:s.a.string.isRequired,versionImports:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired,versionCollectionId:s.a.string,versionCollectionName:s.a.string.isRequired,barrelId:s.a.string.isRequired,barrelType:s.a.oneOf(["project","styleguide"]),update:s.a.bool.isRequired,countOfImagesToUpload:s.a.number.isRequired,countOfUploadedImages:s.a.number.isRequired,apiOperationCompleted:s.a.bool.isRequired,apiOperationFailed:s.a.bool.isRequired,apiOperationFailedError:s.a.shape({message:s.a.string.isRequired})}))})),onImportClick:s.a.func.isRequired,onRetryImport:s.a.func.isRequired,onCancelImport:s.a.func.isRequired,onRetryGetProject:s.a.func.isRequired,onClearImports:s.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(874);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(735),a=n(718),l=n.n(a),c=n(737),d=n(559);n(875);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"positionPopover",()=>{const{open:e,offsetX:t,topOffset:n,bottomOffset:i,targetNode:o,left:s,top:r,faceLeft:a,faceTop:l,centerX:c,centerY:d,anchorTop:u,stickToEdge:p,showAnchor:h,openToLeft:f,originParent:g}=this.props,m=o||this.nodeRefs.container,b=this.nodeRefs.popover,S=this.nodeRefs.anchor,y=g===window?g.innerWidth:g.clientWidth,v=g===window?g.innerHeight:g.clientHeight;if(!e||!b||!m)return;const C=m.getBoundingClientRect(),O=b.getBoundingClientRect(),E=s,T=r;let _=a?C.left:C.right;_+=c?(C.width-O.width)/2:E;let P=l||h?C.top:C.bottom;P+=d?(C.height-O.height)/2:T;let D=!1;const I=C.right-O.width-C.width-s;if((f&&I>t||_+O.width+t>y)&&(_=I,D=!0),p&&P+n<0?P=n||64:P+O.height+n>v&&(P=p?v-O.height-i:Math.max(P-O.height,0)),n&&P<n&&(P=n),b.style.transform=`translate3d(${_}px, ${P}px, 0)`,h){const e=C.top-P+(C.height-S.offsetHeight)/2+u;S.style.top=Math.min(Math.max(e,28),O.height-28)+"px",S.classList.toggle("faceLeft",D)}}),u(this,"registerListeners",()=>{window.addEventListener("resize",this.handleResize),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown)}),u(this,"removeListeners",()=>{window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown)}),u(this,"handleToggle",e=>{const{open:t,onOpen:n,onClose:i}=this.props;e.stopPropagation(),t&&i?i():!t&&n&&n()}),u(this,"handleClose",()=>{const{onClose:e}=this.props;e&&e()}),u(this,"handleDocumentClick",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{container:t,popover:n}=this.nodeRefs;if(t.contains(e.target))return;n&&n.contains(e.target)||this.handleClose()}),u(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleClose()}),u(this,"handleResize",()=>{requestAnimationFrame(this.positionPopover)}),u(this,"handleMouseEnter",e=>{const{onMouseEnter:t}=this.props;t&&t(e)}),u(this,"handleMouseLeave",e=>{const{onMouseLeave:t}=this.props;t&&t(e)})}componentDidMount(){const{targetNode:e,open:t}=this.props;e&&t&&this.registerListeners()}componentDidUpdate(e){!e.open&&this.props.open?this.registerListeners():e.open&&!this.props.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}renderAnchor(){const{faceLeft:e}=this.props,t=l()("popoverAnchor",{faceLeft:e});return i.h("div",{ref:Object(c.default)(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n,overlay:o}=this.props,s=l()("popoverContent",n),r="function"==typeof e?e():e,a=i.h("div",{class:s,ref:Object(c.default)(this,"popover"),onClick:d.stopPropagation,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},t&&this.renderAnchor(),i.toChildArray(r));return o?i.h("div",{class:"popoverContentOverlay"},a):a}render(){const{open:e,children:t,portalInto:n,class:o}=this.props,s=l()(o,"popoverContainer");return i.h("div",{ref:Object(c.default)(this,"container"),class:s,onClick:this.handleToggle,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(i.Fragment,null,t,e&&i.h(r.default,{didRender:this.positionPopover,into:n},this.renderPopoverContent())))}}p.defaultProps={offsetX:0,topOffset:0,bottomOffset:12,left:0,top:0,anchorTop:0,originParent:window},p.propTypes={open:s.a.bool.isRequired,children:s.a.node,onClose:s.a.func,onOpen:s.a.func,portalInto:s.a.object,contentClass:s.a.string,class:s.a.string,offsetX:s.a.number,topOffset:s.a.number,bottomOffset:s.a.number,targetNode:s.a.oneOfType([s.a.node,s.a.object]),left:s.a.number,top:s.a.number,faceLeft:s.a.bool,faceTop:s.a.bool,centerX:s.a.bool,anchorTop:s.a.number,openToLeft:s.a.bool,originParent:s.a.object,onMouseEnter:s.a.func,onMouseLeave:s.a.func},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(877);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(723),a=n(563);n(878);const l=30*Math.PI;function c(e){const{progress:t=0,warning:n=!1}=e,o=`${l*t/100} ${l*(100-t)/100}`;return i.h(r.default,{class:"versionImportsIndicator"},i.h("svg",{width:"32",height:"32",version:"1.1"},i.h("circle",{cx:"16",cy:"16",r:15}),i.h("circle",{cx:"16",cy:"16",r:15,"stroke-dasharray":o})),100===t&&i.h("img",{src:Object(a.imageUrl)("img/icImportsDone.svg")}),n&&i.h("div",{class:"warning"}))}c.defaultProps={progress:0,warning:!1},c.propTypes={progress:s.a.number,warning:s.a.bool},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(563);function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.default=function(e){const{asset:t,descriptors:n}=e,r=s(e,["asset","descriptors"]),a=Object(o.imageUrl)(t);return i.h("img",Object.assign({src:a,srcset:Object(o.srcset)(a,n)},r))}},function(e,t,n){"use strict";n.r(t);var i=n(881);n.d(t,"GettingProject",(function(){return i.default}));var o=n(884);n.d(t,"GettingProjectFailed",(function(){return o.default}));var s=n(888);n.d(t,"Done",(function(){return s.default}));var r=n(894);n.d(t,"InProgress",(function(){return r.default}));var a=n(896);n.d(t,"Failed",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t);var i=n(882);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(883);function o(){return i.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(885);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(723),l=n(563);n(887);class c extends r.default{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.h(a.default,{onClick:this.handleRetryClick},i.h("img",{src:Object(l.imageUrl)("img/icImportProgressFetchProjectRetry.svg")})))}}c.propTypes={id:s.a.string.isRequired,onRetry:s.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(846);class s extends i.Component{shouldComponentUpdate(e,t){return Object(o.default)(this.props,e)||Object(o.default)(this.state,t)}}s.isPureReactComponent=!0,t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(889);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(879),a=n(890),l=n(718),c=n.n(l),d=n(886),u=n(556),p=n(574),h=n.n(p);n(893);const f={};function g(e){switch(e){case"type1":return[i.h("div",null,"Done!"),i.h(r.default,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.h("span",{class:"wow"},"wow."),i.h("span",{class:"suchDesigns"},"such designs."),i.h("span",{class:"amaze"},"amaze."),i.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}class m extends d.default{get versionCollectionLink(){const{barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:i}=this.props;if("screen"===i)return Object(u.urlResolve)("project-screen",{url:{pid:e,sid:n}});const o={url:{bid:e},query:{coid:n}},s=t===h.a.PROJECT?"project-styleguide-components":"styleguide-components";return Object(u.urlResolve)(s,o)}render(){const{id:e,update:t,versionCollectionName:n,onClick:o}=this.props;f[e]||(f[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const s=f[e];return i.h(a.default,{class:c()("done",s),update:t,success:!0,versionCollectionName:n,progress:100,detail:g(s),buttonIcon:"img/icImportDone.svg",link:this.versionCollectionLink,onClick:o})}}m.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,versionCollectionId:s.a.string.isRequired,versionCollectionName:s.a.string.isRequired,barrelId:s.a.string.isRequired,barrelType:s.a.oneOf(["project","styleguide"]),onClick:s.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(891);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(4),o=n(723),s=n(718),r=n.n(s),a=n(563);n(892);function l(e){const{class:t,update:n,success:s,versionCollectionName:l,progress:c,detail:d,detailTitle:u,buttonIcon:p,onButtonClick:h,onClick:f,link:g}=e;let m=n?"Replacing":"Importing";m=s?m.replace("ing","ed"):m;const b=[i.h("div",{class:"information",key:"information"},i.h("div",{class:"title ellipsis"},m," “",l,"”"),i.h("div",{class:"progress"},c?i.h("div",{style:{width:c+"%"}}):null),i.h("div",{class:"detail ellipsis",title:u||""},d)),g?i.h("img",{key:"img",src:Object(a.imageUrl)(p)}):i.h(o.default,{key:"button",onClick:h},i.h("img",{src:Object(a.imageUrl)(p)}))];return g?i.h("a",{class:r()("versionImport",t),href:g,"data-link-type":"inApp",onClick:f},b):i.h("div",{class:r()("versionImport",t),onClick:f},b)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(895);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(890),a=n(886);class l extends a.default{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.h("div",{class:"progress"},i.h("div",{style:{width:this.calculateProgress()+"%"}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.h(r.default,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,versionCollectionName:s.a.string.isRequired,countOfUploadedImages:s.a.number.isRequired,countOfImagesToUpload:s.a.number.isRequired,onCancel:s.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(897);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(890),a=n(886);n(898);class l extends a.default{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.h(r.default,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}l.propTypes={id:s.a.string.isRequired,update:s.a.bool.isRequired,versionCollectionName:s.a.string.isRequired,errorMessage:s.a.string,onRetry:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(900);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o);n(903);const r=new Date(2016,11,1);class a extends i.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:o,currentUser:a,onActionClick:l}=this.props,c=e._id===a._id;let d,u,p;return"Company"===t.name?(d=`${c?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-r)/2592e6)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,u=c?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",p="Upgrade"):c?(p="See plans",d=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,u="Upgrade to access more space!"):(p="See plans",d=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,u="Ping them to upgrade and access more space!"),i.h(s.a,{class:"componentLimitHintBox",actionContent:p,onHideClick:this.handleHideClick,onActionClick:l},"Out of ",o," components you exported, ",n," not added to the project.",i.h("br",null),i.h("br",null),d,i.h("br",null),i.h("br",null),u)}}t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(723)),r=n(771),a=i(n(718));function l({class:e,children:t,type:n,emoji:i,actionContent:l,onHideClick:c,onActionClick:d,hideButtonText:u,hideEmoji:p}){const h=[],f="warning"===n?"⚠️":"💁‍♀️";return l&&h.push(o.h(s.default,{class:"hintAction",onClick:d},l)),c&&h.push(o.h(s.default,{class:"hideHintButton",onClick:c},o.h(r.IconDelete,{transparent:!0}),u)),o.h("div",{class:a.default("hintBox",e,n)},!p&&o.h("span",{class:"emoji"},i||f),o.h("div",{class:"hintContent"},t,h.length>0&&o.h("div",{class:"hintFooter"},h)))}n(902),l.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(905);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o),r=n(560),a=n(556),l=n(574),c=n.n(l);n(906);const d={[c.a.PROJECT]:"project-styleguide",[c.a.STYLEGUIDE]:"styleguide"};t.default=function(e){const{colors:t,textStyles:n,barrelId:o,barrelType:l,onClick:c}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(r.pluralize)(t.length,"color")} and ${Object(r.pluralize)(n.length,"text style")}`),t.length&&!n.length&&(u="Found "+Object(r.pluralize)(t.length,"color")),!t.length&&n.length&&(u="Found "+Object(r.pluralize)(n.length,"text style"));let p=Object(a.urlResolve)(d[l]+"-colors",{url:{bid:o}});return t.length||(p=Object(a.urlResolve)(d[l]+"-textstyles",{url:{bid:o}})),i.h("a",{href:p,class:"suggestedResourcesHintBox",onClick:c,"data-link-type":"inApp"},i.h(s.a,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(908),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(901)),r=i(n(574)),a=n(556);n(909);const l={[r.default.PROJECT]:"project-styleguide",[r.default.STYLEGUIDE]:"styleguide"};t.default=function({barrelId:e,barrelType:t,content:n,onClick:i}){const r=a.urlResolve(l[t]+"-colors",{url:{bid:e}});return o.h("a",{href:r,class:"multipleColorsSupportedHintBox",onClick:i,"data-link-type":"inApp"},o.h(s.default,null,n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(913);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(914),s=n.n(o),r=n(932),a=n(942),l=n(845),c=n.n(l),d=n(855),u=n.n(d),p=n(873),h=n(559),f=n(718),g=n.n(f),m=n(737),b=n(558),S=n(946),y=n(582),v=n.n(y),C=n(672),O=n(947);n(1026);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class P extends i.Component{constructor(e){super(e),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this)}handleUserMenuSelect(){this.props.onSelectedViewChange(C.USER_MENU)}handleEmotarsSelect(){this.props.onSelectedViewChange(C.EMOTARS)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}renderEmotarsSection(){const{avatar:e,selectedEmotar:t}=this.props;return i.h("section",{class:"emotarsSection",ref:Object(m.default)(this,C.EMOTARS)},i.h(r.default,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{currentAvatar:e,username:t,fullName:n,email:o,organizations:r,verified:a,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onUpdatePlanClick:h,onLogout:f}=this.props;return i.h("section",{class:"userMenuSection",ref:Object(m.default)(this,C.USER_MENU)},i.h(s.a,{avatarUrl:e,username:t,fullName:n,email:o,organizations:r,verified:a,paymentPlanName:l.name,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:h,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onLogoutClick:f,onAvatarClick:this.handleEmotarsSelect}))}render(){const{selectedView:e}=this.props,t=g()("userMenuContainer",e);return i.h("div",{ref:Object(m.default)(this,"container"),class:t},this.renderUserMenuSection(),this.renderEmotarsSection())}}class D extends i.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(){const{organizations:e,loadingProfiles:t,organizationProfiles:n}=v.a.OrganizationStore.getState(),i=t?[]:e.filter(({_id:e})=>n[e]&&!n[e].restricted).sort(h.sortBy.name),o=v.a.UserStore.getState(),{userId:s,email:r,avatar:a,emotar:l}=o,c=_(o,["userId","email","avatar","emotar"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({organizations:i,userId:s,email:r,emotar:l,avatar:a,currentAvatar:Object(b.getUserAvatar)({email:r,emotar:l,avatar:a,_id:s}).src},c)}static getStores(){return[v.a.UserStore,v.a.OrganizationStore]}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;S.default.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{S.default.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?S.default.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{Object(O.showPlanChooserOverlay)({source:"Profile"})})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),S.default.setSelectedView(C.USER_MENU)}render(){const{username:e,fullName:t,email:n,avatar:o,emotar:s,currentAvatar:r,verified:l,paymentPlan:c,organizations:d,isEmailNotificationEnabled:h,isDesktopNotificationEnabled:f,isDialogVisible:g,selectedView:m,showUserMenu:b}=this.state,y=i.h("div",null,i.h(P,{username:e,fullName:t,email:n,avatar:o,currentAvatar:r,verified:l,paymentPlan:c,selectedEmotar:s,organizations:d,selectedView:m,isDesktopNotificationEnabled:f,isEmailNotificationEnabled:h,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:S.default.setSelectedView,onEmotarChange:S.default.updateUserEmotar,onLogout:S.default.logout}),g&&i.h(a.BasicOverlayDialog,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0}));return i.h(p.default,{open:b,content:y,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.h("button",{class:"currentUser noSelect",title:e},i.h(u.a,{src:r,size:28})))}}t.default=c()(D,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(915);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(916)),r=i(n(922)),a=i(n(925)),l=i(n(723)),c=i(n(928)),d=n(556);n(931),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,email:u,verified:p,paymentPlanName:h,organizations:f,isDesktopNotificationEnabled:g,isEmailNotificationEnabled:m,onUpdatePlanClick:b,onDesktopNotificationToggle:S,onEmailNotificationToggle:y,onAvatarClick:v,onLogoutClick:C}=e;return o.h("div",{class:"userMenu"},o.h(s.default,{profileLink:"/profile",avatarUrl:t,username:n,fullName:i,info:u,verified:p,onAvatarClick:v}),f.length>0&&o.h(o.Fragment,null,o.h("div",{class:"menuSeparator"}),f.map(e=>{const t=d.urlResolve("workspace-members",{url:{oid:e._id}});return o.h(r.default,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationStatus:e.status,organizationLink:t})})),o.h("div",{class:"menuSeparator"}),0===f.length&&o.h(a.default,{menuLabel:h,iconUrl:"img/icPlan.svg",actionContent:o.h(l.default,{class:"updatePlanButton"},"Update Plan"),onClick:b}),o.h(a.default,{menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:o.h(c.default,{checked:g}),onClick:S}),o.h(a.default,{menuLabel:"Email Notifications",actionContent:o.h(c.default,{checked:m}),onClick:y}),o.h("div",{class:"menuSeparator"}),o.h(a.default,{menuLabel:"Log out",onClick:C}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(917);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(918));n(921),t.default=function(e){const{avatarUrl:t,username:n,fullName:i,info:r,profileLink:a,verified:l,onAvatarClick:c}=e,d=i||n;return o.h("a",{class:"menuUserItem",href:a},o.h(s.default,{onClick:function(e){e.preventDefault(),c()},src:t,size:64}),o.h("div",{class:"infoContainer"},o.h("span",{class:"username ellipsis",title:d},d),o.h("span",{class:"info ellipsis"},r),!l&&o.h("span",{class:"status"},"Not verified yet.")))}},function(e,t,n){"use strict";n.r(t);var i=n(919);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(855),s=n.n(o);n(920);t.default=function(e){const t=Object.assign({},e);return delete t.onClick,i.h("div",{class:"updatableAvatar",onClick:e.onClick},i.h(s.a,t))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(923);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(855));n(924),t.default=function({organizationName:e,organizationLink:t,organizationStatus:n,avatarUrl:i}){return o.h("a",{class:"menuOrganizationItem",href:t},o.h(s.default,{src:i,type:"organization",size:64,bgSize:36}),o.h("div",{class:"infoContainer"},o.h("span",{class:"organizationName ellipsis",title:e},e),o.h("span",{class:"info"},"Workspace"),"frozen"===n&&o.h("span",{class:"status"},"Workspace suspended")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(926);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(563);n(927),t.default=function({menuLabel:e,iconUrl:t,actionContent:n,onClick:s}){return i.h("div",{onClick:s,class:"menuItem noSelect"},i.h("div",{class:"menuIcon"},t&&i.h("img",{src:o.imageUrl(t)})),i.h("span",{class:"menuLabel ellipsis"},e),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(929);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(930);class r extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.h("div",{onClick:this.handleChange,class:s()("switch",{switchOn:e})},i.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.h("div",{class:"switchKnob"}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(933);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(934),a=n(918),l=n(723),c=n(771),d=n(563),u=n(556);n(941);function p(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:o,selectedEmotar:s}=e;let p=null;return s?p=Object(d.emotarUrl)(s):o&&(p=o),i.h("div",{class:"emotars"},i.h("h2",null,i.h(l.default,{class:"backButton",onClick:n},i.h(c.IconArrowLeft,{color:"var(--gandalf)"})," ",i.h("span",null,"Back")),i.h("span",null,"How is your mood today?")),i.h("div",{class:"avatarContainer"},i.h("a",{href:Object(u.urlResolve)("profile")},i.h(a.default,{src:p,size:64}))),i.h(r.default,{onEmotarClick:t,avatarUrl:o,selectedEmotar:s}))}p.propTypes={onEmotarClick:s.a.func.isRequired,onBackButtonClick:s.a.func.isRequired,avatarUrl:s.a.string,selectedEmotar:s.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(935);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(936),a=n(855),l=n.n(a),c=n(939),d=n(718),u=n.n(d);n(940);class p extends i.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*c.default.length);e(c.default[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,o=u()("emotar",{selected:!!t&&!n});return i.h("div",{class:"emotarList"},t?i.h("div",{onClick:this.handleSmallAvatarClick,class:o},i.h(l.a,{src:t,size:36})):i.h(r.default,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),c.default.map(t=>i.h(r.default,{key:t,onClick:e,emotar:t,selected:t===n})))}}p.propTypes={onEmotarClick:s.a.func.isRequired,selectedEmotar:s.a.bool,avatarUrl:s.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(937);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(855),a=n.n(r),l=n(718),c=n.n(l),d=n(563);n(938);class u extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=c()("emotar","noSelect",{selected:t}),o=Object(d.emotarUrl)(e);return i.h("div",{onClick:this.handleClick,class:n},i.h(a.a,{src:o,size:36}))}}u.propTypes={onClick:s.a.func.isRequired,emotar:s.a.string.isRequired,selected:s.a.bool},t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t),t.default=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(729);n.d(t,"BasicOverlayDialog",(function(){return i.default}));var o=n(943);n.d(t,"DismissibleOverlayDialog",(function(){return o.default}));var s=n(731);n.d(t,"default",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(944);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(731),c=(n(945),n(719)),d=n.n(c);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{dismissChecked:!1}),u(this,"handleDismissCheckChange",e=>{this.setState({dismissChecked:e.target.checked})}),u(this,"handlePositiveButtonClick",()=>{const{dismissPrefKey:e,onPositiveButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),u(this,"handleNegativeButtonClick",()=>{const{dismissPrefKey:e,onNegativeButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),u(this,"handleFallbackButtonClick",()=>{const{dismissPrefKey:e,onFallbackButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),u(this,"handleClose",()=>{const{dismissPrefKey:e,onClose:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})}componentDidMount(){const{dismissChecked:e}=this.props;this.setState({dismissChecked:e})}componentDidUpdate(e){e.dismissChecked!==this.props.dismissChecked&&this.setState({dismissChecked:this.props.dismissChecked})}render(){const{title:e,message:t,positiveButtonText:n,negativeButtonText:o,fallbackButtonText:s,dismissText:r,hideNegativeButton:c,width:u,loading:p,class:h}=this.props,{dismissChecked:f}=this.state,g=Array.isArray(t)?t:[t];return i.h(l.default,{class:a()("dismissibleDialog",h,{onlyMessage:!e}),positiveButtonText:n,negativeButtonText:o,fallbackButtonText:s,onPositiveButtonClick:this.handlePositiveButtonClick,onNegativeButtonClick:this.handleNegativeButtonClick,onFallbackButtonClick:this.handleFallbackButtonClick,hideNegativeButton:c,width:u,loading:p,onClose:this.handleClose},i.h("div",{class:"dialogBody"},e&&i.h("h1",{class:"title"},e),i.h("div",{class:"message"},g.map((e,t)=>i.h("p",{key:t},e))),i.h("label",{class:"dismissText"},i.h(d.a,{onChange:this.handleDismissCheckChange,checked:f}),i.h("span",null,r))))}}p.displayName="DismissibleOverlayDialog",p.defaultProps={dismissText:"Do not show this message again",dismissChecked:!1,width:400},p.propTypes={title:s.a.string,message:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),dismissPrefKey:s.a.string.isRequired,dismissText:s.a.string,dismissChecked:s.a.bool,positiveButtonText:s.a.string,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hideNegativeButton:s.a.bool,onClose:s.a.func,width:s.a.number,loading:s.a.bool},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(588),o=n.n(i),s=n(582),r=n.n(s),a=n(575),l=n(559),c=n(571);const d=Object(l.debouncePromise)(c.updateEmailNotifications);function u(e,t){r.a.dispatcher.dispatch({type:o.a.SET_USER_ATTRIBUTE,name:e,value:t})}const p={loadUser(e){r.a.dispatcher.dispatch({type:o.a.LOAD_USER,user:e})},updateUser(e){r.a.dispatcher.dispatch({type:o.a.UPDATE_USER,user:e})},setUsername(e){u("username",e)},setEmail(e){u("email",e)},setFullName(e){u("fullName",e)},setBio(e){u("bio",e)},setEmotar(e){u("emotar",e)},setAvatar(e){u("avatar",e)},setEmailNotifications(e){u("isEmailNotificationEnabled",e)},setVerified(){u("verified",!0)},setDesktopNotifications(e){u("isDesktopNotificationEnabled",e)},setBilling(e){u("billing",e)},setSelectedView(e){r.a.dispatcher.dispatch({type:o.a.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){const t=Zeplin.user.emailNotifications;p.setEmailNotifications(e),d(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{p.setEmailNotifications(t),a.handleError(e)})},muteProjectNotifications({pid:e,syncWithApi:t=!1}){r.a.dispatcher.dispatch({type:o.a.MUTE_PROJECT_NOTIFICATIONS,pid:e,syncWithApi:t})},muteStyleguideNotifications({stid:e,syncWithApi:t=!1}){r.a.dispatcher.dispatch({type:o.a.MUTE_STYLEGUIDE_NOTIFICATIONS,stid:e,syncWithApi:t})},unmuteProjectNotifications({pid:e,syncWithApi:t=!1}){r.a.dispatcher.dispatch({type:o.a.UNMUTE_PROJECT_NOTIFICATIONS,pid:e,syncWithApi:t})},unmuteStyleguideNotifications({stid:e,syncWithApi:t=!1}){r.a.dispatcher.dispatch({type:o.a.UNMUTE_STYLEGUIDE_NOTIFICATIONS,stid:e,syncWithApi:t})},updateUserEmotar(e){const t=Zeplin.user.emotar;p.setEmotar(e),Object(c.updateUserEmotar)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.master.track("Updated emotar",{Emoji:e})}).catch(e=>{p.setEmotar(t),a.handleError(e)})},markZeplinThreeZeroWhatsNewAsSeen(){r.a.dispatcher.dispatch({type:o.a.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN})},stopPromotingSpacingSectionDescriptionEditButton(){r.a.dispatcher.dispatch({type:o.a.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON})},hideStyleguideTutorial(){r.a.dispatcher.dispatch({type:o.a.HIDE_STYLEGUIDE_TUTORIAL})},stopPromotingExportDesignTokens(){r.a.dispatcher.dispatch({type:o.a.STOP_PROMOTING_EXPORT_DESIGN_TOKENS})},acquaintancesRequested(){r.a.dispatcher.dispatch({type:o.a.ACQUAINTANCES_REQUESTED})},setAcquaintances(e){r.a.dispatcher.dispatch({type:o.a.SET_ACQUAINTANCES,acquaintances:e})},getAcquaintancesFailed(e){r.a.dispatcher.dispatch({type:o.a.GET_ACQUAINTANCES_FAILED,error:e})},logout(){Object(c.logoutUser)().finally(Zeplin.logout)}};t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"showPlanChooserOverlay",(function(){return S}));var i=n(575),o=n(571),s=n(556),r=n(712),a=n(948),l=n(1009),c=n(1010),d=n(559),u=n(1011),p=n.n(u),h=n(709);const f=document.createElement("div");f.id="paymentDialogsContainer",document.body.appendChild(f);const g=new r.default(a.default,f),m=new r.default(p.a,f);let b;function S({source:e,upgradeTrigger:t,cb:n,oid:i,displayFullMode:o=!1}={}){l.default.setOverridingCategory(c.default.PRICING),b=n,m.render({oid:i,upgradeTrigger:t,displayFullMode:o,cancelEnabled:o,onCancelPlan:E,onUpdateSubscription:v,onCreateWorkspace:y,onClose:C}),mixpanel.master.track("Viewed pricing modal",{Source:e}),Object(h.sendGAPageView)({source:"/pricing-popup"})}function y(e){location.assign(Object(s.urlResolve)("workspace-create",{query:{period:e.period,plan:e.group}}))}function v(e,t){setTimeout(()=>C({action:"updatePlan",plan:t}),3e3)}function C(e={}){m.remove(),l.default.setOverridingCategory(null),b&&(b(e),b=null)}function O(e){(function(e){return e?o.getOrganizationUpcomingInvoice(e):o.getUserUpcomingInvoice()})(e).then(({invoice:t})=>{C({action:"cancelPlan"});const n=Object(d.formatTime)(1e3*t.period_end,{year:"numeric",month:"long",day:"numeric"});g.render({oid:e,periodEndDate:n,onClose(){g.remove()},onBackClick(){g.remove(),S({oid:e,displayFullMode:!0})}})}).catch(e=>{i.handleError(e)})}function E(e){O(e)}},function(e,t,n){"use strict";n.r(t);var i=n(949);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(575),s=n(571),r=n(556),a=n(950),l=n(953),c=n(1003),d=n(1006),u=n(942);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){location.replace(Object(r.urlResolve)("profile-account"))}function f(){Intercom("showNewMessage")}class g extends i.Component{constructor(...e){super(...e),p(this,"state",{loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelPlanDialogShown:!1}),p(this,"hideTransferPlanWarningDialog",()=>{this.setState({transferPlanWarningDialogShown:!1})}),p(this,"hideTransferOrgOwnershipDialog",()=>{this.setState({transferOrgOwnershipDialogShown:!1})}),p(this,"hideCancelPlanDialog",()=>{this.setState({cancelPlanDialogShown:!1})}),p(this,"hideSubscriptionCancelledDialog",()=>{this.setState({subscriptionCancelledDialogShown:!1})}),p(this,"performTransferUserPlan",()=>{const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(s.transferUserSubscription)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(r.urlResolve)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelUserPlan",()=>{const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(s.cancelUserSubscription)({reason:e,description:t}).then(()=>{Zeplin.updateUser({subscriptionStatus:"will_cancel_at_period_end"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelOrgPlan",()=>{const{oid:e}=this.props,{cancelReason:t,cancelDescription:n}=this.state;this.setState({loading:!0}),Object(s.cancelOrganizationSubscription)(e,{reason:t,description:n}).then(()=>{this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(o.handleError)(e)})}),p(this,"performCancelPlan",()=>{this.props.oid?this.performCancelOrgPlan():this.performCancelUserPlan()}),p(this,"handleQuestionChange",()=>{this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}),p(this,"handleGoToOrgDashboardClick",()=>{const{oid:e}=this.props;location.replace(Object(r.urlResolve)("workspace-members",{url:{oid:e}}))}),p(this,"handleCancelPlanClick",(e,t)=>{this.setState({cancelReason:e,cancelDescription:t,cancelPlanDialogShown:!0})}),p(this,"handleTransferPlanFormSubmit",e=>{this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(s.getUserStatus)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(o.handleError)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}),p(this,"handleTransferPlanClick",()=>{const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}),p(this,"handleCancelPlanSuccess",()=>{const{oid:e}=this.props;e?location.replace(Object(r.urlResolve)("workspace-profile-billing",{url:{oid:e}})):location.replace(Object(r.urlResolve)("profile-billing"))})}render(){const{onClose:e,onBackClick:t,periodEndDate:n}=this.props,{loading:o,transferEmail:s,transferPlanFormError:r,transferPlanFormShown:p,subscriptionCancelledDialogShown:g,cancelPlanDialogShown:m,transferPlanWarningDialogShown:b,transferOrgOwnershipDialogShown:S}=this.state;return i.h(i.Fragment,null,i.h(l.default,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:h,onContactSupportClick:f,transferPlanFormError:r,transferPlanFormShown:p}),o&&i.h(a.default,null),b&&i.h(c.default,{email:s,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),S&&i.h(u.BasicOverlayDialog,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),m&&i.h(d.default,{periodEndDate:n,onCancelPlan:this.performCancelPlan,onClose:this.hideCancelPlanDialog}),g&&i.h(u.BasicOverlayDialog,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:this.handleCancelPlanSuccess,onClose:this.hideSubscriptionCancelledDialog}))}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(951);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=(n(952),n(718)),s=n.n(o);function r({class:e}){return i.h("div",{class:s()("loadingOverlay",e)},i.h("div",{class:"ripple ripple1"}),i.h("div",{class:"ripple ripple2"}),i.h("div",{class:"ripple ripple3"}),i.h("div",{class:"ripple ripple4"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(954);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(955),s=n(958),r=n(961),a=n(771);n(1002);t.default=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:p,onQuestionChange:h,transferPlanFormError:f,transferPlanFormShown:g}=e;return i.h(o.default,{onClose:t},i.h("div",{class:"cancelPlanModal"},i.h("div",{class:"cancelPlanHeader"},i.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.h(a.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.h("div",{class:"cancelPlanHero"},i.h("h2",{class:"title"},"Why are you cancelling?"),i.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.h(s.default,null),i.h(r.default,{onBackClick:n,onQuestionChange:h,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:p,transferPlanFormShown:g,transferPlanFormError:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(956);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559);n(957);class a extends i.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){const{children:e}=this.props;return i.h("div",{class:"overlay",onClick:this.handleClose},i.toChildArray(e).map(e=>i.cloneElement(e,{onClick:r.stopPropagation})))}}a.propTypes={onClose:s.a.func},t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(959);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(960);function o(){return i.h("div",{class:"covidNotice"},"Here at Zeplin, we value our community—if you’re having financial/budgetary issues due to the current state of events, please contact us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io"),". We’d love to help.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(962);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(963),s=n(965);n(1001);t.default=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:r,onTransferPlanClick:a,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:p}=e;return i.h(o.default,{class:"cancelPlanSurvey",onChange:p},i.h(s.WrongAccount,{onTransferPlanClick:a,onTransferPlanFormSubmit:r,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.h(s.SubscribedAnnually,{onBackClick:t}),i.h(s.MovedToTeamPlan,{onCancelPlanClick:n}),i.h(s.SwitchedToAnotherTool,{onCancelPlanClick:n}),i.h(s.RanIntoIssue,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(s.TooExpensive,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(s.ProjectEnded,{onCancelPlanClick:n}),i.h(s.Other,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";n.r(t);var i=n(964);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t,children:n}=this.props;return i.h("div",{class:t},i.toChildArray(n).map((t,n)=>i.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(966);n.d(t,"MovedToTeamPlan",(function(){return i.default}));var o=n(980);n.d(t,"Other",(function(){return o.default}));var s=n(990);n.d(t,"ProjectEnded",(function(){return s.default}));var r=n(991);n.d(t,"RanIntoIssue",(function(){return r.default}));var a=n(992);n.d(t,"SubscribedAnnually",(function(){return a.default}));var l=n(996);n.d(t,"SwitchedToAnotherTool",(function(){return l.default}));var c=n(997);n.d(t,"TooExpensive",(function(){return c.default}));var d=n(998);n.d(t,"WrongAccount",(function(){return d.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(967),s=n(970),r=n(973),a=n(979);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.MOVED_TO_TEAM_PLAN)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! 👨‍👩‍👦‍👦"),i.h(o.default,null,i.h(s.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(r.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Moved to a team plan"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(968);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(969);t.default=function(e){return i.h("div",{class:"questionButtons"},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(971);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(718),r=n.n(s);n(972);t.default=function(e){const{secondary:t,class:n}=e,s=r()("questionButton",n,{primary:!t,secondary:t}),a=Object.assign({},e,{class:s});return delete a.secondary,i.h(o.default,a)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(974);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(975),s=n.n(o),r=n(718),a=n.n(r);n(978);t.default=function(e){const{content:t,mainText:n,subText:o,onSelect:r,selected:l,value:c}=e;return i.h("div",{class:"cancelPlanSurveyQuestion"},i.h("label",{class:a()("selectWithText",{hasSubText:!!o})},i.h(s.a,{onClick:r,checked:l,value:c}),i.h("div",{class:"textContainer"},i.h("p",{class:"mainText"},n),o&&i.h("p",{class:"subText"},o))),l&&i.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(976);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=o(n(718));n(977),t.default=function(e){const{class:t}=e,n=i(e,["class"]);return s.h(s.Fragment,null,s.h("input",Object.assign(n,{type:"radio",class:"radioButtonRadio"})),s.h("div",{class:r.default("radioButton",t)},s.h("div",{class:"radioButtonInner"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"PROJECT_ENDED",(function(){return i})),n.d(t,"MOVED_TO_TEAM_PLAN",(function(){return o})),n.d(t,"SWITCHED_TO_ANOTHER_TOOL",(function(){return s})),n.d(t,"RAN_INTO_ISSUE",(function(){return r})),n.d(t,"TOO_EXPENSIVE",(function(){return a})),n.d(t,"OTHER",(function(){return l}));const i="Project ended",o="Moved to team plan",s="Switched to another tool",r="Ran into issue",a="Too expensive",l="Other"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(981),s=n(973),r=n(979);class a extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(r.OTHER,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.h(s.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Other"})}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(982);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737),a=n(970),l=n(983),c=n(986);n(989);class d extends i.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:o,error:d,maxLength:u,class:p}=this.props,{value:h,dirty:f,isInputValid:g}=this.state,m="email"===o&&c.default||l.default,b=!f&&!!d,S=h&&h.trim()&&g;return i.h("form",{class:s()("questionTextForm",{hasError:b},p),onSubmit:this.handleSubmit},n&&i.h("label",{class:"questionTextFormLabel"},n),i.h(m,{class:"formInput",maxLength:u,onInput:this.handleInput,type:o,placeholder:e,value:h,inputRef:Object(r.default)(this,"textInput")}),b&&i.h("div",{class:"errorText"},d),i.h(a.default,{class:"questionTextFormButton",disabled:!S,type:"submit"},t))}}d.defaultProps={maxLength:2048},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(984);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(985);class r extends i.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:o,class:r}=this.props;return i.h("div",{class:s()("questionTextArea",r)},i.h("div",{class:"mirror"},i.h("pre",null,e," ")),i.h("textarea",{value:e,maxLength:o,placeholder:t,ref:n,onInput:this.handleInput}))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(987);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(988);t.default=function(e){const t=Object.assign({},e,{class:s()("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.h("input",t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(967),s=n(970),r=n(973),a=n(979);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.PROJECT_ENDED)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! 👋"),i.h(o.default,null,i.h(s.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(r.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Project ended, won't need Zeplin for a while"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(967),s=n(970),r=n(973),a=n(979);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.RAN_INTO_ISSUE)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. 💪"),i.h(o.default,null,i.h(s.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(s.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(r.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(973),s=n(993);t.default=function(e){const{onSelect:t,selected:n,value:r,onBackClick:a}=e,l=[i.h("p",null,"You can always switch your billing frequency. ",i.h(s.default,{onClick:a},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.h("br",null),i.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.h(o.default,{onSelect:t,selected:n,value:r,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";n.r(t);var i=n(994);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(995);t.default=function(e){return i.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(981),s=n(973),r=n(979);class a extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(r.SWITCHED_TO_ANOTHER_TOOL,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,r=[i.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.h(o.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.h(s.default,{onSelect:e,selected:t,value:n,content:r,mainText:"Switched to another tool"})}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(967),s=n(970),r=n(973),a=n(979);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.TOO_EXPENSIVE)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=i.h(i.Fragment,null,i.h("p",null,"We wouldn’t want to lose you over pricing. Mind contacting us and sharing why? We’d love to figure out the best plan for you and your team."),i.h(o.default,null,i.h(s.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(s.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan")));return i.h(r.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Too expensive",subText:"e.g. It’s difficult to pay in USD"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(999);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(967),s=n(970),r=n(981),a=n(973);n(1e3);function l(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:a,transferPlanFormError:l,transferPlanFormShown:c}=e;return c?[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h("div",{class:"transferPlanFormContainer"},i.h("span",{class:"emoji"},"☝️"),i.h("div",{class:"text"},i.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.h("br",null),i.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.h(r.default,{class:"transferPlanForm",type:"email",maxLength:254,label:"Enter the email of the user to transfer to:",error:l,onSubmit:a,placeholder:"Email",buttonText:"Transfer plan"})]:[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h(o.default,null,i.h(s.default,{onClick:n},"Transfer plan"),i.h(s.default,{onClick:t},"Change email"))]}t.default=function(e){const{onSelect:t,selected:n,value:o}=e;return i.h(a.default,{onSelect:t,selected:n,value:o,content:l(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1004);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(942);n(1005);t.default=function(e){const{email:t}=e;return i.h(o.default,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.h("div",{class:"dialogBody"},i.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.h("strong",null,'"',t,'"'),"."),i.h("p",null,"By transferring the subscription, you will ",i.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1007);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(942);n(1008);t.default=function(e){const{periodEndDate:t,onCancelPlan:n,onClose:s}=e;return i.h(o.default,{width:484,class:"cancelPlanDialog",positiveButtonText:"CANCEL PLAN",negativeButtonText:"KEEP PLAN",onClose:s,onPositiveButtonClick:n,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Cancel Plan"),i.h("div",{class:"dialogBody"},i.h("p",null,"You can continue using your plan until your billing period ends on",i.h("strong",null," ",t),". Once the billing period ends, your projects and styleguides will be archived automatically."))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(664);const r={setOverridingCategory(e){o.a.dispatcher.dispatch({type:s.default.SET_OVERRIDING_CATEGORY,overridingCategory:e})}};t.default=r},function(e,t,n){"use strict";n.r(t),t.default={DEFAULT:"default",PROFILE:"profile",PRICING:"pricing",PROJECTS:"projects",STYLEGUIDES:"styleguides",STYLEGUIDE:"styleguide",PROJECT_DASHBOARD:"project-dashboard",PROJECT_STYLEGUIDE:"project-styleguide",PROJECT_SCREEN:"project-screen",ORGANIZATION_PROJECTS:"organization-projects",ORGANIZATION_PROFILE:"organization-profile",ORGANIZATION_DASHBOARD:"organization-dashboard"}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1012);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),l=r(n(845)),c=r(n(942)),d=r(n(950)),u=r(n(723)),p=n(543),h=s(n(555)),f=r(n(718)),g=n(1013),m=r(n(737)),b=n(556),S=n(558),y=r(n(582)),v=r(n(1014)),C=n(1015),O=n(560),E=r(n(1018)),T=r(n(1022));n(1025);class _ extends a.Component{constructor(){super(...arguments),this.nodeRefs={},this.updateSubscription=e=>{var t;const{currentPlan:n,organization:i}=this.state,{oid:o}=this.props,s=n&&p.PLAN_ORDER[e.group]<p.PLAN_ORDER[n.group],r=(s?"Downgrade":"Update")+" subscription?",a=s&&e.projectLimit?`You'll have ${e.projectLimit} active projects and styleguides on the ${e.name} plan. You can upgrade it again, anytime!`:"You can update it again, anytime!",l=null===(t=this.nodeRefs)||void 0===t?void 0:t.dialogContent;h.create({title:r,message:a,done:{name:"UPDATE",cb:()=>{this.setState({loading:!0}),v.default.updateOrganizationSubscription({oid:o,plan:e.id,oldPlan:i.paymentPlan,isReactivation:!n,toastContainer:l,onSuccess:this.handleUpdateSubscriptionSuccess,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleUpdateSubscriptionSuccess=(e,t)=>{const{onUpdateSubscription:n}=this.props;this.setState({loading:!1}),n&&n(e,t)},this.createChangePlanHandler=e=>{const{oid:t,dialogSource:n,onCreateWorkspace:i}=this.props;return()=>{if(e.group===p.PlanGroup.ENTERPRISE){const e="mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan";if("macApp"===n)return void history.replaceState(null,"",b.urlResolve("workspace-create",{query:{source:n,close:!0,redirect:e}}));S.openLink(e)}else t?this.updateSubscription(e):i(e)}},this.createCancelPlanHandler=e=>{const{oid:t}=this.props;return()=>{this.setState({loading:!0}),this.props.onCancelPlan(t,e)}},this.createPeriodClickHandler=e=>()=>{this.setState({period:e})},this.renderTitleAndDescription=()=>{const{currentPlan:e,organization:t}=this.state,{upgradeTrigger:n,displayFullMode:i}=this.props;let o,s;switch(n){case p.PlanUpgradeTrigger.USER_LIMIT:o="Your Zeplin team is growing 👨‍👩‍👧‍👦",s=a.h("p",null,"You are currently on the ",a.h("strong",null,"Free")," plan where you can have up to 10 users. Upgrade below to invite as many users as you need.");break;case p.PlanUpgradeTrigger.VERSION_LIMIT:o="Access unlimited version history ⌛",s=a.h("p",null,"You are currently on the ",a.h("strong",null,"Free")," plan where you can view 30 days of version history. Upgrade below to access unlimited version history, including access to your existing versions.");break;case p.PlanUpgradeTrigger.PROJECT_LIMIT:{o="More projects, more opportunities 🍧";const n=(null==t?void 0:t.projectLimit)||e.projectLimit;s=a.h("p",null,"You are currently on the ",a.h("strong",null,e.name)," plan️ where you can have up to ",O.pluralize(n,"project"),". Upgrade below to create as many as you need.");break}case p.PlanUpgradeTrigger.STYLEGUIDE_LIMIT:{const n=(null==t?void 0:t.styleguideLimit)||e.styleguideLimit;o="More styleguides, more coherence 🍧",s=a.h("p",null,"You are currently on the ",a.h("strong",null,e.name)," plan️ where you can have up to ",n," styleguide(s). Upgrade below to create as many as you need.");break}case p.PlanUpgradeTrigger.VARIANT_GROUP_LIMIT:o="Your project is evolving 🦕",s=a.h("p",null,"You are currently on the ",a.h("strong",null,e.name)," plan where you can have up to ",e.variantGroupLimit," screen variants. To better organize your screens, upgrade below to create as many variants as you need.");break;default:o="Change plan",s=a.h("p",null,"You can upgrade or downgrade to another plan, change your plan’s billing cycle or cancel your plan below.")}return a.h(a.Fragment,null,a.h("h1",null,o),a.h("div",{class:f.default("plansDescription",{fixedHeight:!i})},s))},this.renderDeprecatedPlanBanner=()=>{const{currentPlan:e,organization:t}=this.state,n=(null==t?void 0:t.subscriptionStatus)||Zeplin.user.subscriptionStatus,i="active"===n||"past_due"===n;return"deprecated"===(null==e?void 0:e.status)?a.h("div",{class:"deprecatedPlanBanner"},a.h("span",null,"You’re on the deprecated ",a.h("strong",null,e.name)," plan. Reach out to us if you have any questions: ",a.h("a",{href:"mailto:support@zeplin.io",target:"_blank",rel:"noopener noreferrer"},"support@zeplin.io")),i&&a.h("span",null,"If you’d like to, you can ",a.h("a",{href:"#",onClick:this.createCancelPlanHandler(e)},a.h("strong",null,"cancel your plan.")))):null},this.renderPlanContent=e=>{const{unitPrice:t}=g.getPlanPrice({plan:e,period:e.period===p.BillingPeriod.ETERNAL?p.BillingPeriod.ANNUALLY:e.period,seatCount:1});switch(e.name){case"Team":return a.h(C.TeamPlanContent,{projectLimit:e.projectLimit,selectedUnitPrice:t});case"Organization":return a.h(C.OrganizationPlanContent,{minUserCount:e.quantity,selectedUnitPrice:t});case"Enterprise":return a.h(C.EnterprisePlanContent,null)}},this.renderPlanFooter=e=>{const{currentPlan:t}=this.state,{cancelEnabled:n}=this.props;if(e.group===p.PlanGroup.ENTERPRISE)return a.h(u.default,{primary:!0,onClick:this.createChangePlanHandler(e)},"Contact us");if(t&&p.PLAN_ORDER[e.group]<p.PLAN_ORDER[t.group])return a.h(u.default,{secondary:!0,onClick:this.createChangePlanHandler(e)},"Downgrade to ",e.name," Plan");if("active"===e.status&&"active"===(null==t?void 0:t.status)&&(null==t?void 0:t.group)===e.group){const i=e.period===t.period;return a.h(a.Fragment,null,i?a.h("div",{className:"currentPlanLabel"},"Current plan"):a.h(u.default,{class:f.default("changePeriod",{primary:e.period===p.BillingPeriod.ANNUALLY,secondary:e.period===p.BillingPeriod.MONTHLY}),onClick:this.createChangePlanHandler(e)},"Change period"),n&&a.h(u.default,{class:"cancelButton",secondary:!0,onClick:this.createCancelPlanHandler(e)},"Cancel plan"))}return a.h(u.default,{primary:!0,onClick:this.createChangePlanHandler(e)},"Upgrade to ",e.name," Plan")}}static calculateState(e,t){const{config:{plans:n}}=y.default.AppStore.getState(),{paymentPlan:i,userId:o}=y.default.UserStore.getState(),{organizations:s}=y.default.OrganizationStore.getState(),{oid:r}=t,a="string"==typeof i?n.find(e=>e.id===i):i,l=s.find(({_id:e})=>e===r),c=r?n.find(e=>e.id===l.paymentPlan):a;let d=p.BillingPeriod.ANNUALLY;return!(null==e?void 0:e.period)&&t.period?d=t.period:c&&c.period!==p.BillingPeriod.ETERNAL&&(d=c.period),{period:d,plans:n,currentPlan:c,userId:o,organization:l,loading:null==e?void 0:e.loading}}static getStores(){return[y.default.AppStore,y.default.UserStore,y.default.OrganizationStore]}render(){const{isDismissable:e,displayFullMode:t,dialogSource:n,onClose:i}=this.props,{period:o,plans:s,loading:r}=this.state,l=s.find(e=>"active"===e.status&&e.group===p.PlanGroup.TEAM&&e.period===o),h=s.find(e=>"active"===e.status&&e.group===p.PlanGroup.ORGANIZATION&&e.period===o),g=s.find(e=>"active"===e.status&&e.group===p.PlanGroup.ENTERPRISE);return a.h(c.default,{class:f.default("planChooserDialog",{displayFullMode:t,noRadius:"macApp"===n}),width:960,onClose:i,isDismissable:e,hideFooter:!0},a.h("div",{class:"planChooserDialogContent",ref:m.default(this,"dialogContent")},r&&a.h(d.default,{class:"planChooserLoading"}),this.renderTitleAndDescription(),t&&a.h(a.Fragment,null,this.renderDeprecatedPlanBanner(),a.h("div",{class:"periodTabsContainer"},a.h("div",{className:f.default("periodTabSlider","noSelect",{[o]:!0})}),a.h(u.default,{ninja:!0,class:f.default("periodTab",{selected:o===p.BillingPeriod.MONTHLY}),onClick:this.createPeriodClickHandler(p.BillingPeriod.MONTHLY)},"Monthly"),a.h(u.default,{ninja:!0,className:f.default("periodTab",{selected:o===p.BillingPeriod.ANNUALLY}),onClick:this.createPeriodClickHandler(p.BillingPeriod.ANNUALLY)},"Annually"))),a.h("div",{class:"plans"},[l,h,g].map(e=>a.h("div",{key:e.id,class:"plan"},this.renderPlanContent(e),a.h("div",{class:"footer"},this.renderPlanFooter(e))))),t&&a.h("div",{class:"planComparisonAndFaq"},a.h(E.default,{plans:s,period:o}),a.h(T.default,null))))}}_.defaultProps={displayFullMode:!1,cancelEnabled:!1,isDismissable:!0},t.default=l.default(_,{withProps:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPeriodText=t.hasTeamPlan=t.isOfferValid=t.formatPriceForStripe=t.getDiscountedPrice=t.getPlanPrice=t.formatPriceForUI=t.getDiscountNotice=t.isCouponValid=void 0;const i=n(559),o=n(543);function s({coupon:e,period:t}){return!!e&&(!(!t||"monthly"!==t)&&(!(e.redeem_by&&Date.now()/1e3>e.redeem_by)&&!(e.max_redemptions&&e.times_redeemed>=e.max_redemptions)))}function r(e){return e/100}function a(e,t){return e-e*t/100}t.isCouponValid=s,t.getDiscountNotice=function(e,t){return e&&"monthly"===t?e.redeem_by&&Date.now()/1e3>e.redeem_by?"This coupon is expired":e.max_redemptions&&e.times_redeemed>=e.max_redemptions?"This coupon is maxed out":`${e.percent_off?e.percent_off+"% off":i.formatCurrency(e.amount_off/100)+" off"} ${function(e,t){switch(e.duration){case"once":return"for the first "+("monthly"===t?"month":"year");case"repeating":return`for ${e.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}`:""},t.formatPriceForUI=r,t.getPlanPrice=function({plan:e,period:t,seatCount:n,coupon:i,offer:l,credit:c}){let d=0,u=e.price,p=0,h=0;return s({coupon:i,period:t})&&(i.amount_off?d-=i.amount_off:u=a(u,i.percent_off)),d+=u*n,t===o.BillingPeriod.ANNUALLY&&(u/=12),!i&&l&&(l.amount?d-=l.amount:l.percentage&&(d=a(d,l.percentage),u=a(u,l.percentage)),h=d,c&&(p=c.credit+c.balance,d-=p,d<0&&(p+=d))),d=Math.max(0,r(d)),u=Math.max(0,r(u)),p=Math.max(0,r(p)),h=Math.max(0,r(h)),{totalPrice:d,unitPrice:u,creditUsed:p,totalPriceBeforeCredit:h}},t.getDiscountedPrice=a,t.formatPriceForStripe=function(e){return Math.max(0,100*e)},t.isOfferValid=function(e){return new Date(e.validUntil).getTime()-(new Date).getTime()>0},t.hasTeamPlan=function(e){return["team_monthly_unit_price_v1","team_annual_unit_price_v1"].includes(e)},t.getPeriodText=function(e){return e===o.BillingPeriod.MONTHLY?"monthly":"annually"}},function(e,t,n){"use strict";n.r(t);var i=n(621),o=n.n(i),s=n(682),r=n(582),a=n.n(r);function l(e){let{oid:t,selectedOrganizationId:n}=e;return n=n||t,n||(({selectedOrganizationId:n}=a.a.SpaceStore.getState()),e.oid=n),e}const c={getBarrels(e){a.a.dispatcher.dispatch({type:o.a.GET_BARRELS,oid:e})},requestInvite(e,t){a.a.dispatcher.dispatch({type:o.a.REQUEST_INVITE,id:e,container:t})},addOrganization(e){a.a.dispatcher.dispatch({type:o.a.ADD_ORGANIZATION,organization:e})},addOrganizationWorkflowStatus(e){const{oid:t,workflowStatusData:n,syncWithApi:i=!1}=l(e);a.a.dispatcher.dispatch({type:o.a.ADD_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusData:n,syncWithApi:i})},updateOrganization(e,t){a.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){a.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},updateOrganizationSubscription({oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:s,onSuccess:r,syncWithApi:l}){a.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION_SUBSCRIPTION,oid:e,plan:t,oldPlan:n,isReactivation:i,toastContainer:s,onSuccess:r,syncWithApi:l})},updateOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,workflowStatusData:i,syncWithApi:r=!1}=l(e),c=r?s.default.getOrganizationWorkflowStatus(t,n):{};a.a.dispatcher.dispatch({type:o.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:c,syncWithApi:r})},updateOrganizationWorkflowStatusName({workflowStatusId:e,name:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{name:t},syncWithApi:n})},updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{color:t},syncWithApi:n})},removeOrganization(e){a.a.dispatcher.dispatch({type:o.a.REMOVE_ORGANIZATION,id:e})},deleteOrganizationWorkflowStatus(e){const{oid:t,workflowStatusId:n,syncWithApi:i=!1}=l(e),r=i?s.default.getOrganizationWorkflowStatus(t,n):{};a.a.dispatcher.dispatch({type:o.a.DELETE_ORGANIZATION_WORKFLOW_STATUS,oid:t,workflowStatusId:n,oldWorkflowStatusData:r,syncWithApi:i})},getOrganizationSuccess(e){a.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_SUCCESS,organization:e})},getOrganizationSectionsSuccess(e,t){a.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_SECTIONS_SUCCESS,sections:e,oid:t})},organizationMembersRequested(e){a.a.dispatcher.dispatch({type:o.a.ORGANIZATION_MEMBERS_REQUESTED,oid:e})},getOrganizationMembersSuccess(e){a.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_MEMBERS_SUCCESS,organizationMembers:e})},getOrganizationMembersFailed(e,t){a.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_MEMBERS_FAILED,oid:e,error:t})},getOrganizationMemberProfilesSuccess(e){a.a.dispatcher.dispatch({type:o.a.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS,organizationProfiles:e})},addOrganizationProfile(e,t){a.a.dispatcher.dispatch({type:o.a.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})},getFocusedBarrelsSuccess(e){const{focusedBarrels:t,oid:n}=l(e);a.a.dispatcher.dispatch({type:o.a.GET_FOCUSED_BARRELS_SUCCESS,focusedBarrels:t,oid:n})},addBarrelToFocus(e){const{mid:t,bid:n,barrelType:i,shouldPopOldestBarrel:s,oid:r,syncWithApi:c}=l(e),{focusedBarrels:d}=a.a.OrganizationStore.getState();let u;d[r]&&d[r].length&&(u=d[r][0]),a.a.dispatcher.dispatch({type:o.a.ADD_BARREL_TO_FOCUS,oid:r,mid:t,bid:n,barrelType:i,poppedBarrel:u,shouldPopOldestBarrel:s,syncWithApi:c})},addBarrelToFocusSuccess(e){a.a.dispatcher.dispatch({type:o.a.ADD_BARREL_TO_FOCUS_SUCCESS})},removeBarrelFromFocus(e){const{mid:t,bid:n,barrelType:i,poppedBarrel:s,oid:r,syncWithApi:c}=l(e);a.a.dispatcher.dispatch({type:o.a.REMOVE_BARREL_FROM_FOCUS,oid:r,mid:t,bid:n,barrelType:i,poppedBarrel:s,syncWithApi:c})},unpinBarrelFromFocus(e){const{mid:t,bid:n,barrelType:i,oid:s,syncWithApi:r}=l(e);a.a.dispatcher.dispatch({type:o.a.UNPIN_BARREL_FROM_FOCUS,oid:s,mid:t,bid:n,barrelType:i,syncWithApi:r})},unpinBarrelFromFocusSuccess(e){const{bid:t}=l(e);a.a.dispatcher.dispatch({type:o.a.UNPIN_BARREL_FROM_FOCUS_SUCCESS,bid:t})},repinBarrelToFocus(e){const{selectedOrganizationId:t,bid:n}=l(e);a.a.dispatcher.dispatch({type:o.a.REPIN_BARREL_TO_FOCUS,oid:t,bid:n})},hitPinLimit(e){const{pinnedAnyway:t,focusCountLimit:n}=l(e);a.a.dispatcher.dispatch({type:o.a.HIT_PIN_LIMIT,pinnedAnyway:t,focusCountLimit:n})},removeUnjoinedBarrels({oid:e,mid:t}){const n=s.default.getOrganizationProjects(e),i=s.default.getOrganizationStyleguides(e),r=n.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e),l=i.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e);a.a.dispatcher.dispatch({type:o.a.REMOVE_UNJOINED_BARRELS,oid:e,remainingProjects:r,remainingStyleguides:l})},updateMemberTags({oid:e,mid:t,operation:n,tags:i}){a.a.dispatcher.dispatch({type:o.a.UPDATE_MEMBER_TAGS,oid:e,mid:t,operation:n,tags:i})},addProjectSection(e){const{oid:t,index:n,sectionData:i,shouldCalculateActualIndex:r,dialogDismissParams:c,syncWithApi:d,bulkOperation:u=!1}=l(e),{sections:p}=s.default.getOrganization(t);let h;d&&(h=s.default.findSectionIndicesOfProjects(t,i.projects));let f=n;if(void 0===f){const e=p.findIndex(e=>e.projects.includes(i.projects[0]));f=0===e?p.length:e+1}r&&(f=s.default.whereToDropSectionInWorkspace({oid:t,index:f})),a.a.dispatcher.dispatch({type:o.a.ADD_PROJECT_SECTION,oid:t,index:f,sectionData:i,oldIndices:h,dialogDismissParams:c,syncWithApi:d,bulkOperation:u})},addProjectSectionId(e){const{oid:t,index:n,oseid:i}=l(e);a.a.dispatcher.dispatch({type:o.a.ADD_PROJECT_SECTION_ID,oid:t,index:n,oseid:i})},updateProjectSection(e){const{oid:t,oseid:n,sectionData:i,syncWithApi:r=!1}=l(e);let c;if(r){c=s.default.getOrganization(t).sections.find(e=>e._id===n)}a.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT_SECTION,oid:t,oseid:n,sectionData:i,oldSectionData:c,syncWithApi:r})},removeProjectSection(e){const{oid:t,oseid:n,syncWithApi:i=!1}=l(e);let r,c;if(i){const e=s.default.getOrganization(t);c=e.sections.findIndex(e=>e._id===n),r=e.sections[c]}a.a.dispatcher.dispatch({type:o.a.REMOVE_PROJECT_SECTION,oid:t,oseid:n,oldSectionIndex:c,oldSectionData:r,syncWithApi:i})},updateProjectSectionOrder(e){const{oid:t,oseid:n,index:i,shouldCalculateActualIndex:r,dialogDismissParams:c,syncWithApi:d=!1}=l(e);let u;if(d){const{sections:e}=s.default.getOrganization(t);u=e.findIndex(e=>e._id===n)}let p=i;r&&(p=s.default.whereToDropSectionInWorkspace({oid:t,index:i})),a.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT_SECTION_ORDER,oid:t,oseid:n,index:p,oldSectionIndex:u,dialogDismissParams:c,syncWithApi:d})},updateProjectOrder(e){const{oid:t,oseid:n,projects:i,index:r,shouldCalculateActualIndex:c,dialogDismissParams:d,syncWithApi:u=!1,bulkOperation:p=!1}=l(e);let h,f=[];if(u){const{sections:e}=s.default.getOrganization(t);h=n===e[0]._id,f=s.default.findSectionIndicesOfProjects(t,i)}let g=r;c&&(g=s.default.whereToDropProjectInSection({oid:t,oseid:n,index:r})),a.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT_ORDER,oid:t,oseid:n,projects:i,index:g,oldIndices:f,isDefaultSection:h,dialogDismissParams:d,syncWithApi:u,bulkOperation:p})},addSectionLink(e){const{oid:t,oseid:n,linkData:i,syncWithApi:s=!1}=l(e);a.a.dispatcher.dispatch({type:o.a.ADD_SECTION_LINK,oid:t,oseid:n,linkData:i,syncWithApi:s})},updateSectionLink(e){const{oid:t,oseid:n,oselid:i,linkData:r,syncWithApi:c=!1}=l(e);let d;if(c){d=s.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===i)}a.a.dispatcher.dispatch({type:o.a.UPDATE_SECTION_LINK,oid:t,oseid:n,oselid:i,linkData:r,oldLink:d,syncWithApi:c})},removeSectionLink(e){const{oid:t,oseid:n,oselid:i,syncWithApi:r=!1}=l(e);let c;if(r){c=s.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===i)}a.a.dispatcher.dispatch({type:o.a.REMOVE_SECTION_LINK,oid:t,oseid:n,oselid:i,oldLink:c,syncWithApi:r})}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnterprisePlanContent=t.OrganizationPlanContent=t.TeamPlanContent=void 0;var i=n(1016);Object.defineProperty(t,"TeamPlanContent",{enumerable:!0,get:function(){return i.TeamPlanContent}}),Object.defineProperty(t,"OrganizationPlanContent",{enumerable:!0,get:function(){return i.OrganizationPlanContent}}),Object.defineProperty(t,"EnterprisePlanContent",{enumerable:!0,get:function(){return i.EnterprisePlanContent}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnterprisePlanContent=t.OrganizationPlanContent=t.TeamPlanContent=void 0;const o=n(4),s=n(771),r=i(n(879)),a=i(n(718)),l=n(563);function c({children:e,newFeature:t}){return o.h("li",{class:a.default({newFeature:t})},o.h(s.IconTick,{color:"var(--gandalf)"}),e)}function d(){return o.h("div",{class:"seatInfoTooltip"},o.h("div",{class:"tooltipContainer"},o.h("span",null,"💁‍♀️ "),o.h("p",null,"Per designers and developers.",o.h("br",null),o.h("br",null),"You can invite unlimited reviewers with no charge. They can view the designs and add notes.")))}n(1017),t.TeamPlanContent=function({projectLimit:e,selectedUnitPrice:t,offer:n}){const i=!!(null==n?void 0:n.percentage),s=(null==n?void 0:n.projectLimit)&&n.projectLimit>e?n.projectLimit:void 0;return o.h("div",{class:"planContent"},o.h(r.default,{class:"planLogo",asset:"/img/icTeamPlan.png"}),o.h("h2",null,"Team"),o.h("p",{className:"description"},"Best for freelancers, small teams"),o.h("p",{className:a.default("priceText",{hasDiscount:i})},o.h("span",{className:"unitPriceWrapper"},o.h("span",{className:"monthlyUnitPrice"},"$",t," "),o.h("span",{className:"seatText"},"seat*",o.h(d,null)),"/mo"),i&&o.h("a",null,"  Offer applied")),o.h("ul",null,s?o.h(c,{newFeature:!!n},o.h("s",null,e)," ",o.h("a",null,s)," Projects"):o.h(c,{newFeature:!!n},e," Projects"),o.h(c,{newFeature:!!n},"Team Workspace"),o.h(c,{newFeature:!!n},"User Management"),o.h(c,{newFeature:!!n},"Unlimited version history"),o.h(c,null,"Unlimited Reviewers")))},t.OrganizationPlanContent=function({minUserCount:e,selectedUnitPrice:t}){return o.h("div",{class:"planContent"},o.h(r.default,{class:"planLogo",asset:"/img/icOrganizationPlan.png"}),o.h("h2",null,"Organization"),o.h("p",{class:"description"},"Best for medium size teams"),o.h("p",{class:"priceText"},o.h("span",{class:"monthlyUnitPrice"},"$",t," "),o.h("span",{class:"seatText"},"seat*",o.h(d,null)),"/mo",o.h("br",null),o.h("span",{class:"minUserCount"},e," seat minimum")),o.h("h4",null,"Everything in Team, plus;"),o.h("ul",null,o.h(c,null,"Unlimited Projects"),o.h(c,null,"Advanced User Permissions"),o.h(c,null,"Jira Server and Data Center Integration"),o.h(c,null,"Priority support")))},t.EnterprisePlanContent=function(){return o.h("div",{class:"planContent"},o.h(r.default,{class:"planLogo",asset:"/img/icEnterprisePlan.png"}),o.h("h2",null,"Enterprise"),o.h("p",{class:"description"},"Best for large teams"),o.h("p",{className:"priceText"},o.h("img",{src:l.imageUrl("img/icTalk.svg")}),o.h("span",{className:"minUserCount"},"Custom Pricing")),o.h("h4",null,"Everything in Organization, plus;"),o.h("ul",null,o.h(c,null,"Single Sign on (SSO)"),o.h(c,null,"Invoiced billing"),o.h(c,null,"Dedicated success manager"),o.h(c,null,"24hr support SLA")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1019);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(771),r=i(n(1020)),a=n(1013),l=n(560),c=i(n(718)),d=n(563);n(1021);const u="free",p="team_annual_unit_price_v1",h="team_monthly_unit_price_v1",f="organization_annual_unit_price_v4",g="organization_monthly_unit_price_v3",m="enterprise_annual_unit_price_v1";t.default=function({plans:e,period:t}){const n=function(e,t){const n=e.free[t],i=e.team[t],s=e.organization[t],r=e.enterprise[t];return{sidebar:o.h("div",{class:"row header border"},o.h("h2",null,"Compare features")),body:o.h("div",{class:"row header border"},[n,i,s].map(e=>{const t="$"+a.formatPriceForUI(e.price/("annual"===e.period?12:1)),n=0===e.price?"Always free":"seat/month",i=o.h("div",{class:"subText"},n,e.quantity>1?o.h(o.Fragment,null,o.h("br",null),e.quantity," seat minimum"):""),s=-1===e.projectLimit?"Unlimited projects":l.pluralize(e.projectLimit,"Project");return o.h("div",{key:e.id,class:"cell"},o.h("h3",null,e.name),o.h("h2",null,t),i,o.h("div",{class:"smallText"},s))}),o.h("div",{class:"cell"},o.h("h3",null,r.name),o.h("img",{src:d.imageUrl("img/icTalk.svg")}),o.h("div",{class:"subText"},o.h("a",{href:"mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan",target:"_blank",rel:"noopener noreferrer"},"Contact Us")),o.h("div",{class:"smallText"},"Custom Pricing")))}}(function(e){const t=e.find(e=>e.id===u),n=e.find(e=>e.id===p),i=e.find(e=>e.id===h),o=e.find(e=>e.id===f),s=e.find(e=>e.id===g),r=e.find(e=>e.id===m);return{free:{monthly:t,annual:t},team:{annual:n,monthly:i},organization:{annual:o,monthly:s},enterprise:{annual:r,monthly:r}}}(e),t),i=function(e){const t=[],n=[];for(const i of e){t.push(o.h("div",{class:"row border"},o.h("h3",null,i.label))),n.push(o.h("div",{class:"row empty border"}));for(const e of i.features)t.push(o.h("div",{class:"row"},o.h("li",{class:c.default({comingSoon:e.comingSoon,hasList:e.values.some(e=>Array.isArray(e))})},e.label))),n.push(o.h("div",{class:"row border"},e.values.map((e,t)=>"boolean"==typeof e?o.h("div",{key:t,class:"cell"},e&&o.h(s.IconTick,{color:"var(--cornflower-blue)"})):Array.isArray(e)?o.h("div",{key:t,class:"cell"},o.h("ul",null,e.map(e=>o.h("li",{key:e},"• ",e)))):o.h("div",{key:t,class:"cell"},e))))}return{sidebar:t,body:n}}(r.default);return o.h("div",{class:"planComparison"},o.h("div",{class:"sidebar"},n.sidebar,i.sidebar),o.h("div",{class:"body"},n.body,i.body))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{label:"Handoff+",features:[{label:"Show specs",values:[!0,!0,!0,!0]},{label:"Generate assets",values:[!0,!0,!0,!0]},{label:"Generate code snippets",values:[!0,!0,!0,!0]},{label:"Pop out designs",values:[!0,!0,!0,!0]}]},{label:"Collaboration",features:[{label:"Screen Variants",values:["2 variant groups","Unlimited","Unlimited","Unlimited"]},{label:"Screen version history, commit messages",values:["30 days","Unlimited","Unlimited","Unlimited"]},{label:"Sections and tags to manage screens",values:[!0,!0,!0,!0]},{label:"Notes and comments",values:[!0,!0,!0,!0]}]},{label:"Styleguides",features:[{label:"Number of styleguides",values:["4 styleguides","12 styleguides","Unlimited","Unlimited"]},{label:"Colors, Text Styles",values:[!0,!0,!0,!0]},{label:"Number of Components",values:["99","Unlimited","Unlimited","Unlimited"]},{label:"Connected Components",values:[!0,!0,!0,!0]},{label:"Spacing",values:[!0,!0,!0,!0]}]},{label:"Open Platform",features:[{label:"Slack integration",values:[!0,!0,!0,!0]},{label:"Trello integration",values:[!0,!0,!0,!0]},{label:"Microsoft team integration",values:[!0,!0,!0,!0]},{label:"Jira Cloud integration",values:[!0,!0,!0,!0]},{label:"Jira Server and Data Center integrations",values:[!1,!1,!0,!0]},{label:"API and Webhook",values:[!0,!0,!0,!0]}]},{label:"Workspace management",features:[{label:"Workspace to manage projects",values:[!1,!0,!0,!0]},{label:"Project sections and statuses",values:[!1,!0,!0,!0]},{label:"Pin projects",values:[!1,!0,!0,!0]},{label:"Invite multiple users by tag",values:[!1,!1,!0,!0]},{label:"Content ownership",values:[!1,!1,!1,!0]},{label:"Multiple teams",values:[!1,!1,!1,!0]},{label:"Private projects",values:[!1,!1,!0,!0],comingSoon:!0}]},{label:"User management",features:[{label:"Dashboard to manage users",values:[!1,!0,!0,!0]},{label:"User permissions",values:[!1,["Admin","Editor"],["Admin","Editor","Developer"],["Admin","Editor","Developer"]]},{label:"Reviewer (free)",values:[!1,"Unlimited","Unlimited","Unlimited"]},{label:"Restricted members",values:[!1,!0,!0,!0]},{label:"Priority support",values:[!1,!1,!0,!0]},{label:"Domain Capture",values:[!1,!1,!1,!0],comingSoon:!0},{label:"SCIM",values:[!1,!1,!1,!0],comingSoon:!0}]}]},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1023);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(544);n(1024),t.default=function(){return i.h("div",{class:"planChooserFAQ"},i.h("h2",null,"FAQ"),i.h("h3",null,"Who requires a seat in Zeplin?"),i.h("p",null,"A seat is required to publish designs, access technical specs and download assets. Viewing a project and reading/adding notes is available for Reviewers and does not require a seat."),i.h("h3",null,"Why do developers require a seat?"),i.h("p",null,"Zeplin provides capabilities much needed by developers including clarity on “finalized” designs, an accessible design workspace friendly to non-designers, added structure to design screens and of course tailored technical specs built by developers for developers."),i.h("h3",null,"As a designer, do I have to pay for developers?"),i.h("p",null,"If you would like to divide billing between designers and developers, we can customize our Zeplin Enterprise plan to meet your needs,"," ",i.h("a",{href:"mailto:enterprise@zeplin.io",target:"_blank"},"click here")," ",'to contact our sales team."'),i.h("h3",null,"How does Zeplin work with Figma?"),i.h("p",null,"Figma is better together with Zeplin, learn more about how leading design teams use"," ",i.h("a",{href:o.WEB_URL+"/figma",target:"_blank"},"Figma & Zeplin together"),"."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1028);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1029));t.default=function({hasUnreadNotifications:e,active:t,backLabel:n,backLink:i}){return o.h("a",{href:i,"data-link-type":"inApp","data-back":n},o.h(s.default,{hasUnread:e,active:t}))}},function(e,t,n){"use strict";n.r(t);var i=n(1030);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(1031),c=n.n(l);n(1032);function d({hasUnread:e,active:t}){return i.h("button",{class:a()("notificationsButton",{active:t})},e&&i.h("div",{class:"unreadBadge"}),i.h(c.a,null))}d.propTypes={hasUnread:s.a.bool,active:s.a.bool},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);t.default=function({width:e=24,height:t=26}){return i.h("svg",{width:e,height:t},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"}))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(587)),s=i(n(582)),r=n(559),a=n(571),l=r.debouncePromise(a.updateNotificationLastReadTime),c={addNotification(e){s.default.dispatcher.dispatch({type:o.default.AddNotification,notification:e})},getNotifications(e,t){s.default.dispatcher.dispatch({type:o.default.GetNotificationsRequested}),a.getNotifications(e,t).then(e=>{s.default.dispatcher.dispatch({type:o.default.GetNotificationsSuccess,notifications:e.notifications})}).catch(e=>{s.default.dispatcher.dispatch({type:o.default.GetNotificationsFailed,error:e})})},updateNotificationLastReadTime(){l()},markAllAsRead(e){s.default.dispatcher.dispatch({type:o.default.MarkAllAsRead,notifications:e})},restoreReadStatus(e){s.default.dispatcher.dispatch({type:o.default.RestoreReadStatus,notifications:e})},setReadStatusOffline(e,t){s.default.dispatcher.dispatch({type:o.default.SetReadStatusOffline,nids:e,markedAsRead:t})},setReadStatusOfflineByNotifications(e,t){s.default.dispatcher.dispatch({type:o.default.SetReadStatusOfflineByNotifications,notifications:e,markedAsRead:t})},setEventReadStatus(e,t,n){s.default.dispatcher.dispatch({type:o.default.SetEventReadStatus,notification:e,eventIds:t,markedAsRead:n})},setEventReadStatusOffline(e,t,n){s.default.dispatcher.dispatch({type:o.default.SetEventReadStatusOffline,nid:e,eventIds:t,markedAsRead:n})},deleteEvent(e,t){s.default.dispatcher.dispatch({type:o.default.DeleteEvent,nid:e,eventId:t})}};t.default=c},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1035)),s=i(n(585)),r=i(n(1036)),a=n(640),l=i(n(582)),c=["CreateDot","CreateDot-Mention","CreateDotComment-Mention","CreateDotComment","ResolveDot"],d=["CreateScreen","CreateScreenVersion","DeleteScreen"],u=["CreateProjectComponent","CreateStyleguideComponent","CreateProjectComponentVersion","CreateStyleguideComponentVersion","CreateProjectColor","CreateStyleguideColor","CreateProjectTextStyle","CreateStyleguideTextStyle","DeleteProjectColor","DeleteStyleguideColor","DeleteProjectComponent","DeleteStyleguideComponent","DeleteProjectTextStyle","DeleteStyleguideTextStyle","UpdateProjectColor","UpdateStyleguideColor","UpdateProjectTextStyle","UpdateStyleguideTextStyle","CreateProjectSpacingToken","CreateStyleguideSpacingToken","UpdateProjectSpacingToken","UpdateStyleguideSpacingToken","DeleteProjectSpacingToken","DeleteStyleguideSpacingToken"],p=[...c,...d,...u],h=["CreateDot-Mention","CreateDotComment-Mention"];function f({actionName:e}){return h.includes(e)}function g(e,t){const n=e.events.filter(t);return n.length?Object.assign(Object.assign({},e),{events:n}):null}function m({events:e},t){return e.some(({project:e})=>(null==e?void 0:e._id)===t)}function b({actionName:e},t){return t===s.default.All||(t===s.default.Note?c.includes(e):t===s.default.Screen?d.includes(e):t===s.default.Styleguide?u.includes(e):t===s.default.Other?!p.includes(e):void 0)}function S(e){return e.every(({markedAsRead:e})=>e)}t.default={isTypeValid:function(e){return Object.values(r.default).includes(e)},getDotStatesRequirement:function(e,t){const n=e.filter(e=>b(e,s.default.Note)&&t.some(({id:t})=>m(e,t))),{errorDotIds:i,loadingDotIds:o,dots:r}=l.default.DotStatesStore.getState();let a,c=!0;for(const{events:s}of n)for(const{dot:e,project:t,screen:n}of s){const s=null==t?void 0:t._id,l=null==n?void 0:n._id,d=null==e?void 0:e._id,u=d?r[d]:void 0,p=!!d&&i.includes(d),h=!!d&&o.includes(d);if(h&&(c=!1),s&&l&&d&&!u&&!p&&!h){null!=a||(a={projects:[]});let e=a.projects.find(({id:e})=>e===s);e||(e={id:s,screens:[]},a.projects.push(e));let t=e.screens.find(({id:e})=>e===l);t||(t={id:l,dots:[]},e.screens.push(t)),t.dots.includes(d)||t.dots.push(d)}}return{dotStatesToLoad:a,dotStatesReady:c}},updatedDotStates:function(e){const{dots:t}=l.default.DotStatesStore.getState();return e.map(e=>Object.assign(Object.assign({},e),{events:e.events.map(e=>Object.assign(Object.assign({},e),{dot:e.dot?Object.assign(Object.assign({},e.dot),t[e.dot._id]):void 0}))}))},hasMention:f,filterEventsByNoteStatus:function(e,t){switch(t){case o.default.Open:return g(e,({dot:e})=>"open"===(null==e?void 0:e.status));case o.default.Resolved:return g(e,({dot:e})=>"resolved"===(null==e?void 0:e.status));case o.default.Mentioned:return f(e)?e:null;default:throw Error("Invalid statusFilter type")}},filterEventsByDotColor:function(e,t){return g(e,({dot:e})=>!!e&&a.getColorName(e.color)===t)},filterEventsByUser:function(e,t){return g(e,({source:e})=>(null==e?void 0:e._id)===t)},filterEventsByProject:function(e,t){return g(e,({project:e})=>(null==e?void 0:e._id)===t)},filterEventsByStyleguide:function(e,t){return g(e,({styleguide:e})=>(null==e?void 0:e._id)===t)},filterEventsByMutedStatus:function(e,t,n,i,{mutedProjects:o,mutedStyleguides:s}){const r=f(e);return g(e,({organization:e,project:a,styleguide:l})=>{const c=null==a?void 0:a._id,d=null==l?void 0:l._id,u=(null==e?void 0:e._id)===t,p=!!c&&n.includes(c),h=!!c&&o.includes(c),f=!!d&&i.includes(d),g=!!d&&s.includes(d);return!(!r&&(h||g))&&(u||p||f)})},getRelatedProjects:function({events:e}){return e.filter(({project:e})=>e).map(({project:e})=>e._id)},getRelatedStyleguides:function({events:e}){return e.filter(({styleguide:e})=>e).map(({styleguide:e})=>e._id)},isRelatedToProject:m,isRelatedToStyleguide:function({events:e},t){return e.some(({styleguide:e})=>(null==e?void 0:e._id)===t)},isInCategory:b,getCategory:function({actionName:e}){return c.includes(e)?s.default.Note:d.includes(e)?s.default.Screen:u.includes(e)?s.default.Styleguide:s.default.Other},trackEventWithFilterDetails:function(e,t={}){const{category:n,sectionId:i,noteStatusFilter:o,memberId:r,color:a}=l.default.ActivitiesViewStore.getState(),c={[s.default.All]:"All",[s.default.Note]:"Notes",[s.default.Screen]:"Screens",[s.default.Styleguide]:"Styleguide",[s.default.Other]:"Others"},d=[...o||a?["Note Type"]:[],...r?["User"]:[],...i?["Section"]:[]];mixpanel.master.track(e,Object.assign(Object.assign({},t),{"Selected Category":c[n],Filters:d.length?d:void 0}))},isActivityRead:function(e){return S(e.events)},areEventsRead:S}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Open="open",e.Mentioned="mentioned",e.Resolved="resolved"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AddProjectExtension="AddProjectExtension",e.AddStyleguideExtension="AddStyleguideExtension",e.ActivateProject="ActivateProject",e.ActivateStyleguide="ActivateStyleguide",e.ArchiveProject="ArchiveProject",e.ArchiveStyleguide="ArchiveStyleguide",e.AuthProjectSlack="AuthProjectSlack",e.AuthStyleguideSlack="AuthStyleguideSlack",e.CreateProjectComponent="CreateProjectComponent",e.CreateStyleguideComponent="CreateStyleguideComponent",e.CreateProjectComponentVersion="CreateProjectComponentVersion",e.CreateStyleguideComponentVersion="CreateStyleguideComponentVersion",e.CreateProjectColor="CreateProjectColor",e.CreateStyleguideColor="CreateStyleguideColor",e.CreateDot="CreateDot",e.CreateDotMention="CreateDot-Mention",e.CreateDotCommentMention="CreateDotComment-Mention",e.CreateDotComment="CreateDotComment",e.CreateScreen="CreateScreen",e.CreateScreenVersion="CreateScreenVersion",e.CreateProjectTextStyle="CreateProjectTextStyle",e.CreateStyleguideTextStyle="CreateStyleguideTextStyle",e.DeleteProjectColor="DeleteProjectColor",e.DeleteStyleguideColor="DeleteStyleguideColor",e.DeleteProjectComponent="DeleteProjectComponent",e.DeleteStyleguideComponent="DeleteStyleguideComponent",e.DeleteScreen="DeleteScreen",e.DeleteProject="DeleteProject",e.DeleteStyleguide="DeleteStyleguide",e.DeleteProjectTextStyle="DeleteProjectTextStyle",e.DeleteStyleguideTextStyle="DeleteStyleguideTextStyle",e.RemoveExtensionFromProject="RemoveExtensionFromProject",e.RemoveExtensionFromStyleguide="RemoveExtensionFromStyleguide",e.ResolveDot="ResolveDot",e.UpdateOrganizationMemberRole="UpdateOrganizationMemberRole",e.UpdateProjectColor="UpdateProjectColor",e.UpdateStyleguideColor="UpdateStyleguideColor",e.UpdateProjectUserRole="UpdateProjectUserRole",e.UpdateStyleguideUserRole="UpdateStyleguideUserRole",e.UpdateProjectTextStyle="UpdateProjectTextStyle",e.UpdateStyleguideTextStyle="UpdateStyleguideTextStyle",e.UserJoined="UserJoined",e.ProjectUserJoined="ProjectUserJoined",e.StyleguideUserJoined="StyleguideUserJoined",e.RemoveUserFromProject="RemoveUserFromProject",e.RemoveUserFromStyleguide="RemoveUserFromStyleguide",e.InviteMember="InviteMember",e.InviteProjectUser="InviteProjectUser",e.InviteStyleguideUser="InviteStyleguideUser",e.TransferProjectOwnership="TransferProjectOwnership",e.TransferStyleguideOwnership="TransferStyleguideOwnership",e.CreateProjectSpacingToken="CreateProjectSpacingToken",e.CreateStyleguideSpacingToken="CreateStyleguideSpacingToken",e.UpdateProjectSpacingToken="UpdateProjectSpacingToken",e.UpdateStyleguideSpacingToken="UpdateStyleguideSpacingToken",e.DeleteProjectSpacingToken="DeleteProjectSpacingToken",e.DeleteStyleguideSpacingToken="DeleteStyleguideSpacingToken",e.AttachProjectToJiraIssue="AttachProjectToJiraIssue",e.AttachSectionToJiraIssue="AttachSectionToJiraIssue",e.AttachScreenToJiraIssue="AttachScreenToJiraIssue",e.RemoveProjectJiraIssueAttachment="RemoveProjectJiraIssueAttachment",e.RemoveSectionJiraIssueAttachment="RemoveSectionJiraIssueAttachment",e.RemoveScreenJiraIssueAttachment="RemoveScreenJiraIssueAttachment"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(1038);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1039),s=n(701),r=n.n(s),a=n(682),l=n(582),c=n.n(l),d=n(845),u=n.n(d),p=n(737),h=n(556),f=n(559),g=n(542),m=n(541),b=n(543),S=n(942),y=n(947);n(1394);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),v(this,"handleEnableSelectMode",({pid:e,focusAreaVisible:t})=>{const n=document.querySelector(".focusedProjects"),i=document.querySelector(".organizationSummary"),o=document.querySelector(".tabs"),s=i.clientHeight+o.clientHeight+(t?n.clientHeight:0);if(this.prevWorkspaceScrollTop=this.nodeRefs.workspace.scrollTop,s>this.prevWorkspaceScrollTop){const a=s-this.prevWorkspaceScrollTop+1,l=new IntersectionObserver(s=>{s[0].isIntersecting||(l.unobserve(s[0].target),i.remove(),o.remove(),t&&n.remove(),this.nodeRefs.workspace.scrollTop=1,r.a.toggleProjectSelection(e))},{root:this.nodeRefs.workspace});l.observe(t?n:o),this.nodeRefs.workspace.scrollBy({top:a,left:0,behavior:"smooth"})}else this.nodeRefs.workspace.scrollTop-=s,i.remove(),o.remove(),t&&n.remove(),r.a.toggleProjectSelection(e)}),v(this,"renderDialogs",()=>{const{visibleDialogType:e,visibleDialogParams:t,selectedOrganization:n,canChangePlan:o}=this.state;if(e===b.DialogTypes.PLAN_CHOOSER){const{barrelType:e,planUpgradeTrigger:s}=t;if(!o)return i.h(S.BasicOverlayDialog,{title:"Cannot create "+e,message:`Your workspace reached the ${e} limit. Contact the workspace Admins to upgrade your plan.`,positiveButtonText:"OK",hideNegativeButton:!0,onPositiveButtonClick:r.a.closeDialog,onClose:r.a.closeDialog});Object(y.showPlanChooserOverlay)({source:`Workspace, Reached ${e} limit`,displayFullMode:!1,upgradeTrigger:s,oid:n&&n._id,cb:r.a.closeDialog})}return null})}static calculateState(){const{loading:e,selectedOrganizationId:t,selectedTab:n,visibleDialogType:i,visibleDialogParams:o}=c.a.SpaceStore.getState(),{selectedProjects:s}=c.a.ProjectSelectionStore.getState(),{organizations:r,organizationProfiles:l,loading:d,loadingOrganization:u,loadingProfiles:p,loadingBarrels:g}=c.a.OrganizationStore.getState(),{loading:m}=c.a.UserStore.getState(),b=e||d||u||p||m||g,S=r.find(({_id:e})=>e===t)||{},y=a.default.getOrganizationProjects(S._id),v=a.default.getOrganizationStyleguides(S._id),{members:C,sections:O}=S,E=l[t],T="user"===t||f.permissions.canChangePlan(E);return{selectedTab:n,loading:b,organizationDashboardLink:p||!E||E.restricted?null:Object(h.urlResolve)("workspace-members",{url:{oid:t}}),visibleDialogType:i,visibleDialogParams:o,selectedOrganization:S,selectedOrganizationProfile:E,canChangePlan:T,projectsCount:y&&y.length,styleguidesCount:v&&v.length,membersCount:C&&C.length,selectedProjects:s,hideTopSection:s.length>0,sectionsCount:O&&O.length}}static getStores(){return[c.a.SpaceStore,c.a.ProjectSelectionStore,c.a.OrganizationStore,c.a.ProjectsDataStore,c.a.StyleguidesDataStore,c.a.UserStore]}componentDidMount(){m.isWindowsApp&&g.default.ipcRenderer.send("on-login",Zeplin.user)}componentDidUpdate(e,t){!this.state.hideTopSection&&t.hideTopSection&&t.sectionsCount===this.state.sectionsCount&&(this.nodeRefs.workspace.scrollTop=this.prevWorkspaceScrollTop)}render(){const{loading:e,selectedTab:t,hideTopSection:n,selectedOrganization:s,selectedOrganizationProfile:a,organizationDashboardLink:l,projectsCount:c,styleguidesCount:d,membersCount:u}=this.state;return i.h("main",{class:"spaceContainer",ref:Object(p.default)(this,"base")},i.h(o.default,{baseRef:Object(p.default)(this,"workspace"),loading:e,selectedOrganization:s,selectedOrganizationProfile:a,organizationDashboardLink:l,hideTopSection:n,selectedTab:t,toastContainer:this.nodeRefs.base,projectsCount:c,styleguidesCount:d,membersCount:u,onTabChange:r.a.changeSelectedTab,onDialogClose:r.a.closeDialog,onEnableSelectMode:this.handleEnableSelectMode}),this.renderDialogs())}}t.default=u()(C)},function(e,t,n){"use strict";n.r(t);var i=n(1040);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(1041),r=n(1044),a=n(1301),l=n(1386),c=n.n(l),d=n(718),u=n.n(d),p=n(558),h=n(560),f=n(543),g=n(1073),m=n(1392);n(1393);function b({label:e,value:t,selected:n,onChange:o}){const s=u()("tab","noSelect",{selected:n});return i.h("label",{class:s},e,i.h("input",{type:"radio",name:"workspaceTab",value:t,checked:n,onChange:e=>{e.stopPropagation(),o(t)}}))}function S({baseRef:e,onTabChange:t,onEnableSelectMode:n,loading:l,toastContainer:d,hideTopSection:u,selectedOrganization:{_id:g,logo:S,name:y,status:v},selectedOrganizationProfile:C,organizationDashboardLink:O,projectsCount:E,styleguidesCount:T,membersCount:_,selectedTab:P}){const D=C&&C.role,I=Object(o.useRef)(null);function j(e,{increment:t=!1}={}){t?I.current.scrollTop+=e:I.current.scrollTop=e}Object(o.useEffect)(()=>{Object(m.hideOrganizationFrozenBanner)(),"frozen"===v&&Object(m.showOrganizationFrozenBanner)({oid:g,currentRole:D})},[v,g,D]);function k(e){Object(p.copyContent)({content:e,toastContainer:d})}return i.h("div",{class:"workspace",ref:function(t){I.current=t,e(t)}},u?null:i.h(i.Fragment,null,(()=>{if(!g)return null;if(l)return i.h(c.a.Loading,null);const e=_?Object(h.pluralize)(_,"member"):"",t=[void 0!==E?Object(h.pluralize)(E,"project"):"",void 0!==T?Object(h.pluralize)(T,"styleguide"):"",e].filter(Boolean).join(", ");return i.h(c.a,{imageSrc:S,dashboardLink:O,title:y,subInfo:t,projectsCount:E,styleguidesCount:T,membersCount:_})})(),i.h("div",{class:"tabs"},i.h(b,{label:"Projects",value:f.WorkspaceTabs.PROJECTS,selected:P===f.WorkspaceTabs.PROJECTS,onChange:t}),i.h(b,{label:"Styleguides",value:f.WorkspaceTabs.STYLEGUIDES,selected:P===f.WorkspaceTabs.STYLEGUIDES,onChange:t}),i.h("hr",null))),l?i.h(s.default,null):P===f.WorkspaceTabs.PROJECTS?i.h(r.default,{onEnableSelectMode:n,toastContainer:d,onCopyLink:k,hideFocusedProjectsSection:u,setScrollPositionOfWorkspace:j}):P===f.WorkspaceTabs.STYLEGUIDES?i.h(a.default,{onCopyLink:k}):null)}t.default=function(e){return i.h(g.SectionObserverProvider,null,i.h(S,e))}},function(e,t,n){"use strict";n.r(t);var i=n(1042);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1043);t.default=function(){return i.h("div",{class:"overviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"})),i.h("div",{class:"cardGridLoading"},i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1045);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1046),s=n(1099),r=n(1166),a=n(1173),l=n(1241),c=n(1062),d=n(1243),u=n(942),p=n(1246),h=n(1257),f=n(1272),g=n.n(f),m=n(1275),b=n.n(m),S=n(1278),y=n(1281),v=n(1284),C=n(1287),O=n(1290),E=n.n(O),T=n(1294),_=n(701),P=n.n(_),D=n(680),I=n.n(D),j=n(682),k=n(1014),R=n(696),A=n(582),w=n.n(A),N=n(845),L=n.n(N),M=n(1295),x=n(737),U=n(559),B=n(688),V=n(540),z=n(557),F=n(761),W=n(574),G=n.n(W),H=n(626),$=n.n(H),q=n(543),Z=n(1239),K=n(1296),Y=n(1299),J=n.n(Y),X=n(1297);n(1300);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t,n){if(!t||t===n)return[n];const i=e.indexOf(t),o=e.indexOf(n),s=Math.min(i,o),r=Math.max(i,o);return e.slice(s>=0?s:0,r+1)}class ie extends i.Component{constructor(...e){super(...e),te(this,"multipleSelectionBaseProject",null),te(this,"state",{hoveredProjects:[],scrollPositionOfWorkspace:0}),te(this,"shiftKeyPressed",!1),te(this,"projectRefs",{}),te(this,"visibleSections",new Set),te(this,"getSelectableProjects",()=>{const{sections:e,collapsedSections:t}=this.state,n=e.reduce((e,n)=>(t[n._id]||n.projects.forEach(t=>{e.add(t.id)}),e),new Set);return Array.from(n)}),te(this,"getSectionName",e=>{const{selectedOrganization:t}=this.state,[n]=t.sections.filter(t=>t._id===e);return n&&n.name}),te(this,"getMoveToSectionMessage",(e,t)=>t.length>1?[`Moving ${t.length} projects out of their sections may cause you to lose access to these sections.`,"Are you sure you want to move these projects from their sections?"]:[`Moving this project out of the "${this.getSectionName(e)}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"]),te(this,"getSectionsToBeEmptied",e=>{const{selectedOrganization:t}=this.state;return t.sections.reduce((n,i)=>{const o=j.default.getVisibleProjectsOfSection(t._id,i._id);return o.length>0&&o.every(t=>e.includes(t._id))?(n.push(i._id),n):n},[])}),te(this,"openMultiselectMoveProjectsDialog",(e,t,n)=>{const i=1===e.length?e[0]:null,o=this.getMoveToSectionMessage(i,t);P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:o,positiveButtonClick:n,positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}),te(this,"handleProjectPreviewJoin",()=>{R.default.join({barrelType:G.a.PROJECT,bid:this.state.previewProject._id,source:"Preview"})}),te(this,"handleOpenCreateProjectDialog",({oseid:e})=>{const{currentPlan:t,currentUserId:n,selectedOrganization:i,isPersonalWorkspace:o,organizationProjects:s}=this.state,r=i&&i.projectLimit?i.projectLimit:t.projectLimit,a=(o?s.filter(e=>e.users.some(({user:{_id:e},role:t})=>e===n&&"owner"===t)):s).filter(e=>"archived"!==e.status);r>0&&a.length>=r?P.a.openDialog(q.DialogTypes.PLAN_CHOOSER,{barrelType:G.a.PROJECT,planUpgradeTrigger:q.PlanUpgradeTrigger.PROJECT_LIMIT}):P.a.openDialog(q.DialogTypes.CREATE_PROJECT,{oseid:e})}),te(this,"handleCreateProject",e=>{const{selectedOrganizationId:t,visibleDialogParams:{oseid:n}}=this.state;T.default.createProject({oid:t,platform:e,oseid:n})}),te(this,"handleProjectDidMount",(e,t)=>{this.projectRefs[e]=t}),te(this,"handleProjectClick",(e,t,n=!1)=>{const{projects:i,currentUserId:o}=this.state,s=i[t];if(s&&"active"===s.status&&!s.users.some(e=>e.user._id===o))return e.preventDefault(),e.stopPropagation(),void P.a.openDialog(q.DialogTypes.PREVIEW_PROJECT,{previewBarrelId:t});P.a.trackBarrelClick({isFromPinArea:n})}),te(this,"handleArchiveProject",({pid:e})=>{R.default.archive({bid:e,barrelType:G.a.PROJECT,syncWithApi:!0})}),te(this,"handleActivateProject",({pid:e})=>{R.default.activate({bid:e,barrelType:G.a.PROJECT,syncWithApi:!0})}),te(this,"handleJoinProject",({pid:e,shouldLoadBarrel:t})=>{R.default.join({barrelType:G.a.PROJECT,bid:e,shouldLoadBarrel:t})}),te(this,"handleDeleteProject",({pid:e})=>{R.default.remove({bid:e,barrelType:G.a.PROJECT,syncWithApi:!0})}),te(this,"handleCopyProject",({bid:e,barrelName:t,options:n})=>{R.default.copy({bid:e,barrelName:t,barrelType:G.a.PROJECT,options:n,syncWithApi:!0})}),te(this,"handleLeaveProject",({bid:e,mid:t})=>{R.default.removeMember({barrelType:G.a.PROJECT,bid:e,mid:t,syncWithApi:!0})}),te(this,"handlePin",e=>{const{pinnedBarrels:t,focusCountLimit:n}=this.state;k.default.addBarrelToFocus({mid:this.state.currentUserId,bid:e,barrelType:G.a.PROJECT,shouldPopOldestBarrel:t.length===n,syncWithApi:!0}),this.showToast({text:"Project pinned",source:"projectsContainer"}),P.a.updatePageState({highlightedBarrels:[e]})}),te(this,"handleUnpinFromFocusArea",e=>{k.default.unpinBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:G.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),te(this,"handleUnpin",e=>{k.default.removeBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:G.a.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),te(this,"handleRemoveUnpinned",e=>{k.default.removeBarrelFromFocus({bid:e})}),te(this,"handleScrollToUnpinnedBarrel",e=>{const{sections:t,collapsedSections:n}=this.state,i=t.find(t=>t.projects.find(({_id:t})=>t===e));i&&n[i._id]&&P.a.expandSections([i._id]),P.a.updatePageState({highlightedBarrels:[e],scrollToHighlightedBarrel:!0})}),te(this,"handleReorderProject",({sourceSectionId:e,targetSectionId:t,pid:n,index:i})=>{const{selectedOrganization:o,restrictedUser:s,dismissedDialogs:r}=this.state,a={oseid:t,projects:[n],index:i,shouldCalculateActualIndex:!0,syncWithApi:!0};if(s){if(e===t&&!r.reorderProjectDismissed)return void P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Project?",message:["Reordering this project will affect other projects in the section that may not be visible to you.","Are you sure you want to change the order in this section?"],positiveButtonClick:e=>k.default.updateProjectOrder(ee(ee({},a),{},{dialogDismissParams:e})),positiveButtonText:"REORDER PROJECT",dismissPrefKey:"reorderProjectDismissed"});const i=j.default.findProjectOrganizationSection(n),s=i._id===o.sections[0]._id,l=j.default.getVisibleProjectsOfSection(o._id,i._id);if(!s&&1===l.length&&!r.moveProjectOutOfSectionDismissed)return void P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${i.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>k.default.updateProjectOrder(ee(ee({},a),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}k.default.updateProjectOrder(a)}),te(this,"handleCreateNewSectionWithProjects",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o=this.getSectionsToBeEmptied(e),s={sectionData:{name:Z.NEW_SECTION_TITLE,description:Z.NEW_SECTION_DESCRIPTION,projects:e},syncWithApi:!0};if(n){if(!(1===o.length&&o[0]===t.sections[0]._id)&&o.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(o,e,e=>{k.default.addProjectSection(ee(ee({},s),{},{dialogDismissParams:e,bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})})}k.default.addProjectSection(ee(ee({},s),{},{bulkOperation:!0})),this.showToast({text:"A new section created",source:"projectsContainer"})}),te(this,"handleMoveSelectedProjectsToSection",(e,t)=>{const{selectedOrganization:n,dismissedDialogs:i,restrictedUser:o}=this.state,s=this.getSectionsToBeEmptied(t),r=n.sections.find(t=>t._id===e);if(o){if(!(1===s.length&&s[0]===n.sections[0]._id)&&s.length>0&&!i.moveProjectOutOfSectionDismissed)return void this.openMultiselectMoveProjectsDialog(s,t,n=>{k.default.updateProjectOrder({oseid:e,projects:t,dialogDismissParams:n,index:r.projects.length,syncWithApi:!0,bulkOperation:!0})})}k.default.updateProjectOrder({oseid:e,projects:t,index:r.projects.length,syncWithApi:!0,bulkOperation:!0})}),te(this,"handleMoveProjectToSection",(e,t)=>{this.handleReorderProject({targetSectionId:t,pid:e})}),te(this,"handleProjectToSectionHeaderDrop",(e,t)=>{const n=j.default.findProjectOrganizationSectionId(e);n!==t&&this.handleReorderProject({sourceSectionId:n,targetSectionId:t,pid:e})}),te(this,"handleProjectToSectionDrop",({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:o,targetSectionId:s})=>{const{isPersonalWorkspace:r,sections:a}=this.state;if(r)return;const l=a.find(e=>e._id===s),c=l.projects[o],d=this.projectRefs[c._id].getBoundingClientRect(),u=e.left>d.left+d.width/2?"right":"left";let p;if(i===s){if("individual"===l.type)return;p=o,n>o&&"right"===u&&(p=o+1),n<o&&"left"===u&&(p=o-1)}else"right"===u?p=o+1:"individual"!==l.type&&o&&(p=o);i===s&&n===p||this.handleReorderProject({sourceSectionId:i,targetSectionId:s,pid:t,index:p})}),te(this,"handleSectionDrop",({sourceId:e,sourceIndex:t,moveIndex:n})=>{const{selectedOrganizationName:i,sections:o,restrictedUser:s,dismissedDialogs:r}=this.state;if(t===n||n===o.length)return;const a={oseid:e,index:n,shouldCalculateActualIndex:!0,syncWithApi:!0};!s||r.reorderSectionDismissed?k.default.updateProjectSectionOrder(a):P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Reorder Section?",message:[`Reordering this section will affect other sections in the ${i} Workspace that may not be visible to you.`,"Are you sure you want to change the order of this section?"],positiveButtonClick:e=>k.default.updateProjectSectionOrder(ee(ee({},a),{},{dialogDismissParams:e})),positiveButtonText:"REORDER SECTION",dismissPrefKey:"reorderSectionDismissed"})}),te(this,"handleCreateEmptySection",()=>{k.default.addProjectSection({index:1,sectionData:{name:Z.NEW_SECTION_TITLE,description:Z.NEW_SECTION_DESCRIPTION,projects:[]},shouldCalculateActualIndex:!0,syncWithApi:!0}),this.showToast({text:"Section created",source:"projectsContainer"})}),te(this,"handleCreateSectionFromProject",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,o={sectionData:{name:Z.NEW_SECTION_TITLE,description:Z.NEW_SECTION_DESCRIPTION,projects:[e]},shouldCalculateActualIndex:!0,syncWithApi:!0};if(n){const n=j.default.findProjectOrganizationSection(e),s=n._id===t.sections[0]._id,r=j.default.getVisibleProjectsOfSection(t._id,n._id);if(!s&&1===r.length&&!i.moveProjectOutOfSectionDismissed)return void P.a.openDialog(q.DialogTypes.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${n.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>k.default.addProjectSection(ee(ee({},o),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}k.default.addProjectSection(o),this.showToast({text:"Section created",source:"projectsContainer"})}),te(this,"handleShowCannotDragToast",()=>{const{selectedSortType:e,filterValue:t}=this.state;let n;e!==q.SortTypes.SECTIONS?n="Unselect sort option to reorder":this.isWorkflowStatusFilterApplied?n="Reset status filter to reorder":t&&(n="Reset search to reorder"),n&&this.showToast({text:n,source:"showCannotDragToast"})}),te(this,"handleMouseDown",e=>{const{isPersonalWorkspace:t}=this.state;t||this.canEditSections||e.button!==Zeplin.MOUSE_BUTTON.LEFT||(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.handleShowCannotDragToast,Z.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS),document.addEventListener("mouseup",this.handleMouseUp))}),te(this,"handleMouseUp",()=>{clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}),te(this,"handleCollapseAllSections",()=>{const e=j.default.getExpandedSectionIds();e.length>0&&P.a.collapseSections(e)}),te(this,"handleExpandAllSections",()=>{const e=j.default.getCollapsedSectionIds();e.length>0&&P.a.expandSections(e)}),te(this,"handleKeyPress",e=>{this.shiftKeyPressed=e.shiftKey,this.shiftKeyPressed&&this.handleProjectHover(this.hoveredProjectId),Object(V.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(V.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())}),te(this,"handleKeyRelease",e=>{const{hoveredProjects:t}=this.state;t.length>0&&e.keyCode===Zeplin.KEY_CODE.SHIFT&&(this.shiftKeyPressed=!1,this.setState({hoveredProjects:[]}))}),te(this,"handleProjectHover",e=>{if(this.hoveredProjectId=e,this.selectionModeEnabled)if(this.shiftKeyPressed&&this.multipleSelectionBaseProject){const t=ne(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);this.setState({hoveredProjects:t})}else this.setState({hoveredProjects:[]});else{const{highlightedBarrels:t,pinnedBarrels:n}=this.state;!n.some(({barrelId:t})=>t===e)&&t.includes(e)&&P.a.unhighlightBarrel(e)}}),te(this,"handleProjectSelect",e=>{const{onEnableSelectMode:t}=this.props,{selectedProjects:n,pinnedBarrels:i}=this.state;if(0!==n.length)if(this.shiftKeyPressed&&this.selectionModeEnabled){const t=ne(this.getSelectableProjects(),this.multipleSelectionBaseProject,e);t.every(e=>n.includes(e))?(this.multipleSelectionBaseProject=null,P.a.deselectProjects(t),this.setState({hoveredProjects:[]})):(this.multipleSelectionBaseProject=e,P.a.selectProjects(t))}else n.includes(e)?this.multipleSelectionBaseProject=null:this.multipleSelectionBaseProject=e,P.a.toggleProjectSelection(e);else t({pid:e,focusAreaVisible:i.length>0})}),te(this,"handleChangeBulkStatus",()=>{this.showToast({text:"Projects status changed",source:"projectsContainer"})}),te(this,"handleSectionClickFromElevator",e=>{P.a.highlightSection(e)}),te(this,"handlePinWarningAuntieAction",e=>{const{focusCountLimit:t}=this.state;k.default.hitPinLimit(ee(ee({},e),{},{focusCountLimit:t}))}),te(this,"handleOpenCopyProjectDialog",({barrelId:e,barrelName:t})=>{P.a.openDialog(q.DialogTypes.COPY_BARREL,{barrelId:e,barrelName:t})}),te(this,"handleWorkflowStatusChange",e=>{P.a.changeWorkflowStatusFilter({workflowStatus:e})}),te(this,"handleDismissibleDialogPositiveButtonClick",()=>{P.a.closeDialog(),this.state.visibleDialogParams.positiveButtonClick()}),te(this,"handleTransferOwnership",({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o})=>{const{currentUserId:s}=this.state,r=n===s,a=i&&j.default.getOrganizationProfile(n),l=a?U.permissions.canChangePlan(a):r;T.default.initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o,canChangePlanAtTarget:l})}),te(this,"handleUseOfferClick",()=>{location.assign(Object(z.urlResolve)("workspace-create",{query:{useOffer:!0,plan:"team"}}))}),te(this,"handleHideOfferClick",()=>{const{offer:{validUntil:e}}=this.state,t=new Date(e),n=new Date,i=Object(F.getDateDifference)("d",n,t);let o;o=i>10?new Date(n.getTime()+6048e5):i>3?new Date(t.getTime()-2592e5):new Date(n.getTime()+864e5),P.a.postponeOfferReminder(o)}),te(this,"handleWorkspaceScroll",e=>{cancelAnimationFrame(this.setScrollPositionDelayId),this.setScrollPositionDelayId=requestAnimationFrame(()=>{this.setState({scrollPositionOfWorkspace:e.target.scrollTop})})}),te(this,"renderProject",(e,t,n)=>{const{onCopyLink:o}=this.props,{currentOrganizationProfile:s,isPersonalWorkspace:r,currentUserId:a,pinnedBarrels:c,highlightedBarrels:d,scrollToHighlightedBarrel:u,firstHighlightedProject:p,selectedOrganization:h,selectedProjects:f,hoveredProjects:g,focusCountLimit:m}=this.state,b=c.some(({barrelId:t})=>t===e._id),S=!b&&d.includes(e._id),y=!b&&p===e._id&&u;let v;v=r?e.users.find(e=>e.user._id===a):s;const C=f.includes(e._id),O=g.includes(e._id);return i.h(l.default,{key:e._id,sectionId:n,sections:h&&h.sections,onDrop:this.handleProjectToSectionDrop,index:t,onProjectHover:this.handleProjectHover,onClick:this.handleProjectClick,onMouseDown:this.handleMouseDown,project:e,currentUser:v,onArchive:this.handleArchiveProject,onActivate:this.handleActivateProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:this.handleTransferOwnership,onDelete:this.handleDeleteProject,onInvite:T.default.inviteUser,onCopyLink:o,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,highlight:S,onProjectDidMount:this.handleProjectDidMount,pinned:b,scroll:y,onScrolled:P.a.scrolledToProject,shouldDisplayPinWarningAuntie:c.length===m,onPinWarningAuntieAction:this.handlePinWarningAuntieAction,onOpenCopyProjectDialog:this.handleOpenCopyProjectDialog,onPin:this.handlePin,onUnpin:this.handleUnpin,onSelect:this.handleProjectSelect,isSelected:C,hasHover:O,selectionModeEnabled:this.selectionModeEnabled})}),te(this,"renderProjectSection",(e,t)=>{const{onCopyLink:n}=this.props,{highlightedSection:o,collapsedSections:s,selectedSortType:l}=this.state,c="individual"!==e.type||!!e.projects.length,d=l===q.SortTypes.SECTIONS&&"default"!==e.type&&"individual"!==e.type&&(e.links.length||e.projects.length||this.canEditSections);return c&&i.h(a.default,{collapsed:s[e._id],ref:Object(x.default)(this,e._id,"componentRefs"),key:e.key,index:t+1,data:e,highlight:e._id===o,actionsDisabled:l!==q.SortTypes.SECTIONS||"individual"===e.type,defaultSection:"default"===e.type,readOnly:!this.canEditSections||"individual"===e.type,shouldRenderSummary:d,showDescription:l===q.SortTypes.SECTIONS,onSectionDrop:this.handleSectionDrop,onProjectDrop:this.handleProjectToSectionHeaderDrop,onProjectToSectionDrop:this.handleProjectToSectionDrop,onCreateProjectClick:this.handleOpenCreateProjectDialog,onCopyLink:n},i.h(r.default,null,e.projects&&e.projects.map((t,n)=>this.renderProject(t,n,e._id))))}),te(this,"renderFocusedProjects",()=>{const{hideFocusedProjectsSection:e,onCopyLink:t}=this.props;if(e)return null;const{highlightedBarrels:n,firstHighlightedProject:o,focusedProjects:r,pinnedBarrelOnce:a,selectedOrganizationId:l,selectedOrganization:c={}}=this.state;return i.h("div",{key:"focus",ref:Object(x.default)(this,"focusedProjectsSection"),class:"projects"},i.h(s.default,{projects:r,highlightedProjects:n,firstHighlightedProject:o,pinnedBarrelOnce:a,sections:c.sections,organizationId:l,organizationStatus:c.status,organizationSubscriptionStatus:c.subscriptionStatus,onArchive:this.handleArchiveProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:T.default.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:T.default.inviteUser,onProjectHover:P.a.unhighlightBarrel,onCopyLink:t,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,onProjectClick:this.handleProjectClick,onScrollToUnpinnedBarrel:this.handleScrollToUnpinnedBarrel,onOpenCopyProjectDialog:this.handleOpenCopyProjectDialog,onPin:this.handlePin,onUnpin:this.handleUnpinFromFocusArea,onRemoveUnpinned:this.handleRemoveUnpinned}))}),te(this,"renderTopSection",()=>{const{sections:e,filterValue:t,selectedSortType:n,selectedWorkflowStatusFilter:s,selectedProjects:r,movableSectionsForSelectMode:a}=this.state;return this.selectionModeEnabled?i.h(C.default,{sections:a,selectedProjects:r,onCreateSection:this.handleCreateNewSectionWithProjects,onMoveToSection:this.handleMoveSelectedProjectsToSection,onChangeStatus:this.handleChangeBulkStatus,onCancelSelectionMode:P.a.clearProjectSelection}):i.h(o.default,{onSort:P.a.changeProjectSelectedSortType,onToggleArchivedProjects:P.a.toggleArchivedProjects,onFilter:P.a.changeFilterValue,onSectionClick:this.handleSectionClickFromElevator,onSectionReorder:this.handleSectionDrop,onWorkflowStatusChange:this.handleWorkflowStatusChange,onCreateProject:this.handleOpenCreateProjectDialog,onCreateSection:this.handleCreateEmptySection,selectedSortType:n,selectedWorkflowStatusFilter:s,filterValue:t,sections:e})}),te(this,"renderOfferHintbox",()=>{const{shouldDisplayOfferHintbox:e,offer:t,currentPlan:n}=this.state;return e?i.h("div",{class:"offerHintboxContainer"},i.h(E.a,{currentPlan:n,offer:t,onUseOfferClick:this.handleUseOfferClick,onHideClick:this.handleHideOfferClick})):null}),te(this,"renderProjects",()=>{const{sections:e,collapsedSections:t,pinnedBarrels:n,scrollToHighlightedBarrel:o,highlightedSection:s,firstHighlightedProject:a,selectedOrganization:l,scrollPositionOfWorkspace:u}=this.state,p=e.find(e=>e.newSection),h=a&&!n.find(({barrelId:e})=>e===a)&&o?a:null,f=Math.max(0,u-Object(X.calculateScrollTopToIgnore)(n.length)),{surplusProjects:g,sections:m,placeholders:b}=l?Object(K.virtualScrollProjectSections)({sections:e,collapsedSections:t,highlightedSection:p?p._id:s,projectToScroll:h,scrollPosition:f}):Object(K.virtualScrollPersonalWorkspace)({section:e[0],projectToScroll:h,scrollPosition:f});return i.h(i.Fragment,null,this.shouldDisplaySectionOnboarding&&i.h(d.default,{onCreateSection:this.handleCreateEmptySection}),i.h(c.default,{key:"projectSectionsDragDropContainer",class:"projects",itemsClass:"projectsDragDropItems",disabled:!this.canEditSections||this.selectionModeEnabled},i.h("div",{key:"topPlaceholder",style:{height:b.top}}),g.length>0&&i.h(r.default,null,g.map(({project:e,indexInSection:t,sectionId:n})=>this.renderProject(e,t,n))),m.map(({rawSection:e,indexInWorkspace:t})=>this.renderProjectSection(e,t)),i.h("div",{key:"bottomPlaceholder",style:{height:b.bottom}})))})}static calculateState(){const{highlightedBarrels:e,highlightedSection:t,collapsedSections:n,selectedOrganizationId:i,filterValue:o,selectedProjectSortType:s,pinnedBarrelOnce:r,selectedWorkflowStatusFilter:a,visibleDialogType:l,visibleDialogParams:c,showArchivedProjects:d,offerReminderNextDate:u}=w.a.SpaceStore.getState(),{scrollToHighlightedBarrel:p}=w.a.WorkspaceScrollStore.getState(),{selectedProjects:h}=w.a.ProjectSelectionStore.getState(),{organizations:f,organizationProfiles:g,focusedBarrels:m,dialogDismissStates:b}=w.a.OrganizationStore.getState(),{projects:S,loadingProject:y}=w.a.ProjectsDataStore.getState(),{paymentPlan:v,userId:C,offers:O}=w.a.UserStore.getState(),{config:{countLimit:{focus:E},plans:T}}=w.a.AppStore.getState(),_=j.default.getOrganizationStyleguides(i)||[],P=S[c.previewBarrelId],D=f.find(e=>e._id===i),k=D&&D.name,R=D&&D.status,A=D&&D.subscriptionStatus,N=D?T.find(e=>e.id===D.paymentPlan):v,L=g[i],M=L&&L.restricted,x="user"===i,V=g[i],z=U.permissions.canUpdateProject(V),F=!!e.length&&e[0],W=b[i],G="suspended"===R||d,{projects:H=[],lookup:Z={}}=j.default.getOrganizationProjectsWithLookup({oid:i,archivedProjectsVisible:G})||{};let K;if(!x)if(a===$.a.NoStatus._id)K=$.a.NoStatus.name;else{const{name:e}=D&&D.workflowStatuses.find(({_id:e})=>e===a)||{};K=e}let Y=[],X=[];if(D){if(D.complete&&D.sections.length){const[e,...t]=D.sections;if(e.name="Individual Projects",e.type="individual",e.description="Individual projects that are not assigned to a section.",Y=Object(B.filterSortProjectSections)({sections:[...t,e],projects:H,projectsLookup:Z,sortType:s,filterValue:o,statusFilter:a,shouldPutResultsToDefaultSection:!1}),X=D.sections.filter(e=>"individual"!==e.type&&!h.every(t=>e.projects.includes(t))),s===q.SortTypes.SECTIONS&&Y.length){const e=Y[Y.length-1];e.projects=function(e,t){const n=e.reduce((e,{_id:n,users:i,updated:o})=>(e[n]={isJoined:i.some(({user:e})=>e._id===t),updatedDate:new Date(o)},e),{}),i=[...e];return i.sort((e,t)=>{const i=n[e._id].isJoined,o=n[t._id].isJoined;return i===o?n[t._id].updatedDate-n[e._id].updatedDate:o-i}),i}(e.projects,C)}}}else Y=Object(B.filterSortProjectSections)({sections:[{_id:"personalProjectDefaultSection",name:"default",type:"default",projects:H.map(e=>e._id)}],projects:H,projectsLookup:Z,sortType:s,filterValue:o,shouldPutResultsToDefaultSection:!0});let Q=[],te=[];const ne=m[i];ne&&(Q=ne.map(({barrelId:e,unpinned:t})=>{const n=H.find(t=>t._id===e);return n?ee(ee({},n),{},{unpinned:t}):null}).filter(Boolean),te=ne.filter(e=>!e.unpinned));const ie=I.a.canCreateProject(),oe=L&&U.permissions.canManageWorkflowStatuses({role:L.role}),se=new Date,[re]=O||[],ae=re&&new Date(re.validUntil),le=x&&re&&ae>se&&u<se,ce=J()({projects:H,archivedProjectsVisible:G});return{sections:Y,focusedProjects:Q,pinnedBarrels:te,pinnedBarrelOnce:r,selectedOrganizationId:i,selectedOrganizationName:k,selectedOrganizationStatus:R,selectedOrganizationSubscriptionStatus:A,isPersonalWorkspace:x,projects:S,highlightedBarrels:e,scrollToHighlightedBarrel:p,highlightedSection:t,collapsedSections:n,firstHighlightedProject:F,selectedSortType:s,archivedProjectsVisible:G,selectedWorkflowStatusFilter:a,selectedWorkflowStatusName:K,filterValue:o,visibleDialogType:l,visibleDialogParams:c,dismissedDialogs:W,organizations:f,organizationProfiles:g,organizationProjects:H,organizationStyleguides:_,selectedOrganization:D,canCreateProject:ie,canUpdateProject:z,currentOrganizationProfile:L,restrictedUser:M,currentPlan:N,currentUserId:C,loadingProject:y,previewProject:P,selectedProjects:h,movableSectionsForSelectMode:X,canManageWorkflowStatuses:oe,focusCountLimit:E,shouldDisplayOfferHintbox:le,offer:re,workflowStatusCounts:ce}}static getStores(){return[w.a.ProjectsDataStore,w.a.SpaceStore,w.a.WorkspaceScrollStore,w.a.ProjectSelectionStore,w.a.OrganizationStore,w.a.UserStore,w.a.AppStore]}get hasPaidPlan(){const{currentPlan:e}=this.state;return e.group!==q.PlanGroup.FREE}get selectionModeEnabled(){const{selectedProjects:e}=this.state;return e.length>0}get isWorkflowStatusFilterApplied(){const{selectedWorkflowStatusFilter:e}=this.state;return e&&e!==$.a.All._id}get canEditSections(){const{isPersonalWorkspace:e,canCreateProject:t,selectedSortType:n,filterValue:i}=this.state;return!e&&t&&n===q.SortTypes.SECTIONS&&!this.isWorkflowStatusFilterApplied&&!i}get isOrganizationSuspended(){const{selectedOrganizationStatus:e}=this.state;return"suspended"===e}get shouldDisplaySectionOnboarding(){const{sections:e}=this.state;return this.canEditSections&&e.length<=1}get shouldDisplayEmptyState(){const{organizationProjects:e,sections:t}=this.state;return 0===e.length&&0===t.filter(({type:e})=>"default"!==e&&"individual"!==e).length}componentDidMount(){this.toastContainer=this.props.toastContainer,document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("keyup",this.handleKeyRelease);const e=document.querySelector(".workspace");e&&e.addEventListener("scroll",this.handleWorkspaceScroll)}componentDidUpdate(e,t){const{setScrollPositionOfWorkspace:n}=this.props;this.state.selectedOrganizationId!==t.selectedOrganizationId?n(0):1===this.state.pinnedBarrels.length&&0===t.pinnedBarrels.length&&this.state.pinnedBarrelOnce&&this.nodeRefs.focusedProjectsSection&&n(this.nodeRefs.focusedProjectsSection.clientHeight,{increment:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("keyup",this.handleKeyRelease);const e=document.querySelector(".workspace");e&&e.removeEventListener("scroll",this.handleWorkspaceScroll)}getChildContext(){const{organizations:e,organizationProfiles:t,selectedOrganizationId:n,selectedOrganizationName:i,currentOrganizationProfile:o,canCreateProject:s,canManageWorkflowStatuses:r,filterValue:a,currentUserId:l,organizationProjects:c,organizationStyleguides:d,archivedProjectsVisible:u,selectedWorkflowStatusName:p,focusCountLimit:h,workflowStatusCounts:f}=this.state;return ee(ee({},this.context),{},{selectedOrganizationId:n,selectedOrganizationName:i,selectedOrganizationProjects:c,selectedOrganizationStyleguides:d,selectedWorkflowStatusName:p,organizations:e,organizationProfiles:t,currentOrganizationProfile:o,canCreateProject:s,canManageWorkflowStatuses:r,canEditSections:this.canEditSections,filterValue:a,currentUserId:l,focusCountLimit:h,archivedProjectsVisible:u,workflowStatusCounts:f,onSetSectionDescriptionHeight:K.setSectionDescriptionHeight})}renderDialogs(){const{visibleDialogType:e,visibleDialogParams:t,loadingProject:n,previewProject:o}=this.state;switch(e){case q.DialogTypes.CREATE_PROJECT:return i.h(h.default,{oseid:t.oseid,onCreate:this.handleCreateProject,onClose:P.a.closeDialog});case q.DialogTypes.RESTRICTED_EDITOR_WARNING:return i.h(u.DismissibleOverlayDialog,{title:t.title,message:t.message,dismissPrefKey:t.dismissPrefKey,onPositiveButtonClick:this.handleDismissibleDialogPositiveButtonClick,onNegativeButtonClick:P.a.closeDialog,onClose:P.a.closeDialog,positiveButtonText:t.positiveButtonText,negativeButtonText:"CANCEL",hideNegativeButton:!1});case q.DialogTypes.PREVIEW_PROJECT:return i.h(p.default,{loading:n,onClose:P.a.closeDialog,onJoin:this.handleProjectPreviewJoin,project:o});case q.DialogTypes.COPY_BARREL:return i.h(g.a,{barrelType:G.a.PROJECT,barrelName:t.barrelName,barrelId:t.barrelId,onCopy:this.handleCopyProject,onClose:P.a.closeDialog});case q.DialogTypes.ASYNC_COPY_BARREL:return i.h(b.a,{barrelType:G.a.PROJECT,barrelName:t.barrelName,onClose:P.a.closeDialog})}}renderNoProjects(){const{organizations:e,hasPaidPlan:t,isPersonalWorkspace:n}=this.state,o=e.find(({status:e})=>"deleted"!==e);return n?i.h(S.default,{hasPaidPlan:t,availableOrganization:o,onCreate:this.handleOpenCreateProjectDialog,onCheckoutOrganization:P.a.changeSelectedOrganization}):this.renderProjectsEmptyState()}renderSuspendedOrganization(){const{selectedOrganizationId:e,selectedOrganizationSubscriptionStatus:t,currentOrganizationProfile:{role:n}}=this.state;return i.h(v.default,{organizationId:e,subscriptionStatus:t,memberRole:n})}renderProjectsEmptyState(){return!this.isOrganizationSuspended&&i.h(y.default,null)}render(){return i.h("div",{ref:Object(x.default)(this,"base"),class:"projectsContainer"},this.shouldDisplayEmptyState?i.h(i.Fragment,null,this.renderTopSection(),this.renderNoProjects()):i.h(i.Fragment,null,this.renderFocusedProjects(),this.renderTopSection(),this.isOrganizationSuspended&&this.renderSuspendedOrganization(),this.renderOfferHintbox(),this.renderProjects()),this.renderDialogs())}}t.default=L()(Object(M.default)(ie),{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1047);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1048),s=n(1054),r=n(849),a=n(1060),l=n(1075),c=n(626),d=n.n(c),u=n(543);n(1098);function p(e,t){const{onSectionClick:n,onSectionReorder:o,onWorkflowStatusChange:s,onSort:c,onToggleArchivedProjects:p,selectedSortType:h,selectedWorkflowStatusFilter:f,sections:g}=e,{selectedOrganizationId:m,canEditSections:b,archivedProjectsVisible:S}=t,y="user"===m,v=!y&&g.length>=3,C=function(e){const t=[{label:"Sort by Created",dropdownLabel:"Created",value:u.SortTypes.CREATED},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:u.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:u.SortTypes.NAME},{label:"Show Archived Projects",dropdownLabel:"Show Archived Projects",value:"showArchivedProjects",class:"archivedProjectsOption"}];return e?t:[{label:"Sort by Sections",dropdownLabel:"Sections",value:u.SortTypes.SECTIONS},...t]}(y);return i.h(i.Fragment,null,v&&i.h(a.default,{sections:g,onSectionClick:function(e){n(e),mixpanel.master.track("Navigated to project section",{"Sorted By":C.find(({value:e})=>e===h).dropdownLabel})},onSectionReorder:o,selectedSortType:h,reorderEnabled:b}),i.h(r.default,{class:"projectsSortDropdown",optionsClass:"projectsSortOptions",onChange:function(e){"showArchivedProjects"===e?p():c(e)}},C.map(({label:e,dropdownLabel:t,value:n,class:o})=>i.h(r.default.Item,{class:o,key:n,value:n,label:e,dropdownLabel:t,selected:n===h||"showArchivedProjects"===n&&S}))),!y&&i.h(l.default,{onWorkflowStatusChange:s,selectedWorkflowStatusFilter:f,defaultWorkflowStatus:d.a.All,showAllStatus:!0,showDropdownChevron:!0}))}function h(e,t){const{onCreateProject:n,onCreateSection:s}=e,{currentOrganizationProfile:r,selectedOrganizationId:a,canCreateProject:l}=t;if(!l)return null;const c=r&&r.restricted,d="user"===a;return i.h(o.default,{onCreateProject:n,canCreateSection:!c&&!d,onCreateSection:s})}t.default=function({onFilter:e,onCreateProject:t,onCreateSection:n,onSectionClick:o,onSort:r,onToggleArchivedProjects:a,onSectionReorder:l,onWorkflowStatusChange:c,filterValue:d,sections:u,selectedSortType:f,selectedWorkflowStatusFilter:g}){return i.h(s.default,{onFilter:e,filterValue:d,searchPlaceholder:"Search for a project",searchPlaceholderWidth:131,leftContent:!d&&i.h(p,{onSectionClick:o,onSectionReorder:l,onWorkflowStatusChange:c,onSort:r,onToggleArchivedProjects:a,sections:u,sortOptionsClass:"projectsSortOptionsClass",selectedSortType:f,selectedWorkflowStatusFilter:g}),rightContent:i.h(h,{onCreateProject:t,onCreateSection:n}),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(1049);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(222),a=n(718),l=n.n(a),c=n(723),d=n(771),u=n(1050);n(1053);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g({onCreateProject:e,onCreateSection:t,canCreateSection:n}){const o=Object(r.useRef)(null),[s,a]=Object(r.useReducer)((e,t)=>h(h({},e),t),{menuOpen:!1,menuOrigin:{}});function p(){if(o.current&&!s.menuOpen){const{left:e,top:t,height:n}=o.current.getBoundingClientRect(),i=28;return a({menuOpen:!s.menuOpen,menuOrigin:{x:e-i,y:t+n}})}a({menuOpen:!s.menuOpen})}return i.h("div",{class:"buttonDropdownWrapper",ref:o},i.h(c.default,{class:l()({canCreateSection:n}),onClick:e,primary:!0},"Create Project"),n&&i.h("button",{class:"buttonDropdown",onClick:p},i.h(d.IconArrowDown,{width:"9",color:"white",class:"chevron"})),s.menuOpen&&i.h(u.default.overlay,{class:"createContextMenu",onClose:p,autoPosition:{clickOrigin:s.menuOrigin}},i.h(u.default.Item,{onClick:t},"Create section")))}g.propTypes={onCreateProjectClick:s.a.func.isRequired,canCreateSection:s.a.bool,onCreateSectionClick:s.a.func},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1051);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(718),r=n.n(s),a=n(737),l=n(559),c=n(735);n(1052);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class p extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e),this.context.close()}render(){const{children:e,warning:t}=this.props;return i.h("button",{type:"button",class:r()("menuitem",{warning:t}),onClick:this.handleClick},e)}}class h extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}handleDocumentClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.base.contains(e.target)||this.handleOnClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.handleOnClose())}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0);const{onOpen:e}=this.props;e&&e()}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:o,style:s,onMouseDown:c}=this.props;return i.h("div",{ref:Object(a.default)(this,"base"),class:r()("contextMenu",o,{toLeft:t,toTop:n}),style:s,onMouseDown:c,onClick:l.stopPropagation},e)}}class f extends i.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{limitingElement:t,menuContainer:n,clickOrigin:i,preventOverflow:o,offset:s}=e,{left:r,top:a,toLeft:l,toTop:c}=this.state,d=this.nodeRefs.contextMenu.base,u=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),p="string"==typeof t?document.querySelector(t):t,h=p?window.innerWidth-p.getBoundingClientRect().x+4:0,f=i.x-u.left+2+"px";let g=i.y-u.top+2+"px";const m=i.x+h+d.offsetWidth>window.innerWidth,b=i.y+d.offsetHeight>window.innerHeight,S=u.top+window.pageYOffset;b&&o&&S<d.offsetHeight&&(g=d.offsetHeight-S+s+"px"),f===r&&g===a&&m===l&&b===c||this.setState({left:f,top:g,toLeft:m,toTop:b})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){const e=Object.assign({},this.props),{class:t,autoPosition:n}=e;delete e.autoPosition;const{left:o,top:s,toLeft:l,toTop:c}=this.state,d=n?n.zIndex:null;return i.h(h,Object.assign({},e,{toTop:c,toLeft:l,class:r()(t,{autoPositioned:!!n}),style:{left:o,top:s,zIndex:d},ref:Object(a.default)(this,"contextMenu")}))}}h.Item=p,h.ItemDivider=()=>i.h("hr",null),h.withAutoPosition=f,h.overlay=function(e){const[t,n]=Object(o.useState)({top:null,left:null}),s=Object(o.useRef)();Object(o.useLayoutEffect)(()=>{!function(){const{autoPosition:i}=e;if(!i)return;const{clickOrigin:o,menuContainer:r}=i,{left:a,top:l}=t,c="string"==typeof r?document.querySelector(r):r,d=r&&c.getBoundingClientRect(),u=d?d.right:window.innerWidth,p=d?d.bottom:window.innerHeight,h=s.current.base,f=Math.min(o.x+2,u-h.offsetWidth-12),g=Math.min(o.y+2,p-h.offsetHeight-12);f===a&&g===l||n({left:f,top:g})}()});const{class:a,autoPosition:l}=e,p=u(e,["class","autoPosition"]),{left:f,top:g}=t,m=l?l.zIndex:null;return i.h(c.default,null,i.h("div",{class:"overlayContextMenuContainer"},i.h(h,d({},p,{class:r()(a,{autoPositioned:!!l}),style:{left:f,top:g,zIndex:m},ref:s}))))},t.default=h},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1055);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(1056);n(1059);function c({class:e,filterValue:t,onFilter:n,leftContent:o,rightContent:s,searchPlaceholder:r,searchPlaceholderWidth:c,searchDisabled:d,sticky:u}){return i.h("div",{class:a()("filterBar",{sticky:u},e)},i.h("div",{class:"bumper"},o),i.h(l.default,{placeholder:r,placeholderWidth:c,value:t,onFilter:n,disabled:d}),i.h("div",{class:"bumper"},s))}c.propTypes={searchPlaceholder:s.a.string,searchPlaceholderWidth:s.a.number.isRequired,filterValue:s.a.string,onFilter:s.a.func.isRequired,leftContent:s.a.node,rightContent:s.a.node,searchDisabled:s.a.bool,sticky:s.a.bool},c.defaultProps={filterValue:"",searchDisabled:!1,sticky:!1,class:""},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1057);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771),s=n(718),r=n.n(s),a=n(737),l=n(558),c=n(540),d=n(559);n(1058);const{h:u}=i;class p extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){const{onBlur:e}=this.props;e&&e(),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e}=this.props;e&&e(),this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,200,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){Object(c.cmdKey)(e)&&e.keyCode===Zeplin.KEY_CODE.KeyF&&(e.preventDefault(),Object(l.highlightInput)(this.nodeRefs.input),this.nodeRefs.input.scrollIntoView())}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{class:e,placeholder:t,placeholderWidth:n,disabled:o,icon:s}=this.props,{focusWithin:l,value:c}=this.state,u=r()("filterInput noSelect",e,{focusWithin:l}),p=l||c?null:{width:n};return i.h("label",{onClick:d.stopPropagation,class:u},s,i.h("input",{style:p,type:"search",placeholder:t,value:c,ref:Object(a.default)(this,"input"),disabled:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}p.defaultProps={icon:i.h(o.IconMagnifier,null)},t.default=p},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1061);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(5),r=n.n(s),a=n(1062),l=n(1067),c=n(1070),d=n(543),u=n(718),p=n.n(u),h=n(643),f=n(1073);n(1074);const g=()=>i.h("hr",{class:"sectionElevatorDivider"});function m({sections:e,selectedSortType:t,reorderEnabled:n,onSectionClick:s,onSectionReorder:r}){const[u,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,v]=Object(o.useState)(null),[C,O]=Object(o.useState)(null),{initSectionObserver:E,disconnectSectionObserver:T}=Object(f.useSectionObserver)(),_=Object(o.useRef)(null),P=Object(o.useRef)(new Set),D=Object(o.useRef)(null),I=Object(o.useRef)(e);if(!e.length)return null;const j=function(e,t){if(t===d.SortTypes.SECTIONS){if("default"===e[0].type)return 1;if("individual"===e[e.length-1].type)return e.length-1}return t===d.SortTypes.NAME&&"#"===e[0].name?1:-1}(e,t);function k(){b||m(!1)}function R(e){s(e),k()}function A(e){let t=!1;const{current:n}=P,{current:i}=I;if(e.forEach(e=>{const{isIntersecting:i,target:{dataset:{id:o}},intersectionRatio:s,intersectionRect:{height:r}}=e,a=n.has(o),l=i&&(1===s||r>100);l&&!a?(n.add(o),t=!0):!l&&a&&(n.delete(o),t=!0)}),!t)return;n.forEach(e=>{i.some(t=>t._id===e)||n.delete(e)});const o=i.find(e=>n.has(e._id));o&&C!==o._id&&(window.clearTimeout(D.current),D.current=window.setTimeout(e=>{O(o._id)},80))}return Object(o.useEffect)(()=>{const e=Object(h.populateArrayOfConstantIncrements)(0,1,20);return E(new IntersectionObserver(A,{threshold:e})),function(){T()}},[]),Object(o.useLayoutEffect)(()=>{I.current=e,P.current=new Set},[e]),i.h(a.default,{key:"elevatorDragDropContainer",itemsClass:"elevatorItems",onStartDrag:function(){S(!0)},getScrollableDropContainers:function(){return[_.current]},onEndDrag:function(){S(!1),v(null)}},i.h(l.default,{open:u,class:p()("sectionElevator",{narrow:t===d.SortTypes.NAME}),dragMode:b,onOpen:function(){m(!0)},onContentRef:function(e){_.current=e},onClose:k},e.map((e,t)=>function(e){return!("individual"===e.type&&!e.projects.length||"default"===e.type&&!e.screens.length)}(e)&&i.h(i.Fragment,{key:"sectionElevatorItem-"+e._id},t===j&&i.h(g,null),i.h(c.DragDropSectionElevatorItem,{index:t+1,dragMode:b,isDragging:y===e._id,setDragSection:v,reorderEnabled:n&&"individual"!==e.type,section:e,onClick:R,highlight:C===e._id,onSectionDrop:r})))))}m.defaultProps={sections:[]},m.propTypes={sections:r.a.array,selectedSortType:r.a.string.isRequired,reorderEnabled:r.a.bool,onSectionClick:r.a.func.isRequired,onSectionReorder:r.a.func},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1063);n.d(t,"DragSource",(function(){return i.default}));var o=n(1064);n.d(t,"DropTarget",(function(){return o.default}));var s=n(1065);n.d(t,"default",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737),s=n(559);const{h:r}=i,a={allowX:!0,allowY:!0,movingThreshold:12};t.default=function(e={}){const t=Object.assign({},a,e);return Component=>class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(o.default)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=t.allowX?Math.abs(e.clientX-this.state.originX):0,i=t.allowY?Math.abs(e.clientY-this.state.originY):0;Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(e.stopPropagation(),this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){let n=this.nodeRefs.base;t.getSourceRef&&(n=t.getSourceRef(this.props)||n);const i=n.getBoundingClientRect(),o={left:e.clientX-i.left,top:e.clientY-i.top};this.dragStartTimeout=!1;const s=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:i,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:s,dragOffset:o,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:s.preventDefault},i.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737),s=n(559);const{h:r}=i;t.default=function(e={}){return Component=>class extends i.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const o=()=>{i=!1},r=this.nodeRefs.base.getBoundingClientRect(),a={x:t.left,y:t.top},{discardHorizontalPosition:l,discardVerticalPosition:c}=e;return!!Object(s.rectContainsPoint)(r,a,{discardHorizontalPosition:l,discardVerticalPosition:c})&&(e.onDrop&&e.onDrop(this.props,n,o),i)}checkHover(t,n){if(!this.acceptsItemType(n.draggingItemType,"drag"))return;const i=this.nodeRefs.base.getBoundingClientRect(),o={x:t.left,y:t.top},{discardHorizontalPosition:r,discardVerticalPosition:a}=e;if(Object(s.rectContainsPoint)(i,o,{discardHorizontalPosition:r,discardVerticalPosition:a}))return e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0));this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.h("div",{style:e.style,ref:Object(o.default)(this,"base")},i.h(Component,this.props))}}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(735),s=n(886),r=n(718),a=n.n(r),l=n(737),c=n(558),d=n(559),u=n(5),p=n.n(u);n(1066);const{h:h}=i;class f extends s.default{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:s}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:o,unregisterDropTarget:s}}render(){const{class:e,baseRef:t,items:n,onScroll:o}=this.props;return i.h("div",{class:e,ref:t,onScroll:o},n)}}function g(e){return{top:e.top+window.scrollY,left:e.left}}class m extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.scrollableDropContainers=null,this.lastScrolledDropContainer=null,this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){const{base:e,mirror:t}=this.nodeRefs;if(!t)return;cancelAnimationFrame(this.scrollRootAF);const{mirrorPosition:n}=this.state;let i=this.lastScrolledDropContainer||e;if(i.scrollHeight<=i.clientHeight&&(i=Object(c.getFirstScrollableParent)(i)||i),this.scrollableDropContainers)for(let c of this.scrollableDropContainers){const e=c.getBoundingClientRect(),t={x:n.left,y:n.top};if(Object(d.rectContainsPoint)(e,t)){i=c,this.lastScrolledDropContainer=c;break}}const o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),r=o.top-.1*o.height-s.top;if(r<0&&i.scrollTop>0)return i.scrollTop+=r,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const a=n.top-window.scrollY,l=o.top+.1*o.height-s.bottom,u=a+30-s.bottom,p=l>0?l:u;p>0&&i.scrollTop+i.offsetHeight+.1*o.height<i.scrollHeight&&(i.scrollTop+=p,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach(t=>{t.checkHover(e,this.state)})}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach(n=>{!this.props.enableDropOntoMultipleTargets&&t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)})}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:s,position:r}){const{disabled:a,getScrollableDropContainers:l}=this.props;a||(this.lastScrolledDropContainer=null,this.scrollableDropContainers=l&&l(),this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:o,dragOffset:s,mirrorPosition:g(r)},()=>{document.body.classList.add("dragging"),this.props.onStartDrag&&this.props.onStartDrag()}))}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:g(e)})}handleEndDrag(){this.props.disabled||(this.scrollableDropContainers=null,this.setState({dragging:!1},()=>{document.body.classList.remove("dragging"),this.props.onEndDrag&&this.props.onEndDrag()}))}handleBaseRef(e){Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&this.setState(e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}}))}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel),document.body.classList.remove("dragging")}render(){const{class:e,children:t,disabled:n,itemsClass:s,noScroll:r,onScroll:c}=this.props,{dragging:d,sourceRect:u,mirrorComponent:p,mirrorZIndex:h,dragData:g,mirrorPosition:m,dragOffset:b}=this.state,S=a()("dragDropItems",s,{noScroll:r});return i.h("div",{class:a()("dragDropContainer",e)},i.h(f,{class:S,onScroll:c,dragDisabled:n,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:t}),d&&i.h(o.default,null,i.h("div",{ref:Object(l.default)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${m.left-b.left}px, ${m.top-b.top}px)`,zIndex:h}},i.h(p,Object.assign({},g,{sourceRect:u})))))}}m.propTypes={onStartDrag:p.a.func,onEndDrag:p.a.func,disabled:p.a.bool,class:p.a.string,itemsClass:p.a.string,noScroll:p.a.bool,enableDropOntoMultipleTargets:p.a.bool,children:p.a.node},t.default=m},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1068);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(5),r=n.n(s),a=n(735),l=n(833),c=n.n(l),d=n(718),u=n.n(d);n(1069);function p({class:e,open:t,onOpen:n,onClose:s,onContentRef:r,dragMode:l,children:d}){const p=Object(o.useRef)(null),h=Object(o.useRef)(null),f=Object(o.useRef)(t),[g,m]=Object(o.useState)(!1),[b,S]=Object(o.useState)(!1),[y,v]=Object(o.useState)(0);function C(){n(),m(!1)}function O(){s(),S(!1)}return Object(o.useLayoutEffect)(()=>{f.current=t},[t]),Object(o.useLayoutEffect)(()=>{if(!t)return;if(h.current.scrollHeight>h.current.clientHeight)return void v(78);const e=p.current.getBoundingClientRect(),n=(e.top+e.bottom)/2,i=n/window.innerHeight,o=Math.max(n-h.current.clientHeight*i,78);v(o)},[window.innerHeight,t,h.current?h.current.clientHeight:0]),i.h(i.Fragment,null,i.h("div",{class:"elevatorIconWrapper",ref:p,onMouseEnter:function(){l||(clearTimeout(O),m(!0),setTimeout(C,300))}},i.h(c.a,null)),(g||t)&&i.h(a.default,null,i.h("div",{class:"elevatorBackdrop"},i.h("div",{class:u()("elevatorContent",{open:t,closing:b},e),style:{top:y},ref:function(e){h.current=e,r(e)},onMouseLeave:function(){!f.current||g||l||(S(!0),setTimeout(O,350))}},d))))}p.propTypes={class:r.a.string,open:r.a.bool.isRequired,onOpen:r.a.func.isRequired,onClose:r.a.func.isRequired,children:r.a.node},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1071);n.d(t,"default",(function(){return i.default})),n.d(t,"DragDropSectionElevatorItem",(function(){return i.DragDropSectionElevatorItem}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropSectionElevatorItem",(function(){return g}));var i=n(4),o=n(222),s=n(1062),r=n(834),a=n.n(r),l=n(718),c=n.n(l),d=n(559);n(1072);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=["projects","screens","components"];function h({section:e,reorderEnabled:t,highlight:n,mirror:s,isDragging:r,dragMode:l,targetPosition:d,onClick:u}){const h=Object(o.useRef)(null);return Object(o.useEffect)(()=>{n&&h.current.scrollIntoView()},[n]),i.h("div",{ref:h,class:c()("sectionElevatorItem","noSelect",d,{hidden:r,dragMode:l,mirror:s}),onClick:function(){u(e._id)}},i.h("div",{class:c()("sectionElevatorItemContent",{highlight:n})},t&&i.h("div",{class:"dragHandleWrapper"},i.h(a.a,null)),i.h("span",{className:"sectionName ellipsis"},"default"===e.type?"No Section":e.name),i.h("span",{className:"sectionItemCount"},function(e){const t=p.find(t=>t in e);return t?e[t].length:0}(e))))}const f=Object(d.pipe)(Object(s.DragSource)({itemType:"SectionElevatorItem",mirrorComponent:e=>{let t=Object.assign({},e);return i.h(h,u({mirror:!0},t))},mirrorZIndex:1e3,onStartDrag:e=>e.onStartDrag(),provideDragData:e=>e}),Object(s.DropTarget)({acceptsItemType:"SectionElevatorItem",discardHorizontalPosition:!0,onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.section._id,sourceIndex:t.dragData.index}),onHover:(e,t)=>e.onMirrorHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left}),onHoverOut:(e,t)=>e.onMirrorHoverOut({top:t.mirrorPosition.top,left:t.mirrorPosition.left})}))(h);function g(e){const t=Object(o.useRef)(null),[n,s]=Object(o.useState)("");return e.reorderEnabled?i.h(f,u({},e,{ref:t,targetPosition:n,onStartDrag:function(){const{setDragSection:t,section:{_id:n}}=e;t(n)},onMirrorHover:function(e){const{base:i}=t.current,o=i.getBoundingClientRect(),r=n?34:0,a=("top"===n?o.top+r:o.top)+(o.height-r)/2,l=e.top>=a?"bottom":"top";n!==l&&s(l)},onMirrorHoverOut:function(e){n&&s("")},onDrop:function({sourceId:t,sourceIndex:i}){if(!n)return;const{index:o,onSectionDrop:s}=e,r="bottom"===n;let a=o;i>o&&r&&(a=o+1),i<o&&!r&&(a=o-1),s({sourceId:t,sourceIndex:i,moveIndex:a})}})):i.h(h,e)}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"SectionObserverContext",(function(){return s})),n.d(t,"SectionObserverProvider",(function(){return r})),n.d(t,"useSectionObserver",(function(){return a}));var i=n(4),o=n(222);const s=i.createContext({});function r(e){const[t,n]=Object(o.useState)(null),r=Object(o.useRef)(null);return i.h(s.Provider,{value:{sectionObserver:t,initSectionObserver:function(e){n(e),r.current=e},disconnectSectionObserver:function(){r.current&&r.current.disconnect()}}},e.children)}const a=()=>Object(o.useContext)(s)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1076);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1077),s=n(1014),r=n(626),a=n.n(r),l=n(555),c=n(560);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),p(this,"handleWorkflowStatusChange",e=>{const{onWorkflowStatusChange:t}=this.props,{workflowStatus:n}=this.workflowStatuses.find(({workflowStatus:{_id:t}})=>t===e);t(n)}),p(this,"handleAddButtonClick",e=>{e.stopPropagation();const t=this.workflowStatuses.filter(({workflowStatus:{name:e}})=>e.startsWith("New Status")),{workflowStatus:{name:n}={}}=t[t.length-1]||{},i=a.a.generateNew(n);s.default.addOrganizationWorkflowStatus({workflowStatusData:i,syncWithApi:!1})}),p(this,"handleWorkflowInputBlur",(e,t,n)=>{const{_id:i}=e,o=u(u({},e),{},{name:t});i.startsWith("newWorkflowStatusId")?n?s.default.deleteOrganizationWorkflowStatus({workflowStatusId:o._id,syncWithApi:!1}):s.default.addOrganizationWorkflowStatus({workflowStatusData:o,syncWithApi:!0}):n||e.name===t||s.default.updateOrganizationWorkflowStatusName({workflowStatusId:i,name:t,syncWithApi:!0})}),p(this,"handleUpdateWorkflowStatusColor",(e,t)=>{s.default.updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:!0})}),p(this,"handleDeleteWorkflowStatus",e=>{const{count:t}=this.workflowStatuses.find(({workflowStatus:{_id:t}})=>t===e),n=1===t?"is":"are",i=1===t?"this project.":"all of these projects.";if(t)return l.create({message:`There ${n} ${Object(c.pluralize)(t,"project")} using this status. Deleting the status will remove it from ${i}`,done:{name:"DELETE",cb(){s.default.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}});const o=e.startsWith("newWorkflowStatusId");s.default.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!o})})}get workflowStatuses(){const{showAllStatus:e,hideNoStatusWhenCountIsZero:t}=this.props,{organizations:n,selectedOrganizationId:i,workflowStatusCounts:o}=this.context,{workflowStatuses:s}=n.find(({_id:e})=>e===i)||{};return function({workflowStatusCounts:e,workflowStatuses:t=[],options:{showAllStatus:n=!1,hideNoStatusWhenCountIsZero:i=!0}}){const o=[],s={workflowStatus:a.a.All};n&&o.push(s);const r=t.map(({_id:t,name:n,color:i})=>({workflowStatus:new a.a({_id:t,name:n,color:i}),count:e[t]||0}));o.push(...r);const l=e[a.a.NoStatus._id];return(l>0||!i)&&o.push({workflowStatus:a.a.NoStatus,count:l}),o}({workflowStatusCounts:o,workflowStatuses:s,options:{showAllStatus:e,hideNoStatusWhenCountIsZero:t}})}render(){const{defaultLabel:e,defaultWorkflowStatus:t,showDropdownChevron:n,dropdownAlignRight:s,showSelectedAsLabel:r,selectedWorkflowStatusFilter:a,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d,dropdownClass:u,disabled:p,onDropdownClick:h}=this.props;return i.h(o.default,{dropdownClass:u,onDropdownClick:h,workflowStatuses:this.workflowStatuses,selectedWorkflowStatusFilter:a,onWorkflowStatusChange:this.handleWorkflowStatusChange,onAddButtonClick:this.handleAddButtonClick,onWorkflowInputBlur:this.handleWorkflowInputBlur,onUpdateWorkflowStatusColor:this.handleUpdateWorkflowStatusColor,onDeleteWorkflowStatus:this.handleDeleteWorkflowStatus,defaultLabel:e,defaultWorkflowStatus:t,showSelectedAsLabel:r,showChevron:n,alignRight:s,disabled:p,openCustomizeEmptyStateInitially:l,hideStatusCount:c,hideNoStatusIfSelected:d})}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1078);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(849),s=n(723),r=n(1079),a=n(1082),l=n(1084),c=n.n(l),d=n(1092),u=n(737),p=n(718),h=n.n(p),f=n(1096),g=n(559),m=n(640),b=n(626),S=n.n(b);n(1097);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(...e){super(...e),y(this,"state",{customizing:1===this.props.workflowStatuses.length&&this.props.openCustomizeEmptyStateInitially,dropdownOpen:!1}),y(this,"handleDropdownStateChange",e=>{const{workflowStatuses:t}=this.props,n=!e&&1!==t.length;this.setState(t=>({dropdownOpen:e,customizing:!n&&t.customizing}))}),y(this,"handleCustomizeClick",e=>{e.stopPropagation(),this.setState({customizing:!0})}),y(this,"handleDoneClick",e=>{const{workflowStatuses:t,openCustomizeEmptyStateInitially:n}=this.props;(!n||t.length>1)&&(e.stopPropagation(),this.setState({customizing:!1}))}),y(this,"renderWorkflowStatusLabel",({color:e,name:t})=>i.h("div",{class:"workflowStatusDropdownLabel"},i.h(c.a,{color:Object(m.getColorName)(e)}),i.h("span",{class:"ellipsis"},t))),y(this,"renderFooter",()=>{const{customizing:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:n}=this.context;return i.h("div",{key:"workflowStatusOptionsFooter",class:h()("workflowStatusOptionsFooter",{customizing:e}),onClick:g.stopPropagation},t?i.h(s.default,{key:"customize",onClick:this.handleCustomizeClick,ninja:!0},"Customize"):i.h(d.default,{content:Object(f.default)(n.role,"customize statuses")},i.h(s.default,{ninja:!0,disabled:!0},"Customize")))}),y(this,"renderCustomize",()=>{const{workflowStatuses:e,onAddButtonClick:t,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:s}=this.props,a=e.filter(({workflowStatus:{_id:e}})=>e!==S.a.All._id&&e!==S.a.NoStatus._id);return i.h(r.default,{workflowStatuses:a,onAddButtonClick:t,onDoneButtonClick:this.handleDoneClick,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:o,onDeleteWorkflowStatus:s})}),y(this,"renderWorkflowStatusItem",({workflowStatus:{_id:e,name:t,color:n},count:s})=>{const{selectedWorkflowStatusFilter:r,onUpdateWorkflowStatusColor:l,hideStatusCount:c,hideNoStatusIfSelected:d}=this.props,u=e===r;if(d&&e===S.a.NoStatus._id&&u)return null;const p=![S.a.All._id,S.a.NoStatus._id].includes(e);return i.h(o.default.Item,{key:e,label:this.renderWorkflowStatusLabel({color:n,name:t}),value:e,selected:u},i.h("div",{class:"workflowStatusItemWrapper"},i.h(a.default,{itemId:e,selectedColor:Object(m.getColorName)(n),colorSelectable:p,onColorClick:l,selected:u}),i.h("div",{class:"label ellipsis"},t),!c&&s>0&&i.h("span",{class:"labelInfo"},s)))}),y(this,"renderWorkflowStatuses",()=>{const{workflowStatuses:e}=this.props,{customizing:t}=this.state;return i.h("div",{key:"workflowStatusOptions",class:h()("workflowStatusDropdownOptionsWrapper",{customizing:t})},e.map(e=>this.renderWorkflowStatusItem(e)))})}componentDidUpdate(e,t){const{workflowStatuses:n,openCustomizeEmptyStateInitially:i}=this.props;if(e.workflowStatuses.length!==n.length&&i){const e=n.length,i=e>1&&t.customizing&&t.dropdownOpen;1===e||i?this.setState({customizing:!0}):e>1&&!t.dropdownOpen&&this.setState({customizing:!1})}}render(){const{dropdownClass:e,onWorkflowStatusChange:t,disabled:n,defaultLabel:s,defaultWorkflowStatus:r,showChevron:a,alignRight:l,showSelectedAsLabel:c,onDropdownClick:d}=this.props,{customizing:p,dropdownOpen:f}=this.state,g=h()("workflowStatusFilter",e,{dropdownOpen:f}),m=r?this.renderWorkflowStatusLabel(r):s;return i.h(o.default,{class:g,ref:Object(u.default)(this,"dropdown"),defaultLabel:m,showSelectedAsLabel:c,optionsClass:"workflowStatusOptions",onChange:t,onDropdownClick:d,onDropdownStateChange:this.handleDropdownStateChange,disableClosingWithESC:p,showCheck:!1,showChevron:!!a,alignRight:!!l,disabled:n},this.renderWorkflowStatuses(),this.renderFooter(),p&&this.renderCustomize())}}t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1080);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(1081),r=n(1089),a=n(1092),l=n(559),c=n(718),d=n.n(c),u=n(737);n(1095);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),p(this,"state",{inputFocused:!1,discard:!1,scrolling:!1}),p(this,"updateScrolling",()=>{const{scrolling:e}=this.state,{workflowStatusItemsWrapper:t}=this.nodeRefs||{};t&&(t.clientHeight<t.scrollHeight&&!e?this.setState({scrolling:!0}):t.clientHeight===t.scrollHeight&&e&&this.setState({scrolling:!1}))}),p(this,"handleInputDeleteClick",(e,t)=>{e.stopPropagation();const{onDeleteWorkflowStatus:n}=this.props;n(t._id)}),p(this,"handleInputFocus",()=>{this.setState({inputFocused:!0})}),p(this,"handleInputBlur",(e,t)=>{const{onWorkflowInputBlur:n}=this.props,{discard:i}=this.state,o=t._id.startsWith("newWorkflowStatusId")&&e.relatedTarget&&e.relatedTarget.className.includes("inputDelete")&&e.relatedTarget.previousSibling.firstChild.value===t.name,s=i||o||!e.target.value;n(t,e.target.value,s),this.setState({discard:!1,inputFocused:!1})}),p(this,"handleKeyDown",e=>{e.stopPropagation();const{onDoneButtonClick:t}=this.props,{inputFocused:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(n?this.setState({discard:!0},()=>{e.target.blur()}):t(e)),e.keyCode===Zeplin.KEY_CODE.ENTER&&e.target.blur()}),p(this,"renderAddButton",()=>{const{workflowStatuses:{length:e},onAddButtonClick:t}=this.props;return 20===e?i.h(a.default,{content:"A workspace can have at most 20 statuses."},i.h(o.default,{ninja:!0,disabled:!0},"Add")):i.h(o.default,{key:"add",onClick:t,ninja:!0},"Add")}),p(this,"renderInputsOrEmptyState",()=>{const{workflowStatuses:e,onUpdateWorkflowStatusColor:t}=this.props;return e.length?i.h("div",{class:"workflowStatusItemsWrapper",ref:Object(u.default)(this,"workflowStatusItemsWrapper")},e.map(({workflowStatus:e})=>i.h(s.default,{key:e._id,workflowStatus:e,onUpdateWorkflowStatusColor:t,onInputFocus:this.handleInputFocus,onInputBlur:this.handleInputBlur,onInputDelete:this.handleInputDeleteClick,colorSelectable:!e._id.startsWith("newWorkflowStatusId")}))):i.h(r.default,null)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),this.updateScrolling()}componentDidUpdate(){this.updateScrolling()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selectedWorkflowStatus:e,onDoneButtonClick:t}=this.props,{scrolling:n}=this.state;return i.h("div",{class:d()("customizeWorkflowStatus",{scrolling:n}),selected:e},this.renderInputsOrEmptyState(),i.h("div",{class:"workflowStatusOptionsFooter",onClick:l.stopPropagation},this.renderAddButton(),i.h(o.default,{key:"done",onClick:t,ninja:!0},"Done")))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1082),s=n(771),r=n(737),a=n(559),l=n(640);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleInputBlur",(e,t)=>{const{onInputBlur:n}=this.props;n&&n(e,t)}),c(this,"handleInputDeleteClick",(e,t)=>{const{onInputDelete:n}=this.props;n&&n(e,t)})}componentDidMount(){const{workflowStatus:{_id:e}}=this.props;e.startsWith("newWorkflowStatusId")&&(this.nodeRefs.inputRef.select(),this.nodeRefs.inputRef.scrollIntoView())}render(){const{workflowStatus:e,colorSelectable:t,onUpdateWorkflowStatusColor:n,onInputFocus:c}=this.props,d=Object(l.getColorName)(e.color);return i.h("div",{key:e.name,class:"workflowStatusItem",onClick:a.stopPropagation},d&&i.h(o.default,{itemId:e._id,selectedColor:d,colorSelectable:t,onColorClick:n}),i.h("div",{class:"inputWrapper"},i.h("input",{ref:Object(r.default)(this,"inputRef"),type:"text",name:e.name,value:e.name,onFocus:c,onBlur:t=>this.handleInputBlur(t,e),maxLength:20})),i.h("button",{type:"button",class:"inputDelete deleteButton",onClick:t=>this.handleInputDeleteClick(t,e),tabIndex:"-1"},i.h(s.IconDelete,null)))}}d.defaultProps={colorSelectable:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1083);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1084),a=n.n(r),l=n(640),c=n(559),d=n(718),u=n.n(d),p=n(1087);n(1088);class h extends i.Component{constructor(...e){var t,n,i;super(...e),i=(e,t)=>{const{itemId:n,onColorClick:i,selectedColor:o}=this.props;t!==o&&i&&(e.stopPropagation(),i(n,new p.Color(Object(l.getColorValueByName)(t))))},(n="handleColorClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selectedColor:e,colorSelectable:t,selected:n}=this.props;return i.h("div",{class:u()("colorSelector",{selectable:t}),onClick:c.stopPropagation},i.h(a.a,{key:e+"-viewOnly",color:e,selected:n,mainColor:!0}),t&&i.h("div",{class:"colorDotsContainer"},i.h("div",{class:"colorDots"},l.colorNames.map(t=>i.h(a.a,{key:t+"-colorDot",color:t,selected:t===e,onClick:this.handleColorClick})))))}}h.propTypes={itemId:s.a.string,selected:s.a.bool,selectedColor:s.a.string,colorSelectable:s.a.bool,onColorClick:s.a.func},h.defaultProps={size:"small",colorSelectable:!0},t.default=h},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1085);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718));n(1086);t.default=({class:e,size:t="small",color:n="karl",selected:i,mainColor:r,onClick:a})=>o.h("div",{class:s.default("colorDot",e,t,n,{selected:i,mainColor:r,clickable:!!a}),onClick:e=>{null==a||a(e,n)}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(564);n.d(t,"Color",(function(){return i.default}));var o=n(610);n.d(t,"Fill",(function(){return o.default}));var s=n(613);n.d(t,"Font",(function(){return s.default}));var r=n(611);n.d(t,"Gradient",(function(){return r.default}));var a=n(606);n.d(t,"Layer",(function(){return a.default}));var l=n(632);n.d(t,"Barrel",(function(){return l.default}));var c=n(615);n.d(t,"Shadow",(function(){return c.default}))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1090);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1091);t.default=()=>i.h("div",{class:"workflowEmptyState"},i.h("div",null,"No custom status. 🤷‍♀️"),i.h("br",null),i.h("div",null,"You can create status by clicking on “Add” button"))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1093);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(735),l=n(737);n(1094);class c extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?500:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},200)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-2,o=t.left+(t.width-n.width)/2;o<12?o=12:o+n.width+12>window.innerWidth&&(o=window.innerWidth-12-n.width),i+n.height+12>window.innerHeight&&(i=i-n.height-12),e.style.transform=`translate3d(${o}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:r.stopPropagation},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.h("div",{ref:Object(l.default)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.toChildArray(e),n&&i.h(a.default,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}c.propTypes={children:s.a.oneOfType([s.a.array,s.a.node,s.a.element,s.a.object]),content:s.a.oneOfType([s.a.node,s.a.element]).isRequired,delay:s.a.number,targetClass:s.a.string},c.defaultProps={delay:500},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(563),s=n(559);function r(e){const t=s.getRoleIconName(e);return i.h("img",{src:Object(o.imageUrl)(`img/${t}.png`),srcSet:`${Object(o.imageUrl)(`img/${t}@2x.png`)} 2x, ${Object(o.imageUrl)(`img/${t}@3x.png`)} 3x`})}function a(e,t){return[i.h("p",{key:"tooltipExplanation"},"Your workspace role is ",s.getUserRoleString(e)," ",r(e)," , only ",s.getUserRoleString("rook"),"s or higher can ",t,"."),i.h("p",{key:"tooltipLink"},i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact workspace Admins to update your role!")]}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1100);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1101),s=n(1166),r=n(1169);n(1172);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"handleProjectClick",(e,t)=>{this.props.onProjectClick(e,t,!0)}),a(this,"renderFocusedProject",e=>{const{currentOrganizationProfile:t}=this.context,{highlightedProjects:n,firstHighlightedProject:s,pinnedBarrelOnce:r,sections:a,onDelete:l,onInvite:c,onTransferOwnership:d,onArchive:u,onLeave:p,onProjectHover:h,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,onOpenCopyProjectDialog:S,onUnpin:y}=this.props,v=n.includes(e._id),C=!r&&s===e._id;return i.h(o.default,{key:e._id,sections:a,onProjectHover:v?h:null,onClick:this.handleProjectClick,project:e,currentUser:t,onArchive:u,onLeave:p,onTransferOwnership:d,onDelete:l,onInvite:c,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,onOpenCopyProjectDialog:S,highlight:v,scroll:C,pinned:!0,onUnpin:y,cardVisible:!0,selectable:!1})})}render(){const{projects:e,onScrollToUnpinnedBarrel:t,onRemoveUnpinned:n}=this.props;return e.length?i.h("section",{class:"focusedProjects"},i.h(s.default,null,e.map(e=>e.unpinned?i.h(r.default,{barrelId:e._id,onScrollToUnpinnedBarrel:t,onDismiss:n}):this.renderFocusedProject(e)))):null}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1102);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1103),s=n(1143),r=n(1150),a=n(1153),l=n(873),c=n(942),d=n(1155),u=n(1158),p=n(559),h=n(556),f=n(1159),g=n(718),m=n.n(g),b=n(737),S=n(543),y=n(574),v=n.n(y),C=n(1160),O=n(1163),E=n(544),T=n(1164);n(1165);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends i.Component{constructor(...e){super(...e),_(this,"transferOwnershipPayload",{}),_(this,"projectThumbnailObserver",null),_(this,"state",{transferOwnershipPopupVisible:!1,moveProjectToSectionPopupVisible:!1,visibleDialogType:null,contextMenu:null,projectThumbnail:null}),_(this,"showTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!0})}),_(this,"hideTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!1})}),_(this,"showMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!0})}),_(this,"hideMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!1})}),_(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.ARCHIVE})}),_(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.LEAVE})}),_(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:S.DialogTypes.DELETE})}),_(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:S.DialogTypes.TRANSFER})}),_(this,"generateShortlink",()=>{Object(T.fetchShortlink)(this.webURL)}),_(this,"handlePopoverClose",()=>{const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;e?this.hideTransferOwnershipPopup():t&&this.hideMoveProjectToSectionPopup()}),_(this,"handleDialogClose",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null})}),_(this,"handleContextMenu",e=>{this.setState({contextMenu:{origin:e}})}),_(this,"handleContextMenuClose",()=>{this.setState({contextMenu:null})}),_(this,"handleJoinFromContextMenu",()=>{const{project:{_id:e},onJoin:t}=this.props;t({pid:e,shouldLoadBarrel:!1})}),_(this,"handleJoinFromCard",e=>{e.stopPropagation();const{project:{_id:t},onJoin:n}=this.props;n({pid:t,shouldLoadBarrel:!0})}),_(this,"handleArchive",()=>{const{project:{_id:e},onArchive:t}=this.props;this.handleDialogClose(),t({pid:e})}),_(this,"handleActivate",()=>{const{project:{_id:e},onActivate:t}=this.props;t({pid:e})}),_(this,"handleDelete",()=>{const{project:{_id:e},onDelete:t}=this.props;t({pid:e})}),_(this,"handleLeave",()=>{const{project:{_id:e},currentUser:t,onLeave:n}=this.props;this.handleDialogClose(),n({bid:e,mid:t.user._id})}),_(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,project:{_id:n,users:i}}=this.props;t({container:this.nodeRefs.base,pid:n,users:i,oid:e}),this.hideTransferOwnershipPopup()}),_(this,"handleMoveProjectToSection",e=>{const{project:{_id:t},onMoveProjectToSection:n}=this.props;this.setState({moveProjectToSectionPopupVisible:!1},()=>n(t,e))}),_(this,"handleCreateNewSection",()=>{const{project:{_id:e},onCreateNewSection:t}=this.props;t(e)}),_(this,"handleRemoveProjectFromSection",()=>{const{project:{_id:e},sections:t=[],onMoveProjectToSection:n}=this.props,[i]=t;n(e,i._id)}),_(this,"handleOpenCopyBarrelDialog",()=>{const{project:{_id:e,name:t},onOpenCopyProjectDialog:n}=this.props;n({barrelId:e,barrelName:t})}),_(this,"handleCopyWebLink",()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(Object(T.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project",Source:"Workspace",project_id:e})}),_(this,"handleCopyAppUri",()=>{const{project:{_id:e},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project",Source:"Workspace",project_id:e})}),_(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e}=this.context,{onTransferOwnership:t,project:{_id:n},currentUser:i}=this.props,{selected:o,toOrganization:s}=this.transferOwnershipPayload;this.handleDialogClose(),t({pid:n,fromUserId:i.user._id,targetId:o,toOrganization:s,oid:e})}),_(this,"handleIntersection",e=>{0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.nodeRefs.base&&(this.projectThumbnailObserver.unobserve(this.nodeRefs.base),this.setState({projectThumbnail:this.props.project.thumbnail||null}))},{timeout:300}):cancelIdleCallback(this.cropTimeout)}),_(this,"handleBaseRef",e=>{Object(b.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}get webURL(){return Object(h.urlResolve)("project",{url:{bid:this.props.project._id}})}get appURI(){return`${E.ZPL_PROTOCOL}//project?pid=${this.props.project._id}`}get isPopoverOpen(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e||t}get targetSectionsForMovePopup(){const{project:{_id:e},sections:t=[]}=this.props;return t.filter(t=>"individual"!==t.type&&!t.projects.includes(e))}get removeFromSectionsVisible(){const{project:{_id:e},sections:t=[]}=this.props,n=t.find(t=>t.projects.includes(e));return n&&"individual"!==n.type}componentDidMount(){const{scroll:e,onScrolled:t}=this.props,{base:n}=this.nodeRefs;e&&(n.scrollIntoView(),t&&t()),this.projectThumbnailObserver=Object(u.getThumbnailObserver)(),this.projectThumbnailObserver.observe(n,this.handleIntersection)}componentWillReceiveProps(e){const{projectThumbnail:t}=this.state;null!==t&&e.project.thumbnail!==t&&this.setState({projectThumbnail:e.project.thumbnail})}componentDidUpdate(e,t){const{project:{_id:n},scroll:i,onProjectDidMount:o}=this.props,{scroll:s}=e;o&&o(n,this.nodeRefs.base),!s&&i&&this.nodeRefs.base.scrollIntoView()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.projectThumbnailObserver.unobserve(this.nodeRefs.base)}renderPopoverContent(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e?this.renderTransferOwnershipPopup():t?this.renderMoveProjectToSectionsPopup():null}renderTransferOwnershipPopup(){const{project:{users:e}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:r}=this.context,a=Object(f.getTransferableUsers)(e,r,n),l=Object(f.getTransferableOrganizations)(t,o,n);return i.h(s.default,{barrelType:v.a.PROJECT,users:a,organizations:l,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderMoveProjectToSectionsPopup(){return i.h(r.default,{barrelType:v.a.PROJECT,sections:this.targetSectionsForMovePopup,onSelect:this.handleMoveProjectToSection})}renderContextMenu(){const{contextMenu:e}=this.state;if(!e)return null;const{currentUser:t,project:n}=this.props;return i.h(a.default,{currentUser:t,project:n,moveToSectionVisible:!!this.targetSectionsForMovePopup.length,removeFromSectionsVisible:this.removeFromSectionsVisible,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onJoin:this.handleJoinFromContextMenu,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onLeave:this.openLeaveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.showTransferOwnershipPopup,onInvite:this.handleInvite,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,onMoveProjectToSection:this.showMoveProjectToSectionPopup,onCreateNewSection:this.handleCreateNewSection,onRemoveProjectFromSection:this.handleRemoveProjectFromSection,onCopyProject:this.handleOpenCopyBarrelDialog,autoPosition:{clickOrigin:e.origin}})}renderDialog(e){const{organizations:t}=this.context,{project:{name:n,users:o}}=this.props,{selected:s,toOrganization:r}=this.transferOwnershipPayload;if(e===S.DialogTypes.DELETE)return i.h(d.default,{title:"Enter the name of the project to confirm:",placeholder:"Project name",confirmationText:n,onDelete:this.handleDelete,onClose:this.handleDialogClose});let a,l,u;if(e===S.DialogTypes.TRANSFER){let e;e=r?t.find(e=>e._id===s).name:o.find(e=>e.user._id===s).user.username,a="TRANSFER",l=`Transfer ownership of “${n}” to ${e}?`,u=this.handleTransferOwnership}return e===S.DialogTypes.LEAVE&&(a="LEAVE",l=`Leave “${n}”?`,u=this.handleLeave),e===S.DialogTypes.ARCHIVE&&(a="ARCHIVE",l=`Archive “${n}”?`,u=this.handleArchive),i.h(c.BasicOverlayDialog,{positiveButtonText:a,onPositiveButtonClick:u,onClose:this.handleDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:l})}render(){const{filterValue:e}=this.context,{visibleDialogType:t,projectThumbnail:n}=this.state,{project:{_id:s,name:r,type:a,users:c,updated:d,status:u,workflowStatus:f},moveCubukPosition:g,dragging:b,highlight:S,onClick:y,onProjectHover:v,pinned:E,shouldDisplayPinWarningAuntie:T,onPinWarningAuntieAction:_,onPin:P,onUnpin:D,onMouseDown:I,isSelected:j,hasHover:k,onSelect:R,selectionModeEnabled:A,selectable:w,cardVisible:N}=this.props,L=Object(h.urlResolve)("project",{url:{bid:s}}),M=N?c.sort(p.sortBy.role):[],x=i.h(C.default,{top:12,height:191}),U="archived"===u;return i.h("div",{class:"projectWrapper"},i.h("div",{class:"projectPaddingArea left"},g===O.CUBUK_POSITION.LEFT&&x),i.h("div",{class:"projectCardWrapper"},i.h(l.default,{open:this.isPopoverOpen,onClose:this.handlePopoverClose,content:this.renderPopoverContent(),top:-12,left:-236,faceTop:!0,overlay:!0},i.h(o.default,{id:s,class:m()("projectCard",{dragging:b,hovered:k}),baseRef:this.handleBaseRef,onClick:y,onHover:v,link:L,type:a,name:r,members:M,source:n,updated:d,filterValue:e,onContextMenu:this.handleContextMenu,contextMenu:this.renderContextMenu(),highlight:S,archived:U,pinned:E,shouldDisplayPinWarningAuntie:T,onPinWarningAuntieAction:_,onPin:P,onUnpin:D,onJoin:this.handleJoinFromCard,onMouseDown:I,workflowStatus:f,onSelect:R,isSelected:j,selectionModeEnabled:A,selectable:w}),t&&this.renderDialog(t))),i.h("div",{class:"projectPaddingArea right"},g===O.CUBUK_POSITION.RIGHT&&x))}}t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(1104);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SpaceCardMirror",(function(){return E}));var i=n(4),o=n(5),s=n.n(o),r=n(1105),a=n(1109),l=n(723),c=n(1130),d=n(1075),u=n(1133),p=n(719),h=n.n(p),f=n(1139),g=n(696),m=n(718),b=n.n(m),S=n(737),y=n(559),v=n(626),C=n.n(v);n(1142);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=({source:e,users:t,type:n,name:o})=>{const s=t.sort(y.sortBy.role);return i.h("div",{class:"spaceCard noSelect mirror"},i.h(r.default,{source:e,isMirror:!0}),i.h(a.default,{name:o,type:n,members:s}))};class T extends i.Component{constructor(...e){super(...e),O(this,"state",{showPinWarningAuntie:!1,showWorkflowStatusAuntie:!1,visited:!1}),O(this,"showPinWarningAuntie",()=>{document.addEventListener("scroll",this.hidePinWarningAuntie,!0),document.addEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!0})}),O(this,"hidePinWarningAuntie",()=>{document.removeEventListener("scroll",this.hidePinWarningAuntie,!0),document.removeEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!1})}),O(this,"handleClick",e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;!i&&t&&t(e,n)}),O(this,"handleCardClick",e=>{const{onClick:t,id:n,selectionModeEnabled:i}=this.props;i?this.handleCardCheckboxClick(e):t&&t(e,n)}),O(this,"handleMouseEnter",()=>{const{onHover:e,id:t,selectionModeEnabled:n}=this.props;e&&e(t),n&&!this.isUserJoined&&this.setState({visited:!0})}),O(this,"handleCardCheckboxClick",e=>{e.preventDefault();const{onSelect:t,id:n}=this.props;t(n)}),O(this,"handleContextMenu",e=>{e.preventDefault();const{onContextMenu:t,selectionModeEnabled:n}=this.props;t&&!n&&t({x:e.clientX-12,y:e.clientY-12})}),O(this,"handleOptionsClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,onContextMenu:n}=this.props;if(n){const e=this.nodeRefs.optionsButton.getBoundingClientRect();n({x:e.left+12,y:e.top-12},t)}}),O(this,"handlePinButtonClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,pinned:n,shouldDisplayPinWarningAuntie:i,onPin:o,onUnpin:s}=this.props;n?s(t):i?this.showPinWarningAuntie():o(t)}),O(this,"handlePinAnyway",()=>{const{id:e,onPin:t,onPinWarningAuntieAction:n}=this.props;t(e),n({pinnedAnyway:!0}),this.hidePinWarningAuntie()}),O(this,"handleHideAuntie",()=>{const{onPinWarningAuntieAction:e}=this.props;e({pinnedAnyway:!1}),this.hidePinWarningAuntie()}),O(this,"handleWorkflowStatusChange",e=>{const{id:t}=this.props;e._id===C.a.NoStatus._id?g.default.deleteWorkflowStatus({bid:t,syncWithApi:!0}):g.default.updateWorkflowStatus({bid:t,workflowStatus:e,syncWithApi:!0})}),O(this,"handleWorkflowStatusDropdownClick",e=>{e.stopPropagation(),this.setState({showWorkflowStatusAuntie:!0})}),O(this,"handleWorkflowStatusAuntieClick",()=>{this.setState({showWorkflowStatusAuntie:!1})}),O(this,"renderPinButtonAndAuntie",()=>{if(!this.canPin)return null;const{focusCountLimit:e}=this.context,{pinned:t}=this.props,{pinWarningAuntieVisible:n}=this.state;return i.h("div",{class:"pinButtonContainer"},i.h(u.default,{class:"pinButton",pinned:t,onClick:this.handlePinButtonClick}),n&&i.h(f.default,{class:"pinWarningAuntie",content:`You can only pin ${e} projects at once. Pinning this project will unpin the oldest.`,popover:!0,buttonText:"OK, got it!",actionButton:{text:"Pin anyway",callback:this.handlePinAnyway},hideCallback:this.handleHideAuntie}))}),O(this,"renderActionButtons",()=>i.h(i.Fragment,null,this.canSelect&&i.h("label",{class:"cardCheckbox",onClick:this.handleCardCheckboxClick},i.h(h.a,{class:"round",checked:this.props.isSelected})),this.renderPinButtonAndAuntie(),i.h(c.default,{class:"optionsButton",baseRef:Object(S.default)(this,"optionsButton"),onClick:this.handleOptionsClick}))),O(this,"renderCardActions",()=>{const{showWorkflowStatusAuntie:e}=this.state,{canManageWorkflowStatuses:t,currentOrganizationProfile:{role:n}={}}=this.context,{archived:o,contextMenu:s,workflowStatus:r,selectionModeEnabled:a}=this.props,l=!this.isPersonalWorkspace&&r;return i.h("div",{class:b()("cardActions",{archivedCardActions:o})},i.h("div",{class:"cardButtons",onClick:y.stopPropagation},this.renderActionButtons(),s),l&&i.h("div",{className:"spaceCardWorkflowStatusContainer"},i.h(d.default,{dropdownClass:"spaceCardWorkflowStatusDropdown",onDropdownClick:!t&&this.handleWorkflowStatusDropdownClick,onWorkflowStatusChange:this.handleWorkflowStatusChange,selectedWorkflowStatusFilter:r._id,defaultWorkflowStatus:C.a.NoStatus,disabled:o||a,openCustomizeEmptyStateInitially:!0,dropdownAlignRight:!0,hideNoStatusIfSelected:!0,hideStatusCount:!0,hideNoStatusWhenCountIsZero:!1}),e&&i.h(f.default,{class:"workflowStatusAuntie",content:`Your workspace role is ${Object(y.getUserRoleString)(n)}, only ${Object(y.getUserRoleString)("rook")}s or higher can customize statuses.`,popover:!0,anchor:"top",buttonText:"OK, got it!",hideCallback:this.handleWorkflowStatusAuntieClick})))}),O(this,"renderContent",()=>{const{source:e,archived:t,name:n,type:o,link:s,updated:l,members:c,filterValue:d,selectionModeEnabled:u}=this.props,p=i.h(i.Fragment,null,i.h(r.default,{source:e}),i.h(a.default,{filterValue:this.shouldHighlightWhenSearched?d:"",members:c,name:n,type:o,updated:l}));return t?i.h("div",{class:b()({archived:t})},p):i.h("a",{onClick:this.handleClick,href:this.isUserJoined&&!u?s:null,"data-link-type":"inApp"},p)}),O(this,"renderBottomOverlay",()=>this.isUserJoined?null:i.h("span",{onClick:y.stopPropagation,className:"unjoinedOverlay"},"Not joined yet, ",i.h(l.default,{class:"joinButton",ninja:!0,onClick:this.props.onJoin},"join now"),"."))}get isPersonalWorkspace(){return"user"===this.context.selectedOrganizationId}get isUserJoined(){return this.props.members.some(({user:e})=>e._id===this.context.currentUserId)}get canSelect(){const{selectable:e}=this.props,{selectedOrganizationId:t,canCreateProject:n}=this.context;return e&&n&&"user"!==t}get canPin(){const{archived:e,pinnable:t}=this.props,{selectedOrganizationId:n}=this.context;return t&&!e&&"user"!==n}get shouldHighlightWhenSearched(){return this.props.selectable}componentDidUpdate(e){const{selectionModeEnabled:t}=this.props;!t&&e.selectionModeEnabled&&this.setState({visited:!1})}render(){const{highlight:e,workflowStatus:t,onMouseDown:n,baseRef:o,class:s,selectionModeEnabled:r,isSelected:a,pinned:l,contextMenu:c}=this.props,{visited:d}=this.state,u=b()("spaceCard","noSelect",{highlight:e,noStatus:t&&t._id===C.a.NoStatus._id,isSelected:a,selectionModeEnabled:r,visited:d,multiselect:this.canSelect,pinned:l,contextMenuOpen:!!c},s);return i.h("div",{onContextMenu:this.handleContextMenu,onClick:this.handleCardClick,onMouseEnter:this.handleMouseEnter,onMouseDown:n,class:u,ref:o},this.renderCardActions(),this.renderContent(),this.renderBottomOverlay())}}T.propTypes={id:s.a.string.isRequired,source:s.a.string,archived:s.a.bool,highlight:s.a.bool,name:s.a.string.isRequired,type:s.a.string.isRequired,link:s.a.string.isRequired,updated:s.a.string.isRequired,members:s.a.array.isRequired,filterValue:s.a.string,onContextMenu:s.a.func,contextMenu:s.a.element,pinned:s.a.bool,pinnable:s.a.bool,onPin:s.a.func,onUnpin:s.a.func,shouldDisplayPinWarningAuntie:s.a.bool,onPinWarningAuntieAction:s.a.func,onSelect:s.a.func,isSelected:s.a.bool,selectable:s.a.bool,selectionModeEnabled:s.a.bool},T.defaultProps={selectable:!0,pinnable:!0},t.default=T},function(e,t,n){"use strict";n.r(t);var i=n(1106);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1107),s=n.n(o),r=n(718),a=n.n(r);n(1108);class l extends i.Component{constructor(e){super(e),this.handleImageLoad=this.handleImageLoad.bind(this),this.state={source:null,loading:!1}}handleImageLoad(){this.setState({loading:!1})}componentDidMount(){const{source:e}=this.props;this.setState({source:e,loading:!!e})}componentWillReceiveProps(e){const{source:t}=this.state;e.source!==t&&this.setState({source:e.source,loading:!0})}render(){const{loading:e,source:t}=this.state,n=a()("cardThumbnailFrame",{breathe:e});return i.h("div",{class:n},t&&i.h(s.a,{class:"cardThumbnail",source:t,onLoad:this.handleImageLoad,width:270,height:92}))}}t.default=l},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=n(563);class a extends o.Component{constructor(){super(...arguments),this.state={src:null,srcset:null},this.imgRef=s.useRef(),this.handleError=()=>{const{source:e}=this.props;if(!e)return null;if(!this.dimensions)return;const{width:t,height:n}=this.dimensions;Promise.all([r.cropImage(e,{width:t,height:n}),r.cropImage(e,{width:2*t,height:2*n})]).then(([e,t])=>{this.setState({src:e,srcset:t})})}}get dimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};if(!this.imgRef.current)return null;const{width:n,height:i}=this.imgRef.current;return{width:n,height:i}}load(e){if(!this.dimensions)return;const{src:t,srcset:n}=r.getResizedImageSources(e,this.dimensions);this.setState({src:t,srcset:n})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:s}=n,r=i(n,["source"]);return o.h("img",Object.assign({},r,{src:e,srcSet:t,onError:this.handleError,ref:this.imgRef}))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1110);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1111),s=n(558);n(1129);const r=Object.freeze({base:"BASE",android:"ANDROID",ios:"iOS",osx:"macOS",web:"WEB"});function a({type:e,filterValue:t}){const n=r[e];if(!t)return i.h("div",{class:"type"},n);const o=n.toLowerCase();return new RegExp(`\\s*\\b${o}\\b\\s*`,"ig").test(t)?i.h("div",{class:"type"},i.h("span",{class:"highlight"},n)):i.h("div",{class:"type"},n)}function l({name:e,filterValue:t}){if(!t)return i.h("div",{title:e,class:"name ellipsis"},e);const n=Object(s.highlightMatchedParts)(e,t,{caseInsensitive:!0});return i.h("div",{title:e,class:"name ellipsis",dangerouslySetInnerHTML:{__html:n}})}t.default=function({members:e=[],name:t,type:n,updated:s,filterValue:r=""}){return i.h("div",{class:"cardInfo"},i.h("div",{class:"subInfo"},i.h(a,{type:n,filterValue:r}),i.h("time-ago",{type:"time-ago",format:"micro",class:"updated",datetime:s})),i.h(l,{name:t,filterValue:r}),i.h(o.default,{members:e}))}},function(e,t,n){"use strict";n.r(t);var i=n(1112);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(855),s=n.n(o),r=n(558),a=n(718),l=n.n(a),c=n(1113);n(1128);function d(e,t){return"invited"!==e.status?e.username+("user"!==t?` (${e.email})`:""):`Pending… (${e.email})`}function u({remainingMembers:e,currentMemberRole:t,class:n}){const o="+"+e.length,s=e.map(e=>d(e.user,t)).join("\n");return i.h("div",{class:l()("remainingMembers",n),title:s},o)}function p({member:e,avatarSize:t,currentMemberRole:n,showCardOnHover:o}){const{user:a}=e,l=Object(r.getUserAvatar)(a).src,u=d(a,n),p=i.h(s.a,{class:o?null:"avatar",src:l,title:o?null:u,size:t});return o?i.h(c.default,{class:"avatar",member:e},p):p}t.default=function({members:e,memberLimit:t=7,currentMemberRole:n,class:o,remainingMembersClass:s,avatarSize:r=30,stacked:a,showCardOnHover:c=!1}){const d=e.slice(0,t-1),h=e.length;let f;return h>t?f=i.h(u,{class:s,key:"remainingMembers",currentMemberRole:n,remainingMembers:e.slice(t-1)}):h===t&&(f=i.h(p,{key:"lastUser",member:e[h-1],avatarSize:r,currentMemberRole:n,showCardOnHover:c})),i.h("div",{class:l()("memberAvatarList",o,{stacked:a})},d.map(e=>i.h(p,{key:e.user._id,member:e,avatarSize:r,currentMemberRole:n,showCardOnHover:c})),f)}},function(e,t,n){"use strict";n.r(t);var i=n(1114);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(873),a=n(1115),l=n(682),c=n(681),d=n(737),u=n(718),p=n.n(u),h=n(582),f=n.n(h),g=n(845),m=n.n(g);n(1127);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{open:this.props.open||!1}),b(this,"popoverMouseEventTimer",null),b(this,"handleMouseEnter",()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout(()=>{this.setState({open:!0}),t&&t(!0)},300))}),b(this,"handleMouseLeave",()=>{const{open:e,onVisibilityChange:t}=this.props;e||(clearTimeout(this.popoverMouseEventTimer),this.popoverMouseEventTimer=setTimeout(()=>{this.setState({open:!1}),t&&t(!1)},100))}),b(this,"handleUserProfileCardContentChange",()=>{this.componentRefs&&this.componentRefs.userProfileCardPopoverContainer.positionPopover()})}static calculateState(e,t){const{userId:n,member:i}=t;if(i){const{user:e,tags:t}=i;return{user:e,tags:t}}const{selectedOrganizationId:o}=f.a.SpaceStore.getState(),{organizationId:s}=f.a.BarrelStore.getState(),{members:r=[]}=l.default.getOrganization(s||o)||{},{users:a=[]}=c.default.getBarrel()||{},d=[...r,...a],{user:u,tags:p}=d.find(e=>e.user._id===n)||{};return{user:u,tags:p}}static getStores(){return[f.a.SpaceStore,f.a.OrganizationStore,f.a.BarrelStore,f.a.ProjectsDataStore,f.a.StyleguidesDataStore]}componentDidUpdate(){this.handleUserProfileCardContentChange()}componentWillUnmount(){clearTimeout(this.popoverMouseEventTimer)}render(){if(!this.state.user)return;const{targetNode:e,topOffset:t,openToLeft:n,class:o,contentClass:s,originParent:l,children:c}=this.props,{user:u,tags:h,open:f}=this.state;return i.h(r.default,{ref:Object(d.default)(this,"userProfileCardPopoverContainer","componentRefs"),class:p()("userProfileCardPopoverContainer",o),targetNode:e,content:i.h(a.default,{user:u,tags:h,onContentChange:this.handleUserProfileCardContentChange}),contentClass:p()("userProfileCardPopoverContainerContent",s),originParent:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,left:19,topOffset:t,bottomOffset:6,offsetX:6,openToLeft:n,open:f,centerY:!0,stickToEdge:!0,showAnchor:!0,centerAnchorVerticaly:!0},c)}}S.propTypes={targetNode:s.a.object,userId:s.a.string,member:s.a.object,topOffset:s.a.number,openToLeft:s.a.bool,open:s.a.bool,class:s.a.string,contentClass:s.a.string,originParent:s.a.object,children:s.a.node,onVisibilityChange:s.a.func},S.defaultProps={topOffset:58,openToLeft:!0},t.default=m()(S,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1116);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(855),a=n.n(r),l=n(723),c=n(1092),d=n(1117),u=n(1119),p=n(771),h=n(558),f=n(556),g=n(718),m=n.n(g),b=n(737);n(1126);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"handleEmailCopy",()=>{Object(h.copyContent)({content:this.props.user.email,toastContainer:this.nodeRefs.userProfileCard})}),S(this,"renderTags",()=>{if(!this.hasTags)return null;const{tags:e}=this.props;return i.h("div",{class:"userProfileCardTagsContainer"},e.map(e=>i.h("div",{key:e,class:"userProfileCardTag ellipsis"},e)))})}get actionButtonText(){const{fullName:e,bio:t}=this.props.user;let n="Add";return e||(n+=" full name",t||(n+=" and")),t||(n+=" bio"),n}get hasTags(){const{tags:e}=this.props;return Boolean(e&&e.length)}componentDidUpdate(){const{onContentChange:e}=this.props;e&&e()}render(){const{user:e}=this.props,{src:t,srcset:n}=Object(h.getUserAvatar)(e,{size:64}),{_id:o,username:s,email:r,fullName:g,bio:S,status:y}=e,v=Boolean(S),C=!(g&&S||o!==Zeplin.user._id),O=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.IMAGE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING],E="invited"===y;return i.h("div",{ref:Object(b.default)(this,"userProfileCard"),class:m()("userProfileCard",{hasBio:v,hasTags:this.hasTags,footerVisible:C})},i.h("div",{class:"userProfileCardHeader"},i.h(a.a,{class:"userProfileCardAvatar",src:t,srcset:n,size:64}),i.h("div",{class:"userProfileCardMetaData"},Boolean(g)&&i.h("div",{class:"userProfileCardFullName ellipsis",title:g},i.h("strong",null,g)),Boolean(s)&&i.h("div",{class:"userProfileCardUsername ellipsis",title:s},"@",s),i.h("div",{class:m()("userProfileCardEmail",{userProfileCardSubInfo:!E}),title:r},i.h("span",{class:"ellipsis"},r),i.h(c.default,{targetClass:"userProfileCardCopyEmailButtonContainer",content:"Copy email address"},i.h(l.default,{onClick:this.handleEmailCopy},i.h(p.IconCopy,null)))),E&&i.h("div",{class:"userProfileCardSubInfo"},"Pending Invitation"))),(v||this.hasTags)&&i.h("div",{class:"userProfileCardBody"},v&&i.h("div",{class:"userProfileCardBio"},i.h(d.default,{disabledFeatures:O},S)),this.renderTags()),C&&i.h("div",{class:"userProfileCardFooter"},i.h("a",{target:"_blank",rel:"noopener",href:Object(f.urlResolve)("profile-account"),class:"userProfileCardActionButton button ninja"},this.actionButtonText)))}}y.propTypes={user:s.a.object,tags:s.a.array,onContentChange:s.a.func},t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1118);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(681),s=n(582),r=n.n(s),a=n(682),l=n(845),c=n.n(l),d=n(1119);class u extends i.Component{static getStores(){return[r.a.BarrelStore,r.a.OrganizationStore,r.a.ProjectsDataStore,r.a.SpaceStore,r.a.StyleguidesDataStore,r.a.UserStore]}static calculateState(){const{organizations:e}=r.a.OrganizationStore.getState(),{selectedOrganizationId:t}=r.a.SpaceStore.getState(),{barrelId:n,organizationId:i}=r.a.BarrelStore.getState(),{username:s,userId:l}=r.a.UserStore.getState(),{projects:c}=r.a.ProjectsDataStore.getState(),{styleguides:d}=r.a.StyleguidesDataStore.getState(),u=o.default.getBarrel(),{members:p=[]}=a.default.getOrganization(i||t)||{},{users:h=[]}=u||{};return{organizations:e,barrelId:n,username:s,userId:l,members:[...p,...h],barrel:u,projects:c,styleguides:d}}render(){const{children:e,disabledFeatures:t,onUpdate:n,onImageLoad:o}=this.props,{organizations:s,barrelId:r,barrel:a,username:l,userId:c,members:u,projects:p,styleguides:h}=this.state;return i.h(d.default,{disabledFeatures:t,organizations:s,barrelId:r,barrel:a,username:l,userId:c,members:u,projects:p,styleguides:h,onUpdate:n,onImageLoad:o},e)}}t.default=c()(u,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1120);n.d(t,"default",(function(){return i.default})),n.d(t,"MarkdownRules",(function(){return i.MarkdownRules})),n.d(t,"CustomRules",(function(){return i.CustomRules}))},function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownRules",(function(){return j})),n.d(t,"CustomRules",(function(){return I}));var i=n(4),o=n(210),s=n.n(o),r=n(1121),a=n(559),l=n(556),c=n(703),d=n(718),u=n.n(d),p=n(737),h=n(544),f=n(1122),g=n(564),m=n(1124);n(1125);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:S}=i,y=/#([\w-]+)/g,v=/^#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})$/i,C=/rgba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,O=/hsla?\s*\(\s*(\d*\.?\d+(?:deg)?)\s*,?\s*(\d*\.?\d+%)\s*,?\s*(\d*\.?\d+%)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,E=new RegExp(`(${h.ZPL_PROTOCOL}//\\S+)`,"g"),T=/tel:([\d+.-]+)\b/g,_=/spotify:([\w:]+)\b/g,P=/youtube\.com\/watch\?v=(\w+)/,D=/youtu\.be\/(\w+)/;s.a.setOptions({headerIds:!1,highlight(e,t,n){t?Object(m.getPrismInstance)().then(i=>{const o=i.languages[t];o||n(null,e),n(null,i.highlight(e,o))}):n(null,e)}});const I={SPOTIFY:"spotify",YOUTUBE:"youtube"},j={HEADING:"heading",TABLE:"table",IMAGE:"image",CHECKBOX:"checkbox"};class k extends i.Component{constructor(e){super(e),b(this,"disabledHeadingRenderer",(e,t)=>"#".repeat(t)+" "+e),b(this,"checkboxRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(j.CHECKBOX)?e?"[x] ":"[ ] ":`<input type="checkbox" data-index="${this.checkboxCounter++}" ${e?"checked":""}/>`}),b(this,"imageRenderer",(e,t,n)=>{const{disabledFeatures:i}=this.props,o=t||"";return i.includes(j.IMAGE)?`<a\n                href="${e}"\n                title="${o}"\n                rel="nofollow external noopener noreferrer"\n                target="_blank">${n}</a>`:`<span class="image">\n            <a href="${e}" target="_blank" rel="nofollow external noopener noreferrer">\n                <img\n                    src="${e}"\n                    srcset="${e} ${window.devicePixelRatio}x"\n                    title="${o}"\n                    alt="${n}"/>\n            </a>\n        </span>`}),b(this,"spotifyURLRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(I.SPOTIFY)?e:`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`}),b(this,"spotifyURIRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(I.SPOTIFY)?e:e.replace(_,(e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`)}),b(this,"youtubeRenderer",e=>{const{disabledFeatures:t}=this.props;if(t.includes(I.YOUTUBE))return e;let n="youtu.be"===e.hostname?D:P;const[,i]=e.href.match(n);return`<iframe\n                src="https://www.youtube.com/embed/${i}"\n                width="480" height="270"\n                frameborder="0"></iframe>`}),b(this,"linkRenderer",(e,t,n="")=>{const{barrelId:i}=this.props,o=Object(l.urlResolve)("project",{url:{bid:i}}),s=new URL(e.replace(/&amp;/g,"&"),o),r=t||"";if(s.origin===location.origin||s.protocol===h.ZPL_PROTOCOL){const t=this.parseURL(s,n!==e&&n);if(t){const e=n.startsWith("<")?n:t.anchorText;return`<a\n                    href="${t.href}"\n                    title="${r}"\n                    data-link-type="inApp">${e}</a>`}}return["spotify.com","open.spotify.com"].includes(s.hostname)?this.spotifyURLRenderer(s):["youtube.com","www.youtube.com","youtu.be"].includes(s.hostname)?this.youtubeRenderer(s):`<a href="${e}" title="${r}" rel="nofollow external noopener noreferrer" target="_blank">${n}</a>`}),b(this,"colorRenderer",e=>{const{barrelId:t,barrel:n}=this.props,i=[];return e.replace(y,(e,o)=>{let s,r=n&&n.colors.find(e=>e.name===o),a=e;if(r)s=`{{color${i.length}}}`,i.push(r.toCSS()),a=`<span class="color">${e}<span class="colorPreview" style="background-color: ${s};"></span></span>`;else if(v.test(e)){const t=g.default.fromHex(o);r=n&&n.colors.find(e=>e.equals(t));s=r?e:"",a=`<span class="color">#${r?r.name:o}<span class="colorPreview" style="background-color: ${e};"></span></span>`}if(r){const e=Object(l.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:r.id}});return this.linkRenderer(e,s,a)}return a}).replace(C,(e,...i)=>{const{r:o,g:s,b:a,a:c}=Object(r.parseRGBA)(...i),d=n&&n.colors.find(e=>e.equals({r:o,g:s,b:a,a:c}));let u;if(u=d?`<span class="color">#${d.name}<span class="colorPreview" style="background-color: ${d.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,d){const n=Object(l.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:d.id}});return this.linkRenderer(n,e,u)}return u}).replace(O,(e,...i)=>{const{h:o,s:s,l:a,a:c}=Object(r.parseHSLA)(...i),d=g.default.fromHSLA(o,s,a,c),u=n&&n.colors.find(e=>e.equals(d));let p;if(p=u?`<span class="color">#${u.name}<span class="colorPreview" style="background-color: ${u.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,u){const n=Object(l.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:u.id}});return this.linkRenderer(n,e,p)}return p}).replace(/{{color(\d+)}}/g,(e,t)=>i[parseInt(t,10)])}),b(this,"mentionRendererReplacer",e=>{const{username:t,userId:n,members:i}=this.props,o=Object(a.mentionRegexFn)(t),s=e.substring(1);let r,l=e;return i&&!a.groupMentionKeywords.includes(s)&&(r=i.find(({user:e})=>e.username===s)),r&&r.user&&r.user.fullName&&(l="@"+r.user.fullName),o.test(e)?`<span data-unique-id="${n}" class="user self">${l}</span>`:r?`<span data-unique-id="${r&&r.user._id}" class="user">${l}</span>`:l}),b(this,"mentionRenderer",e=>e.replace(/@\w+\b/g,this.mentionRendererReplacer)),b(this,"telRenderer",e=>e.replace(T,(e,t)=>`<a href="tel:${t}">${t}</a>`)),b(this,"emojiRenderer",e=>e.replace(f.default.EMOJI_CANDIDATE_REGEX,(e,t)=>{const n=f.default.searchEmoji(t);return n?n.customEmoji?`<img class="customEmoji" src="${n.emoji}" title="${t}" alt=":${t}:">`:n.emoji:`<span class="customEmojiPlainText">${e}</span>`})),b(this,"textRenderer",e=>{let t=e.replace(/&amp;/g,"&");const n=(t.match(E)||[]).sort((e,t)=>t.length-e.length);for(const i of n)t=t.replace(i,this.linkRenderer(i));return Object(a.pipe)(this.colorRenderer,this.mentionRenderer,this.telRenderer,this.spotifyURIRenderer,this.emojiRenderer,f.default.spanEmojis)(t)}),b(this,"bindCheckboxEventListeners",()=>{const{disabledFeatures:e,onUpdate:t}=this.props;if(e.includes(j.CHECKBOX)||!t)return;this.nodeRefs.base.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",this.handleChange)})}),b(this,"bindImageEventListeners",()=>{const{disabledFeatures:e,onImageLoad:t}=this.props;if(e.includes(j.IMAGE)||!t)return;this.nodeRefs.base.querySelectorAll(".image img").forEach(e=>{e.addEventListener("load",t,{once:!0})})}),b(this,"bindEventListeners",()=>{this.bindCheckboxEventListeners(),this.bindImageEventListeners()}),b(this,"convertToMarkdown",e=>{s()(e,{sanitize:!0,silent:!0},(e,t)=>{e||this.setState({markdown:t})})}),b(this,"handleChange",e=>{const{children:t,onUpdate:n}=this.props,i=parseInt(e.target.dataset.index,10);let o=-1;n(t.replace(/- \[(x| )\]/g,(e,t)=>(o++,o===i?" "===t?"- [x]":"- [ ]":e)))});const{disabledFeatures:t,children:n}=e,i={checkbox:this.checkboxRenderer,link:this.linkRenderer,image:this.imageRenderer,text:this.textRenderer};t.includes(j.HEADING)&&(i.heading=this.disabledHeadingRenderer),t.includes(j.TABLE)&&((new s.a.Lexer).tokenizer.rules.block.table={exec:()=>{}}),s.a.use({renderer:i}),this.checkboxCounter=0,this.state={markdown:n}}getBarrel(e){const{projects:t,styleguides:n}=this.props;return t[e]||n[e]||{}}parseURL(e,t){const{organizations:n,projects:i,styleguides:o,barrelId:s}=this.props,a=Object(r.parseAppLink)(e);if(!a)return null;const{url:d={},query:u={},urlSlug:p}=a;if(t)return{anchorText:t,href:Object(l.urlResolve)(p,{url:d,query:u})};const{oid:h,bid:f,sid:g}=d,m=this.getBarrel(f);let b;switch(p){case"workspace-projects":{const{name:e="Organization"}=n.find(e=>e._id===h)||{};b=e+"ʼs Projects";break}case"workspace-styleguides":{const{name:e="Organization"}=n.find(e=>e._id===h)||{};b=e+"ʼs Styleguides";break}case"projects":b="Projects";break;case"styleguides":b="Styleguides";break;case"project-screen":{const{did:e=[],cmid:t=[]}=u;if(f!==s){b=t.length?`Comment${t.length>1?"s":""} on screen of ${m.name}`:e.length?`Note${e.length>1?"s":""} on screen of ${m.name}`:"Screen in "+m.name;break}const{name:n="screen",dots:i=[]}=(m.screens||[]).find(e=>e._id===g)||{};if(e.length)if(e.length>1)b="Notes on "+n;else{const{name:o=""}=i.find(t=>t._id===e[0])||{},s=`Note #${o}, ${n}`;b=t.length?`Comment${t.length>1?"s":""} on ${s}`:s}else b=n;break}case"project-screen-version":{const{name:e="screen"}=(m.screens||[]).find(e=>e._id===g)||{};b="Version of "+e;break}case"project-styleguide":case"styleguide":b=f===s?m.name:"Styleguide";break;case"project-styleguide-colors":case"styleguide-colors":b=(f===s?"":m.name)+" Colors";break;case"project-styleguide-textstyles":case"styleguide-textstyles":b=(f===s?"":m.name)+" Text Styles";break;case"project-styleguide-spacing":case"styleguide-spacing":b=(f===s?"":m.name)+" Spacing";break;case"project-styleguide-components":case"styleguide-components":{const{query:{coid:[e]=[]}}=a;if(e){const{component:t}=Object(c.findComponentById)([...Object.values(i),...Object.values(o)].filter(e=>e.complete),e)||{};if(t){b=t.name;break}}b=(f===s?"":m.name)+" Components";break}case"styleguide-about":b=(f===s?"":m.name)+" About";break;case"project-dashboard":default:{const{sid:e=[]}=u;b=e.length?`${e.length} screens in ${f===s?"dashboard":m.name}`:f===s?"Dashboard":m.name;break}}return{anchorText:b,href:Object(l.urlResolve)(p,{url:d,query:u})}}componentDidMount(){this.bindEventListeners(),this.convertToMarkdown(this.props.children)}componentWillReceiveProps(e){e.children!==this.props.children&&this.convertToMarkdown(e.children)}componentDidUpdate(){this.bindEventListeners()}render(){const e=u()("markdown",{jumboEmojis:f.default.canWeMakeThisJumbo(this.props.children)});return i.h("div",{ref:Object(p.default)(this,"base"),class:e,dangerouslySetInnerHTML:{__html:this.state.markdown}})}}k.defaultProps={disabledFeatures:[],organizations:[]},t.default=k},function(e,t,n){"use strict";n.r(t),n.d(t,"parseAppLink",(function(){return f})),n.d(t,"parseRGBA",(function(){return S})),n.d(t,"parseHSLA",(function(){return y}));var i=n(574),o=n.n(i),s=n(544);const r=/\/workspace\/([\da-f]{24})\/(projects|styleguides)?/i,a=/\/(styleguide|project)\/([\da-f]{24})/i,l=/\/(dashboard|screen|styleguide)/,c=/\/(about|colors|textStyles|spacing|components)/i,d=/\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i;function u(e){return e===o.a.PROJECT?"dashboard":"about"}function p(e){return e===o.a.PROJECT?"colors":"about"}function h(e){const[t,n="project",i]=e.match(a)||[];if(!i)return null;const s=e.substring(t.length),[,r=u(n)]=s.match(l)||[],h={url:{pid:i,stid:i,bid:i}};if(n===o.a.STYLEGUIDE||"styleguide"===r){const[,e=p(n)]=s.match(c)||[];h.urlSlug=`${function(e){return e===o.a.PROJECT?"project-styleguide":"styleguide"}(n)}-${e.toLowerCase()}`}else if("screen"===r){const[,e,t]=s.match(d)||[];h.urlSlug=t?"project-screen-version":"project-screen",Object.assign(h.url,{sid:e,vid:t})}else h.urlSlug="project-dashboard";return h}function f(e){const t=e.origin===location.origin;return e.protocol===s.ZPL_PROTOCOL?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),o=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:o}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),o=e.searchParams.getAll("tsid"),s=e.searchParams.getAll("sptid"),r=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:o,sptid:s,coid:r}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}(e):t?function(e){const t={};if(e.pathname.startsWith("/organization")){const[,n,i="projects"]=e.pathname.match(r)||[],o=e.searchParams.getAll("pid"),s=e.searchParams.getAll("stid");t.urlSlug="workspace-"+i,t.url={oid:n},t.query={pid:o,stid:s}}else if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("/styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=h(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":case"styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":case"styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-spacing":case"styleguide-spacing":{const n=e.searchParams.getAll("sptid");t.query={sptid:n};break}case"project-styleguide-components":case"styleguide-components":{const n=e.searchParams.getAll("coid"),i=e.searchParams.getAll("seid");t.query={coid:n,seid:i};break}case"project-dashboard":{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.query={sid:n,seid:i}}}}return t}(e):null}function g(e){const t=parseFloat(e);return e.endsWith("%")?Math.round(255*t/100):t}function m(e){return parseFloat(e)/100}function b(e){const t=parseFloat(e);return e.endsWith("%")?t/100:t}function S(e,t,n,i="1"){return{r:g(e),g:g(t),b:g(n),a:b(i)}}function y(e,t,n,i="1"){return{h:(o=e,parseFloat(o)/360),s:m(t),l:m(n),a:b(i)};var o}},function(e,t,n){"use strict";n.r(t);var i=n(209),o=n.n(i),s=n(1123),r=n(560);const a=o()(),l=/:(\S+?):/g,c=/\ud83c[\udffb-\udfff]/g;function d(e){const t=e.replace(/_/g," ");return s.default.find(e=>e.aliases.includes(t))}t.default={EMOJI_CANDIDATE_REGEX:l,addCustomEmojis:function(e){const t={};Object.entries(e).forEach(([e,n])=>{const i=e.replace(/_/g," ");if(n.startsWith("alias:"))t[i]=n.substring("alias:".length);else{const e=d(i);e?e.aliases.push(i):s.default.push({emoji:n,aliases:[i],customEmoji:!0})}}),Object.entries(t).forEach(([e,t])=>{const n=d(t);n&&n.aliases.push(e)})},getSuggestedEmojis:function(e){const t=[],n=e.toLowerCase().replace(/_/g," ").trim();return s.default.forEach(e=>{for(const i of e.aliases)if(Object(r.anyWordStartsWith)(i,n)||i.startsWith(n))return void t.push({emoji:e.emoji,alias:i,customEmoji:e.customEmoji,formattedAlias:i.replace(/\s/g,"_")})}),t},searchEmoji:d,spanEmojis:function(e){return e.replace(a,e=>c.test(e)?`<span class="emoji skinType">${e}</span>`:`<span class="emoji">${e}</span>`).replace(/<\/span><span class="emoji skinType">/g,"")},formatEmojiString:function(e,t){return e.replace(l,(e,n)=>{const i=d(n);if(i){if(!i.customEmoji)return i.emoji;if(!t)return`<img class="customEmoji" src="${i.emoji}" title="${n}">`}return t?e:`<span class="customEmojiPlainText">${e}</span>`})},canWeMakeThisJumbo:function(e,t=5){const n=(e.match(a)||[]).length+(e.match(l)||[]).length,i=e.replace(a,"").replace(l,"");return!i.trim()&&i.length<=t&&n>0&&n<=t}}},function(e,t,n){"use strict";n.r(t),t.default=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";async function i(){await n.e(33).then(n.t.bind(null,2646,7));return await Promise.resolve().then(n.t.bind(null,2647,7))}n.r(t),n.d(t,"getPrismInstance",(function(){return i}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1131);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771),s=n(718),r=n.n(s),a=n(723);n(1132);t.default=function({onClick:e,baseRef:t,class:n}){const s=r()("optionsButton",n);return i.h(a.default,{secondary:!0,baseRef:t,onClick:e,class:s},i.h(o.IconSettings,null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1134);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(810),s=n.n(o),r=n(811),a=n.n(r),l=n(718),c=n.n(l),d=n(723),u=n(1135),p=n.n(u);n(1138);const h=p()((function({pinned:e,class:t,onClick:n,hover:o}){const r=c()("pinButton",t,{pinned:e});return i.h(d.default,{secondary:!0,class:r,onClick:n},e&&o?i.h(a.a,null):i.h(s.a,{color:e?"var(--cornflower-blue)":"var(--teflon)"}))}));t.default=h},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1136);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(559);function s(e){return class extends i.Component{constructor(){super(...arguments),this.state={hover:!1},this.changeHover=e=>{var t,n;this.setState({hover:e}),null===(n=(t=this.props).onHoverChange)||void 0===n||n.call(t,e)},this.handleMouseEnter=()=>{this.changeHover(!0)},this.handleMouseLeave=e=>{const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:s,relatedTarget:r}=e,a=e.target.getBoundingClientRect();if(!t)if(n&&r&&o.rectContainsPoint(a,{x:i,y:s})){const e=()=>this.changeHover(!1);r.addEventListener("mouseleave",(function t(n){o.rectContainsPoint(a,{x:n.clientX,y:n.clientY})||e(),r.removeEventListener("mouseleave",t)}))}else this.changeHover(!1)}}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){return i.h("div",{class:"hoverRegion",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(e,Object.assign({},this.props,{hover:this.state.hover})))}}}n(1137),s.displayName="HoverRegion",s.defaultProps={initialHover:!1,ignoreOverlays:!0},t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1140);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(4),o=n(559),s=n(718),r=n.n(s),a=n(563),l=n(737);n(1141);class c extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,actionButton:n,content:s,noControls:c,buttonText:d,anchor:u,class:p}=this.props,h=r()("hideableInfo",p,{popover:e,padBottom:t});let f=null;n&&n.text&&n.callback&&(f=i.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},n.text));let g=null;return c||(g=i.h("div",{class:"infoButtons"},i.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.h("div",null,i.h("img",{src:a.imageUrl("img/icGuidelineRemove.svg"),alt:"×"}),i.h("span",{class:"infoHideButtonText"},d||"OK, hide it!"))),f)),i.h("div",{class:h,onClick:o.stopPropagation,ref:Object(l.default)(this,"base")},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"infoBody"},i.h("div",{class:"infoText"},s),g),i.h("div",{class:"anchor "+(u||"bottom")}))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1144);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1145),s=n(723),r=n(855),a=n.n(r),l=n(558),c=n(563),d=n(737),u=n(718),p=n.n(u),h=n(574),f=n.n(h);n(1149);function g({selected:e,avatarUrl:t,avatarType:n,avatarBgSize:o,info:s,subInfo:r}){const l=p()("listItem",{selected:e});return i.h("div",{class:l},i.h(a.a,{class:"itemAvatar",src:t,size:36,bgSize:o,type:n}),i.h("div",{class:"infoContainer"},i.h("div",{class:"info ellipsis"},s),r&&i.h("div",{class:"subInfo ellipsis"},r)))}class m extends i.Component{constructor(e){super(e),this.renderOrganizationListItem=this.renderOrganizationListItem.bind(this),this.renderUserListItem=this.renderUserListItem.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,organizations:n}=this.props,i=n.find(t=>t._id===e);t(e,i)}renderOrganizationListItem(e){const t=e._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderOrganizationListItemContent})}renderOrganizationListItemContent({logo:e,name:t},n){return i.h(g,{selected:n,avatarUrl:e,avatarType:"organization",avatarBgSize:19,info:t})}renderUserListItem(e){const t=e.user._id;return i.h(o.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderUserListItemContent})}renderUserListItemContent(e,t){const{user:n,user:{email:o,username:s}}=e,r=Object(l.getUserAvatar)(n).src;return i.h(g,{selected:t,avatarUrl:r,avatarType:"user",info:s,subInfo:o})}renderListBody(){const{onInvite:e,organizations:t,users:n}=this.props;return t.length+n.length===0?i.h("div",{class:"targetOwnersEmpty"},"No invited team members yet.",i.h(s.default,{class:"inviteButton",onClick:e},"INVITE NOW")):i.h("div",{class:"transferOwnershipBody"},i.h(o.default,{class:"targetOwners",onSelect:this.handleSelect},[t.length>0&&i.h("h5",null,"To a workspace:"),t.map(this.renderOrganizationListItem),n.length>0&&i.h("h5",null,"To a member:"),n.map(this.renderUserListItem)]),i.h("div",{class:"transferOwnershipFooter"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg"),alt:"ℹ"}),"We’ll notify them via email"))}render(){const{barrelType:e}=this.props;return i.h("div",{class:"transferOwnership noSelect",ref:Object(d.default)(this,"base")},i.h("h5",{class:"transferOwnershipHeader"},"You can only transfer your ",e,"s to invited team members or workspaces.",e===f.a.STYLEGUIDE&&" Transferring a styleguide will also transfer its children."),this.renderListBody())}}m.defaultProps={organizations:[],users:[]},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1146);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1147),a=n(846),l=n(737),c=n(718),d=n.n(c),u=n(558);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return e.filter(e=>e&&e.type&&e.type.name===r.default.name).map(e=>e.props.value)}class f extends i.Component{constructor(...e){super(...e),p(this,"values",h(this.listItems)),p(this,"state",{selected:this.values[0]}),p(this,"handleKeyDown",e=>{if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])}),p(this,"handleItemHover",e=>{this.mouseActive&&this.changeSelected(e)}),p(this,"handleMouseMove",()=>{this.mouseActive=!0})}get listItems(){return i.toChildArray(this.props.children)}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},()=>{Object(u.scrollIfNecessary)(this.nodeRefs["selectedListItem-"+e])})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const t=h(i.toChildArray(e.children));Object(a.default)(t,this.values)&&(this.values=t,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{onSelect:t}=this.props;return this.listItems.map(n=>{if(!n||!n.type||n.type.name!==r.default.name)return n;const o=n.props.value,s=o===e;return i.cloneElement(n,{key:o,onClick:t,onHover:this.handleItemHover,selected:s,baseRef:Object(l.default)(this,"selectedListItem-"+o)})})}render(){const{class:e}=this.props,t=d()("selectableListView",e);return i.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}f.propTypes={onSelect:s.a.func.isRequired,children:s.a.oneOfType([s.a.instanceOf(r.default),s.a.node])},f.ListItem=r.default,t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1148);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o);class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:o,baseRef:s,class:r}=this.props;return i.h("div",{ref:s,class:r,onClick:this.handleClick,onMouseEnter:this.handleHover,style:o},n(t,e))}}r.propTypes={renderItem:s.a.func.isRequired,onClick:s.a.func,onHover:s.a.func,value:s.a.string.isRequired,selected:s.a.bool},t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1151);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1145),a=n(718),l=n.n(a);n(1152);function c(e,t){return i.h("div",{class:l()("listItem",{selected:t})},e.name)}function d({sections:e,onSelect:t}){return i.h("div",{class:"moveProjectToSection noSelect"},i.h("div",{class:"moveProjectToSectionBody"},i.h(r.default,{class:"targetSections",onSelect:t},e.map(({_id:e,name:t})=>i.h(r.default.ListItem,{key:e,class:"selectableListItem",value:e,item:{name:t},renderItem:c})))))}d.defaultProps={sections:s.a.array,onSelect:s.a.func},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1154);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(1050),s=n(559);function r(e,t){const{project:{users:n,status:r},currentUser:a,moveToSectionVisible:l,removeFromSectionsVisible:c,autoPosition:d,onInvite:u,onJoin:p,onActivate:h,onArchive:f,onTransferOwnership:g,onDelete:m,onLeave:b,onClose:S,onOpen:y,onCopyWebLink:v,onCopyAppUri:C,onMoveProjectToSection:O,onRemoveProjectFromSection:E,onCreateNewSection:T,onCopyProject:_}=e,{organizations:P,selectedOrganizationId:D}=t,I=n.some(e=>e.user._id===Zeplin.user._id),j=P.find(e=>e._id===D),k=j&&"suspended"===j.status,R="archived"===r,A=!I&&!k,w=I&&!k,N=!R&&I&&!k&&s.permissions.canChangeProjectStatus(a),L=R&&I&&!k&&s.permissions.canChangeProjectStatus(a),M=I&&s.permissions.canUpdateProject(a),x=c&&M&&!k,U=l&&M&&!k,B=j&&s.permissions.canCreateProjectSection(a)&&!k,V=s.permissions.canCopyBarrel(a),z=I&&s.permissions.canTransferOwnership(a),F=I&&!k&&s.permissions.canLeaveProject(a),W=I&&s.permissions.canDeleteProject(a);return i.h(o.default.overlay,{autoPosition:d,onOpen:y,onClose:S},A&&i.h(o.default.Item,{key:"join",onClick:p},"Join"),w&&i.h(o.default.Item,{key:"invite",onClick:u},"Invite…"),!R&&i.h(o.default.Item,{key:"copyWebLink",onClick:v},"Copy project web link"),!R&&i.h(o.default.Item,{key:"copyApiUri",onClick:C},"Copy project app URI"),(V||z)&&i.h(o.default.ItemDivider,{key:"ownershipDivider"}),V&&i.h(o.default.Item,{key:"copyProject",onClick:_},"Make a copy…"),z&&i.h(o.default.Item,{key:"transferOwnership",onClick:g},"Transfer ownership…"),(B||U)&&i.h(o.default.ItemDivider,{key:"sectionOptionsDivider"}),U&&i.h(o.default.Item,{key:"moveProjectToSection",onClick:O},"Move project to section…"),B&&i.h(o.default.Item,{key:"createNewSection",onClick:T},"Create a new section"),x&&i.h(o.default.Item,{key:"removeProjectFromSection",onClick:E},"Remove project from section"),(F||W)&&i.h(o.default.ItemDivider,{key:"warningDivider"}),N&&i.h(o.default.Item,{key:"archive",onClick:f},"Archive project"),L&&i.h(o.default.Item,{key:"activate",onClick:h},"Activate project"),F&&i.h(o.default.Item,{key:"leave",onClick:b,warning:!0},"Leave project"),W&&i.h(o.default.Item,{key:"delete",onClick:m,warning:!0},"Delete project…"))}},function(e,t,n){"use strict";n.r(t);var i=n(1156);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(942),s=n(716);n(1157);class r extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={value:""}}handleInputChange(e){this.setState({value:e})}handleKeyPress(e){if(e.keyCode!==Zeplin.KEY_CODE.ENTER)return;const{value:t}=this.state,{confirmationText:n,onDelete:i}=this.props;t===n&&i()}render(){const{value:e}=this.state,{onDelete:t,onClose:n,title:r,placeholder:a,confirmationText:l,loading:c}=this.props,d=l!==e;return i.h(o.default,{class:"deleteDialog",positiveButtonText:"DELETE",negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:t,hideNegativeButton:!1,onClose:n,width:400,loading:c},i.h("div",{class:"deleteDialogBody"},i.h("h2",null,r),i.h(s.default,{autofocus:!0,label:a,onInput:this.handleInputChange,onKeyPress:this.handleKeyPress,primary:!0})))}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";let i,o;n.r(t),n.d(t,"getThumbnailObserver",(function(){return a}));const s=new WeakMap;function r(e){e.forEach(e=>{const t=s.get(e.target);t&&t(e)})}function a(e){return o||(i=new IntersectionObserver(r,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),o={observe(e,t){s.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),s.delete(e)}}),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransferableUsers=t.getTransferableOrganizations=void 0;const i=n(559);t.getTransferableOrganizations=function(e,t,n){return e.filter(({_id:e,status:o})=>{const s=t[e];return s&&i.permissions.canReceiveOwnership(s)&&"active"===o&&n!==e})},t.getTransferableUsers=function(e,t,n){return e.filter(({user:{_id:e,status:i}})=>"invited"!==i&&!(e===t&&"user"===n))}},function(e,t,n){"use strict";n.r(t);var i=n(1161);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1162);t.default=function(e){const{height:t,top:n,left:o}=e;return i.h("div",{class:"moveCubuk",style:{height:t,top:n,left:o}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"CUBUK_POSITION",(function(){return i}));const i=Object.freeze({LEFT:"left",RIGHT:"right"})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.hasShortlink=t.getShortlink=t.fetchShortlink=void 0;const a=s(n(571)),l={};t.fetchShortlink=function(e,t){var n;return r(this,void 0,void 0,(function*(){try{return null!==(n=l[e])&&void 0!==n?n:l[e]=yield a.generateShortlink(e,t)}catch(i){return e}}))},t.getShortlink=function(e){var t;return null!==(t=l[e])&&void 0!==t?t:e},t.hasShortlink=function(e){return Boolean(l[e])}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1167);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1168);t.default=function({children:e}){return i.h("div",{class:"projectsList"},e)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1170);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(784),s=n.n(o);n(1171);t.default=function(e){const{barrelId:t,onScrollToUnpinnedBarrel:n,onDismiss:o}=e;return i.h("div",{class:"unpinnedBarrel"},i.h("p",null,"Project unpinned."),i.h("a",{href:"#",onClick:e=>function(e,t,n){e.preventDefault(),t(n)}(e,n,t)},i.h("strong",null,"Scroll to project")),i.h("div",{onClick:()=>o(t)},i.h(s.a,null),i.h("span",null,"Got it!")))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1174);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1175),s=n(1178),r=n(1215),a=n(1073),l=n(942),c=n(701),d=n.n(c),u=n(1014),p=n(1212),h=n(737),f=n(560),g=n(718),m=n.n(g),b=n(540),S=n(628),y=n(556),v=n(1239),C=n(544),O=n(1164);n(1240);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends i.Component{constructor(...e){super(...e),P(this,"state",{editingDescription:!1,deleteDialogVisible:!1}),P(this,"subscribedToObserver",!1),P(this,"generateShortlink",()=>{Object(O.fetchShortlink)(this.webURL)}),P(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),P(this,"highlightNameAndScrollTo",()=>{this.componentRefs.section.highlightNameAndScrollTo()}),P(this,"registerToObserverIfReady",()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)}),P(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==S.TEMPORARY_PROJECT_SECTION_ID?u.default.updateProjectSection({oseid:n,sectionData:{name:t},syncWithApi:!0}):this.highlightNameAndScrollTo())}),P(this,"handleDescriptionUpdate",e=>{const{data:{_id:t}}=this.props;u.default.updateProjectSection({oseid:t,sectionData:{description:e},syncWithApi:!0}),this.handleEditingStateChange()}),P(this,"handleEditingStateChange",()=>{this.setState(e=>({editingDescription:!e.editingDescription}))}),P(this,"handleExpand",e=>{d.a.expandSections([e])}),P(this,"handleCollapse",e=>{d.a.collapseSections([e])}),P(this,"handleCopyWebLink",()=>{const{onCopyLink:e}=this.props;e(Object(O.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Project section"})}),P(this,"handleCopyAppURI",()=>{const{onCopyLink:e}=this.props;e(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Project section"})}),P(this,"handleDeleteSectionClick",()=>{this.setState({deleteDialogVisible:!0})}),P(this,"handleDeleteDialogClose",()=>{this.setState({deleteDialogVisible:!1})}),P(this,"handleDeleteSection",()=>{const{data:{_id:e}}=this.props;u.default.removeProjectSection({oseid:e,syncWithApi:!0}),this.context.showToast({text:"Section deleted",source:"projectsContainer"})}),P(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),P(this,"handleAddCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props,i=_(_({},e),{},{_id:"tempCustomLinkId"});u.default.addSectionLink({oid:t,oseid:n,linkData:i,syncWithApi:!0})}),P(this,"handleUpdateCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;u.default.updateSectionLink({oid:t,oseid:n,oselid:e._id,linkData:e,syncWithApi:!0})}),P(this,"handleRemoveCustomLinkClick",e=>{const{selectedOrganizationId:t}=this.context,{data:{_id:n}}=this.props;u.default.removeSectionLink({oid:t,oseid:n,oselid:e,syncWithApi:!0})}),P(this,"handleAddNewDescription",()=>{this.handleDescriptionUpdate(v.NEW_SECTION_DESCRIPTION)}),P(this,"handleCreateProjectClick",()=>{const{data:{_id:e},onCreateProjectClick:t}=this.props;t({oseid:e})}),P(this,"renderOptionsMenu",()=>{const{data:{description:e}}=this.props,{canCreateProject:t,canEditSections:n}=this.context;return i.h(o.default,{onOpen:this.generateShortlink},i.h(i.Fragment,null,n&&!e&&i.h(i.Fragment,null,i.h(o.default.Item,{onClick:this.handleAddNewDescription},"Add description"),i.h(o.default.ItemDivider,null)),i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy section web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy section app URI"),t&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCreateProjectClick},"Create project in section")),n&&i.h(i.Fragment,null,i.h(o.default.ItemDivider,null),i.h(o.default.Item,{warning:!0,onClick:this.handleDeleteSectionClick},"Delete section"))))}),P(this,"renderSummary",()=>{const{shouldRenderSummary:e}=this.props,{editingDescription:t}=this.state;if(!e||t)return null;const{actionsDisabled:n,readOnly:o,data:{numberOfProjects:s,links:a}}=this.props;return i.h(r.default,{projectCount:s,styleguides:this.sectionStyleguides,links:a,readOnly:o||n,onAddLinkButtonClick:this.handleAddCustomLinkClick,onUpdateLinkButtonClick:this.handleUpdateCustomLinkClick,onRemoveLinkButtonClick:this.handleRemoveCustomLinkClick})})}get webURL(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return Object(y.urlResolve)("workspace-projects",{url:{oid:e},query:{seid:t}})}get appURI(){const{selectedOrganizationId:e}=this.context,{data:{_id:t}}=this.props;return`${C.ZPL_PROTOCOL}//projects?oid=${e}&seid=${t}`}get sectionStyleguides(){const{data:{projects:e}}=this.props,{selectedOrganizationStyleguides:t}=this.context;return e.reduce((e,n)=>{const{styleguideLink:{styleguide:{_id:i}={}}={}}=n,o=t.find(({_id:e})=>e===i);return o&&!e.includes(o)?[...e,o]:e},[])}componentDidMount(){this.props.data.newSection&&this.highlightNameAndScrollTo(),this.registerToObserverIfReady()}componentDidUpdate(e,t){this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}renderDeleteDialog(){return i.h(l.BasicOverlayDialog,{title:"Delete Section?",message:"Deleting a section will delete the section links and descriptions, the projects will still remain. Are you sure you want to delete this section?",positiveButtonText:"DELETE",onPositiveButtonClick:this.handleDeleteSection,onClose:this.handleDeleteDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{editingDescription:e,deleteDialogVisible:t}=this.state,{data:{projects:n,name:o,type:r,description:a,_id:l},index:c,collapsed:u,readOnly:g,actionsDisabled:S,highlight:y,showDescription:v,onSectionDrop:C,onProjectDrop:O,onProjectToSectionDrop:E,children:T}=this.props,_=n&&n.length?Object(f.pluralize)(n.length,"project")+" collapsed":"",P=this.renderOptionsMenu();return i.h(i.Fragment,null,i.h(s.DragDropProjectSection,{id:l,class:m()("projectSection",{safari:Object(b.getBrowser)()===b.BROWSER.SAFARI}),name:o,index:c,type:p.PROJECT_SECTION,collapsed:u,baseRef:Object(h.default)(this,"base"),optionsButtonRef:Object(h.default)(this,"sectionOptionsButton"),componentRef:Object(h.default)(this,"section","componentRefs"),empty:0===n.length,headerClass:"projectSectionHeader",description:a,countInfoText:_,optionsMenu:P,defaultSection:"default"===r,actionsDisabled:S,readOnly:g,highlight:y,scroll:y,draggable:!0,isWorkspace:!0,showDescription:v,editingDescription:e,onSectionDrop:C,onProjectDrop:O,onProjectToSectionDrop:E,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionUpdate,onEditingStateChange:this.handleEditingStateChange,onExpand:this.handleExpand,onCollapse:this.handleCollapse,onHighlightEnd:d.a.unhighlightSection,summary:this.renderSummary()},!u&&i.toChildArray(T)),t&&this.renderDeleteDialog())}}t.default=e=>i.h(a.SectionObserverContext.Consumer,null,({sectionObserver:t})=>i.h(D,E({sectionObserver:t},e)))},function(e,t,n){"use strict";n.r(t);var i=n(1176);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050);n(1177);const s=e=>i.h(o.default,Object.assign({},e,{class:"sectionMenu"}));s.Item=o.default.Item,s.ItemDivider=o.default.ItemDivider,t.default=s},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1179);n.d(t,"default",(function(){return i.default}));var o=n(1210);n.d(t,"DragDropScreenThumbnailSection",(function(){return o.default}));var s=n(1213);n.d(t,"DragDropComponentSection",(function(){return s.default}));var r=n(1214);n.d(t,"DragDropProjectSection",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSectionComponent",(function(){return p}));var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(718),l=n.n(a),c=n(737),d=n(1180);n(1209);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){class t extends i.Component{constructor(...e){super(...e),u(this,"state",{menuShown:!1,hidden:!1}),u(this,"collapseExpandSection",e=>{const{id:t,collapsed:n,onExpand:i,onCollapse:o}=this.props;e.stopPropagation(),n?i(t):o(t)}),u(this,"showOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}),u(this,"hideOptionsMenu",()=>{this.state.menuShown&&this.setState({menuShown:!1})}),u(this,"highlight",()=>{const{scroll:e,highlight:t,onScroll:n}=this.props;if((e||t)&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs&&this.nodeRefs.headerBase){this.highlighting=!0;this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}).addEventListener("finish",this.handleHighlightEnd,{once:!0})}e&&n&&n()}),u(this,"highlightName",()=>{this.componentRefs.header.highlightName()}),u(this,"highlightNameAndScrollTo",()=>{this.componentRefs.header.highlightNameAndScrollTo()}),u(this,"highlightDescription",()=>{const{id:e,collapsed:t,onExpand:n}=this.props;if(t)return n(e),void(this.shouldHighlightDescription=!0);this.componentRefs.header.highlightDescription()}),u(this,"handleHeaderClick",()=>{const{id:e,collapsed:t,onExpand:n}=this.props;t&&n(e)}),u(this,"handleHighlightEnd",()=>{const{onHighlightEnd:e}=this.props;this.highlighting=!1,e&&e()}),u(this,"handleStartDrag",()=>{const{id:e,collapsed:t,empty:n,isWorkspace:i,onCollapse:o}=this.props;!t&&(!n||i)&&o(e),this.setState(Object(r.getStateUpdateFunction)({hidden:!0,menuShown:!1}))}),u(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),u(this,"handleBaseRef",e=>{Object(c.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}componentDidMount(){this.highlight()}componentDidUpdate(e){e.collapsed&&!this.props.collapsed&&this.shouldHighlightDescription&&(this.componentRefs.header.highlightDescription(),this.shouldHighlightDescription=!1),this.highlighting||this.highlight()}renderHeader(){const{id:t,name:n,index:o,collapsed:s,styleguideId:r,defaultSection:a,countInfoText:l,componentCount:d,emptyText:u,empty:p,isWorkspace:h,readOnly:f,headerClass:g,actionsDisabled:m,description:b,showDescription:S,optionsMenu:y,editingDescription:v,onNameBlur:C,onDescriptionBlur:O,onEditingStateChange:E,draggable:T,optionsButtonRef:_,optionsActive:P,sectionHeaderHover:D,summary:I,variantOptionsButton:j,onHover:k,onHoverOut:R,onDrop:A}=this.props,{menuShown:w}=this.state;return a?null:i.h(e,{baseRef:Object(c.default)(this,"headerBase"),componentRef:Object(c.default)(this,"header","componentRefs"),class:g,hasDragHover:D,id:t,index:o,styleguideId:r,name:n,countInfoText:l,componentCount:d,empty:p,emptyText:u,isWorkspace:h,defaultSection:a,readOnly:f,actionsDisabled:m,description:b,showDescription:S,onNameBlur:C,onDescriptionBlur:O,collapsed:s,optionsMenu:w&&y,draggable:T,optionsButtonRef:_,optionsActive:P,editingDescription:v,onEditingStateChange:E,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,summary:I,variantOptionsButton:j,onHover:k,onHoverOut:R,onDrop:A})}render(){const{id:e,collapsed:t,children:n,targetPosition:o,empty:s,isWorkspace:r,putComponentGroupInto:a,class:c}=this.props,{hidden:d,menuShown:u}=this.state,p=l()("section",c,o,{putComponentGroupInto:a,collapsed:t,empty:s,menuShown:u,isWorkspace:r,hidden:d});return i.h("div",{class:p,"data-id":e,ref:this.handleBaseRef},this.renderHeader(),!t&&!s&&n)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.h(t,n)}}const h=p(d.default);h.displayName="Section",h.propTypes={onNameBlur:s.a.func.isRequired,onDescriptionBlur:s.a.func.isRequired,name:s.a.string,description:s.a.string,id:s.a.string.isRequired,defaultSection:s.a.bool,countInfoText:s.a.string,showOptionsButton:s.a.bool,optionsMenu:s.a.element,readOnly:s.a.bool,actionsDisabled:s.a.bool},h.defaultProps={showOptionsButton:!1,defaultSection:!1},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1181);n.d(t,"default",(function(){return i.default})),n.d(t,"DragSourceSectionHeader",(function(){return i.DragSourceSectionHeader}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragSourceSectionHeader",(function(){return S}));var i=n(4),o=n(737),s=n(1182),r=n(1062),a=n(771),l=n(718),c=n.n(l),d=n(559),u=n(1185),p=n(1193);n(1208);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class g extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{const{onDescriptionBlur:t}=this.props;t(e)},(n="handleDescriptionUpdate")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightNameAndScrollTo(){this.componentRefs.nameInput.highlightAndScrollTo()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(o.default)(this,"header")(e),this.props.baseRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenu:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=60){const i=e.getBoundingClientRect(),o=window.innerHeight;if(i.bottom+12>o)e.style.top=o+-36-i.bottom-12+"px";else if(i.top-n-12<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=12+n-i+"px"}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.cloneElement(e,{onClose:t});return i.h("div",{class:"sectionContextMenuContainer",ref:Object(o.default)(this,"contextMenu")},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:r,readOnly:l,actionsDisabled:c,onNameBlur:d,collapsed:u,empty:p,countInfoText:h,emptyText:f}=this.props,g=t&&!c&&(e||n);return i.h("div",{class:"sectionInfo"},g&&i.h(a.IconSectionDrag,{class:"moveHandleIcon"}),i.h(s.default,{ref:Object(o.default)(this,"nameInput","componentRefs"),value:r,required:!0,readOnly:l||c,onBlur:d}),u&&i.h("span",{class:"countInfo"},h),p&&i.h("span",{class:"countInfo"},f))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:o,isWorkspace:s,mirror:r,editingDescription:l,collapsed:u,variantOptionsButton:p,onEditingStateChange:h,onExpandCollapseSection:f,onShowOptionsMenu:g}=this.props;const m=!r&&s?!t:!e;return i.h("div",{class:c()("sectionActions",{disabled:t})},p,m&&i.h("button",{class:"collapseButton",onMouseDown:d.stopPropagation,onClick:function(e){s&&!u&&l&&h(),f(e)}},i.h(a.IconCollapse,null)),!t&&i.h("button",{class:c()("sectionOptionsButton",{active:o}),ref:n,onMouseDown:d.stopPropagation,onClick:g},i.h(a.IconMenu,null)))}renderDescriptionInfo(){const{id:e,description:t,readOnly:n,actionsDisabled:r,isWorkspace:a,showDescription:l,empty:c,editingDescription:d,onEditingStateChange:u,collapsed:h,onDescriptionBlur:f}=this.props,g=n||r||a&&h;return a&&!l?null:i.h("div",{key:"descriptionInfo",class:"descriptionInfo"},a?i.h(p.default,{description:t,readOnly:g,editing:d,emptyWorkspaceSection:c,sectionCollapsed:h,onEditingStateChange:u,onUpdateDescription:this.handleDescriptionUpdate,sectionId:e}):i.h(s.default,{value:t,ref:Object(o.default)(this,"descriptionInput","componentRefs"),required:!1,readOnly:g,showRemaining:!0,onBlur:f}))}renderJiraIntegrations(){const{id:e}=this.props;return i.h("div",{key:"jiraAttachmentsContainer",class:"jiraIntegrationArea"},i.h(u.default,{items:[{itemType:"section",itemId:e,label:"Attached to "}]}),i.h("div",{class:"bumper"}))}render(){const{width:e,isWorkspace:t,description:n,collapsed:o,class:s,onHeaderClick:r,hasDragHover:a,empty:l,summary:d,optionsMenu:u}=this.props,p=t||!o&&n;return i.h("div",{class:c()("sectionHead",s,{collapsed:o,empty:l,dragHover:a}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:r},i.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),u&&this.renderMenu()),d,p&&this.renderDescriptionInfo(),!o&&!t&&this.renderJiraIntegrations())}}const m=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.h(g,t)},b=Object(r.DragSource)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n,variantOptionsButton:o}=e,s=f(e,["sourceRect","class","variantOptionsButton"]);return i.h(g,h({},s,{width:t.width,mirror:!0,class:c()("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty||e.isWorkspace,optionsMenu:null})})(m),S=e=>i.h(b,Object.assign({draggable:!0},e));t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1183);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(737),l=n(558);n(1184);const c=100;function d(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function u(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class p extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{Object(l.highlightAndScrollToInput)(this.nodeRefs.input)},(n="highlightAndScrollTo")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(r.debounce)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(r.debounce)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.highlightInput)(this.nodeRefs.input)}focus(){this.nodeRefs.input.focus()}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let o=this.state.discard;const s={focusWithin:!1};e&&!i&&(s.value=t,o=!0),this.setState(s),this.props.onBlur({discard:o,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=c,showRemaining:o,fontStyle:s,tabIndex:r=0}=this.props,{focusWithin:l,value:p,selectionPoints:h,shouldCheckRightSelection:f}=this.state;let g=Object.assign({},s);if(l&&!t){const{selectionStart:e,selectionEnd:t}=h,n=function(e,t){return e&&t?u(d(0,2.5,"butt")):e?u(d(0,1.5,"butt"),d(1.5,2.5,"round")):t?u(d(.5,1.5,"round"),d(1.5,2.5,"butt")):void 0}(e!==t&&0===e,f&&e!==t&&t===p.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.h("div",{class:"expandableInputWrapper"},i.h("form",{ref:Object(a.default)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.h("span",{ref:Object(a.default)(this,"widthlessMirror"),class:"mirror widthless",style:s},p||" "),i.h("span",{class:"mirror",style:s},p||" "),i.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:p,readonly:t,tabIndex:r,ref:Object(a.default)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),o&&l&&i.h("span",{class:"remainingCounter"},n-p.length))}}p.propTypes={value:s.a.string,required:s.a.bool,onBlur:s.a.func,readOnly:s.a.bool,maxLength:s.a.oneOfType([s.a.number,s.a.string]),showRemaining:s.a.bool,fontStyle:s.a.object,inputRef:s.a.func,tabIndex:s.a.number},t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1186);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(582),a=n.n(r),l=n(681),c=n(845),d=n.n(c),u=n(559),p=n(1187),h=n(1190),f=n(718),g=n.n(f),m=n(544);class b extends i.Component{constructor(e){super(e),this.handleJiraAttachmentClick=this.handleJiraAttachmentClick.bind(this)}static getStores(){return[a.a.BarrelStore,a.a.ProjectsDataStore]}static calculateState(e,t){const{loading:n}=a.a.BarrelStore.getState(),{integration:i={}}=l.default.getBarrel()||{};return{loading:n,integration:i}}handleJiraAttachmentClick(){mixpanel.master.track("Clicked Jira issue")}shouldComponentUpdate(e,t){return this.props.itemId!==e.itemId||this.props.itemType!==e.itemType||(this.state.integration.jira!==t.integration.jira||this.state.loading!==t.loading)}renderJiraAttachments(e){const{class:t}=this.props;return i.h("div",{class:g()("jiraAttachmentsContainer",t)},e.map(e=>i.h(p.default,{logo:i.h(h.default,null),description:e.label,text:e.attachmentIds,href:e.href,onClick:this.handleJiraAttachmentClick})))}render(){const{loading:e,integration:{jira:t}}=this.state,{wrappingFn:n,items:i,maxNumberOfAttachmentsShown:o}=this.props;if(e||!i||!i.length||!t)return null;const s=i.reduce((e,n)=>n.itemId?e.concat(function(e,{itemType:t,itemId:n,label:i},o){if(!e)return[];const s=Object(u.groupBy)(e.filter(e=>e.type===t&&e.itemId===n),"deploymentUrl"),r="atlOrigin="+m.JIRA_ATL_ORIGIN_TOKEN;return Object.values(s).map(e=>{let t="",n="",s="",a=0;return e.forEach((e,i)=>{0===i?(t=e.issueKey,n=e.issueUrl,s+="jql=issuekey in ("+e.issueKey):i<o?(t+=", "+e.issueKey,s+=","+e.issueKey):(a++,s+=","+e.issueKey)}),s+=")",a>0&&(t+=` and ${a} more`),{attachmentIds:t,label:i,href:e.length>1?`${n}?${s}&${r}`:`${n}?${r}`}})}(t.attachments,n,o)):e,[]),r=this.renderJiraAttachments(s);return s.length>0&&n?n(r):r}}b.propTypes={wrappingFn:s.a.func,itemType:s.a.string,itemId:s.a.string,maxNumberOfAttachmentsShown:s.a.number},b.defaultProps={maxNumberOfAttachmentsShown:3},t.default=d()(b,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1188);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r);n(1189);function l(e){const{class:t,logo:n,description:o,text:s,href:r,onClick:l}=e;return i.h("div",{class:a()("integrationInfo",t)},i.h("span",{class:"integrationLogo"},n),i.h("span",{class:"integrationDescription"},o),r?i.h("a",{class:"integrationName ellipsis",target:"_blank",title:s,href:r,onClick:l,rel:"external noopener noreferrer"},s):i.h("span",{class:"integrationName ellipsis"},s))}l.propTypes={logo:s.a.element,description:s.a.string,text:s.a.string,href:s.a.string},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1191);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1192);t.default=function(e){const{class:t,disabled:n}=e,o=s()("jiraLogo",t,{disabled:n});return i.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16",class:o},i.h("defs",null,i.h("linearGradient",{id:"a",x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"})),i.h("linearGradient",{id:"b",x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"}))),i.h("g",{fill:"none","fill-rule":"nonzero"},i.h("path",{fill:"#2684FF",d:"M15.586 7.55L8.703.667 8.036 0 2.854 5.181.484 7.55a.635.635 0 0 0 0 .895L5.22 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285a.633.633 0 0 0 0-.9zm-7.55 2.813L5.67 7.998l2.365-2.365L10.4 7.998l-2.364 2.365z"}),i.h("path",{fill:"url(#a)",d:"M7.736 5.633A3.981 3.981 0 0 1 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:"url(#b)",d:"M10.106 7.991l-2.37 2.372a3.982 3.982 0 0 1 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1194);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(222),a=n(1119),l=n(1195),c=n(718),d=n.n(c),u=n(559);n(1207);const p=[a.CustomRules.SPOTIFY,a.CustomRules.YOUTUBE,a.MarkdownRules.IMAGE,a.MarkdownRules.CHECKBOX,a.MarkdownRules.TABLE,a.MarkdownRules.HEADING],h={};function f({description:e,readOnly:t,editing:n,sectionCollapsed:o,emptyWorkspaceSection:s,onEditingStateChange:a,onUpdateDescription:c,sectionId:f},{onSetSectionDescriptionHeight:g}){const m=Object(r.useRef)(null),b=m&&m.current&&m.current.scrollHeight,S=Object(r.useRef)(null),[y,v]=Object(r.useState)(!1),[C,O]=Object(r.useState)(!1),[E,T]=Object(r.useState)(!1);function _(e){h[f]=e,O(e)}Object(r.useLayoutEffect)(()=>{const e=m.current;if(e){const{scrollHeight:t,clientHeight:n}=e;v(C?n>36:t>n),O(h[f]||!1),function(e){const t=e.querySelector(".markdown");if(t){const{firstElementChild:e,childElementCount:n}=t;T(n>1&&18===e.offsetHeight)}}(e)}},[e,b]),Object(r.useEffect)(()=>{o&&_(!1)},[o]),Object(r.useLayoutEffect)(()=>{g&&S.current&&g(f,S.current.clientHeight)},[e,o,C,y]);const P=!C&&!n&&y;return i.h("div",{class:d()("workspaceDescriptionWrapper",{editing:n}),onMouseDown:u.stopPropagation,ref:S},e&&i.h("div",{class:d()("workspaceDescription",{expanded:C,readOnly:t,hasNewLine:E}),ref:m},i.h(l.default,{value:e,disabledFeatures:p,supportLink:"https://zpl.io/article/lightweight-markdown-support",readOnly:t,editing:n,onEdit:a,onCancel:a,onUpdate:c})),y&&!n&&i.h("div",{class:"textButton",onClick:function(){_(!C)}},P?"Show more":"Show less"),s&&!o&&i.h("p",{class:"emptyWorkspaceSection"},"☝️ No projects yet. Move projects to this section by dragging and dropping."))}f.propTypes={description:s.a.string,editing:s.a.bool,emptyWorkspaceSection:s.a.bool,onEditingStateChange:s.a.func,onUpdateDescription:s.a.func},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1196);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(718),l=n.n(a),c=n(560),d=n(1197),u=n(559),p=n(540),h=n(1198),f=n(723),g=n(1201),m=n(1122),b=n(1117),S=n(771),y=n(1119);n(1206);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends r.default{constructor(...e){super(...e),v(this,"abortController",null),v(this,"state",{selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:this.props.value,uploading:!1}),v(this,"textAreaRef",i.createRef()),v(this,"emojiAutoCompleteContainerRef",i.createRef()),v(this,"markdownDescriptionRef",i.createRef()),v(this,"changeSuggestedEmojis",()=>{const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,i=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),o=e.substring(i,t).match(/^:(.+)/);if(o){const e=o[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),s=n.substring(t,i+1).match(m.default.EMOJI_CANDIDATE_REGEX);return s&&m.default.searchEmoji(s[0].substring(1,s[0].length-1))?[]:m.default.getSuggestedEmojis(e)}return[]}(e,this.textAreaRef.current.selectionStart);if(i!==t){const e=Math.max(0,Math.min(n,i.length-1));this.setState({suggestedEmojis:i,selectedEmojiIndex:e})}}),v(this,"setValueStateToInitialValue",()=>{const{initialValue:e}=this.props,{value:t}=this.state;!t&&e&&this.setState({value:e})}),v(this,"scrollIntoView",()=>{this.markdownDescriptionRef.current.scrollIntoView()}),v(this,"handleCancel",()=>{const{value:e,onCancel:t}=this.props;this.abortController&&(this.abortController.abort(),this.abortController=null),this.setState({uploading:!1,value:e}),t()}),v(this,"handleSubmit",()=>{const{readOnly:e}=this.props;e||this.submit()}),v(this,"handleInput",e=>{const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}),v(this,"handleKeyDown",e=>{const{editing:t,readOnly:n}=this.props;if(n)return;const{uploading:i}=this.state;t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(p.cmdKey)(e)&&!i&&this.submit())}),v(this,"handleKeyDownListActions",Object(u.debounce)(e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}})),v(this,"handleKeyDownWhenListOpen",e=>{(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}),v(this,"handleKeyUp",e=>{e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)}),v(this,"handleFileUpload",async(e,t)=>{const n=[...t].find(e=>h.IMAGE_MIME_TYPES.includes(e.type));if(!n)return;if(e.preventDefault(),e.stopPropagation(),n.size>1e7)return;const{value:i}=this.state,o=Object(c.getFilenameWithoutExtensionFromPath)(n.name);let s="";/\n$/.test(i)?s=i:i&&(s=i+"\n"),this.setState({uploading:!0,value:`${s}![${o}](Uploading…)`});try{this.abortController=new AbortController;const{fileURL:e}=await Object(h.uploadCommentImage)(n,this.abortController.signal);this.abortController=null,this.setState({uploading:!1,value:`${s}![${o}](${e})\n`})}catch(r){if("AbortError"===r.name)return;this.setState({uploading:!1,value:i})}}),v(this,"handleDrop",e=>{this.handleFileUpload(e,e.dataTransfer.files)}),v(this,"handlePaste",e=>{this.handleFileUpload(e,e.clipboardData.files)}),v(this,"handleListItemClick",(e,t)=>{this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}),v(this,"handleListItemMouseOver",(e,t)=>{this.setState({selectedEmojiIndex:e})}),v(this,"handleSelectEmoji",()=>{const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=this.textAreaRef.current,o=e[t],s=i.selectionStart,r=n.substring(0,s).lastIndexOf(":"),a=o.formattedAlias,l=`${n.substring(0,r)}:${a}: ${n.substring(s)}`,c=r+a.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{i.focus(),i.setSelectionRange(c,c)})}),v(this,"handleTextAreaClick",()=>{this.props.editing&&this.changeSuggestedEmojis()})}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return e&&"safari"===Object(p.getBrowser)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame(()=>{const e=this.textAreaRef.current,t=this.emojiAutoCompleteContainerRef.current;if(!e||!t)return;const n=e.selectionStart,{top:i,left:o}=Object(d.default)(e,n),s=i+22,r=o;t.style.top=s+"px",t.style.left=r+"px"})}componentDidMount(){const{editing:e}=this.props;e&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus())}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:o,suggestedEmojis:s}=this.state;n&&e.editing!==n&&(this.setValueStateToInitialValue(),this.textAreaRef.current.focus()),o||i===t.value||this.changeSuggestedEmojis(),n&&s.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.h("div",{key:"editBar",class:"editBar"},i.h(f.default,{onClick:n},i.h(S.IconEdit,null)))}renderControls(){const{editing:e,value:t,disabledFeatures:n,supportLink:o,readOnly:s}=this.props;if(!e||s)return null;const{uploading:r}=this.state,a=o||"https://zpl.io/article/markdown-support",l=t===this.state.value||r;return i.h("div",{key:"controls",class:"controls"},i.h("div",{class:"markdownGuide"},i.h("div",{class:"markdownSamples"},!n.includes(y.MarkdownRules.HEADING)&&i.h("span",null,"# Header  "),i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote")),i.h("a",{href:a,target:"_blank"},"Learn more")),i.h("div",{class:"buttons"},i.h(f.default,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.h(f.default,{primary:!0,class:"submitButton",onClick:this.handleSubmit,disabled:l},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:this.emojiAutoCompleteContainerRef},i.h(g.default,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e,shouldPromoteEditButton:t,placeholder:n,disabledFeatures:o,onUpdate:s}=this.props,{uploading:r,value:a}=this.state,c=!e&&!a&&Boolean(n),d=l()("markdownDescription",{editing:e,promoteEditButton:t,placeholderVisible:c}),u=o.includes(y.MarkdownRules.IMAGE);return i.h("div",{ref:this.markdownDescriptionRef,class:d},this.renderEditBar(),i.h("div",{class:"textArea"},!e&&i.h(b.default,{onUpdate:s,disabledFeatures:o},a||n),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},a," "),this.renderEmojiAutocomplete(),i.h("textarea",{ref:this.textAreaRef,value:a,spellcheck:"false",readOnly:r,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onDrop:u?null:this.handleDrop,onPaste:u?null:this.handlePaste}))),this.renderControls())}}C.propTypes={value:s.a.string,maxLength:s.a.number,readOnly:s.a.bool,placeholder:s.a.string,shouldPromoteEditButton:s.a.bool,supportLink:s.a.string,onEdit:s.a.func,onUpdate:s.a.func,onCancel:s.a.func},C.defaultProps={value:"",initialValue:"# Title\n\nDescription",editing:!1,readOnly:!1,disabledFeatures:[]},t.default=C},function(e,t,n){"use strict";n.r(t);const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],o=null!==window.mozInnerScreenX;t.default=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const s=n.style,r=window.getComputedStyle(e);var a="INPUT"===e.nodeName;s.whiteSpace="pre-wrap",a||(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",i.forEach(e=>{if(a&&"lineHeight"===e)if("border-box"===r.boxSizing){const e=parseInt(r.height,10),t=parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10),n=t+parseInt(r.lineHeight,10);s.lineHeight=e>n?e-t+"px":e===n?r.lineHeight:0}else s.lineHeight=r.height;else s[e]=r[e]}),o?e.scrollHeight>parseInt(r.height,10)&&(s.overflowY="scroll"):s.overflow="hidden",n.textContent=e.value.substring(0,t),a&&(n.textContent=n.textContent.replace(/\s/g," "));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(r.borderTopWidth,10),left:l.offsetLeft+parseInt(r.borderLeftWidth,10),height:parseInt(r.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t,n){"use strict";n.r(t),n.d(t,"MIME_TYPE",(function(){return O})),n.d(t,"IMAGE_MIME_TYPES",(function(){return E})),n.d(t,"downloadAsset",(function(){return L})),n.d(t,"downloadMultipleAsset",(function(){return x})),n.d(t,"exportCode",(function(){return U})),n.d(t,"triggerDownload",(function(){return A})),n.d(t,"downloadScreens",(function(){return V})),n.d(t,"uploadCommentImage",(function(){return z}));var i=n(105),o=n.n(i),s=n(243),r=n(523),a=n(559),l=n(1199),c=n(558),d=n(761),u=n(560),p=n(571),h=n(547),f=n(543),g=n(544),m=n(541),b=n(1200);function S(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"}),E=["image/gif","image/svg+xml","image/png","image/jpeg"];function T(e,t){const n=Object(l.getExportName)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:o=Object(a.getDensityScale)(i)}=e;let s=n;return e.optimized&&"ready"!==e.optimized.status&&(s+=" (non-optimized)"),o!==f.DENSITY.BASE&&(s+=`@${o}x`),s}function _(e,t,n){const{localName:i,layerName:o,displayName:s,contents:r}=e;return r.filter(e=>e.format===t&&Object(l.isSupportedAssetContent)(n,e)).map(e=>v({localName:i,layerName:o,displayName:s},e))}function P({variant:e,showOptimizedSVG:t,showOptimizedPNG:n,showOptimizedJPG:i}){const o=t&&"svg"===e.format,s=n&&"png"===e.format,r=i&&"jpg"===e.format,a=e.optimized&&"ready"===e.optimized.status;return"webp"!==e.format||a?(o?Object.assign(e,e.optimized):(s||r||"webp"===e.format)&&a&&(e.url=e.optimized.url),fetch(e.url).then(e=>e.arrayBuffer()).then(t=>v({data:t},e))):null}function D({projectId:e,platform:t,formatGroups:n,namingConvention:i,toastContainer:o}){Object.keys(n).forEach((s,r)=>{setTimeout(r=>{b.downloadAssets({projectId:e,projectType:t,format:s,assets:n[s],namingConvention:i,toastContainer:o})},r>0?300:0)})}function I(e){const{projectId:t,platform:n}=e;"android"===n?h.barrelPrefs.get(t,"androidResFolderReminderSeen").then(n=>{if(n)return void D(e);h.barrelPrefs.set(t,"androidResFolderReminderSeen",!0);const i=document.getElementById("androidResFolderReminderDoneButton");i&&i.addEventListener("click",(function(t){t.stopPropagation(),D(e)}));const o=document.getElementById("androidResFolderReminderDialog");o&&o.showModal()}):D(e)}function j(e,t=(e=>e.displayName)){const n={},i=new o.a;return e.forEach(e=>{let o=e;const s=t(o)+o.format;s in n||(n[s]=0);const r=++n[s];r>1&&(o=Object.assign({},e),o.displayName+="_"+r,o.layerName+="_"+r),i.file(t(o)+"."+o.format,o.data)}),i}function k(e,t,n=!1){const i=n?"assets_"+e:Object(l.getExportName)(t[0],"snakeCase");return j(t,e=>{const t=Object(l.getExportName)(e,"snakeCase"),{density:n,densityScale:i=Object(a.getDensityScale)(n)}=e,o=Object(a.getDensityScaleRepresentation)("android",i);return"svg"===e.format?t:`drawable-${o}/${t}`}).generateAsync({type:"blob"}).then((function(e){return{data:URL.createObjectURL(e),name:`${i}_${Object(d.getCalendarDateOfISOString)()}.zip`}}))}function R(e,t,n,i=!1){let o;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:O[e.format]});return o=`${T(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:o})}const s=j(t,e=>T(e,n));return o=`${i?"assets_"+e:Object(l.getExportName)(t[0],n)}_${Object(d.getCalendarDateOfISOString)()}.zip`,s.generateAsync({type:"blob"}).then(e=>({data:URL.createObjectURL(e),name:o}))}function A(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()}),t.click()}function w({asset:e,platform:t,format:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s}){return v(v({},e),{},{contents:e.contents.filter(e=>Object(l.isSupportedAssetContent)(t,e)).map(e=>{const r=i&&"svg"===e.format&&"svg"===n,l=o&&"png"===e.format&&"png"===n,c=s&&"jpg"===e.format&&"jpg"===n,d="webp"===e.format&&"webp"===n;let{url:u}=e;if(d&&(!e.optimized||"ready"!==e.optimized.status))return null;e.optimized&&(r||(l||c||d)&&"ready"===e.optimized.status)&&({url:u}=e.optimized);const{densityScale:p,density:h=Object(a.getDensityScaleRepresentation)(t,p)}=e;return v(v({},e),{},{url:u,density:h})}).filter(Boolean)})}function N({assetsToSend:e,platform:t,format:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s}){return e.map(e=>w({asset:e,platform:t,format:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s}))}function L({barrelId:e,platform:t,containerName:n,assets:i,assetId:o,format:s,assetDensityScalePrefs:r,assetNamingConvention:a,showOptimizedSVG:l,showOptimizedPNG:d,showOptimizedJPG:u,toastContainer:p}){if(!Object(c.canDownload)())return;const h=M(i,r);if(m.isWindowsApp){let n;if(n="all"===o?h:[h.find(e=>e._id===o)],0===n.length)return;I({projectId:e,platform:t,formatGroups:{[s]:N({assetsToSend:n,platform:t,format:s,showOptimizedSVG:l,showOptimizedPNG:d,showOptimizedJPG:u})},namingConvention:a,toastContainer:p})}else(function({downloadableAssets:e,platform:t,assetId:n,format:i,showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:r}){let a;if("all"===n)a=[].concat.apply([],e.map(e=>_(e,i,t)));else{const o=e.find(e=>e._id===n);if(!o)return Promise.reject(`Asset with id ${n} not found.`);a=_(o,i,t)}return Promise.all(a.map(e=>P({variant:e,showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:r})).filter(Boolean))})({downloadableAssets:h,platform:t,assetId:o,format:s,showOptimizedSVG:l,showOptimizedPNG:d,showOptimizedJPG:u}).then(e=>("android"===t&&"svg"!==s?k:R)(n,e,a,"all"===o)).then(A)}function M(e,t){return e.map(e=>v(v({},e),{},{contents:e.contents.filter(e=>{const{format:n,density:i,densityScale:o=Object(a.getDensityScale)(i)}=e;return Object(l.isAssetDensityScaleSelected)(t,n,o)})}))}function x({barrelId:e,platform:t,containerName:n,assets:i,assetList:o,assetDensityScalePrefs:s,assetNamingConvention:r,showOptimizedSVG:a,showOptimizedPNG:l,showOptimizedJPG:d,toastContainer:u}){if(!Object(c.canDownload)())return;const p=M(i,s);if(m.isWindowsApp){const n={};return o.forEach(({assetId:e,format:i})=>{const o=p.find(t=>t._id===e);if(!o)return;let s;i in n?s=n[i]:(s=[],n[i]=s),s.push(w({asset:o,platform:t,format:i,showOptimizedSVG:a,showOptimizedPNG:l,showOptimizedJPG:d}))}),void I({projectId:e,platform:t,formatGroups:n,namingConvention:r,toastContainer:u})}(function({downloadableAssets:e,assetList:t,showOptimizedSVG:n,showOptimizedPNG:i,showOptimizedJPG:o,platform:s}){const r=t.map(({assetId:t,format:r})=>{const a=e.find(e=>e._id===t);return a?_(a,r,s).map(e=>P({variant:e,showOptimizedSVG:n,showOptimizedPNG:i,showOptimizedJPG:o})).filter(Boolean):null}).filter(Boolean);return r.length?Promise.all(r.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})({downloadableAssets:p,assetList:o,showOptimizedSVG:a,showOptimizedPNG:l,showOptimizedJPG:d,platform:t}).then(e=>("android"===t?k:R)(n,e,!0)).then(A)}function U({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new o.a;n.forEach(e=>{i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(n=>{A({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})})}else A({data:URL.createObjectURL(new Blob([n.code],{type:O[n.language]})),name:n.filename})}async function B(e){const{name:t,versions:[{snapshot:{url:n}}]}=e,i=await fetch(n),o=await i.arrayBuffer();return{name:t+".png",blob:new Blob([o],{type:O.png})}}async function V(e,t){if(!Object(c.canDownload)()){if(1!==e.length)return;let{versions:[{snapshot:{url:t}}]}=screen;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=g.CDN_URL+e}return void Object(c.openLink)(t)}if(1===e.length){const{name:t,blob:n}=await B(e[0]);return void A({data:URL.createObjectURL(n),name:t})}const n=new o.a,i=await Promise.all(e.map(B)),s={};i.forEach(({name:e,blob:t})=>{let i;s[e]>0?i=e.replace(/(.*)\.(.*$)/,`$1 (${s[e]++}).$2`):(s[e]=1,i=e),n.file(i,t)});const r=await n.generateAsync({type:"blob"});A({data:URL.createObjectURL(r),name:t})}async function z(e,t){const n=`${Object(r.v4)()}.${Object(u.getFileExtensionFromPath)(e.name)}`,i=`users/${Zeplin.user._id}/contents/${n}`,o=await Object(p.createTemporaryS3Credentials)(),{expiration:a}=o,l=S(o,["expiration"]),c=new s.S3Client({region:"us-west-1",credentials:l}),d=new s.PutObjectCommand({Bucket:g.S3_BUCKET,Key:i,ContentType:e.type,Body:e});return await c.send(d,{abortSignal:t}),{fileURL:`${g.CDN_URL}/${i}`}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ASSET_FORMAT_TITLES",(function(){return c})),n.d(t,"getFormatType",(function(){return d})),n.d(t,"getSupportedDensityScales",(function(){return u})),n.d(t,"initAssetDensityScalePrefsIfNecessary",(function(){return p})),n.d(t,"isAssetDensityScaleSelected",(function(){return h})),n.d(t,"sortFormats",(function(){return f})),n.d(t,"formatName",(function(){return g})),n.d(t,"getExportName",(function(){return m})),n.d(t,"isSupportedAssetContent",(function(){return b})),n.d(t,"findAsset",(function(){return S}));var i=n(565),o=n(543),s=n(559);const r={png:0,jpg:1,webp:2,pdf:3,svg:4},a=Object.freeze({[o.PLATFORM.BASE]:["svg"],[o.PLATFORM.ANDROID]:["png","jpg","svg","webp"],[o.PLATFORM.IOS]:["png","jpg","pdf","svg"],[o.PLATFORM.OSX]:["png","jpg","pdf","svg"],[o.PLATFORM.WEB]:["png","jpg","svg","webp"]}),l=Object.freeze({[o.PLATFORM.BASE]:[o.DENSITY._1x],[o.PLATFORM.ANDROID]:[o.DENSITY.MDPI,o.DENSITY.HDPI,o.DENSITY.XHDPI,o.DENSITY.XXHDPI,o.DENSITY.XXXHDPI],[o.PLATFORM.IOS]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x],[o.PLATFORM.OSX]:[o.DENSITY._1x,o.DENSITY._2x],[o.PLATFORM.WEB]:[o.DENSITY._1x,o.DENSITY._2x,o.DENSITY._3x]}),c={png:"PNG",jpg:"JPG",pdf:"PDF",svg:"SVG",webp:"WebP"};function d(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":case"webp":default:return"bitmap"}}function u(e){return l[e]}function p(e,t){return t&&t.png?t:{png:u(e)}}function h(e,t,n){const i="bitmap"===d(t)?e.png:e[t];return!i||i.includes(n)}function f(e,t){return r[e]-r[t]}function g(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.default)(e.layerName,t)}function m(e,t){return e.localName?e.localName:g(e,t)}function b(e,t){const{format:n,density:i,densityScale:o=Object(s.getDensityScale)(i)}=t;return a[e].includes(n)&&l[e].includes(o)}function S(e,t){return t.exportable&&Array.isArray(e)?e.find(e=>e.layerId?e.layerId===t.sourceId:e.layerName===t.name):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"queryAssetDownloadTarget",(function(){return p})),n.d(t,"downloadAssets",(function(){return h})),n.d(t,"changeExportTarget",(function(){return f})),n.d(t,"openExportTarget",(function(){return g}));var i=n(542),o=n(570);function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let r,a,l,c,d;function u(e){l=e;const t=l+":asset-download-target";i.default.ipcRenderer.removeAllListeners(t),i.default.ipcRenderer.once(t,(e,t)=>{a=t.projectFolder,r(t)})}function p(e,t,n){r=n,c=t,u(e),i.default.ipcRenderer.send("query-asset-download-target",e)}function h(e){const{toastContainer:t}=e,n=s(e,["toastContainer"]);u(e.projectId),i.default.ipcRenderer.removeAllListeners("assets-downloaded"),i.default.ipcRenderer.once("assets-downloaded",(e,n)=>function(e,t){clearTimeout(d),d=setTimeout(n=>{Object(o.default)({text:"Exported to "+e.projectName,container:t,source:"assetExportTargetProject"})},200),"android"===c&&mixpanel.master.track("Exported assets",{"Folder Type":e.projectFolderType,"Project Type":c})}(n,t)),i.default.ipcRenderer.send("download-assets",n)}function f(){l&&c&&(u(l),i.default.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c}))}function g(){a&&i.default.ipcRenderer.send("open-item",a)}},function(e,t,n){"use strict";n.r(t);var i=n(1202);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(5),a=n.n(r),l=n(1203);n(1205);function c(e){const{emoji:t,formattedAlias:n,selected:o,customEmoji:r,onMouseOver:a,onClick:l,listRef:c}=e,d=r?i.h("img",{src:t,class:"emojiImg"}):i.h("span",{class:"emojiChar"},t);return i.h("div",{class:s()({selected:o},"emojiItem"),onMouseOver:a,onClick:l,ref:c},d,i.h("span",{class:"emojiAlias"},n))}function d({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:o,class:r}){return i.h(l.default,{class:s()("emojiAutoCompleteList",r),options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:o,onItemClick:n,RowComponent:c})}d.propTypes={suggestedEmojis:a.a.array,selectedIndex:a.a.number,onItemClick:a.a.func,onItemMouseOver:a.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1204);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(737),r=n(558);function a(e,t){return n=>t(e,n)}const l=Object(o.debounce)(e=>{e&&Object(r.scrollIfNecessary)(e)});class c extends i.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs["ref"+t],o=this.nodeRefs["ref"+n];i&&(l(i),i.classList.add("selected")),o&&o.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:o,selectedIndex:r,onItemMouseOver:l,onItemClick:c}){return i.h("div",{class:e},t.map((e,t)=>i.h(o,Object.assign({},e,{key:e[n]},{listRef:Object(s.default)(this,"ref"+t)},{selected:t===r,onMouseOver:a(t,l),onClick:a(t,c)}))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1062),s=n(1180),r=n(1179),a=n(1211),l=n(737);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="ScreenThumbnail",h=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceVariantGroup:t.dragData.variantGroup},t.draggingItemType)})(s.DragSourceSectionHeader),f=Object(r.getSectionComponent)(h),g=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(f);class m extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t,sourceVariantGroup:n},i)=>{if(i===u)return this.dropSectionHeader(e,t);if(i===p){if(n){const{variantGroupId:e}=n;return this.dropScreenThumbnail({sourceId:e,sourceType:"variantGroup"})}return this.dropScreenThumbnail({sourceId:e,sourceType:"screen"})}})}dropSectionHeader(e,t){if(""===this.props.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionHeaderDrop(e,t,n)}dropScreenThumbnail({sourceId:e,sourceType:t}){const{id:n,onScreenThumbnailDrop:i}=this.props;i({sourceId:e,sourceType:t,targetSectionId:n})}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context;return i.h(g,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(a.default)(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1212);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={[i.SCREEN_THUMBNAIL_SECTION]:80,[i.STYLEGUIDE_COMPONENT_SECTION]:80,[i.PROJECT_SECTION]:160};function r(e){return class extends e{constructor(...e){super(...e),o(this,"calculateMoveIndex",e=>{const{defaultSection:t,index:n}=this.props,{targetPosition:i}=this.state,o="bottom"===i;if(t&&!o)return;let s=n;return e>n&&o&&(s=n+1),e<n&&!o&&(s=n-1),s}),o(this,"setTargetPosition",e=>{const{defaultSection:t,type:n}=this.props,{targetPosition:i}=this.state,{base:o}=this.nodeRefs,r=function({type:e,baseRect:t,pointerPosition:n,targetPosition:i}){const o=i?s[e]:0,r=("top"===i?t.top+o:t.top)+(t.height-o)/2;return n.top>=r}({type:n,baseRect:o.getBoundingClientRect(),pointerPosition:e,targetPosition:i});if(t&&!r)return void this.setState({targetPosition:""});const a=r?"bottom":"top";i!==a&&this.setState({targetPosition:a})}),o(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),o(this,"setSectionHeaderHover",()=>{this.state.sectionHeaderHover||this.setState({sectionHeaderHover:!0})})}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_DESCRIPTION",(function(){return i})),n.d(t,"SCREEN_THUMBNAIL_SECTION",(function(){return o})),n.d(t,"STYLEGUIDE_COMPONENT_SECTION",(function(){return s})),n.d(t,"PROJECT_SECTION",(function(){return r}));const i="A sweet, short description.",o="ScreenThumbnailSection",s="StyleguideComponentSection",r="ProjectSection"},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1062),s=n(1180),r=n(1179),a=n(1211),l=n(737);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="GroupHeader",h="StyleguideComponent",f=Object(o.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(s.DragSourceSectionHeader),g=Object(r.getSectionComponent)(f),m=Object(o.DropTarget)({acceptsItemType:[u,p],onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1,putComponentGroupInto:!1}),d(this,"setPutComponentGroupInto",(e,t)=>{const n=this.nodeRefs.base.getBoundingClientRect(),{id:i,defaultSection:o,collapsed:s,componentGroupsCount:r}=this.props,{putComponentGroupInto:a}=this.state,l=t[0];o||s||r&&(1!==r||l!==i)||!function(e,t,n){return t.top+43+36>e.bottom-(n?43:0)}(n,e,a)?this.unsetPutComponentGroupInto():a||this.setState({putComponentGroupInto:!0})}),d(this,"unsetPutComponentGroupInto",()=>{this.state.putComponentGroupInto&&this.setState({putComponentGroupInto:!1})}),d(this,"dropSectionHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{styleguideId:i,onSectionOrGroupDrop:o}=this.props,s=this.calculateMoveIndex(e);n===i&&e===s||o({sourceIdPath:[t],sourceIndex:e,sourceStyleguideId:n,targetStyleguideId:i,to:s})}),d(this,"dropComponent",(e,t,n)=>{const{id:i,styleguideId:o,componentCount:s,onComponentToSectionOrGroupDrop:r}=this.props;r({sourceIdPath:t,sourceIndex:e,targetIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:s})}),d(this,"dropGroupHeader",(e,t,n)=>{if(!this.state.putComponentGroupInto)return;const{id:i,styleguideId:o,onSectionOrGroupDrop:s}=this.props;s({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:[i],sourceStyleguideId:n,targetStyleguideId:o,to:0})}),d(this,"handleDragHover",(e,t)=>{const{draggingItemType:n}=t;if(n===u)this.setTargetPosition(e);else if(n===p){const{dragData:{idPath:n}}=t;this.setPutComponentGroupInto(e,n)}else n===h&&this.setSectionHeaderHover()}),d(this,"handleDragHoverOut",e=>{e===u?this.unsetTargetPosition():e===p?this.unsetPutComponentGroupInto():e===h&&this.unsetSectionHeaderHover()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i},o)=>{o===u?this.dropSectionHeader(t,e,i):o===h?this.dropComponent(t,n,i):o===p&&this.dropGroupHeader(t,n,i)})}render(){const{targetPosition:e,sectionHeaderHover:t,putComponentGroupInto:n}=this.state,{dragDisabled:o}=this.context;return i.h(m,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,putComponentGroupInto:n,draggable:!o,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(a.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1062),s=n(1180),r=n(1179),a=n(1211),l=n(737);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",p="Project",h=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(s.DragSourceSectionHeader),f=Object(o.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(r.default),g=Object(r.getSectionComponent)(h),m=Object(o.DropTarget)({acceptsItemType:u,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"dropSectionHeader",(e,t)=>{if(""===this.state.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionDrop({sourceId:e,sourceIndex:t,moveIndex:n})}),d(this,"dropProject",e=>{const{id:t,onProjectDrop:n}=this.props;n(e,t)}),d(this,"handleBaseRef",e=>{Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>{n===u?this.dropSectionHeader(e,t):n===p&&this.dropProject(e)})}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context,{actionsDisabled:o}=this.props,s=o?f:m;return i.h(s,c({},this.props,{baseRef:this.handleBaseRef,targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(a.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1216);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(5),r=n.n(s),a=n(1217),l=n(1222),c=n(1225),d=n(1219),u=n(1139),p=n(1237),h=n(560),f=n(556),g=n(558),m=n(547),b=n(684),S=n.n(b);n(1238);function y({projectCount:e,styleguides:t,links:n,readOnly:s,onAddLinkButtonClick:r,onUpdateLinkButtonClick:b,onRemoveLinkButtonClick:y},{selectedOrganizationId:v}){const[C,O]=Object(o.useState)(8),[E,T]=Object(o.useState)({}),[_,P]=Object(o.useState)(!1),[D,I]=Object(o.useState)(!1),[j,k]=Object(o.useState)(!1),R=Object(o.useRef)(null);function A(){const e=R.current;if(e){const t=e.scrollWidth>e.clientWidth,i=n.length;t&&C>1&&O(e=>e===i?i-1:e-1)}}function w(){I(!0)}function N(){T({}),P(!1),I(!1)}function L(e){e.stopPropagation(),T({}),w()}async function M(){await m.userPrefs.get("styleguidesUsed")?Object(g.openLink)("https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"):S.a.history.push(Object(f.urlResolve)("workspace-styleguides",{url:{oid:v}}))}function x(e,t){e.stopPropagation(),function(e){mixpanel.master.track("Clicked project section link",{Type:Object(p.getLinkType)(e)})}(t)}function U(){k(!j)}const B=new ResizeObserver(()=>{O(8),A()});return Object(o.useEffect)(()=>(R.current&&B.observe(R.current),()=>B.disconnect()),[]),Object(o.useLayoutEffect)(()=>{A()},[C,n.length]),i.h(i.Fragment,null,i.h("div",{class:"sectionHeaderSummary",ref:R},Boolean(e)&&i.h("div",{class:"summaryItem projectSummaryItem"},Object(h.pluralize)(e,"project"),i.h(l.default,null)),i.h(a.default,{linkTitle:e?t.length?Object(h.pluralize)(t.length,"styleguide"):i.h(i.Fragment,null,i.h("div",{onClick:U},"No linked styleguides"),j&&i.h(u.default,{class:"styleguideHideableInfo",content:"Link styleguides to projects to display components, colors, text styles and more.",buttonText:"OK, got it!",hideCallback:U,actionButton:{text:"Learn more",callback:M},popover:!0})):null,items:t.map(({_id:e,name:t})=>({_id:e,title:t,url:Object(f.urlResolve)("styleguide",{url:{bid:e}}),inApp:!0})),footer:function(){const e=Object(f.urlResolve)("workspace-styleguides",{url:{oid:v},query:{stid:t.map(({_id:e})=>e)}});return i.h(d.default.Link,{href:e,inApp:!0},"View All Styleguides")}(),trackStyleguideClick:function(){mixpanel.master.track("Clicked project section linked styleguides")}}),function(){const t=Boolean(e||n.length);return i.h(i.Fragment,null,n.slice(0,C).map(({_id:t,title:n,url:o},r)=>{const a=0!==r||Boolean(e);return i.h("div",{class:"summaryItem",key:t},a&&i.h(l.default,null),i.h("a",{title:"Right-click to edit",href:o,key:t,class:"summaryItemLink noSelect",target:"_blank",rel:"noopener",onContextMenu:e=>function({ev:e,_id:t,title:n,url:i}){s||(e.preventDefault(),T({pos:{x:e.clientX,y:e.clientY},_id:t,title:n,url:i}),P(!0))}({ev:e,_id:t,title:n,url:o}),onClick:e=>x(e,o)},Object(p.getLinkIcon)(o),i.h("div",{class:"summaryItemText ellipsis"},n)))}),n.length<8&&n.length<=C&&!s&&i.h("div",{class:"summaryItem"},t&&i.h(l.default,null),i.h("button",{class:"summaryItemLink",onClick:L},"Add link")))}(),n.length>C&&i.h(i.Fragment,null,i.h(l.default,null),i.h(a.default,{linkTitle:"Show more",items:n.slice(C),footer:!s&&i.h(i.Fragment,null,n.length<8&&!s&&i.h(d.default.Button,{onClick:L},"Add link"),i.h(d.default.Submenu,{name:"Edit custom link"},n.slice(C).map(({_id:e,title:t,url:n})=>i.h(d.default.Button,{key:"submenu-"+e,onClick:()=>function({_id:e,title:t,url:n}){T({_id:e,title:t,url:n}),w()}({_id:e,title:t,url:n})},t))))}))),_&&function(){if(s)return;const{pos:{x:e,y:t}}=E;return i.h(d.default.Overlay,{onClose:function(){P(!1)},onChange:w,onPositionMenu:function(n){n.style.transform=`translate(${e}px, ${t}px)`}},i.h(d.default.Button,null,"Edit"))}(),D&&function(){const{_id:e,title:t,url:n}=E,o=Boolean(t)||Boolean(n)?b:r;return i.h(c.default,{id:e,title:t,url:n,onClose:N,onPositiveButtonClick:o,onRemoveLinkButtonClick:y})}())}y.propTypes={selectedOrganizationId:r.a.string.isRequired,projectCount:r.a.number.isRequired,styleguides:r.a.array.isRequired,links:r.a.array.isRequired,readOnly:r.a.bool.isRequired,onAddLinkButtonClick:r.a.func.isRequired,onUpdateLinkButtonClick:r.a.func.isRequired,onRemoveLinkButtonClick:r.a.func.isRequired},t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1218);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(222),a=n(1219);function l({linkTitle:e,items:t,footer:n,trackStyleguideClick:o}){const s=Object(r.useRef)(),[l,c]=Object(r.useState)(!1);return i.h(i.Fragment,null,i.h("div",{class:"summaryItem withMenu",ref:s,onClick:function(e){o&&o(),e.stopPropagation(),t.length&&c(!0)}},e),l&&i.h(a.default.Overlay,{class:"customLinkMenu",onClose:function(){c(!1)},onPositionMenu:function(e){if(s.current){const{x:t,y:n,width:i}=s.current.getBoundingClientRect(),{width:o}=e.getBoundingClientRect(),r=8,a=t+i+o+36<=window.innerWidth?t+i+r:t-o-r;e.style.transform=`translate(${a}px, ${n}px)`}}},t.map(({_id:e,title:t,url:n,inApp:o})=>i.h(a.default.Link,{class:"ellipsis",key:e,href:n,inApp:o},t)),i.h("hr",null),n))}l.propTypes={linkTitle:s.a.node,items:s.a.array,footer:s.a.node,trackStyleguideClick:s.a.func},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1220);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(718),r=n.n(s),a=n(737),l=n(563),c=(n(1221),n(735));function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:h}=i;class f extends i.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const{edgeOffset:e}=this.context,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let o=0;const s=window.innerHeight-2*e;if(n.bottom>s){const t=n.height,i=Math.max(t-s,0);o=window.innerHeight-n.bottom-e+i,this.nodeRefs.submenu.style.maxHeight=s+"px"}0!==o&&(this.nodeRefs.submenu.style.transform=`translate3d(0, ${o}px, 0)`),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:o,children:s,submenuClass:c}=this.props;return i.h("label",{ref:Object(a.default)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.h("span",null,n||o),i.h("img",{src:l.imageUrl("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.h("div",{ref:Object(a.default)(this,"submenu"),class:r()("submenu",t,c)},s))}}class g extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:o,content:s}=this.props,r=e.map(e=>{const o=e.value===n,{value:s,name:r}=e;return i.h("label",{key:`${r}-${s}`},i.h("span",null,r),i.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:s,checked:o}),i.h("img",{src:l.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))});if(o){let o=t;if(s){o=`${s} (${e.find(e=>e.value===n).name})`}return i.h(f,{content:o},r)}return i.h("div",null,r)}}class m extends i.Component{constructor(...e){super(...e),p(this,"handleClick",e=>{this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)})}render(){const{content:e,name:t,disabled:n,value:o}=this.props;return i.h("label",{class:r()({disabled:n})},i.h("span",null,e||t),i.h("input",{type:"checkbox",disabled:n,onClick:this.handleClick,name:t,checked:o}),i.h("img",{src:l.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))}}class b extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:o}=this.props;if(o){let s=i?[...i]:[];t?s.push(e):s=s.filter(t=>t!==e),o(n,s,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:o,footer:s}=this.props,r=e.map(e=>n&&n.includes(e.name)),a=o>=r.filter(e=>e).length;return i.h(y.Submenu,{content:t},e.map((e,t)=>i.h(y.Switch,{key:e.key||t,name:e.name,content:e.content,value:r[t],disabled:e.disabled||a&&r[t],onClick:this.clickHandler})),s)}}class S extends i.Component{constructor(...e){super(...e),p(this,"handleClick",e=>{const{onClick:t,name:n}=this.props;t(e,n)})}render(){const{disabled:e,warning:t}=this.props;return i.h("button",{type:"button",class:r()({warning:!!t}),disabled:e,onClick:this.handleClick},this.props.children)}}class y extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t,overlayPositioned:n}=this.props,s=r()("zplMenu",e,{overlayPositioned:n});return i.h("div",{ref:Object(a.default)(this,"base"),onClick:o.stopPropagation,class:s},i.toChildArray(t).map(e=>i.cloneElement(e,{onClick:this.handleClick})))}}y.Submenu=f,y.Picker=g,y.Switch=m,y.SwitchMenu=b,y.Button=S,y.Link=function({class:e,href:t,inApp:n,children:o}){return n?i.h("a",{class:e,href:t,"data-link-type":"inApp",rel:"noopener"},o):i.h("a",{class:e,href:t,target:"_blank",rel:"noopener"},o)},y.Overlay=function(e){const{onPositionMenu:t,overlayDivProps:n={}}=e,o=u(e,["onPositionMenu","overlayDivProps"]);return i.h(c.default,{didRender:function(e){t(e.children[0])}},i.h("div",d({},n,{class:"overlayZplMenuContainer"}),i.h(y,d({},o,{overlayPositioned:!0}))))},y.Divider=function(){return i.h("hr",null)},t.default=y},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1223);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1224);function o(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1226);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(5),r=n.n(s),a=n(556),l=n(1227),c=n(1233);n(1236);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h({id:e,title:t,url:n,onPositiveButtonClick:s,onRemoveLinkButtonClick:r,onClose:d}){const[p,h]=Object(o.useState)({title:t,url:n}),f=t&&n?"edit":"add",g=p.title&&Object(a.isValidUrl)(p.url);function m(e,t){h(u(u({},p),{},{[e]:t}))}function b(){s({_id:e,title:p.title,url:p.url})}const S={add:{title:"Add link to a related resource: e.g. brief, requirements or repo.",buttonText:"ADD"},edit:{title:"Update existing link name and URL.",buttonText:"UPDATE",fallbackButtonText:"REMOVE"}};return i.h(c.default,{class:"customLinkDialog",width:540,positiveButtonText:S[f].buttonText,negativeButtonText:"CANCEL",fallbackButtonText:S[f].fallbackButtonText,onPositiveButtonClick:b,onNegativeButtonClick:d,onFallbackButtonClick:function(){r(e)},onClose:d,hideNegativeButton:!1,positiveButtonDisabled:!g},i.h("div",{class:"dialogBody",onKeyPress:function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(!g)return;e.preventDefault(),b(),d()}}},i.h("h3",null,S[f].title),i.h(l.default,{name:"title",label:"Name",value:p.title,placeholder:"Add a name for the link",maxLength:48,shouldDisplayCountDown:!1,onChange:m,autoFocus:!0}),i.h(l.default,{name:"url",label:"URL",value:p.url,placeholder:"Add URL",maxLength:1024,shouldDisplayCountDown:!1,nativeProps:{type:"url"},onChange:m})))}h.propTypes={width:r.a.number,linkName:r.a.string,url:r.a.string,onPositiveButtonClick:r.a.func,onClose:r.a.func},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1228);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1229),a=n(718),l=n.n(a);n(1232);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{h:u}=i;class p extends i.Component{constructor(...e){super(...e),d(this,"state",{error:null,isFocused:!1}),d(this,"handleChange",e=>{const{name:t,onChange:n,validate:i}=this.props,o=e.target.value;i&&this.setState({error:i(t,o)}),n(t,o)}),d(this,"handleFocus",()=>{this.setState({isFocused:!0})}),d(this,"handleBlur",()=>{const{name:e,value:t,validate:n,onBlur:i}=this.props;n?this.setState({error:n(e,t),isFocused:!1}):this.setState({isFocused:!1}),i&&i()}),d(this,"handleKeyDown",e=>{const{name:t,onEscape:n,onEnter:i}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC?(e.preventDefault(),e.target.blur(),n&&n(t)):e.keyCode===Zeplin.KEY_CODE.ENTER&&i&&(e.preventDefault(),e.target.blur(),i())})}get shouldDisplayCountDown(){const{maxLength:e,shouldDisplayCountDown:t}=this.props,{isFocused:n}=this.state;return t&&Boolean(e)&&n}get remainingCharCount(){const{maxLength:e,value:t}=this.props;return e-t.length}render(){const{error:e,isFocused:t}=this.state,{name:n,class:o,label:s,value:a,placeholder:d,customSuccessMessage:u,customErrorMessage:p,tipText:h,pendingText:f,nativeProps:g,maxLength:m,rows:b,disabled:S,autoFocus:y,shouldAlwaysDisplayTipText:v,isPending:C}=this.props;return i.h(r.default,{class:l()("textFormField",o,{hasCountDown:this.shouldDisplayCountDown}),label:s,successMessage:!this.shouldDisplayCountDown&&u,errorMessage:!this.shouldDisplayCountDown&&(p||e),tipText:h,pendingText:f,disabled:S,shouldDisplayErrorMessageIcon:Boolean(a),shouldDisplayTipText:t||v,isPending:C},b?i.h("textarea",c({name:n,value:a,placeholder:d,maxlength:m,rows:b,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)):i.h("input",c({name:n,value:a,placeholder:d,maxlength:m,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:y,disabled:S},g)),this.shouldDisplayCountDown&&i.h("div",{class:l()("countDown",{exceed:0===this.remainingCharCount})},this.remainingCharCount))}}p.propTypes={name:s.a.string.isRequired,class:s.a.string,label:s.a.string,value:s.a.string,placeholder:s.a.string,customSuccessMessage:s.a.node,customErrorMessage:s.a.node,tipText:s.a.node,pendingText:s.a.string,nativeProps:s.a.object,maxLength:s.a.number,rows:s.a.number,disabled:s.a.bool,autoFocus:s.a.bool,shouldDisplayCountDown:s.a.bool,shouldAlwaysDisplayTipText:s.a.bool,isPending:s.a.bool,onChange:s.a.func.isRequired,onBlur:s.a.func,onEscape:s.a.func,onEnter:s.a.func,validate:s.a.func},p.defaultProps={value:"",shouldDisplayCountDown:!0},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(839),a=n.n(r),l=n(1230),c=n.n(l),d=n(808),u=n.n(d),p=n(718),h=n.n(p);n(1231);const{h:f}=i;function g(e){const{children:t,class:n,label:o,successMessage:s,errorMessage:r,tipText:l,pendingText:d,disabled:p,shouldDisplayErrorMessageIcon:f,shouldDisplayTipText:g,isPending:m}=e;let b;return r?b=i.h("div",{class:"formFieldMessageContainer error"},f&&i.h(c.a,null),i.h("p",{class:"formFieldMessage"},r)):m?b=i.h("div",{class:"formFieldMessageContainer pending"},i.h(u.a,null),i.h("p",{class:"formFieldMessage"},d)):s&&(b=i.h("div",{class:"formFieldMessageContainer success"},i.h(a.a,null),i.h("p",{class:"formFieldMessage"},s))),i.h("div",{class:h()("formField",n,{disabled:p,hasMessage:Boolean(s||r)||m})},o&&i.h("div",{class:"formFieldLabel"},o),i.h("div",{class:"formFieldContent"},t,b,Boolean(l)&&g&&i.h("div",{className:"formFieldTipText"},l)))}g.propTypes={class:s.a.string,label:s.a.string,children:s.a.node.isRequired,successMessage:s.a.node,errorMessage:s.a.node,tipText:s.a.node,pendingText:s.a.string,disabled:s.a.bool,shouldDisplayErrorMessageIcon:s.a.bool,shouldDisplayTipText:s.a.bool,isPending:s.a.bool},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({width:e,color:t,class:n}){const o=12*e/12;return i.h("svg",{class:n,width:e,height:o,viewBox:"0 0 12 12"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M6 3.898L2.317.215c-.282-.282-.759-.284-1.052.01l-1.04 1.04c-.298.298-.298.764-.01 1.052L3.898 6 .215 9.683c-.282.282-.284.759.01 1.052l1.04 1.04c.298.298.764.298 1.052.01L6 8.102l3.683 3.683c.282.282.759.284 1.052-.01l1.04-1.04c.298-.298.298-.764.01-1.052L8.102 6l3.683-3.683c.282-.282.284-.759-.01-1.052l-1.04-1.04c-.298-.298-.764-.298-1.052-.01L6 3.898z"}))}o.defaultProps={width:12,color:"#EE6723"},t.default=o},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(732);n.d(t,"DialogFooter",(function(){return i.default}));var o=n(1234);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(735),a=n(559),l=n(737),c=n(718),d=n.n(c),u=n(22),p=n(732);n(1235);const{h:h}=i;class f extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),u.default.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:s,fallbackButtonType:c,positiveButtonDisabled:u,negativeButtonDisabled:h,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,onClose:v,width:C,footer:O,loading:E,loadingText:T,class:_,bodyClass:P}=this.props;return i.h(r.default,null,i.h("dialog",{onClick:a.stopPropagation,onClose:v,style:{width:C},class:d()(_,"dialog",{loading:E}),ref:Object(l.default)(this,"dialog")},i.h("div",{class:d()(P,"body")},this.props.children),i.h(p.default,{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:o,negativeButtonType:s,fallbackButtonType:c,positiveButtonDisabled:u,negativeButtonDisabled:h,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m||v,onFallbackButtonClick:b,hidePositiveButton:S,hideNegativeButton:y,footer:O,loading:E,loadingText:T})))}}f.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hidePositiveButton:!1,hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},f.propTypes={positiveButtonText:s.a.string.isRequired,negativeButtonText:s.a.string,fallbackButtonText:s.a.string,positiveButtonType:s.a.string.isRequired,negativeButtonType:s.a.string.isRequired,fallbackButtonType:s.a.string.isRequired,positiveButtonDisabled:s.a.bool,negativeButtonDisabled:s.a.bool,onPositiveButtonClick:s.a.func,onNegativeButtonClick:s.a.func,onFallbackButtonClick:s.a.func,hidePositiveButton:s.a.bool,hideNegativeButton:s.a.bool,width:s.a.oneOfType([s.a.number,s.a.string]),onClose:s.a.func,children:s.a.node,footer:s.a.node,loading:s.a.bool,loadingText:s.a.string},t.default=f},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getLinkType",(function(){return l})),n.d(t,"getLinkIcon",(function(){return c}));var i=n(4),o=n(771);const s=(e,...t)=>t.some(t=>e.endsWith(t)),r={zeplin:{type:"Zeplin",icon:i.h(o.IconZeplin,null)},asana:{type:"Asana",icon:i.h(o.IconAsana,null)},abstract:{type:"Abstract",icon:i.h(o.IconAbstract,null)},github:{type:"Github",icon:i.h(o.IconGithub,null)},gitlab:{type:"Gitlab",icon:i.h(o.IconGitlab,null)},bitbucket:{type:"Bitbucket",icon:i.h(o.IconBitbucket,null)},figma:{type:"Figma",icon:i.h(o.IconFigma,null)},sketchCloud:{type:"SketchCloud",icon:i.h(o.IconSketchCloud,null)},invision:{type:"Invision",icon:i.h(o.IconInvision,null)},notion:{type:"Notion",icon:i.h(o.IconNotion,null)},paper:{type:"Paper",icon:i.h(o.IconPaper,null)},trello:{type:"Trello",icon:i.h(o.IconTrello,{width:20,color:"var(--gandalf)"})},confluence:{type:"Confluence",icon:i.h(o.IconConfluence,null)},jira:{type:"Jira",icon:i.h(o.IconJira,{width:20,color:"var(--gandalf)"})},default:{type:"Custom",icon:i.h(o.IconCustomLink,null)}};function a(e){try{const{hostname:t,pathname:n}=new URL(e);return function(e,t){return s(e,"zeplin.io","zpl.io")?r.zeplin:s(e,"asana.com")?r.asana:s(e,"abstract.com")?r.abstract:s(e,"github.com")?r.github:s(e,"gitlab.com")?r.gitlab:s(e,"bitbucket.org")?r.bitbucket:s(e,"figma.com")?r.figma:s(e,"sketch.com")?r.sketchCloud:s(e,"invisionapp.com","invis.io")?r.invision:s(e,"notion.so")?r.notion:s(e,"paper.dropbox.com")?r.paper:s(e,"trello.com")?r.trello:s(e,"atlassian.net","jira.com")?((e,...t)=>["/wiki","/l/c/"].some(t=>e.startsWith(t)))(t)?r.confluence:r.jira:r.default}(t,n)}catch(t){return r.default}}const l=e=>a(e).type,c=e=>a(e).icon},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TABS_HEIGHT=t.ORG_SUMMARY_HEIGHT=t.FOCUS_AREA_TOTAL_PADDING=t.PROJECTS_ROW_BOTTOM_PADDING=t.PROJECTS_ROW_TOP_PADDING=t.PROJECTS_ROW_HEIGHT=t.MIN_SECTION_DESCRIPTION_HEIGHT=t.RAW_SECTION_HEADER_HEIGHT=t.DEFAULT_SECTION_HEADER_HEIGHT=t.NAME_TIMELINE_SECTION_HEADER_HEIGHT=t.PROJECTS_HORIZONTAL_PADDING=t.PROJECT_VERTICAL_MARGIN=t.PROJECT_HORIZONTAL_MARGIN=t.PROJECT_WIDTH=t.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS=t.NEW_SECTION_DESCRIPTION=t.NEW_SECTION_TITLE=t.DEFAULT_FOCUS_COUNT_LIMIT=void 0;t.DEFAULT_FOCUS_COUNT_LIMIT=4;t.NEW_SECTION_TITLE="Untitled Section";t.NEW_SECTION_DESCRIPTION="Add a _markdown_ flavored description and tell the story of this section.";t.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS=300;t.PROJECT_WIDTH=272;t.PROJECT_HORIZONTAL_MARGIN=24;t.PROJECT_VERTICAL_MARGIN=24;t.PROJECTS_HORIZONTAL_PADDING=36;t.NAME_TIMELINE_SECTION_HEADER_HEIGHT=85;t.DEFAULT_SECTION_HEADER_HEIGHT=103;t.RAW_SECTION_HEADER_HEIGHT=123;t.MIN_SECTION_DESCRIPTION_HEIGHT=18;t.PROJECTS_ROW_HEIGHT=215;t.PROJECTS_ROW_TOP_PADDING=12;t.PROJECTS_ROW_BOTTOM_PADDING=24;t.FOCUS_AREA_TOTAL_PADDING=36;t.ORG_SUMMARY_HEIGHT=100;t.TABS_HEIGHT=67},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1242);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1101),s=n(1062),r=n(559),a=n(737),l=n(1163),c=n(1104),d=n(1158);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=Object(r.pipe)(Object(s.DragSource)({itemType:"Project",mirrorComponent:c.SpaceCardMirror,provideDragData:e=>{const{project:{name:t,thumbnail:n,users:i,_id:o,type:s},moveCubukPosition:r,sectionId:a,index:l,lightness:c}=e;return{sectionId:a,moveCubukPosition:r,name:t,source:n,users:i,id:o,type:s,index:l,lightness:c}}}),Object(s.DropTarget)({acceptsItemType:"Project",onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,moveCubukPosition:t.dragData.moveCubukPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId})}))(o.default);class h extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{cancelIdleCallback(this.visibleId);const t=e.isIntersecting;this.visibleId=requestIdleCallback(()=>{t!==this.state.visible&&this.setState({visible:t})})},(n="handleIntersection")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.state={lightness:"dark",moveCubukPosition:"",visible:!1},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this)}getImageProperties(){}handleDragHover({mirrorPosition:e}){const{sections:t,sectionId:n}=this.props;if("individual"===t.find(({_id:e})=>e===n).type)return;const i=this.nodeRefs.base.getBoundingClientRect(),o=e.left>i.left+i.width/2;this.setState(Object(r.getStateUpdateFunction)({moveCubukPosition:o?l.CUBUK_POSITION.RIGHT:l.CUBUK_POSITION.LEFT}))}handleDragHoverOut(){this.setState(Object(r.getStateUpdateFunction)({moveCubukPosition:""}))}componentDidMount(){this.observer=Object(d.getThumbnailObserver)(),this.observer.observe(this.base,this.handleIntersection)}shouldComponentUpdate(e,t){if(e.scroll)return!0;return!(!this.state.visible&&!t.visible)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,lightness:t,visible:n}=this.state;return i.h(p,u({baseRef:Object(a.default)(this,"base"),dragBaseRef:Object(a.default)(this,"dragBase"),lightness:t,cardVisible:n,moveCubukPosition:e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1244);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(723),a=n(879);n(1245);function l({onCreateSection:e},{currentOrganizationProfile:{restricted:t}={}}){return i.h("div",{class:"sectionOnboarding"},i.h("h1",null,"Introducing Sections for projects ",i.h(a.default,{width:"24",height:"18",asset:"img/emjWaffle.png"})),i.h("div",{class:"description"},"Bring clarity to your workspace by organizing and adding more context to your projects."),i.h(a.default,{class:"image noSelect",width:"720",asset:"img/sampleProjectSection.png"}),t?i.h("div",{class:"description restrictedUserInfo"},'Right-click a project and select "Create a new section" to get started'):i.h(r.default,{onClick:e,primary:!0},"Create Section"))}l.propTypes={onCreateSection:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1247);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1248),s=n(1233),r=n(1253),a=n(718),l=n.n(a);n(1256);t.default=function(e){const{project:t,onClose:n,onJoin:a,loading:c}=e,d=l()("projectPreviewDialogBody",{loading:c});return i.h(s.default,{class:"projectPreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:a,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:n,width:"66vw"},i.h("div",{class:d},c?i.h(r.default,null):i.h(o.default,{projectData:t,requiredMinimumPadding:24,defaultPadding:36,hideJoinButton:!0,headerSticky:!1})))}},function(e,t,n){"use strict";n.r(t);var i=n(1249);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(563),s=n(718),r=n.n(s),a=n(558),l=n(559),c=n(737),d=n(1250),u=n(855),p=n.n(u);n(1252);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){const{snapshot:t}=e.versions[0],n=Math.floor(180*t.height/t.width);return i.h(d.default,{height:n,key:e._id,source:t.url})}function b(e,t){if(!e||!e.length)return i.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(l.sortBy.role).map(({user:e})=>f(f({},e),{},{avatar:Object(a.getUserAvatar)(e).src,title:"invited"!==e.status?e.username:`Pending… (${e.email})`}))}(e),o=n.slice(0,t).map(e=>i.h(p.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}));if(n.length===t+1){const e=n[t];o.push(i.h(p.a,{key:e._id,class:"userImageFrame",src:e.avatar,title:e.title,size:36}))}else if(n.length>t+1){const s=n.slice(t).map(e=>e.title).join("\n"),r=i.h("div",{key:"remainingUsers",class:"remainingUsers",title:s},"+",e.length-t);o.push(r)}return i.h("div",{class:"projectUsers"},o)}class S extends i.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),o=Math.floor((i-e)/204),s=i-204*o;let r=t;n.screens.length&&(r=s/2),this.nodeRefs.base.style=`padding-left: ${r}px; padding-right: ${r}px;`;const a=204*o-24-36,l=Math.floor(a/42);l!==this.state.usersLimit&&this.setState({usersLimit:l})}handleJoinClick(){const{projectData:{_id:e},onJoin:t}=this.props;t({bid:e,source:"Preview"})}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:s,users:a,screens:d},loadingJoin:u=!1,hideJoinButton:p,headerSticky:h}=this.props,{usersLimit:f}=this.state,g=r()("projectPreviewHeader",{sticky:h}),S=Object(l.getDensityScaleRepresentation)(n,s);return i.h("div",{ref:Object(c.default)(this,"base"),class:"projectPreview",key:e},i.h("div",{class:g},i.h("div",null,i.h("h1",null,t),i.h("h5",null,i.h("span",{class:"projectPreviewType"},Object(l.getPlatformString)(n)),s&&i.h("span",{class:"projectPreviewDensity"},S))),!p&&i.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.h("img",{src:o.imageUrl("img/icSpinnerWhite.svg"),class:"spinning"}):i.h("span",null,"Join"))),b(a,f),function(e){return e&&e.length?i.h("div",{class:"projectPreviewScreens"},e.map(m)):i.h("div",{class:"projectPreviewScreensEmpty"},i.h("h1",null,"No designs in this project yet!"),i.h("h3",null,"Join and upload the first!"))}(d))}}t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1251);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1107),s=n.n(o),r=n(718),a=n.n(r);class l extends i.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,o=a()({loading:n},"projectPreviewScreen","noSelect");return i.h("div",{class:o,style:{height:e}},i.h(s.a,{source:t,onLoad:this.handleLoad}))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1254);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737),s=n(718),r=n.n(s),a=n(559);n(1255);const l=Array.from({length:10},()=>{const e=Math.floor(180*Math.random()*.7)+180;return i.h("div",{style:{height:e},class:"projectPreviewLoadingScreen breathe"})});class c extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(a.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:r()("projectPreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"projectPreviewLoadingHead breathe"}),i.h("div",{class:"projectPreviewLoadingSubHead breathe"}),i.h("div",{class:"projectPreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"projectPreviewLoadingMember breathe"}))}(e)),i.h("div",{class:"projectPreviewLoadingScreens"},l))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1258);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1259),s=n(1268),r=n(942),a=n(879),l=n(563);n(1271);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"values",["ios","android","web","osx"]),c(this,"state",{selected:this.values[0]}),c(this,"handleChange",e=>{this.setState({selected:e})}),c(this,"handlePositiveButtonClick",()=>{const{selected:e}=this.state,{onCreate:t}=this.props;t(e)}),c(this,"handleTabClick",e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}})}componentDidMount(){window.addEventListener("keydown",this.handleTabClick,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleTabClick,!0)}render(){const{selected:e}=this.state,{onClose:t}=this.props;return i.h(r.default,{class:"createProjectDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:t,width:720,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody"},i.h("h1",null,"Choose your project type"),i.h("div",{class:"projectTypes"},i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"ios",label:"iOS",image:i.h("svg",{width:"140",height:"104"},i.h("g",{fill:"ios"===e?"var(--cornflower-blue)":"var(--gandalf)","fill-rule":"evenodd"},i.h("path",{class:"frame",d:"M118 87.96v-59.8c0-3.93-3.23-7.16-7.17-7.16H15.17C11.23 21 8 24.23 8 28.17v59.8c0 3.93 3.23 7.16 7.17 7.16h95.66c3.94 0 7.17-3.23 7.17-7.17zm-4.78-29.9c0 .66-.54 1.2-1.2 1.2-.66 0-1.2-.54-1.2-1.2 0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2zm-102.83 0c0-1.97 1.6-3.58 3.57-3.58s3.6 1.6 3.6 3.6c0 1.97-1.62 3.57-3.6 3.57s-3.6-1.6-3.6-3.58zm9.55 32.3v-64.6h88.47v64.58H19.96z"}),i.h("g",{transform:"translate(81 4)"},i.h("path",{class:"frame",d:"M38.74 0H9.24C4.17 0 0 4.05 0 9v80.82c0 4.95 4.18 9 9.25 9h29.5c5.08 0 9.25-4.05 9.25-9V9c0-4.95-4.17-9-9.26-9zM24 2.82c.77 0 1.4.62 1.4 1.38 0 .75-.63 1.37-1.4 1.37-.8 0-1.42-.62-1.42-1.37 0-.76.63-1.38 1.4-1.38zM19.5 8h9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5zM24 96c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm21-11H3V13h42v72z"}),i.h("circle",{cx:"24",cy:"92",r:"4",fill:"#FFF"}),i.h("path",{fill:"#FFF",d:"M3 13h42v72H3z"})))),dimensionType:"pt",exportType:"Objective-C/Swift",selected:"ios"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"android",label:"Android",image:"android"===e?i.h(a.default,{asset:"img/icPrj_android-selected.png"}):i.h("img",{src:Object(l.imageUrl)("img/icPrj_android.svg")}),dimensionType:"dp/sp",exportType:"XML",selected:"android"===e}),i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"web",label:"Web",image:i.h(a.default,{asset:`img/icPrj_web${"web"===e?"-selected":""}.png`}),dimensionType:"px",exportType:"CSS and HTML",selected:"web"===e})),i.h("div",{class:"experimentalProjectTypes"},i.h(s.default,{name:"projectType",onClick:this.handleChange,value:"osx",label:"macOS",dimensionType:"pt",exportType:"Objective-C/Swift",selected:"osx"===e}))))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1260);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1261),s=n(1264);n(1267);function r({image:e}){return i.h("div",{class:"projectTypeImage noSelect"},e)}class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:a,image:l,dimensionType:c,exportType:d}=this.props;return i.h("label",{class:"projectType"},i.h(s.default,{name:e,value:n,label:a,checked:t,onClick:this.handleClick}),i.h(r,{image:l}),i.h(o.default,{dimensionType:c,exportType:d,selected:t}))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1262);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1263);t.default=function({dimensionType:e,exportType:t,selected:n,singleLine:o}){const r=s()("projectInfo","noSelect",{selected:n});return i.h("div",{class:r},"Dimensions in ",i.h("strong",null,e),",",!o&&i.h("br",null)," ",t," export.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1265);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(975),s=n.n(o);n(1266);t.default=function(e){const{value:t,name:n,label:o,checked:r,onClick:a}=e;return i.h("div",{class:"projectRadio"},i.h(s.a,{name:n,checked:r,onClick:a,value:t}),i.h("span",{class:"projectTypeName noSelect"},o))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1269);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1261),s=n(1264);n(1270);class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:r,dimensionType:a,exportType:l}=this.props;return i.h("label",{class:"experimentalProjectType"},i.h(s.default,{name:e,value:n,label:r,checked:t,onClick:this.handleClick}),i.h(o.default,{dimensionType:a,exportType:l,selected:t,singleLine:!0}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1273);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(942)),a=i(n(719)),l=i(n(574));n(1274);const c={users:"Users",notes:"Notes",versions:"Versions"};function d({type:e,subText:t,checked:n,onSelection:i}){return o.h("label",{class:"includeOption"},o.h(a.default,{checked:n,onChange:function(){i(e)}}),o.h("span",{class:"includeDescription"},o.h("span",{class:"type"},c[e]),o.h("span",{class:"subText"},t)))}t.default=function({barrelType:e,barrelId:t,barrelName:n,onCopy:i,onClose:a}){const[c,u]=s.useState(e===l.default.PROJECT?{users:!1,notes:!1,versions:!1}:{users:!1}),[p,h]=s.useState(!1);function f(e){u(Object.assign(Object.assign({},c),{[e]:!c[e]}))}return o.h(r.default,{loading:p,isDismissable:!1,positiveButtonText:"MAKE A COPY",hideNegativeButton:!1,width:540,onPositiveButtonClick:function(){h(!0),i({bid:t,barrelName:n,options:c})},onClose:a},o.h("div",{class:"copyBarrelDialog"},o.h("h4",{class:"copyBarrelHeader"},"Make a copy of ”",n,"”?"),e===l.default.PROJECT?o.h("p",{class:"copyBarrelDescription"},"The copy will include all screens and resources in the local styleguide. Additionally, you can include:"):o.h("p",{class:"copyBarrelDescription"},"The copy will include all components, colors, text styles and spacing tokens. Additionally, you can include:"),o.h("div",{class:"includeOptions"},o.h(d,{type:"users",subText:"Invite same users to the copy",checked:c.users,onSelection:f}),e===l.default.PROJECT&&o.h(o.Fragment,null,o.h(d,{type:"notes",subText:"Include all notes on screens",checked:c.notes,onSelection:f}),o.h(d,{type:"versions",subText:"Include version history of screens",checked:c.versions,onSelection:f})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1276);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(942));n(1277),t.default=function({barrelType:e,barrelName:t,onClose:n}){return o.h(s.default,{width:540,positiveButtonText:"DONE",onPositiveButtonClick:n,onClose:n},o.h("div",{class:"asyncCopyingBarrelDialog"},o.h("h4",null,"Copying ”",t,"”…"),o.h("p",null,"We are now copying the ",e,". This usually takes a minute or two—check back in a bit. We’ll also email you once it’s done.")))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1279);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(737),r=n(540),a=n(541);n(1280);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u;const p={primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of a workspace:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},h={title:"Welcome to Zeplin! We are glad you’re here 👋",description:i.h("strong",null,"Let’s start by watching this short tutorial:")},f={FREE_PLAN:c(c({},h),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_MEMBER:c(c(c({},h),p),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),secondaryButtonText:"Create a project"}),PAID_PLAN:c(c({},h),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_NO_CREATE_PERMISSION:c(c({},h),{},{primaryButtonLabel:i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class g extends i.Component{constructor(e){super(e),this.showVideoOverlay=this.showVideoOverlay.bind(this),this.hideVideoOverlay=this.hideVideoOverlay.bind(this),this.handleVideoClick=this.handleVideoClick.bind(this),this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){const{canCreateProject:e,selectedOrganizationId:t}=this.context,{availableOrganization:n,hasPaidPlan:i,onCheckoutOrganization:o,onCreate:s}=this.props;if("user"===t){let e;return i?e={labels:f.PAID_PLAN,onPrimaryButtonClick:s}:(e={labels:h},a.isWindowsApp&&(e={labels:f.FREE_PLAN,onPrimaryButtonClick:s})),n&&(e=c(c({},e),{},{labels:c(c({},f.ORGANIZATION_MEMBER),{},{primaryButtonText:f.ORGANIZATION_MEMBER.primaryButtonText.replace("{{organizationName}}",n.name)}),onPrimaryButtonClick:()=>o(n._id)}),(i||a.isWindowsApp)&&(e=c(c({},e),{},{onSecondaryButtonClick:s}))),e}return e?{labels:f.PAID_PLAN,onPrimaryButtonClick:s}:{labels:f.ORGANIZATION_NO_CREATE_PERMISSION}}showVideoOverlay(){this.setState({videoOverlayVisible:!0})}hideVideoOverlay(){this.youtubePlayer.pauseVideo(),this.setState({videoOverlayVisible:!1})}handleVideoClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;Object(r.getDevice)()===r.DEVICE_TYPES.MOBILE?location.assign("https://www.youtube.com/watch?v=x1RPNx8Jsp4"):this.setState({videoOverlayVisible:!0})}componentDidMount(){u||(u=new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)}))}componentDidUpdate(e,t){!t.videoOverlayVisible&&this.state.videoOverlayVisible&&u.then(e=>{this.youtubePlayer=new e.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:"x1RPNx8Jsp4",events:{onReady:()=>this.youtubePlayer.playVideo()}})})}renderTutorialVideo(){return i.h("div",{key:"video",style:{backgroundImage:"url(https://img.youtube.com/vi/x1RPNx8Jsp4/maxresdefault.jpg)"},class:"tutorialVideo",onClick:this.handleVideoClick},i.h("button",{class:"watchTutorialButton"}))}renderVideoOverlay(){return i.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},i.h("div",{ref:Object(s.default)(this,"youtubePlayerAnchor")}))}renderListItems(){return i.h("ol",null,i.h("li",null,"If you’re a developer, ask your designer to create a project for you."),i.h("li",null,i.h("span",null,"If you’re a designer, download our ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to export designs.")))}render(){const{videoOverlayVisible:e}=this.state,{availableOrganization:t}=this.props,{labels:n,onPrimaryButtonClick:s,onSecondaryButtonClick:r}=this.getLabelsAndHandlers(),l=!t&&!a.isWindowsApp;return i.h("div",{class:"noProjectsScrollContainer"},i.h("div",{class:"noProjects"},i.h("h1",null,n.title),i.h("p",{class:"description"},n.description),this.renderTutorialVideo(),e&&this.renderVideoOverlay(),l&&this.renderListItems(),i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},n.primaryButtonLabel),s&&i.h(o.default,{onClick:s,primary:!0},n.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},n.primaryButtonSubLabel)),r&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},n.secondaryButtonLabel),i.h(o.default,{onClick:r,secondary:!0},n.secondaryButtonText))))}}t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1282);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1283);t.default=function(e,t){const{filterValue:n,canCreateProject:o,selectedOrganizationId:s,selectedWorkflowStatusName:r,currentOrganizationProfile:{restricted:a}={}}=t,l="user"===s,c=`No ${l?"":"organization"} projects ${function(e,t){let n="currently.";return e?n="with this name or type 🤷‍♀️":t&&(n=`with “${t}” status 🤷‍♀️`),n}(n,r)}`;return i.h("div",{class:"emptyProjects"},i.h("h3",null,c),!r&&!n&&!l&&i.h("p",null,o?"Go ahead and create one! ✌️":function(e){return e?i.h("span",null,"To create a project or be invited to an existing project, you can contact anyone with an Editor role in the Organization. "):i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))}(a)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1285);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(556);n(1286);t.default=function(e){const{organizationId:t,subscriptionStatus:n,memberRole:s}=e,r=Object(o.urlResolve)("workspace-profile-billing",{url:{oid:t}}),a=["king","queen"].includes(s),l="auto_cancelled"===n?"Payment Failure":"Subscription Cancelled";let c,d;return c="auto_cancelled"===n?"Due to a failed payment, your workspace has been suspended.":a?"Looks like you've cancelled your subscription, your workspace has been suspended.":"It looks like the subscription has been cancelled and your workspace has been suspended.",d=a?"auto_cancelled"===n?i.h("span",null,i.h("a",{href:r},"Click here")," to update your payment information"):i.h("span",null,i.h("a",{href:r},"Click here")," to activate the subscription."):i.h("span",null,"Please contact an admin to reactivate it."),i.h("div",{class:"suspendedOrganizationInfo"},i.h("h3",{key:"suspendedHeader"},l),i.h("p",{key:"suspendedInfo"},c,i.h("br",null),d))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1288);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(222),s=n(5),r=n.n(s),a=n(723),l=n(1139),c=n(1075),d=n(1150),u=n(873),p=n(696),h=n(701),f=n.n(h),g=n(626),m=n.n(g),b=n(560),S=n(718),y=n.n(S),v=n(574),C=n.n(v);n(1289);function O({onCreateSection:e,onMoveToSection:t,onChangeStatus:n,onCancelSelectionMode:s,selectedProjects:r,sections:h},{selectedOrganizationProjects:g}){const[S,v]=Object(o.useState)(!1),O=Object(o.useRef)(null),E=Object(o.useRef)(null),T=g.filter(({status:e})=>"archived"===e).map(({_id:e})=>e),_=function(e,t){return t.some(t=>e.includes(t))}(T,r),P=function(e,t){const n=t.reduce((t,n)=>t+(e.includes(n)?1:0),0);let i="";return n>0&&(i=` (includes ${Object(b.pluralize)(n,"archived project")})`),`${Object(b.pluralize)(t.length,"project")} selected${i}`}(T,r);function D(e){E.current=()=>function(e){t(e,r)}(e),f.a.clearProjectSelection()}function I(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),f.a.clearProjectSelection())}return Object(o.useEffect)(()=>(document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}),[]),Object(o.useEffect)(()=>()=>{E.current&&requestIdleCallback(()=>{E.current(),E.current=null},{timeout:500})},[r]),i.h("div",{class:y()("selectModeActionBar","noSelect")},i.h(a.default,{class:"cancelSelectionMode",onClick:s,secondary:!0},"Cancel"),i.h("span",{class:"selectedProjectText ellipsis",title:P},P),i.h(a.default,{class:"createSection",onClick:function(){E.current=()=>e(r),f.a.clearProjectSelection()},primary:!0},"Create section"),h.length>0&&i.h(a.default,{class:"moveToSection",ref:O,onClick:function(){v(!0)},secondary:!0},"Move to section…"),i.h(u.default,{targetNode:O.current&&O.current.base,open:S,onClose:function(){v(!1)},content:function(){return i.h(d.default,{barrelType:C.a.PROJECT,sections:h,onSelect:D})},top:12,left:0,faceLeft:!0,overlay:!0}),i.h("div",{class:"statusContainer"},i.h(c.default,{onWorkflowStatusChange:function(e){e._id===m.a.NoStatus._id?p.default.deleteWorkflowStatuses({bids:r,syncWithApi:!0}):p.default.updateWorkflowStatuses({bids:r,workflowStatus:e,syncWithApi:!0}),n()},disabled:_,defaultLabel:"Change status to…",showSelectedAsLabel:!1}),i.h(l.default,{class:y()("selectModeInfo",{show:_}),content:"It looks like one of your projects is archived. In order to update the status of these projects, they all need to be active.",popover:!0,anchor:"top",noControls:!0})))}O.propTypes={onCreateSection:r.a.func.isRequired,onMoveToSection:r.a.func.isRequired,onChangeStatus:r.a.func.isRequired,onCancelSelectionMode:r.a.func.isRequired,sections:r.a.array,selectedProjects:r.a.array},t.default=O},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1291);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(761),r=n(560),a=n(559),l=n(543),c=i(n(1292)),d=i(n(723));n(1293),t.default=function({currentPlan:e,offer:t,onUseOfferClick:n,onHideClick:i}){const{group:u,moreSeatsAllowed:p,seat:h,projectLimit:f,percentage:g,validUntil:m}=t,b=h&&!p,S=f?f-e.projectLimit:0,y=a.formatTime(m,{month:"long",day:"numeric",timeZone:"UTC"});return o.h(c.default,{class:"offerHintBox",emoji:"🧚",hideButtonText:"Close",onHideClick:i},function(){const t=e.group===l.PlanGroup.FREE?"Upgrade to Zeplin Team":`Your ${e.name} Plan is going away, upgrade to Zeplin Team today`;let i="";return"free"===u?i=`with 43% savings (until ${y})`:b?i="at no cost":g?i=`with ${g}% savings!`:S&&(i=`and get ${S} bonus projects!`),o.h("div",{className:"header"},o.h("h3",null,t," ",i),o.h(d.default,{onClick:n,primary:!0},"Use offer"))}(),function(){const n=s.getDateDifference("d",new Date,m),i=n<6?"in "+r.pluralize(n,"day"):"on "+y;if(e.group===l.PlanGroup.FREE)return o.h("p",null,"You have a special offer for the Zeplin Team plan! You’ll get support for",o.h("strong",null," 12 projects, unlimited version history, and a team workspace. "),"Get 5 seats for the price of 3 (43% savings). Offer expires ",i,".");let a="";const c=S+" additional projects";return b?a=`to get ${r.pluralize(h,"seat")} of the new Zeplin Team plan\n             ${S?"and "+c:""}  at no extra cost`:g?a=`to lock in ${g}% savings on the new Zeplin Team plan`:S&&(a=`to get the new Zeplin Team plan along with ${c} at no extra cost`),o.h("p",null,"We’re adding features to make teamwork easier like a",o.h("strong",null," team workspace, user management"),"gb"===t.group?", and more. ":o.h("strong",null,", and support for 12 projects. "),"Use this special offer ",a," (offer expires ",i,"). Your ",e.name," Plan will be retired in March 2022.")}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(901);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(622),o=n.n(i),s=n(582),r=n.n(s);const a={getProjectsSuccess({projects:e,oid:t}){r.a.dispatcher.dispatch({type:o.a.GET_PROJECTS_SUCCESS,projects:e,oid:t})},getProjectsFailed(e){r.a.dispatcher.dispatch({type:o.a.GET_PROJECTS_FAILED,error:e})},requestProject(e){r.a.dispatcher.dispatch({type:o.a.REQUEST_PROJECT,pid:e})},getProjectRequest(){r.a.dispatcher.dispatch({type:o.a.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e}){r.a.dispatcher.dispatch({type:o.a.GET_PROJECT_SUCCESS,project:e})},getProjectFailed(e){r.a.dispatcher.dispatch({type:o.a.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t,oseid:n}){r.a.dispatcher.dispatch({type:o.a.CREATE_PROJECT,oid:e,platform:t,oseid:n,syncWithApi:!0})},updateProject({pid:e,data:t}){r.a.dispatcher.dispatch({type:o.a.UPDATE_PROJECT,pid:e,data:t})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:s,canChangePlanAtTarget:a}){r.a.dispatcher.dispatch({type:o.a.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:i,oid:s,canChangePlanAtTarget:a,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:s,users:a}){r.a.dispatcher.dispatch({type:o.a.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:i,oid:s,users:a})},inviteUser({container:e,pid:t,users:n,oid:i}){r.a.dispatcher.dispatch({type:o.a.INVITE_USER,container:e,pid:t,users:n,oid:i})},toggleProjectSelection(e){r.a.dispatcher.dispatch({type:o.a.TOGGLE_PROJECT_SELECTION,pid:e})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(570);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return class extends e{constructor(...e){super(...e),r(this,"showToast",({text:e,source:t})=>{(this.toastContainer||this.nodeRefs&&this.nodeRefs.base)&&Object(i.default)({text:e,source:t,container:this.toastContainer||this.nodeRefs.base})})}getChildContext(){let e;return super.getChildContext&&(e=super.getChildContext()),s(s({},e),{},{showToast:this.showToast})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSectionDescriptionHeight=t.virtualScrollProjectSections=t.virtualScrollPersonalWorkspace=void 0;const i=n(1239),o=n(1297),s=n(1298);var r,a;!function(e){e.sectionHeader="SectionHeader",e.projectsRow="ProjectsRow"}(r||(r={})),function(e){e.user="user",e.timeline="timeline",e.name="name",e.individual="individual"}(a||(a={}));const l={};function c(e,t){if(e.type===a.individual)return i.DEFAULT_SECTION_HEADER_HEIGHT;if(e.type===a.name||e.type===a.timeline)return i.NAME_TIMELINE_SECTION_HEADER_HEIGHT;const n=!t,o=!!e.description,s=!o,r=e.projects.length>0,c=!r;if(t){if(o)return i.RAW_SECTION_HEADER_HEIGHT+(l[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT);if(s)return i.RAW_SECTION_HEADER_HEIGHT}else if(n){if(o)return i.RAW_SECTION_HEADER_HEIGHT+(l[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT);if(s){if(r)return i.RAW_SECTION_HEADER_HEIGHT;if(c)return i.RAW_SECTION_HEADER_HEIGHT+(l[e._id]||i.MIN_SECTION_DESCRIPTION_HEIGHT)}}return i.RAW_SECTION_HEADER_HEIGHT}t.virtualScrollPersonalWorkspace=function({section:e,projectToScroll:t,scrollPosition:n}){const{rows:a,projectsLookup:l,startIndex:c}=function(e,t){const n=[],s={};let a=-1;const l=o.howManyProjectsFitInARow();n.push({ids:[],indexes:[],sectionId:e._id,height:i.PROJECTS_ROW_TOP_PADDING+i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:r.projectsRow});for(let o=0;o<e.projects.length;o++){const c=e.projects[o];s[c._id]=c;const d=n[n.length-1];d.ids.length===l?n.push({ids:[c._id],indexes:[o],sectionId:e._id,height:i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:r.projectsRow}):(d.ids.push(c._id),d.indexes.push(o)),t&&c._id===t&&(a=n.length-1)}return{rows:n,projectsLookup:s,startIndex:a}}(e,t),d=c>-1?s.windowAroundIndex({items:a,tolerance:window.innerHeight,windowHeight:window.innerHeight,startIndex:c}):s.virtualScroll({items:a,tolerance:window.innerHeight,windowHeight:window.innerHeight,scrollPosition:n});return{surplusProjects:[],sections:[{indexInWorkspace:0,rawSection:Object.assign(Object.assign({},e),{projects:d.items.flatMap(e=>e.ids.map(e=>l[e]))})}],placeholders:d.placeholders}},t.virtualScrollProjectSections=function({sections:e,collapsedSections:t,highlightedSection:n,projectToScroll:a,scrollPosition:l}){const{rows:d,projectsLookup:u,startIndex:p}=function(e,t,n,s){const a=[],l={};let d=-1;const u=o.howManyProjectsFitInARow();for(let o=0;o<e.length;o++){const p=e[o];if(n&&n===p._id&&(d=a.length),t[p._id])a.push({id:p._id,height:c(p,!0),type:r.sectionHeader,index:o});else if(0===p.projects.length)a.push({id:p._id,height:c(p,!1),type:r.sectionHeader,index:o});else{a.push({id:p._id,height:c(p,!1),type:r.sectionHeader,index:o}),a.push({ids:[],indexes:[],sectionId:p._id,height:i.PROJECTS_ROW_TOP_PADDING+i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:r.projectsRow});for(let e=0;e<p.projects.length;e++){const t=p.projects[e];l[t._id]=t;const o=a[a.length-1];o.ids.length===u?a.push({ids:[t._id],indexes:[e],sectionId:p._id,height:i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING,type:r.projectsRow}):(o.ids.push(t._id),o.indexes.push(e)),!n&&s&&t._id===s&&(d=a.length-1)}}}return{rows:a,projectsLookup:l,startIndex:d}}(e,t,n,a),h=p>-1?s.windowAroundIndex({items:d,tolerance:window.innerHeight,windowHeight:window.innerHeight,startIndex:p}):s.virtualScroll({items:d,tolerance:window.innerHeight,windowHeight:window.innerHeight,scrollPosition:l}),f=[];let g=0;for(;g<h.items.length&&h.items[g].type!==r.sectionHeader;){const e=h.items[g];e.ids.forEach((t,n)=>{f.push({project:u[t],indexInSection:e.indexes[n],sectionId:e.sectionId})}),g++}const m=[];for(;g<h.items.length;){const t=h.items[g],n=e.find(e=>e._id===t.id);if(!n){g++;break}let i=[];g++;let o=h.items[g];for(;o&&o.type!==r.sectionHeader;){const e=o.ids.map(e=>u[e]);i=i.concat(e),g++,o=h.items[g]}m.push({indexInWorkspace:t.index,rawSection:Object.assign(Object.assign({},n),{numberOfProjects:n.projects.length,projects:i})})}return{surplusProjects:f,sections:m,placeholders:h.placeholders}},t.setSectionDescriptionHeight=function(e,t){l[e]=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScrollTopToIgnore=t.howManyProjectsFitInARow=void 0;const i=n(1239);function o(){let e=1;for(;e*(i.PROJECT_WIDTH+i.PROJECT_HORIZONTAL_MARGIN)+2*i.PROJECTS_HORIZONTAL_PADDING<window.innerWidth;)e++;return e=1===e?1:e-1,e}t.howManyProjectsFitInARow=o,t.calculateScrollTopToIgnore=function(e){return i.ORG_SUMMARY_HEIGHT+i.TABS_HEIGHT+function(e){return 0===e?0:Math.ceil(e/o())*(i.PROJECTS_ROW_HEIGHT+i.PROJECTS_ROW_BOTTOM_PADDING)+i.PROJECTS_ROW_TOP_PADDING+i.FOCUS_AREA_TOTAL_PADDING}(e)}},function(e,t,n){"use strict";function i(e,t){return e.top>=t.top&&e.top<t.bottom||t.bottom>e.top&&t.bottom<e.bottom}function o(e,t,n){const i=[];let o=0,s=t;for(;s>0&&o<n;){const t=e[s];o+=t.height,i.unshift(t),s--}return{renderedItems:i,height:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.virtualScroll=t.windowAroundIndex=void 0,t.windowAroundIndex=function(e){const{items:t,tolerance:n,windowHeight:i,startIndex:s}=e;let r=[],a=0,l=0,c=0;for(let d=0;d<t.length;d++){const e=t[d];if(c+=e.height,d<s)a+=e.height;else if(d===s){const{renderedItems:i,height:s}=o(t,d-1,n);a-=s,r=[...i,e]}else d>s&&c<a+n+i+n?r.push(e):l+=e.height}return{items:r,placeholders:{top:a,bottom:l}}},t.virtualScroll=function(e){const{items:t,tolerance:n,windowHeight:o,scrollPosition:s}=e,r={top:Math.max(s-n,0),bottom:s+o+n};let a=!1,l=0;const c=[];let d=0,u=0;for(const p of t){const e=p.height;l+=e,i({top:l-e,bottom:l},r)?(a=!0,c.push(p)):a?u+=e:d+=e}return{placeholders:{top:d,bottom:u},items:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({projects:e,archivedProjectsVisible:t}){return e.reduce((e,n)=>t||"archived"!==n.status?(e[n.workflowStatus._id]?e[n.workflowStatus._id]++:e[n.workflowStatus._id]=1,e):e,{})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1302);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1303),s=n(1305),r=n(1341),a=n(1376),l=n(1380),c=n(1382),d=n(1272),u=n.n(d),p=n(1275),h=n.n(p),f=n(1385),g=n(701),m=n.n(g),b=n(680),S=n.n(b),y=n(682),v=n(696),C=n(582),O=n.n(C),E=n(574),T=n.n(E),_=n(845),P=n.n(_),D=n(947),I=n(543),j=n(568),k=n(697),R=n(544),A=n(547),w=n(559);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(...e){super(...e),N(this,"state",{differentTypeDialogVisible:!1,styleguidesInfoVisible:!1}),N(this,"openDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!0})}),N(this,"closeDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!1})}),N(this,"createStyleguide",()=>{f.default.createStyleguide({platform:this.selectedType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),N(this,"createStyleguideWithParentType",()=>{f.default.createStyleguide({platform:this.parentStyleguideType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),N(this,"handleCreateStyleguide",(e,t)=>{this.selectedType=e,this.selectedParent=t,t&&(this.parentStyleguideType=this.state.currentStyleguides.find(e=>e._id===t).type,e!==this.parentStyleguideType&&this.parentStyleguideType!==I.PLATFORM.BASE)?this.openDifferentTypeDialog():this.createStyleguide()}),N(this,"handleStyleguideClick",(e,t)=>{const{filteredStyleguides:n}=this.state,i=n.find(e=>e._id===t);if("active"!==i.status)return;i.users.some(e=>e.user._id===Zeplin.user._id)?A.userPrefs.set("styleguidesUsed",!0):(e.preventDefault(),e.stopPropagation(),m.a.openDialog(I.DialogTypes.PREVIEW_STYLEGUIDE,{previewBarrelId:t}))}),N(this,"handleStyleguidePreviewJoin",()=>{v.default.join({barrelType:T.a.STYLEGUIDE,bid:this.state.previewStyleguide._id,source:"Preview"})}),N(this,"handleDeleteStyleguide",({stid:e})=>{v.default.remove({barrelType:T.a.STYLEGUIDE,bid:e,syncWithApi:!0})}),N(this,"handleOpenCopyStyleguideDialog",({barrelId:e,barrelName:t})=>{m.a.openDialog(I.DialogTypes.COPY_BARREL,{barrelId:e,barrelName:t})}),N(this,"handleCopyStyleguide",({bid:e,barrelName:t,options:n})=>{v.default.copy({bid:e,barrelName:t,barrelType:T.a.STYLEGUIDE,options:n,syncWithApi:!0})}),N(this,"handleLeaveStyleguide",({bid:e,mid:t})=>{v.default.removeMember({barrelType:T.a.STYLEGUIDE,bid:e,mid:t,syncWithApi:!0})}),N(this,"handleArchiveStyleguide",({stid:e})=>{v.default.archive({bid:e,barrelType:T.a.STYLEGUIDE,syncWithApi:!0})}),N(this,"handleActivateStyleguide",({stid:e})=>{v.default.activate({bid:e,barrelType:T.a.STYLEGUIDE,syncWithApi:!0})}),N(this,"handleJoinStyleguide",({stid:e,shouldLoadBarrel:t})=>{v.default.join({barrelType:T.a.STYLEGUIDE,bid:e,shouldLoadBarrel:t})}),N(this,"handleSelectParent",({stid:e,parent:t,oldParent:n})=>{f.default.selectParent({stid:e,parent:t,oldParent:n,syncWithApi:!0})}),N(this,"handleRemoveParent",({stid:e,oldParent:t})=>{f.default.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),N(this,"handleCopyLink",e=>{const{onCopyLink:t}=this.props;t(`${R.ZPL_PROTOCOL}//styleguide?stid=${e}`)}),N(this,"handleCopyStyleguideWebLink",e=>{const{onCopyLink:t}=this.props;t(e)}),N(this,"handleOpenCreateStyleguideDialog",()=>{const{currentPlan:e,currentUserId:t,selectedOrganization:n,currentStyleguides:i}=this.state,o=n&&n.styleguideLimit?n.styleguideLimit:e.styleguideLimit,s=(n?i:i.filter(({users:e})=>e.some(({user:{_id:e},role:n})=>e===t&&"owner"===n))).filter(e=>"archived"!==e.status);o>0&&s.length>=o?m.a.openDialog(I.DialogTypes.PLAN_CHOOSER,{barrelType:T.a.STYLEGUIDE,planUpgradeTrigger:I.PlanUpgradeTrigger.STYLEGUIDE_LIMIT}):m.a.openDialog(I.DialogTypes.CREATE_STYLEGUIDE)}),N(this,"handleShowPlanChooserOverlay",()=>{const{selectedOrganizationId:e}=this.state;Object(D.showPlanChooserOverlay)({source:"Styleguides, Deprecated plan warning",oid:e})}),N(this,"handleTransferOwnership",({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o})=>{const s=i?y.default.getOrganizationProfile(n):"owner",r=w.permissions.canChangePlan(s);f.default.initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:i,oid:o,canChangePlanAtTarget:r})})}static calculateState(){const{organizations:e,organizationProfiles:t}=O.a.OrganizationStore.getState(),{selectedOrganizationId:n,filterValue:i,styleguidesTabVisited:o,highlightedBarrels:s,visibleDialogType:r,visibleDialogParams:a}=O.a.SpaceStore.getState(),{loadingStyleguide:l}=O.a.StyleguidesDataStore.getState(),{userId:c,paymentPlan:d}=O.a.UserStore.getState(),{config:{plans:u}}=O.a.AppStore.getState(),p=y.default.getOrganizationStyleguides(n),h=p&&0===p.length,f=p||[],g=f.find(({_id:e})=>e===a.previewBarrelId),m=e.find(e=>e._id===n),b=t[n],v=c,C=m?u.find(e=>e.id===m.paymentPlan):d;let E=function(e,t=""){return t.length?e.map(e=>({styleguide:e,score:Object(j.calculateMatchingScore)(t,e.name,e.type)})).filter(({score:e})=>e).sort((e,t)=>t.score-e.score).map(({styleguide:e})=>e):e}(f,i);b&&b.restricted&&(E=E.filter(e=>e.users.some(e=>e.user._id===v)));const T=function(e,t){for(let n of e)if(t.includes(n._id))return n._id;return null}(E,s),_=Object(k.generateTrees)(E),P=Object(k.generateNodes)(E),D=S.a.canCreateStyleguide();return{currentStyleguides:f,filteredStyleguides:E,trees:_,nodes:P,selectedOrganizationId:n,organizations:e,organizationProfiles:t,selectedOrganization:m,currentOrganizationProfile:b,filterValue:i,canCreateStyleguide:D,showWelcome:h,loadingStyleguide:l,currentPlan:C,styleguidesTabVisited:o,highlightedBarrels:s,firstHighlightedStyleguide:T,currentUserId:v,visibleDialogType:r,visibleDialogParams:a,previewStyleguide:g}}static getStores(){return[O.a.StyleguidesDataStore,O.a.SpaceStore,O.a.OrganizationStore,O.a.UserStore,O.a.AppStore]}getChildContext(){const{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,canCreateStyleguide:s,currentStyleguides:r,currentUserId:a}=this.state;return{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:o,currentUserId:a,canCreateStyleguide:s,currentStyleguides:r}}renderDialogs(){const{currentStyleguides:e,visibleDialogType:t,visibleDialogParams:n,loadingStyleguide:o,selectedOrganizationId:s,currentUserId:l,previewStyleguide:c}=this.state;if(t===I.DialogTypes.CREATE_STYLEGUIDE){let t=Object(k.generateTrees)(e).filter(e=>!e.isArchived());return"user"===s&&(t=t.filter(e=>{const t=e.root.data.users.find(e=>"owner"===e.role);return t&&t.user._id===l})),i.h(a.default,{trees:t,onCreate:this.handleCreateStyleguide,onClose:m.a.closeDialog})}return t===I.DialogTypes.PREVIEW_STYLEGUIDE?i.h(r.default,{styleguide:c,loading:o,onJoin:this.handleStyleguidePreviewJoin,onClose:m.a.closeDialog}):t===I.DialogTypes.COPY_BARREL?i.h(u.a,{barrelType:T.a.STYLEGUIDE,barrelName:n.barrelName,barrelId:n.barrelId,onCopy:this.handleCopyStyleguide,onClose:m.a.closeDialog}):t===I.DialogTypes.ASYNC_COPY_BARREL?i.h(h.a,{barrelType:T.a.STYLEGUIDE,barrelName:n.barrelName,onClose:m.a.closeDialog}):void 0}renderDifferentTypeDialog(){const{differentTypeDialogVisible:e}=this.state;return e?i.h(l.default,{parentStyleguideType:this.parentStyleguideType,childStyleguideType:this.selectedType,onCreateAnyway:this.createStyleguide,onCreateWithParentType:this.createStyleguideWithParentType,onClose:this.closeDifferentTypeDialog}):null}renderEmptyStyleguides(){const{currentPlan:e,organizations:t}=this.state,n="company_annual"===e.id||"company_monthly"===e.id,o=e.group===I.PlanGroup.FREE,s=t.find(({status:e})=>"deleted"!==e);return i.h(c.default,{hasCompanyPlan:n,hasFreePlan:o,availableOrganization:s,onOpenPlanChooserOverlay:this.handleShowPlanChooserOverlay,onCreate:this.handleOpenCreateStyleguideDialog,onCheckoutOrganization:m.a.changeSelectedOrganization})}render(){const{onCopyLink:e}=this.props,{trees:t,nodes:n,filterValue:r,selectedOrganizationId:a,selectedOrganization:l={},showWelcome:c,styleguidesTabVisited:d,highlightedBarrels:u,firstHighlightedStyleguide:p}=this.state;return i.h("div",null,c?this.renderEmptyStyleguides():i.h(i.Fragment,null,i.h(o.default,{filterValue:r,onFilter:m.a.changeFilterValue,onCreateStyleguide:this.handleOpenCreateStyleguideDialog}),i.h(s.default,{key:"styleguides",nodes:n,trees:t,highlightedStyleguides:u,firstHighlightedStyleguide:p,organizationId:a,organizationStatus:l.status,organizationSubscriptionStatus:l.subscriptionStatus,isVisited:d,onVisited:m.a.setStyleguidesTabVisited,onStyleguideClick:this.handleStyleguideClick,onStyleguideHover:m.a.unhighlightBarrel,onStyleguideDelete:this.handleDeleteStyleguide,onOpenCopyStyleguideDialog:this.handleOpenCopyStyleguideDialog,onStyleguideArchive:this.handleArchiveStyleguide,onStyleguideActivate:this.handleActivateStyleguide,onStyleguideLeave:this.handleLeaveStyleguide,onStyleguideTransferOwnership:this.handleTransferOwnership,onStyleguideJoin:this.handleJoinStyleguide,onStyleguideInvite:f.default.inviteUser,onStyleguideParentSelect:this.handleSelectParent,onStyleguideParentRemove:this.handleRemoveParent,onCopyLink:e})),this.renderDialogs(),this.renderDifferentTypeDialog())}}t.default=P()(L,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1304);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1054),s=n(723);t.default=function({onFilter:e,onCreateStyleguide:t,filterValue:n},{canCreateStyleguide:r}){return i.h(o.default,{onFilter:e,filterValue:n,searchPlaceholder:"Search for a styleguide",searchPlaceholderWidth:155,rightContent:r&&i.h(s.default,{class:"noSelect",onClick:t,primary:!0},"Create Styleguide"),sticky:!0})}},function(e,t,n){"use strict";n.r(t);var i=n(1306);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1307),s=n(1313),r=n(1334),a=n(1337),l=n(1284),c=n(886),d=n(737),u=n(559),p=n(718),h=n.n(p);n(1340);class f extends c.default{constructor(e){super(e),this.handleResize=Object(u.debounce)(this.handleResize).bind(this),this.handleHintBoxHideClick=this.handleHintBoxHideClick.bind(this),this.renderTree=this.renderTree.bind(this),this.renderNode=this.renderNode.bind(this),this.initialScroll=!1,this.state={wrapRootTrees:!0,styleguidesInfoVisible:!1}}handleResize(){this.nodeRefs&&this.nodeRefs.rootTrees&&this.nodeRefs.base&&this.setState({wrapRootTrees:this.nodeRefs.base.clientWidth>=this.nodeRefs.base.scrollWidth})}handleHintBoxHideClick(){this.setState({styleguidesInfoVisible:!1})}componentDidMount(){this.handleResize();const{isVisited:e,onVisited:t}=this.props;e||(this.setState({styleguidesInfoVisible:!0}),t()),window.addEventListener("resize",this.handleResize)}componentWillReceiveProps(e){e.nodes.length!==this.props.nodes.length&&this.handleResize()}componentDidUpdate(e,t){this.props.organizationId!==e.organizationId&&this.nodeRefs&&this.nodeRefs.scrollContainer&&(this.nodeRefs.scrollContainer.scrollTop=0)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderTree(e){const{onStyleguideDelete:t,onOpenCopyStyleguideDialog:n,onStyleguideArchive:s,onStyleguideActivate:r,onStyleguideTransferOwnership:a,onStyleguideLeave:l,onStyleguideJoin:c,onStyleguideInvite:d,onStyleguideClick:u,onStyleguideHover:p,onStyleguideParentSelect:h,onStyleguideParentRemove:f,onCopyLink:g,highlightedStyleguides:m,firstHighlightedStyleguide:b}=this.props;return i.h(o.default,{key:e.root.id,tree:e,highlightedStyleguides:m,firstHighlightedStyleguide:b,onNodeDelete:t,onOpenCopyStyleguideDialog:n,onNodeArchive:s,onNodeActivate:r,onNodeTransferOwnership:a,onNodeLeave:l,onNodeJoin:c,onNodeInvite:d,onNodeClick:u,onNodeHover:p,onNodeParentSelect:h,onNodeParentRemove:f,onCopyLink:g})}renderBranchedTrees(e){const{wrapRootTrees:t}=this.state,n=h()("trees",{center:1===e.length&&t});return i.h("div",{class:n},e.map(this.renderTree))}renderRootTrees(e){const{wrapRootTrees:t}=this.state;return i.h("div",{class:"rootTrees"},i.h("div",{style:{flexWrap:t?"wrap":"nowrap"},ref:Object(d.default)(this,"rootTrees"),class:"trees"},e.map(this.renderTree)))}renderArchivedTrees(e){const t=[],n=[];for(const i of e)i.isRootTree()?t.push(i):n.push(i);return i.h("div",null,i.h("div",{class:"styleguideHeader"},i.h("h3",null,"Archived Trees"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")),i.h("div",{class:"archivedTrees"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t)))}renderEmptyStyleguides(){const{organizationId:e,organizationStatus:t,organizationSubscriptionStatus:n}=this.props;return"suspended"===t?i.h(l.default,{organizationId:e,subscriptionStatus:n}):i.h(r.default,null)}renderInTreeFormat(){const{trees:e}=this.props,t=[],n=[],o=[];for(const i of e)i.isArchived()?o.push(i):i.isRootTree()?t.push(i):n.push(i);return i.h("div",{ref:Object(d.default)(this,"base"),class:"styleguidesTreeView"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t),0===n.length&&0===t.length&&this.renderEmptyStyleguides(),o.length>0&&this.renderArchivedTrees(o))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onStyleguideClick:o,onStyleguideHover:r,onStyleguideDelete:a,onOpenCopyStyleguideDialog:l,onStyleguideArchive:c,onStyleguideActivate:d,onStyleguideTransferOwnership:u,onStyleguideLeave:p,onStyleguideJoin:h,onStyleguideInvite:f,onStyleguideParentSelect:g,onStyleguideParentRemove:m,onCopyLink:b}=this.props,S=t.includes(e.id),y=n===e.id;return i.h(s.default,{key:e.id,node:e,archived:e.isArchived(),highlight:S,scroll:y,onDelete:a,onOpenCopyStyleguideDialog:l,onArchive:c,onActivate:d,onTransferOwnership:u,onLeave:p,onJoin:h,onInvite:f,onClick:o,onHover:r,onParentSelect:g,onParentRemove:m,onCopyLink:b})}renderInListFormat(){const{filterValue:e}=this.context,{nodes:t}=this.props,n=[],o=[];for(const i of t)i.isArchived()?o.push(i):n.push(i);return i.h("div",{class:"styleguidesListView"},n.length>0?i.h("div",{class:"styleguideNodes"},n.map(this.renderNode)):this.renderEmptyStyleguides(),o.length>0&&i.h("div",{class:"styleguideNodes"},i.h("div",{class:"styleguideHeader"},e?i.h("h4",null,"Archived Styleguides"):i.h(i.Fragment,null,i.h("h3",null,"Archived Styleguides"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu."))),o.map(this.renderNode)))}render(){const{filterValue:e}=this.context,{styleguidesInfoVisible:t}=this.state;return i.h("div",{ref:Object(d.default)(this,"scrollContainer"),class:"styleguides"},t&&i.h(a.default,{onHideClick:this.handleHintBoxHideClick,hideButtonText:"Got it!"}),e?this.renderInListFormat():this.renderInTreeFormat())}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1308);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1309),s=n(1313),r=n(886),a=n(559),l=n(737),c=n(846),d=n(1311);n(1333);function u(e){return[e.id].concat(...e.children.map(u))}class p extends r.default{constructor(e){super(e),this.handleNodeRef=this.handleNodeRef.bind(this),this.renderNode=this.renderNode.bind(this),this.handleNodeMouseEnter=this.handleNodeMouseEnter.bind(this),this.handleNodeMouseLeave=this.handleNodeMouseLeave.bind(this),this.treeMounted=!1,this.nodeRefs={},this.state={hoveredParentId:null}}handleNodeRef(e,t){this.nodeRefs[e]=t}handleNodeMouseEnter(e){this.setState({hoveredParentId:e})}handleNodeMouseLeave(){this.setState({hoveredParentId:null})}componentDidMount(){const{tree:e}=this.props;e.isRootTree()||this.forceUpdate()}componentWillReceiveProps(e){Object(c.default)(u(e.tree.root),u(this.props.tree.root))&&(this.treeMounted=!1)}componentDidUpdate(){const{tree:e}=this.props;e.isRootTree()||this.treeMounted||(this.treeMounted=!0,setTimeout(()=>{this.forceUpdate()}))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onNodeDelete:o,onOpenCopyStyleguideDialog:r,onNodeArchive:a,onNodeActivate:l,onNodeTransferOwnership:c,onNodeLeave:d,onNodeJoin:u,onNodeInvite:p,onNodeClick:h,onNodeHover:f,onNodeParentSelect:g,onNodeParentRemove:m,onCopyLink:b}=this.props,S=t.includes(e.id),y=n===e.id;return i.h(s.default,{key:e.id,node:e,archived:e.isArchived(),highlight:S,scroll:y,onMount:this.handleNodeRef,onDelete:o,onOpenCopyStyleguideDialog:r,onArchive:a,onActivate:l,onLeave:d,onJoin:u,onInvite:p,onClick:h,onHover:f,onTransferOwnership:c,onMouseEnter:this.handleNodeMouseEnter,onMouseLeave:this.handleNodeMouseLeave,onParentSelect:g,onParentRemove:m,onCopyLink:b})}renderLevels(){const{hoveredParentId:e}=this.state,{tree:t}=this.props,n={marginBottom:d.TOTAL_LEVEL_GAP};return[i.h("div",{style:n,class:"level",key:"root"},this.renderNode(t.root)),t.levels.map((s,r)=>{const c=function(e){const t=Object(a.groupBy)(e,"parentId"),n=Object.values(t).sort((e,t)=>t.length-e.length);let i=-1;return n.reduce((n,o,s,r)=>{const a=o[0].parentId;if(-1===i&&r[s+1]&&o.length===r[s+1].length){const t=r[r.length-1],n=t[t.length-1];e.map(e=>e.id).indexOf(n.id)<e.length/2&&(i=s)}let l;return l=-1!==i?s-i+1:r.length-s,n[a]={weight:l,nodes:t[a]},n},{})}(s.nodes),d=Object.keys(c);let u=d;if(r>0){const e=t.getNodesAtLevel(r-1);u=d.sort((t,n)=>{const i=e.find(e=>e.id===t),o=e.find(e=>e.id===n);return i.index-o.index})}const p=Object.keys(c).length,h=r!==t.levels.length-1?n:null;return i.h("div",{ref:Object(l.default)(this,"level"+r),style:h,class:"level",key:r},u.map(n=>{const{nodes:s,weight:a}=c[n],l=s.map(e=>this.nodeRefs[e.id]),d=this.nodeRefs[n],u=this.nodeRefs["level"+r];return i.h(i.Fragment,{key:"branches"+n},this.treeMounted&&u&&d&&l.length>0&&i.h(o.default,{key:n,parentId:n,totalWeight:p,weight:a,levelRef:u,parentNodeRef:d,nodeRefs:l,highlight:!t.isArchived()&&n===e}),i.h("div",{key:"nodes"+n,class:"nodes"},s.map(this.renderNode)))}))})]}render(){const{tree:e}=this.props;return e.isRootTree()?this.renderNode(e.root):i.h("div",{class:"styleguideTree"},this.renderLevels())}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1310);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1311),s=n(718),r=n.n(s);n(1312);t.default=function(e){const{parentId:t,levelRef:n,parentNodeRef:s,nodeRefs:a,totalWeight:l,weight:c,highlight:d}=e,u=a[0].getBoundingClientRect(),p=a[a.length-1].getBoundingClientRect(),h=n.getBoundingClientRect(),f=s.getBoundingClientRect().left+136,g=Math.min(u.left+136,f),m=Math.max(p.right-136,f)-g,b=u.left+136-f>0,S=o.TOTAL_LEVEL_GAP/(l+1)*c,y=o.TOTAL_LEVEL_GAP-S,v=`M2,${S} l${m},00 `,C=2+(b?u.left-g+136:0),O=Array(a.length).fill().reduce((e,t,n)=>e.concat(i.h("path",{key:n,d:`M${C+296*n},${S} l00,${y}`})),[]),E=`M${2+(b?0:f-g)},00 l00,${S}`,T=g-h.left-2,_=r()("branches",{highlight:d});return i.h("svg",{class:_,"data-parentId":t,style:{left:T,top:-o.TOTAL_LEVEL_GAP},width:m+4,height:o.TOTAL_LEVEL_GAP},O,i.h("path",{d:v}),i.h("path",{d:E}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"TOTAL_LEVEL_GAP",(function(){return i}));const i=48},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1314);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1103),s=n(1315),r=n(942),a=n(1155),l=n(873),c=n(1143),d=n(1318),u=n(559),p=n(556),h=n(737),f=n(558),g=n(1159),m=n(574),b=n.n(m),S=n(697),y=n(543),v=n(544),C=n(1164);n(1332);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E="transferOwnership",T="selectParent";class _ extends i.Component{constructor(...e){super(...e),O(this,"transferOwnershipPayload",{}),O(this,"state",{contextMenu:null,visibleDialogType:null,visiblePopoverType:null,transferOwnershipPopupVisible:!1,selectParentPopupVisible:!1,selectedParentStyleguide:null}),O(this,"getCurrentUser",()=>{const{selectedOrganizationId:e,currentOrganizationProfile:t,currentUserId:n}=this.context,{node:{data:{users:i}}}=this.props;let o;return o="user"===e?i.find(e=>e.user._id===n):t,o}),O(this,"openTransferOwnershipPopup",()=>{this.setState({visiblePopoverType:E})}),O(this,"openSelectParentPopup",()=>{this.setState({visiblePopoverType:T})}),O(this,"closePopovers",()=>{this.setState({visiblePopoverType:null})}),O(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.ARCHIVE})}),O(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:y.DialogTypes.TRANSFER})}),O(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.LEAVE})}),O(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.DELETE})}),O(this,"openSelectParentDialog",e=>{const{currentStyleguides:t}=this.context,n=t.find(t=>t._id===e._id);this.setState({visibleDialogType:y.DialogTypes.SELECT_PARENT,selectedParentStyleguide:n})}),O(this,"openRemoveParentDialog",()=>{this.setState({visibleDialogType:y.DialogTypes.REMOVE_PARENT})}),O(this,"closeDialogs",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null,selectedParentStyleguide:null})}),O(this,"selectParent",()=>{const{selectedParentStyleguide:{_id:e}}=this.state,{node:{data:{_id:t,parent:n}},onParentSelect:i}=this.props;i({stid:t,parent:e,oldParent:n})}),O(this,"generateShortlink",()=>{Object(C.fetchShortlink)(this.webURL)}),O(this,"handleContextMenu",e=>{this.setState({contextMenu:{origin:e}})}),O(this,"handleContextMenuClose",()=>{this.setState({contextMenu:null})}),O(this,"handleMouseEnter",()=>{const{node:{id:e},onMouseEnter:t}=this.props;t&&t(e)}),O(this,"handleMouseLeave",()=>{const{onMouseLeave:e}=this.props;e&&e()}),O(this,"handleDelete",()=>{const{node:{data:{_id:e}},onDelete:t}=this.props;t({stid:e})}),O(this,"handleOpenCopyBarrelDialog",()=>{const{node:{data:{_id:e,name:t}},onOpenCopyStyleguideDialog:n}=this.props;n({barrelId:e,barrelName:t})}),O(this,"handleArchive",()=>{const{node:{data:{_id:e}},onArchive:t}=this.props;t({stid:e})}),O(this,"handleActivate",()=>{const{node:{data:{_id:e}},onActivate:t}=this.props;t({stid:e})}),O(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e,currentUserId:t}=this.context,{onTransferOwnership:n,node:{data:{_id:i}}}=this.props,{selected:o,toOrganization:s}=this.transferOwnershipPayload;n({stid:i,fromUserId:t,targetId:o,toOrganization:s,oid:e})}),O(this,"handleLeave",()=>{const{node:{data:{_id:e}},onLeave:t}=this.props,n=this.getCurrentUser();this.closeDialogs(),t({bid:e,mid:n.user._id})}),O(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,node:{data:{_id:n,users:i}}}=this.props;t({container:this.nodeRefs.base,stid:n,users:i,oid:e}),this.closePopovers()}),O(this,"handleCopyWebLink",()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(Object(C.getShortlink)(this.webURL)),mixpanel.master.track("Copied web link",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})}),O(this,"handleCopyAppUri",()=>{const{node:{data:{_id:e}},onCopyLink:t}=this.props;t(this.appURI),mixpanel.master.track("Copied app URI",{Target:"Styleguide",Source:"Workspace",styleguide_id:e})}),O(this,"handleJoinFromContextMenu",()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!1})}),O(this,"handleJoinFromCard",()=>{const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!0})}),O(this,"handleParentRemove",()=>{const{node:{data:{_id:e,parent:t}},onParentRemove:n}=this.props;n({stid:e,oldParent:t})})}get webURL(){return Object(p.urlResolve)("styleguide",{url:{bid:this.props.node.id}})}get appURI(){return`${v.ZPL_PROTOCOL}//styleguide?stid=${this.props.node.id}`}componentDidMount(){const{node:{id:e},scroll:t,onMount:n}=this.props,{workspaceRef:i}=this.context,{base:o}=this.nodeRefs;t&&o&&!Object(f.isElementVisible)(o,i)&&o.scrollIntoView(),n&&n(e,o)}renderTransferOwnershipPopup(){const{node:{data:{users:e}}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:o,currentUserId:s}=this.context,r=Object(g.getTransferableUsers)(e,s,n),a=Object(g.getTransferableOrganizations)(t,o,n);return i.h(c.default,{barrelType:b.a.STYLEGUIDE,users:r,organizations:a,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderDialog(e){const{organizations:t}=this.context,{node:{data:{name:n,users:o,type:s,parent:l}}}=this.props,{selected:c,toOrganization:d}=this.transferOwnershipPayload;if(e===y.DialogTypes.DELETE)return i.h(a.default,{title:"Enter the name of the styleguide to confirm:",placeholder:"Styleguide name",confirmationText:n,onDelete:this.handleDelete,onClose:this.closeDialogs});let u,p,h,f;switch(e){case y.DialogTypes.TRANSFER:{let e;e=d?t.find(e=>e._id===c).name:o.find(e=>e.user._id===c).user.username,u="TRANSFER",p=`Transfer ownership of “${n}” to ${e}?`,h=this.handleTransferOwnership;break}case y.DialogTypes.LEAVE:u="LEAVE",p=`Leave “${n}”?`,h=this.handleLeave;break;case y.DialogTypes.ARCHIVE:u="ARCHIVE",p=`Archive “${n}”?`,h=this.handleArchive;break;case y.DialogTypes.SELECT_PARENT:{const{selectedParentStyleguide:e}=this.state;if(!e)return null;const{name:t,type:i}=e,o=s===i||i===y.PLATFORM.BASE;u=`${l?"CHANGE":"SELECT"}${o?"":" ANYWAY"}`;const r=l?"to":"as";f=`${l?"Change":"Select"} parent styleguide of ${`“${n}”`+(o?"":` (${y.PlatformString[s]})`)} ${r} ${`“${t}”`+(o?"":` (${y.PlatformString[i]})`)}?`,p="Styleguide parent can be changed later.",h=this.selectParent;break}case y.DialogTypes.REMOVE_PARENT:u="REMOVE PARENT",p=`Remove parent styleguide of “${n}”?`,h=this.handleParentRemove}return i.h(r.BasicOverlayDialog,{positiveButtonText:u,onPositiveButtonClick:h,onClose:this.closeDialogs,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:p,title:f})}renderContextMenu(e){const{contextMenu:{origin:t}}=this.state,{node:{data:n}}=this.props;return i.h(s.default,{currentUser:this.getCurrentUser(),styleguide:n,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.openTransferOwnershipPopup,onCopyStyleguide:this.handleOpenCopyBarrelDialog,onInvite:this.handleInvite,onJoin:this.handleJoinFromContextMenu,onLeave:this.openLeaveDialog,onParentSelect:this.openSelectParentPopup,onParentRemove:this.openRemoveParentDialog,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,selectableParentStyleguidesLength:e,autoPosition:{clickOrigin:t}})}renderPopovers(e){const{visiblePopoverType:t}=this.state;if(!t)return null;let n;switch(t){case E:n=this.renderTransferOwnershipPopup();break;case T:n=i.h(d.default,{styleguides:e,onSelect:this.openSelectParentDialog})}return i.h(l.default,{targetNode:this.nodeRefs.base,onClose:this.closePopovers,content:n,top:-12,left:-236,faceTop:!0,open:!0})}render(){const{filterValue:e,selectedOrganizationId:t,currentStyleguides:n}=this.context,{contextMenu:s,visibleDialogType:r}=this.state,{node:a,node:{id:l,parentId:c,data:{type:d,name:f,users:g,thumbnail:m,updated:b}},highlight:y,archived:v,onClick:C,onHover:O}=this.props,E=Object(p.urlResolve)("styleguide",{url:{bid:l}}),T=g.sort(u.sortBy.role),_=Object(S.getSelectableParentStyleguides)({isOrganizationStyleguide:"user"!==t,currentStyleguides:n,currentUser:this.getCurrentUser(),id:l,parentId:c,users:g});return i.h("div",{ref:Object(h.default)(this,"base"),class:"styleguideCard",onMouseLeave:v||a.isLeaf()?null:this.handleMouseLeave,onMouseEnter:v||a.isLeaf()?null:this.handleMouseEnter},i.h(o.default,{id:l,onClick:C,onHover:O,link:E,type:d,name:f,members:T,source:m,updated:b,onContextMenu:this.handleContextMenu,contextMenu:s&&this.renderContextMenu(_.length),filterValue:e,highlight:y,archived:v,onJoin:this.handleJoinFromCard,pinnable:!1,selectable:!1}),r&&this.renderDialog(r),this.renderPopovers(_))}}t.default=_},function(e,t,n){"use strict";n.r(t);var i=n(1316);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050),s=n(559),r=n(1317);class a extends i.Component{renderOwnershipItems(){const{currentUser:e,onTransferOwnership:t,onCopyStyleguide:n}=this.props,r=s.permissions.canTransferOwnership(e),a=s.permissions.canCopyBarrel(e);return[i.h(o.default.ItemDivider,{key:"ownershipDivider"}),r&&i.h(o.default.Item,{key:"transferOwnership",onClick:t},"Transfer ownership…"),a&&i.h(o.default.Item,{key:"copyStyleguide",onClick:n},"Make a copy…"),(r||a)&&i.h(o.default.ItemDivider,{key:"ownershipDividerEnd"})]}renderParentItems(){const{currentUser:e,onParentSelect:t,onParentRemove:n,selectableParentStyleguidesLength:a,styleguide:{parent:l,status:c}}=this.props;if(c===r.default.ARCHIVED)return null;const d=s.permissions.canUpdateStyleguide(e),u=d&&a>0;return[!l&&u&&i.h(o.default.Item,{key:"selectParent",onClick:t},"Select parent styleguide"),l&&u&&i.h(o.default.Item,{key:"changeParent",onClick:t},"Change parent styleguide"),l&&d&&i.h(o.default.Item,{key:"removeParent",onClick:n},"Remove parent styleguide"),(l||u)&&i.h(o.default.ItemDivider,{key:"parentItemDividerEnd"})]}renderStatusItems(){const{currentUser:e,onActivate:t,onArchive:n,styleguide:{status:a}}=this.props,l=s.permissions.canChangeStyleguideStatus(e),c=s.permissions.canChangeStyleguideStatus(e),d=a===r.default.ARCHIVED;return[!d&&l&&i.h(o.default.Item,{key:"archive",onClick:n},"Archive styleguide"),d&&c&&i.h(o.default.Item,{key:"activate",onClick:t},"Activate styleguide")]}renderWarningItems(){const{currentUser:e,onLeave:t,onDelete:n}=this.props,r=s.permissions.canDeleteStyleguide(e);return[s.permissions.canLeaveStyleguide(e)&&i.h(o.default.Item,{key:"leave",onClick:t,warning:!0},"Leave styleguide"),r&&i.h(o.default.Item,{key:"delete",onClick:n,warning:!0},"Delete styleguide")]}renderCopyLinks(){const{styleguide:{status:e},onCopyWebLink:t,onCopyAppUri:n}=this.props,s=e===r.default.ARCHIVED;return[!s&&i.h(o.default.Item,{key:"copyWebLink",onClick:t},"Copy styleguide web link"),!s&&i.h(o.default.Item,{key:"copyApiUri",onClick:n},"Copy styleguide app URI")]}renderItems(){const{currentUserId:e}=this.context,{styleguide:{users:t},onInvite:n,onJoin:s}=this.props;return t.some(t=>t.user._id===e)?[i.h(o.default.Item,{key:"invite",onClick:n},"Invite…"),this.renderCopyLinks(),this.renderOwnershipItems(),this.renderParentItems(),this.renderStatusItems(),this.renderWarningItems()]:[i.h(o.default.Item,{key:"join",onClick:s},"Join"),this.renderCopyLinks()]}render(){const{autoPosition:e,onClose:t,onOpen:n}=this.props;return i.h(o.default.overlay,{autoPosition:e,onClose:t,onOpen:n},this.renderItems())}}t.default=a},function(e,t,n){"use strict";n.r(t),t.default={ROOT:"root",ARCHIVED:"archived",BRANCHED:"branched"}},function(e,t,n){"use strict";n.r(t);var i=n(1319);n.d(t,"default",(function(){return i.default})),n.d(t,"NoStyleguides",(function(){return i.NoStyleguides})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return i.NoStyleguidesForNonOwnerUser})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return i.NoStyleguideToMoveInOrganization})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return i.NoStyleguideToMoveNonOwner})),n.d(t,"NoStyleguideToMove",(function(){return i.NoStyleguideToMove}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NoStyleguides",(function(){return d})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return c})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return u})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return p})),n.d(t,"NoStyleguideToMove",(function(){return h}));var i=n(4),o=n(1320),s=n(556),r=n(737),a=n(697);n(1331);const l=({title:e="No styleguides to link yet",children:t})=>i.h("div",{class:"linkToStyleguidePopupEmpty"},i.h("h3",null,e),t),c=({projectOwnerName:e})=>i.h(l,null,i.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.h("strong",null,e)," and you’re not invited to any of their styleguides.")),d=({hasOrganization:e})=>i.h(l,null,i.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"there’s no workspace styleguide yet":"you don’t have a styleguide yet",", ",i.h("a",{href:Object(s.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),u=({oid:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,"Looks like there’s no workspace styleguide yet, ",i.h("a",{href:Object(s.urlResolve)("workspace-styleguides",{url:{oid:e}}),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),p=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and you’re not invited to any of their styleguides.")),h=({resourceType:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you don’t have a styleguide yet, ",i.h("a",{href:Object(s.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."));class f extends i.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(a.generateTrees)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find(t=>t._id===e);this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find(t=>t._id===e));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=this.nodeRefs.base.clientHeight+"px"),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(a.generateTrees)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:s}=this.props;return i.h("div",{ref:Object(r.default)(this,"base"),class:"linkToStyleguidePopup"},i.h("p",{class:"noSelect"},s),i.h(o.default,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}f.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1321);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1322),s=n(771),r=n(718),a=n.n(r),l=n(543);n(1330);function c({name:e,type:t,selected:n,loading:o}){const r=a()("nodeItem",{selected:n});return i.h("div",{class:r},i.h("span",{class:"styleguideName ellipsis"},e),", ",i.h("span",{class:"nodeType"},t),o&&n&&i.h("div",{class:"nodeSpinner"},i.h(s.IconSpinner,{color:"#fff"})))}t.default=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:s,hoverable:r,loading:d,class:u}=e,p=function(e,t,n){return function e(o){return o.map(({id:o,data:{name:s,type:r},children:a})=>({id:o,title:s,children:e(a),content:i.h(c,{name:s,loading:n,type:l.PlatformString[r],selected:t===o})}))}(e.map(e=>e.root))}(t,n,d),h=a()("styleguidesTreeView",u);return i.h(o.default,{class:h,tree:p,selectedNodeId:n,onNodeSelect:s,hoverable:!d&&r,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";n.r(t);var i=n(1323);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(540),l=n(718),c=n.n(l),d=n(737),u=n(1324),p=n(1327);n(1329);function h(e,t,n){return[].concat(...e.map(e=>(e.parent=n,t.includes(e.id)?e:[e].concat(h(e.children,t,e.id)))))}function f(e,t){for(const n of e){if(n.id===t)return n;const e=f(n.children,t);if(e)return e}return null}class g extends i.Component{constructor(e){super(e),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=h(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex(({id:t})=>t===e)}findNextSelectableNode(e,t,n){if(this.nodeList[t]){if(this.nodeList[t].nonSelectable){let i;return i=n?"mac"===Object(a.getOS)()&&e.metaKey?this.nodeList.length-1:t+1:"mac"===Object(a.getOS)()&&e.metaKey?0:t-1,this.findNextSelectableNode(e,i,n)}return this.nodeList[t]}}toggleExpand(e){this.nodeRefs.base.focus({preventScroll:!0}),this.setState(t=>{const{collapsedNodes:n}=t;return n.includes(e)?Object(r.arrayRemove)(n,t=>t===e):n.push(e),{collapsedNodes:n}})}handleStartDrag(e){const{collapsedNodes:t}=this.state;t.includes(e)||this.setState({collapsedNodes:[...t,e]})}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.toggleExpand(e);const i=f(t,e);var o;o=n,f(i.children,o)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:o}=this.props,{nonSelectable:s,expandOnClick:r}=this.nodeList.find(({id:t})=>t===e);if(r&&this.toggleExpand(e),o||s)return;this.setState({selectedNodeId:e});const a=t?300:4;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,a,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e)}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(a.getOS)()&&e.metaKey?this.nodeList.length-1:n+1,o=this.findNextSelectableNode(e,i,!0);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(a.getOS)()&&e.metaKey?0:n-1,o=this.findNextSelectableNode(e,i,!1);o&&this.handleNodeSelect(o.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const{id:e}=this.nodeList[0];this.handleNodeSelect(e,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){if(Object(a.cmdKey)(e)||e.altKey||e.shiftKey)return;let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:o}=e,{collapsedNodes:s}=t;n.length!==s&&(this.nodeList=h(i,s,null)),o!==this.props.selectedNodeId&&this.setState({selectedNodeId:o})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t,n){const{nodeClass:o,nodePadding:s,dragDropEnabled:r,onComponentToSectionNodeDrop:a,onReorderComponentSectionOrGroup:l,allowScrollOnMount:c,compareIdsForHighlight:d}=this.props,{collapsedNodes:h,selectedNodeId:f}=this.state;return e.map(({id:g,idPath:m,styleguideId:b,title:S,content:y,class:v,nodePadding:C,children:O},E)=>{const T=h.includes(g),_=f===g,P=d&&d(g,f),D=r?p.default:u.default,I=C||s;return i.h("div",{key:"tree-"+g,class:"tree"},i.h(D,{key:"node-"+g,class:[o,v],extraPadding:I,id:g,index:E+1,parentIndex:n,idPath:m,styleguideId:b,title:S,level:t,numberOfChildren:O.length,lastNode:e.length===E+1,collapsed:T,selected:_||P,allowScrollOnMount:c,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover,onStartDrag:this.handleStartDrag,onComponentToSectionNodeDrop:a,onReorderComponentSectionOrGroup:l},y),0!==O.length&&!T&&this.renderTree(O,t+1,E+1))})}render(){const{class:e,tree:t,startingLevel:n=1}=this.props,o=c()("treeView",e);return i.h("div",{class:o,tabIndex:"0",ref:Object(d.default)(this,"base"),onClick:r.stopPropagation,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,n,null))}}const m={id:s.a.string.isRequired,title:s.a.string.isRequired,content:s.a.node.isRequired},b=s.a.shape(m);b.children=s.a.arrayOf(b).isRequired,g.propTypes={class:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),nodeClass:s.a.string,nodePadding:s.a.number,dragDropEnabled:s.a.bool,tree:s.a.arrayOf(b).isRequired,selectedNodeId:s.a.string,compareIdsForHighlight:s.a.func,onNodeSelect:s.a.func.isRequired,allowScrollOnMount:s.a.bool,hoverable:s.a.bool,focusOnMount:s.a.bool,frozen:s.a.bool},g.defaultProps={allowScrollOnMount:!0},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1325);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NodeMirror",(function(){return f}));var i=n(4),o=n(5),s=n.n(o),r=n(771),a=n(558),l=n(718),c=n.n(l),d=n(737),u=n(1326);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class h extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleBaseRef(e){const{baseRef:t,mirror:n}=this.props;Object(d.default)(this,"base")(e),!n&&t&&t(e)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e,o=i.toChildArray(t),s=i.toChildArray(n);if(o.length!==s.length)return!0;for(const[i,r]of Object(u.default)(o,s))if(i!==r)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.numberOfChildren!==e.numberOfChildren||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected||this.props.class!==e.class||this.props.dragging!==e.dragging||this.props.targetPosition!==e.targetPosition}componentDidUpdate(e){const{allowScrollOnMount:t,selected:n}=this.props;!n||e.selected&&!t||Object(a.scrollIfNecessary)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:o,level:s,numberOfChildren:a,collapsed:l,selected:d,dragging:u,targetPosition:p,mirror:h}=this.props,f=c()("node",t,p,{selected:d,mirror:h,dragging:u}),g=c()("chevron",{collapsed:l}),m=n+12*s+(a?8:24);return i.h(i.Fragment,null,"top"===p&&i.h("span",{class:"dragDropNode placeholder"}),i.h("div",{class:f,style:{paddingLeft:m},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:this.handleBaseRef},!!a&&i.h("button",{class:g,onClick:this.handleChevronClick},i.h(r.IconChevron,null)),i.h("span",{class:"nodeName ellipsis noSelect",title:o},e)),"bottom"===p&&i.h("span",{class:"dragDropNode placeholder"}))}}const f=e=>{let t=Object.assign({},e);return i.h(h,p({},t,{mirror:!0,collapsed:!0}))};h.propTypes={class:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),extraPadding:s.a.number,id:s.a.string.isRequired,level:s.a.number.isRequired,children:s.a.oneOfType([s.a.node,s.a.element]).isRequired,title:s.a.string.isRequired,numberOfChildren:s.a.number.isRequired,collapsed:s.a.bool.isRequired,allowScrollOnMount:s.a.bool.isRequired,selected:s.a.bool.isRequired,dragging:s.a.bool.isRequired,mirror:s.a.bool,targetPosition:s.a.oneOf(["","into","top","bottom"]),onNodeSelect:s.a.func.isRequired,onChevronClick:s.a.func.isRequired},h.defaultProps={extraPadding:0},t.default=h},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))return e.map(e=>e.value);yield e.map(e=>e.value)}}},function(e,t,n){"use strict";n.r(t);var i=n(1328);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1325),s=n(1062),r=n(718),a=n.n(r),l=n(737);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p="StyleguideSectionNode",h="StyleguideComponent",f=0,g=1,m=2,b=Object(s.DropTarget)({acceptsItemType:[p,h],onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop(e,t){const{idPath:n,index:i}=t.dragData;e.onDrop({idPath:n,index:i},t)}})(o.default),S=Object(s.DragSource)({itemType:p,mirrorComponent:o.NodeMirror,provideDragData:e=>e,onStartDrag:e=>{const{id:t,onStartDrag:n}=e;n(t)}})(b);class y extends i.Component{constructor(...e){super(...e),u(this,"state",{hovered:!1,targetPosition:""}),u(this,"setTargetPosition",(e,t)=>{const{level:n,numberOfChildren:i,lastNode:o,collapsed:s}=this.props,{targetPosition:r}=this.state;if(t===m&&n===f)return;if(n===f)return void this.setState({targetPosition:"bottom"});if(n===g&&t===n&&i&&!s)return void this.setState({targetPosition:"top"});if(t===g&&n===m)return void(o&&this.setState({targetPosition:"bottom"}));if(t===m&&n===g)return void this.setState({targetPosition:"into"});const a=this.nodeRefs.base.getBoundingClientRect(),l=a.top+a.height/2,c=e.top>=l?"bottom":"top";r!==c&&this.setState({targetPosition:c})}),u(this,"calculateMoveIndex",(e,t,n)=>{let i=t;return e>i&&n?i++:e<i&&!n&&i--,i}),u(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),u(this,"setSectionHeaderHover",e=>{const{barrelId:t}=this.context,{styleguideId:n}=this.props;t===n&&t===e&&this.setState({hovered:!0})}),u(this,"unsetSectionHeaderHover",()=>{this.state.hovered&&this.setState({hovered:!1})}),u(this,"handleComponentDrop",(e,t)=>{if(!this.state.hovered)return;const{idPath:n,onComponentToSectionNodeDrop:i}=this.props;i(e,n,t)}),u(this,"handleNodeDrop",(e,t,n)=>{const{id:i,idPath:o,index:s,parentIndex:r,level:a,numberOfChildren:l,onReorderComponentSectionOrGroup:c}=this.props,{targetPosition:d}=this.state;if(!d)return;const u="bottom"===d,p={csid:e,sourceIndex:t};if(n===g&&a===f){if(1===t)return;p.to=1}else if(n===g&&a===g){const e=this.calculateMoveIndex(t,s,u);if(e===t)return;p.to=e}else if(n===g&&a===m){const e=this.calculateMoveIndex(t,r,u);if(e===t)return;p.to=e}else if(n===m&&a===g){if(i===e[0])return;p.tcsid=o,p.to=l}else if(n===m&&a===m){const[n]=e,[i]=o,r=n===i?this.calculateMoveIndex(t,s,u)-1:s-Number(!u);if(n===i&&r===t-1)return;p.to=r,p.tcsid=[i]}c(p)}),u(this,"handleDragHover",(e,t)=>{const{draggingItemType:n,dragData:i}=t;n===p?this.setTargetPosition(e,i.level):n===h&&this.setSectionHeaderHover(i.styleguideId)}),u(this,"handleDragHoverOut",e=>{e===p?this.unsetTargetPosition():e===h&&this.unsetSectionHeaderHover()}),u(this,"handleDrop",({idPath:e,index:t},n)=>{const{draggingItemType:i,dragData:{level:o}}=n;i===p?this.handleNodeDrop(e,t,o):i===h&&this.handleComponentDrop(e,t)})}render(){const{barrelId:e}=this.context,{hovered:t,targetPosition:n}=this.state,s=this.props,{class:r,level:u}=s,p=d(s,["class","level"]),h=u===f?b:S;return e===this.props.styleguideId?i.h(h,c({},p,{level:u,class:a()("dragDropNode",r,{dropHover:t||"into"===n}),baseRef:Object(l.default)(this,"base"),targetPosition:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop})):i.h(o.default,this.props)}}t.default=y},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1335);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1336);t.default=function(e,t){const{selectedOrganizationId:n,filterValue:o,canCreateStyleguide:s}=t,r="user"!==n;return i.h("div",{class:"emptyActiveStyleguides"},i.h("h3",null,"No ",r?"joined":"active"," styleguides ",o?"with this name/type. 🤷":"currently."),!o&&r&&i.h("p",null,s?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1338);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o);n(1339);const r=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("rect",{width:"80",height:"40",x:"188",fill:"#979197",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"130",y:"64",fill:"#979197",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#979197","stroke-width":"2",d:"M170 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#979197","fill-rule":"nonzero",d:"M227 40h2v12h-2z"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"210.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"200.314",y:"31"},"Styleguide")),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"156.494",y:"81"},"Child")," ",i.h("tspan",{x:"142.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"246",y:"64",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"272.494",y:"81"},"Child")," ",i.h("tspan",{x:"258.314",y:"95"},"Styleguide")),i.h("path",{fill:"#979197",d:"M283.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M340.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M425.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M178.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M97.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045.51-.472 1.01-.958 1.494-1.457.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"148",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"160.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"394",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"406.051",y:"181"},"Project"))));t.default=function({onHideClick:e,hideButtonText:t}){return i.h("div",{class:"styleguidesHintBoxContainer"},i.h(s.a,{class:"styleguidesHintBox",onHideClick:e,hideButtonText:t,hideEmoji:!0},i.h("div",{class:"topContainer"},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"text"},i.h("h5",null,"Curate your design system 🍡"),i.h("p",null,"Here, you can explore styleguides created by you or your team. Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides."))),i.h("div",{class:"imageContainer"},r)))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1342);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1343),s=n(1233);n(1375);t.default=function(e){const{styleguide:t,loading:n,onClose:r,onJoin:a}=e,{name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,componentSections:[{components:f}]=[{}]}=t;return i.h(s.default,{class:"styleguidePreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:a,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:r,width:"66vw"},n?i.h("div",{class:"styleguidePreviewDialogLoadingBody"},i.h(o.StyleguidePreviewLoading,null)):i.h("div",{class:"styleguidePreviewDialogBody"},i.h(o.default,{name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,components:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(1344);n.d(t,"StyleguidePreviewLoading",(function(){return i.default}));var o=n(1356);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1345);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737),s=n(559),r=n(1346),a=n(1349),l=(n(1355),n(718)),c=n.n(l);class d extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(s.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:c()("styleguidePreviewLoading",this.props.class),ref:Object(o.default)(this,"base")},i.h("div",{class:"styleguidePreviewLoadingHead"}),i.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"styleguidePreviewLoadingMember"}))}(e)),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/72);return Array.from({length:2*t},()=>i.h(r.ColorPreviewPlaceholder,null))}(e))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:6},()=>i.h(a.Placeholder,null)))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/108);return Array.from({length:2*t},()=>i.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"}))}(e))))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1347);n.d(t,"default",(function(){return i.default})),n.d(t,"ColorPreviewPlaceholder",(function(){return i.ColorPreviewPlaceholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ColorPreviewPlaceholder",(function(){return o}));var i=n(4);n(1348);function o(){return i.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.default=function({color:e}){return i.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1350);n.d(t,"default",(function(){return i.default})),n.d(t,"Placeholder",(function(){return i.Placeholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Placeholder",(function(){return r}));var i=n(4),o=n(1351);n(1354);class s extends i.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:o}}=this.props,s={fontSize:e,fontWeight:n,fontStyle:o};return i.h("span",{style:s},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:s}=Object(o.getMainInfo)(t);return i.h("div",{class:"previewTextStyleCatalogRowStyle"},i.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(s))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(o.getExtraInfo)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.h("div",{class:"previewTextStyleCatalogColorContainer"},i.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?"#"+t.name:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}function r(){return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName"},i.h("div",{class:"placeholder"})),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"placeholder"})))}t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"REGISTERED_AXES",(function(){return a})),n.d(t,"enumerateFontVariationSettings",(function(){return c})),n.d(t,"getMainInfo",(function(){return d})),n.d(t,"getExtraInfo",(function(){return u}));var i=n(4),o=n(560),s=n(1352),r=n(1353);const a=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort(([e],[t])=>e in a&&t in a?l[e]-l[t]:e in a&&!(t in a)?-1:!(e in a)&&t in a?1:e<t?-1:1)}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:s,weightText:r,fontVariationSettings:a}=e,l=a||"normal"===s?"":" "+Object(o.uppercaseFirst)(s),c=a||"normal"===n?"":" "+Object(o.uppercaseFirst)(n),d=a?"":Object(o.uppercaseFirst)(r);return{content:`${t}${l}${d||c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let p=[];if(n&&"left"!==n&&p.push(Object(o.uppercaseFirst)(n)),u){const t=c(u).map(([t,n])=>i.h("span",{key:t},a[t]||i.h("code",null,t),": ",e.fontVariationAxis(n)));p.push(...t)}return l&&p.push("Line height: "+e.textLength(l)),"number"==typeof d&&p.push("Letter spacing: "+e.letterSpacing(d)),p=[...Object(s.default)(p,Object(r.default)(", "))],p.pop(),p}},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map(e=>e[Symbol.iterator]());let n,i=0,o=t[0].next();for(;;)if(n=o,i=(i+1)%t.length,o=t[i].next(),yield n.value,o.done)return}}},function(e,t,n){"use strict";n.r(t),t.default=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(4),o=n(559),s=n(718),r=n.n(s),a=n(563),l=n(543),c=n(1357),d=n(1363),u=n(1367),p=n(1371),h=n(1111),f=n(723);n(1374);function g(e){const{loading:t,name:n,type:s,users:g,densityScale:m,colors:b,textStyles:S,components:y,showJoinButton:v,loadingJoin:C,onJoin:O,headerSticky:E}=e;if(t)return null;const T=b&&!!b.length,_=S&&!!S.length,P=y&&!!y.length,D=!T&&!_&&!P,I=Object(o.getDensityScaleRepresentation)(s,m);return i.h("div",{class:"styleguidePreview"},i.h("div",{class:r()("styleguidePreviewHeader",{sticky:E})},i.h("div",null,i.h("h1",null,n),i.h("h5",null,i.h("span",{class:"styleguidePreviewType"},l.PlatformString[s]),m&&i.h("span",{class:"styleguidePreviewDensity"},", ",I))),v&&i.h(f.default,{class:"styleguidePreviewJoinButton",onClick:O},C?i.h("img",{src:Object(a.imageUrl)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.h(h.default,{members:g,class:"styleguidePreviewMembers",avatarSize:36}),T&&i.h(c.default,{colors:b}),_&&i.h(d.default,{textStyles:S}),P&&i.h(u.default,{components:y}),D&&i.h(p.default,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1358);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1346),s=n(1359),r=n(737);n(1362);class a extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame(()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,10),a=n.length,l=t.length>=10,c=Math.floor(e/72),d=c-a%c;let u;return u=d===c?c:c+d,i.h(s.default,{name:"Color Palette"},i.h("div",{class:"styleguidePreviewColorPalette",ref:Object(r.default)(this,"contentWrapper")},n.map(e=>i.h(o.default,{color:e,key:e.id})),l&&Array.from({length:u},()=>i.h(o.ColorPreviewPlaceholder,null))))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1360);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1361);t.default=function(e){const{name:t,children:n}=e;return i.h("div",{class:"styleguidePreviewSection"},i.h("div",{class:"styleguidePreviewSectionHeader"},t),i.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1364);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1359),s=n(1349),r=n(1365);n(1366);t.default=function(e){const{textStyles:t}=e,n=new r.default({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),a=t.slice(0,6);return i.h(o.default,{name:"Text Style Catalog"},i.h("div",{class:"styleguidePreviewTextStyleCatalog"},a.map(e=>i.h(s.default,{formatter:n,textStyle:e})),t.length>=6&&[i.h(s.Placeholder,null),i.h(s.Placeholder,null)]))}},function(e,t,n){"use strict";n.r(t);var i=n(614);const o=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.default=class{constructor(e){this.project=e}percentage(e,t=0){return Object(i.round)(100*e,t)+"%"}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.round)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.round)(e,2))}colorString(e,t){return e.toPlatformString(this.project.type,t)}alpha(e){return o.format(e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1368);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1359),s=n(1369),r=n(559),a=n(737);n(1370);const l=()=>{};class c extends i.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(r.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-6,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,r=n.slice(0,10),c=n.length>=10,d=Math.max(Math.floor(t/108),0),u=Math.floor(e/108)+d;return i.h(o.default,{name:"Components"},i.h("div",{class:"styleguidePreviewComponents",ref:Object(a.default)(this,"contentWrapper")},r.map((e,t)=>{const{latestVersion:{snapshot:{width:n,height:o,url:c}}}=e,d=t===r.length-1?Object(a.default)(this,"lastComponentEl"):l;return i.h(s.default,{key:t,width:n,height:o,url:c,baseRef:d})}),c&&Array.from({length:u},()=>i.h(s.ComponentPlaceholder,null))))}}t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentPlaceholder",(function(){return a}));var i=n(4),o=n(718),s=n.n(o),r=n(563);class Component extends i.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(r.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}render(){const{lightness:e}=this.state,{width:t,height:n,url:o,baseRef:r}=this.props,a={width:(l=t,12*Math.ceil(l/12)+48)};var l;const c=s()("styleguidePreviewComponentContent",e);return i.h("div",{class:"styleguidePreviewComponent",style:a,ref:r},i.h("div",{class:c,style:{paddingBottom:100*n/t+"%"}},i.h("img",{class:"noSelect",width:t,height:n,src:o})))}}function a(){return i.h("div",{class:"styleguidePreviewComponent"})}t.default=Component},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1372);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1373);t.default=function(){return i.h("div",{class:"styleguidePreviewEmptyBody"},i.h("h1",null,"No colors, text styles or components yet."),i.h("h3",null,"Join and upload the first."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1377);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(942),s=n(1320),r=n(719),a=n.n(r),l=n(1378),c=n(718),d=n.n(c);n(1379);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"handleChange",()=>{const{onChange:e,value:t}=this.props;e(t)})}render(){const{selected:e,value:t,label:n,image:o,description:s,horizontal:r,tall:a}=this.props,l=d()("styleguideType",{selected:e,horizontal:r,tall:a});return i.h("label",{class:l},i.h("h5",null,n),!r&&i.h("div",{class:"imageWrapper"},o),i.h("p",null,s),i.h("input",{onClick:this.handleChange,type:"radio",value:t,name:"styleguideType"}))}}class h extends i.Component{constructor(...e){super(...e),u(this,"values",Object.keys(l.default).map(e=>l.default[e].value)),u(this,"state",{selected:this.values[0],selectedParentStyleguide:this.props.trees[0]?this.props.trees[0].root.id:null,chooseParentChecked:!1}),u(this,"handleChange",e=>{this.setState({selected:e})}),u(this,"handleCheckboxChange",e=>{const{trees:t}=this.props,n=e.target.checked,i=n&&t[0]?t[0].root.id:null;this.setState({chooseParentChecked:n,selectedParentStyleguide:i})}),u(this,"handleParentStyleguideChange",e=>{this.setState({selectedParentStyleguide:e})}),u(this,"handlePositiveButtonClick",()=>{const{onCreate:e}=this.props,{selected:t,selectedParentStyleguide:n,chooseParentChecked:i}=this.state;i?e(t,n):e(t)}),u(this,"handleKeyDown",e=>{const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderStyleguidesPicker(){const{selectedParentStyleguide:e}=this.state,{trees:t}=this.props;return i.h("div",{class:"styleguidesPicker"},i.h("p",null,"Choose a parent styleguide"),i.h("div",{class:"styleguidesTreeViewContainer"},i.h(s.default,{trees:t,selectedNodeId:e,onNodeSelect:this.handleParentStyleguideChange})))}render(){const{selected:e,chooseParentChecked:t}=this.state,{trees:n,onClose:s}=this.props;return i.h(o.default,{class:"createStyleguideDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:s,width:828,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody noSelect"},i.h("h1",null,"Choose a type"),i.h("div",{class:"bodyContainer box"},i.h("div",null,i.h("h3",null,"Platform-free"),i.h(p,{onChange:this.handleChange,value:l.default.BASE.value,label:l.default.BASE.label,image:i.h(l.default.BASE.Image,{selected:e===l.default.BASE.value}),description:l.default.BASE.description,selected:l.default.BASE.value===e,tall:!0})),i.h("div",{class:"splitter"}),i.h("div",{class:"platformTypesContainer"},i.h("h3",null,"Platform-specific"),i.h("div",{class:"platformSpecificTypes"},i.h(p,{onChange:this.handleChange,value:l.default.WEB.value,label:l.default.WEB.label,image:i.h(l.default.WEB.Image,{selected:e===l.default.WEB.value}),description:l.default.WEB.description,selected:l.default.WEB.value===e}),i.h(p,{onChange:this.handleChange,value:l.default.IOS.value,label:l.default.IOS.label,image:i.h(l.default.IOS.Image,{selected:e===l.default.IOS.value}),description:l.default.IOS.description,selected:l.default.IOS.value===e}),i.h(p,{onChange:this.handleChange,value:l.default.ANDROID.value,label:l.default.ANDROID.label,image:i.h(l.default.ANDROID.Image,{selected:e===l.default.ANDROID.value}),description:l.default.ANDROID.description,selected:l.default.ANDROID.value===e}),i.h(p,{onChange:this.handleChange,value:l.default.OSX.value,label:l.default.OSX.label,image:i.h(l.default.OSX.Image,{selected:e===l.default.OSX.value}),description:l.default.OSX.description,selected:l.default.OSX.value===e,horizontal:!0})))),n.length>0&&i.h("div",{class:"nestedStyleguides"},i.h("label",{class:"checkboxContainer"},i.h(a.a,{name:"chooseParent",onChange:this.handleCheckboxChange,checked:t}),i.h("div",{class:"checkboxInfoContainer"},i.h("h5",null,"Create as child styleguide"),i.h("p",null,"Creating as child styleguide will inherit colors, text styles and components from the parent styleguide."))),t&&this.renderStyleguidesPicker())))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default={BASE:{value:"base",label:"Base",description:"For parent styleguides with resources shared between platforms",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}},WEB:{value:"web",label:"Web",description:"Dimensions in px/% CSS and HTML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"nonzero",d:"M122 15h4a2 2 0 0 1 2 2v61a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h106a2 2 0 0 1 2 2v10zm-2 0V8H14v70h78V43H38a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h54V17a2 2 0 0 1 2-2h26zM92 38H38v4h54v-4zM52 4.5a1 1 0 0 0 0 2h30a1 1 0 0 0 0-2H52zm-37 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM94 20v58h32V20H94zm1-3.5a1 1 0 0 0 0 2h30a1 1 0 1 0 0-2H95zM97 45h26a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H97a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0 1v4h26v-4H97z"}))}},IOS:{value:"ios",label:"iOS",description:"Dimensions in pt, Objective-C/Swift export, PNG and PDF assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M122 10.162h-2.834a.417.417 0 0 0-.395.395c0 .757-.353 1.392-.888 1.759a1.95 1.95 0 0 1-1.107.34h-13.552c-1.102 0-1.995-.894-1.996-2.1a.417.417 0 0 0-.394-.394H97.57a3.16 3.16 0 0 0-3.159 3.159v61.182a3.16 3.16 0 0 0 3.16 3.159h24.859a3.16 3.16 0 0 0 3.159-3.16V13.322a3.16 3.16 0 0 0-3.16-3.16H122zM117.883 8V6.538l-.003-.465a3.355 3.355 0 0 0-.04-.463 1.528 1.528 0 0 0-.422-.816 1.556 1.556 0 0 0-.822-.418 3.764 3.764 0 0 0-.47-.041H16.134c-.052 0-.316.009-.47.037a1.557 1.557 0 0 0-.822.418 1.528 1.528 0 0 0-.422.816 3.363 3.363 0 0 0-.04.463l-.002.466v67.434s0 .144.002.214c.002.155.012.31.04.463a1.53 1.53 0 0 0 .422.816 1.56 1.56 0 0 0 .822.418c.154.026.31.036.467.04l.47.003h75.797a5.359 5.359 0 0 1-.149-1.256v-40a.25.25 0 0 1-.249-.25V29.75a.25.25 0 0 1 .25-.25v-1.333a.25.25 0 0 1-.25-.25V23.25a.25.25 0 0 1 .25-.25v-2.5a.25.25 0 0 1-.25-.25v-2.167a.25.25 0 0 1 .25-.25v-4.5A5.327 5.327 0 0 1 97.57 8h20.313zM106.25 80H17.33c-.264 0-.52 0-.774-.008a10.139 10.139 0 0 1-1.676-.144 5.593 5.593 0 0 1-1.591-.522A5.306 5.306 0 0 1 10.94 77a5.466 5.466 0 0 1-.528-1.575 12.029 12.029 0 0 1-.144-1.66c0-.262-.009-.514-.009-.767V11.33h-.217a.043.043 0 0 1-.043-.042V6.052c0-.024.02-.043.043-.043h.24c.02-.395.058-.787.13-1.176.102-.556.264-1.07.528-1.576A5.307 5.307 0 0 1 13.289.932a5.593 5.593 0 0 1 1.59-.523 12.383 12.383 0 0 1 1.677-.143c.263 0 .519-.008.774-.008h1.685V.043c0-.024.02-.043.044-.043h4.508c.024 0 .043.02.043.043v.215h.91V.043c0-.024.02-.043.043-.043h4.508c.024 0 .044.02.044.043v.215h85.815c.264 0 .52 0 .775.008.561.008 1.123.042 1.676.143.561.101 1.08.261 1.59.523a5.306 5.306 0 0 1 2.348 2.326c.264.505.426 1.019.528 1.575.093.548.128 1.104.145 1.66 0 .26.008.514.008.767V8h.43a5.327 5.327 0 0 1 5.32 5.333v11.5a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25v41.834A5.327 5.327 0 0 1 122.43 80h-16.18zM12.304 39.47a.648.648 0 0 0-.651.644v.003c0 .356.291.645.651.645.36 0 .652-.289.652-.645v-.003a.648.648 0 0 0-.652-.645zm-.007 2.719a.906.906 0 0 0-.91.901c0 .498.408.901.91.901.503 0 .91-.403.91-.9a.906.906 0 0 0-.91-.902zm0 3.219c-.359 0-.65.288-.65.644 0 .355.291.643.65.643.36 0 .65-.288.65-.643a.647.647 0 0 0-.65-.644zm95.79-34.908a.291.291 0 0 0 0 .583h3.825a.291.291 0 0 0 0-.583h-3.824zm5.654-.25a.541.541 0 1 0 .002 1.082.541.541 0 0 0-.002-1.082zm1.538 66.424a.166.166 0 0 1 0 .333h-10.558a.166.166 0 0 1 0-.333h10.558z"}))}},ANDROID:{value:"android",label:"Android",description:"Dimensions in dp/sp, XML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M103.642 80H16.686c-3.587 0-6.522-2.918-6.522-6.484V19.484c0-3.566 2.935-6.484 6.522-6.484H90.32V4.498C90.32 2.014 92.324 0 94.796 0h28.184c2.472 0 4.475 2.014 4.475 4.498v12.706h.333c.084 0 .151.068.151.152v5.47a.152.152 0 0 1-.151.153h-.333v5.805h.333c.084 0 .151.068.151.152v10.942a.152.152 0 0 1-.151.152h-.333v35.472c0 2.484-2.003 4.498-4.475 4.498h-19.338zm-11.78-67v60.063a1.43 1.43 0 0 0 1.422 1.437H124.462a1.43 1.43 0 0 0 1.42-1.438V6.939a1.43 1.43 0 0 0-1.42-1.438H93.284a1.43 1.43 0 0 0-1.422 1.438V13zm-1.542 3.075H15.576v60.261h74.821c-.05-.27-.077-.55-.077-.834V16.075zm-30.738-1.497a.5.5 0 1 0 1-.001.5.5 0 0 0-1 .001zM54.664 78.34c0 .267.222.499.496.499h9.008a.501.501 0 0 0 .496-.5.503.503 0 0 0-.496-.498H55.16a.501.501 0 0 0-.496.499zM97.971 2.28a.94.94 0 0 0-.937.942c0 .52.42.942.937.942a.94.94 0 0 0 .937-.942.94.94 0 0 0-.937-.942zm3.342.364a.591.591 0 0 0-.59.593c0 .327.264.593.59.593.325 0 .59-.266.59-.593a.591.591 0 0 0-.59-.593zm3.19.061v.213c0 .185.149.334.333.334h8.074c.183 0 .332-.15.332-.334v-.213a.334.334 0 0 0-.332-.334h-8.074a.334.334 0 0 0-.333.334z"}))}},OSX:{value:"osx",label:"macOS",description:"Dimensions in pt, Objctive-C/Swift export, PNG and PDF assets.",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1381);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(942),s=n(543);t.default=function(e){const{parentStyleguideType:t,childStyleguideType:n,onCreateAnyway:r,onCreateWithParentType:a,onClose:l}=e,c=s.PlatformString[n],d=s.PlatformString[t];return i.h(o.BasicOverlayDialog,{class:"differentTypeDialog",onPositiveButtonClick:a,onFallbackButtonClick:r,onClose:l,positiveButtonText:"CREATE AS "+d.toUpperCase(),negativeButtonText:"CANCEL",fallbackButtonText:"CREATE ANYWAY",hideNegativeButton:!1,width:484,title:`Create ${c} child styleguide from ${d} parent styleguide?`,message:"Creating child styleguide with a different platform-specific type from its parent styleguide is not recommended."})}},function(e,t,n){"use strict";n.r(t);var i=n(1383);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(541);n(1384);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd",transform:"translate(74)"},i.h("rect",{width:"80",height:"40",x:"114",fill:"#EDECED",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"56",y:"64",fill:"#EDECED",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#EDECED","stroke-width":"2",d:"M96 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#EDECED","fill-rule":"nonzero",d:"M153 40h2v12h-2z"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"136.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"126.314",y:"31"},"Styleguide")),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"82.494",y:"81"},"Child")," ",i.h("tspan",{x:"68.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"172",y:"64",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"198.494",y:"81"},"Child")," ",i.h("tspan",{x:"184.314",y:"95"},"Styleguide")),i.h("path",{fill:"#C1BEC1",d:"M209.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M266.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M351.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M104.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M23.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045a39.26 39.26 0 0 0 1.494-1.457c.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"12.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"172",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"184.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")))),d={title:"This is where you manage your design system. 🎨",description:"Styleguides allow you organize your colors, text styles and components. If you have a common styleguide feeding multiple projects, you can create a shared styleguide and link it to your projects to reference them.",primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of a workspace:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},u={title:"Curate your design system 🍡",description:i.h("span",null,"Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides.")},p={COMMON_PLAN:a(a({},u),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),primaryButtonText:"Create a styleguide"}),COMMON_PLAN_ORGANIZATION_MEMBER:a(a({},d),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),secondaryButtonText:"Create a styleguide"}),COMPANY_PLAN:a(a({},u),{},{primaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",primaryButtonText:"See plans"}),COMPANY_PLAN_ORGANIZATION_MEMBER:a(a({},d),{},{secondaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",secondaryButtonText:"See plans"}),ORGANIZATION_NO_CREATE_PERMISSION:a(a({},u),{},{primaryButtonLabel:i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class h extends i.Component{getLabelsAndHandlers(){const{selectedOrganizationId:e,canCreateStyleguide:t}=this.context,{hasCompanyPlan:n,hasFreePlan:o,availableOrganization:r,onOpenPlanChooserOverlay:l,onCreate:c,onCheckoutOrganization:d}=this.props;if("user"===e){let e;return n?e={labels:p["COMPANY_PLAN"+(r?"_ORGANIZATION_MEMBER":"")],[r?"onSecondaryButtonClick":"onPrimaryButtonClick"]:l}:(e={labels:p["COMMON_PLAN"+(r?"_ORGANIZATION_MEMBER":"")],[r?"onSecondaryButtonClick":"onPrimaryButtonClick"]:c},o&&!s.isWindowsApp&&(e={labels:a(a({},e.labels),{},{[r?"secondaryButtonLabel":"primaryButtonLabel"]:i.h("span",null,"Download ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to create a styleguide and export resources.")})})),r&&(e=a(a({},e),{},{labels:a(a({},e.labels),{},{primaryButtonText:e.labels.primaryButtonText.replace("{{organizationName}}",r.name)}),onPrimaryButtonClick:()=>d(r._id)})),e}return t?{labels:p.COMMON_PLAN,onPrimaryButtonClick:c}:{labels:p.ORGANIZATION_NO_CREATE_PERMISSION}}render(){const{labels:e,onPrimaryButtonClick:t,onSecondaryButtonClick:n}=this.getLabelsAndHandlers();return i.h("div",{class:"noStyleguidesScrollContainer"},i.h("div",{class:"noStyleguides"},i.h("h1",null,e.title),i.h("p",{class:"description"},e.description),c,i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},e.primaryButtonLabel),t&&i.h(o.default,{onClick:t,primary:!0},e.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},e.primaryButtonSubLabel)),n&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},e.secondaryButtonLabel),i.h(o.default,{onClick:n,secondary:!0},e.secondaryButtonText))))}}t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(623),o=n(582),s=n.n(o),r=n(697);const a={getStyleguidesSuccess({styleguides:e,oid:t}){s.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguidesFailed(e){s.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDES_FAILED,error:e})},getStyleguideRequest(){s.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e}){s.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_SUCCESS,styleguide:e})},getStyleguideFailed(e){s.a.dispatcher.dispatch({type:i.default.GET_STYLEGUIDE_FAILED,error:e})},createStyleguide({oid:e,platform:t,parent:n}){s.a.dispatcher.dispatch({type:i.default.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:o,oid:a,users:l}){const{styleguides:c}=s.a.StyleguidesDataStore.getState(),d=Object(r.getStyleguideAndItsDescendants)(c,e);s.a.dispatcher.dispatch({type:i.default.TRANSFER_OWNERSHIP,bid:e,affectedIds:d,fromUserId:t,targetId:n,toOrganization:o,oid:a,users:l})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:r,canChangePlanAtTarget:a}){s.a.dispatcher.dispatch({type:i.default.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:r,canChangePlanAtTarget:a,syncWithApi:!0})},updateStyleguide({stid:e,data:t}){s.a.dispatcher.dispatch({type:i.default.UPDATE_STYLEGUIDE,stid:e,data:t})},inviteUser({container:e,stid:t,users:n,oid:o}){s.a.dispatcher.dispatch({type:i.default.INVITE_USER,container:e,stid:t,users:n,oid:o})},selectParent({stid:e,parent:t,oldParent:n,syncWithApi:o=!1}){s.a.dispatcher.dispatch({type:i.default.SELECT_PARENT,stid:e,parent:t,oldParent:n,syncWithApi:o})},removeParent({stid:e,oldParent:t,syncWithApi:n=!1}){s.a.dispatcher.dispatch({type:i.default.REMOVE_PARENT,stid:e,oldParent:t,syncWithApi:n})},selectParentRequest({stid:e,parent:t,syncWithApi:n}){s.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_REQUEST,stid:e,parent:t,syncWithApi:n})},selectParentSuccess({stid:e,parent:t,styleguides:n}){s.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_SUCCESS,stid:e,parent:t,styleguides:n})},selectParentFailed(){s.a.dispatcher.dispatch({type:i.default.SELECT_PARENT_FAILED})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1387);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1388)),r=i(n(718));function a({class:e,imageSrc:t,title:n,subInfo:i,dashboardLink:s,rightContent:a}){const l=o.h("div",{class:r.default("logo",{placeholder:!t})},t&&o.h("img",{src:t,width:"64",height:"64"}));return o.h("div",{class:r.default("organizationSummary",e)},o.h("div",{class:"summary"},s?o.h("a",{href:s,target:"_blank"},l):l,o.h("div",null,s?o.h("a",{href:s,target:"_blank",class:"organizationTitle"},n):o.h("div",{class:"organizationTitle"},n),o.h("div",{class:"organizationSubInfo"},i))),a)}n(1391),a.Loading=s.default,t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1389);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1390);t.default=function(){return i.h("div",{class:"organizationSummaryLoading"},i.h("div",{class:"logo breathe"}),i.h("div",null,i.h("div",{class:"title breathe"}),i.h("div",{class:"counts breathe"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"getPlans",(function(){return u})),n.d(t,"getPlanById",(function(){return p})),n.d(t,"showFailedPaymentBanner",(function(){return g})),n.d(t,"hideFailedPaymentBanner",(function(){return m})),n.d(t,"showCancelledSubscriptionBannerIfNecessary",(function(){return b})),n.d(t,"hideCancelledSubscriptionBanner",(function(){return S})),n.d(t,"showOrganizationFrozenBanner",(function(){return v})),n.d(t,"hideOrganizationFrozenBanner",(function(){return C})),n.d(t,"updateEmotar",(function(){return y}));var i,o=n(545),s=n(708),r=n(571),a=n(556),l=n(560),c=n(544),d=n(761);function u(){return i?Promise.resolve(i):r.getPlans().then(e=>i=Object.freeze(e))}function p(e){return u().then(t=>t.find(t=>t.id===e))}window.addEventListener("storage",(function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}})),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+c.INTERCOM_APP_ID;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,o=function(){o.c(arguments)};o.q=[],o.c=function(e){o.q.push(e)},e.Intercom=o,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),o.default.get("userToken")&&Intercom("boot",{app_id:c.INTERCOM_APP_ID,user_id:Zeplin.user._id,user_hash:Zeplin.user.intercomHash,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan});const h=document.querySelector("#billingTab");function f(e,t){if(s.closeBanner("payment"),h){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",h.checked=!0}}function g(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(a.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">update</a> workspace payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){f(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(a.urlResolve)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){f(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&s.show({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function m(){s.closeBanner("payment")}function b(e){const{oid:t,currentRole:n,subscriptionCancelAt:i}=e,o=Object(d.getDateDifference)("h",new Date,i);if(o>168)return;let r,c=Math.floor(o/24);c>0&&o%24>=3&&c++;let u=`Since your subscription is cancelled, your projects and styleguides will be archived automatically in ${c<1?"less than a day":""+Object(l.pluralize)(c,"day")}.`;!t||"queen"!==n&&"king"!==n?"owner"===n&&(u+=` <a href="${Object(a.urlResolve)("profile-billing")}">Resubscribe</a>`,r={a(e){f(e,"user")}}):(u+=` <a href="${Object(a.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">Resubscribe</a>`,r={a(e){f(e,"organization")}}),s.show({contentType:"html",group:"cancelledSubscription",content:u,bodyCallbacks:r})}function S(){s.closeBanner("cancelledSubscription")}function y(e){return r.updateUserEmotar(e)}function v(e){let t,n;["king","queen"].includes(e.currentRole)?(n=`Due to a failed payment, your workspace has been suspended. Please <a href="${Object(a.urlResolve)("workspace-profile-billing",{url:{oid:e.oid}})}">update</a> the payment information to re-activate the workspace.`,t={a(e){f(e,"organization")}}):n="Due to a failed payment, your workspace has been suspended. Contact an Admin to update the payment information and activate the workspace.",s.show({content:n,contentType:"html",group:"organizationFrozen",bodyCallbacks:t})}function C(){s.closeBanner("organizationFrozen")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1396);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(574),s=n.n(o),r=n(1397),a=n(1406),l=n(1585),c=n(1907),d=n(2081),u=n(2102),p=n.n(u),h=n(2116),f=n.n(h),g=n(696),m=n(582),b=n.n(m),S=n(681),y=n(1506),v=n(682),C=n(845),O=n.n(C),E=n(558),T=n(556),_=n(737),P=n(684),D=n.n(P),I=n(543),j=n(1124);n(2124);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),A(this,"getScreenContainerRef",()=>this.nodeRefs&&this.nodeRefs.screenContainer),A(this,"getStyleguideContainerRef",()=>this.nodeRefs&&this.nodeRefs.styleguideContainer),A(this,"openScreen",e=>{const{barrel:t}=this.state,{id:n}=t;D.a.history.push(Object(T.urlResolve)("project-screen",{url:{pid:n,sid:e}}))}),A(this,"handleKeyDown",e=>{if(Object(E.isEditableElement)(e.target))return;const{barrelType:t}=this.state;if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyA:t===s.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),g.default.goToDashboard());break;case Zeplin.KEY_CODE.KeyS:t===s.a.PROJECT&&(e.preventDefault(),e.stopPropagation(),g.default.goToStyleguide());break;case Zeplin.KEY_CODE.KeyE:e.preventDefault(),e.stopPropagation(),y.default.openSettings();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),g.default.openJumpToPopup();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),y.default.reload())}})}static calculateState(){const e=b.a.BarrelStore.getState(),{loading:t,selectedView:n}=e,i=R(e,["loading","selectedView"]);if(t)return{loading:!0,selectedView:n};const{organizationId:o}=i,{name:s}=v.default.getOrganization()||{},r=S.default.getBarrel(),{tagManagerScreenIds:a}=b.a.ScreenStore.getState(),{dialogOpen:l}=b.a.ExtensionsStore.getState();return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!1,organizationName:s,organizationId:o,barrel:r,selectedView:n,tagManagerScreenIds:a,extensionDialogOpen:l},i)}static getStores(){return[b.a.BarrelStore,b.a.OrganizationStore,b.a.ScreenStore,b.a.ProjectsDataStore,b.a.StyleguidesDataStore,b.a.ExtensionsStore]}async componentDidMount(){await Object(j.getPrismInstance)(),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),g.default.reset()}getChildContext(){return{screenContainerRef:this.getScreenContainerRef,styleguideContainerRef:this.getStyleguideContainerRef}}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e?e===s.a.STYLEGUIDE||t===I.ProjectViewTypes.STYLEGUIDE?i.h(c.default,{baseRef:Object(_.default)(this,"styleguideContainer")}):t===I.ProjectViewTypes.SCREEN?i.h(l.default,{baseRef:Object(_.default)(this,"screenContainer")}):t===I.ProjectViewTypes.DASHBOARD?i.h(a.default,null):null:null}renderJumpToScreen(){const{barrel:e,loading:t,jumpToPopupOpen:n}=this.state;if(t||!n)return null;const{integration:{jira:o={}}={}}=e,s=e.variantGroups.reduce((e,{name:t,screens:n})=>(n.forEach(({id:n,variantName:i})=>{e[n]={variantName:i,variantGroupName:t}}),e),{});return i.h(r.default,{screenList:e.screens,sectionList:e.sections,variantMapping:s,jiraAttachmentList:o.attachments,onJumpToScreen:this.openScreen,onClose:g.default.closeJumpToPopup})}renderExtensionDialog(){const{extensionDialogOpen:e}=this.state;return e?i.h(d.default,null):null}renderTagManager(){const{tagManagerScreenIds:e}=this.state;return e&&0!==e.length?i.h(p.a,null):null}render(){return i.h("main",{key:"barrel",class:"barrelContainer"},this.renderContent(),this.renderJumpToScreen(),this.renderExtensionDialog(),this.renderTagManager(),i.h(f.a,null))}}t.default=O()(w,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1398);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(560),l=n(737),c=n(1399),d=n(688);n(1405);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({screenList:e,sectionList:t,jiraAttachmentList:n}){if(!n)return e;const i=Object(d.createItemSectionMap)(t,"screens");return e.map(e=>{const t=n.filter(t=>"screen"===t.type&&t.itemId===e._id),o=n.filter(t=>"section"===t.type&&t.itemId===i[e._id]);return p(p({},e),{},{jiraAttachments:[...t,...o]})})}class g extends i.Component{constructor(...e){super(...e),h(this,"state",{filter:""}),h(this,"screenListWithJira",f(this.props)),h(this,"getSuggestionList",()=>{const e=this.state.filter.toLowerCase();if(""===e)return this.screenListWithJira.slice(0).sort(r.sortBy.name);let t=[],n=[],i=[],o=[],s=[];return this.screenListWithJira.forEach(r=>{let l=r.name.toLowerCase();const c=r.tags&&r.tags.find(t=>t.toLowerCase().includes(e)),d=r.jiraAttachments&&r.jiraAttachments.find(t=>t.issueKey&&t.issueKey.toLowerCase().includes(e));l.startsWith(e)?t.push(r):Object(a.anyWordStartsWith)(l,e)?n.push(r):c?i.push(Object.assign({tag:c},r)):d?o.push(Object.assign({attachedJira:d.issueKey},r)):l.includes(e)&&s.push(r)}),t.sort(r.sortBy.name).concat(n.sort(r.sortBy.name)).concat(i.sort(r.sortBy.name)).concat(o.sort(r.sortBy.name)).concat(s.sort(r.sortBy.name))}),h(this,"handleInputChange",e=>{this.setState({filter:e.target.value})}),h(this,"handleKeyDown",e=>{e.stopPropagation();const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t()})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillReceiveProps(e){this.screenListWithJira=f(e)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,{variantMapping:t,onJumpToScreen:n,onClose:o}=this.props,s=this.getSuggestionList();return i.h("div",{class:"jumpToScreenContainer",onClick:o},i.h("div",{class:"jumpToScreen",onClick:r.stopPropagation},i.h("div",{class:"searchTextContainer"},i.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(l.default)(this,"input")}),s.length?null:i.h("span",{class:"shrug"},"¯\\_(ツ)_/¯")),i.h(c.default,{screenList:s,variantMapping:t,onJumpToScreen:n})))}}g.propTypes={screenList:s.a.array.isRequired,sectionList:s.a.array.isRequired,jiraAttachmentList:s.a.array.isRequired,onJumpToScreen:s.a.func.isRequired,onClose:s.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1400);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1401),s=n(559),r=n(558),a=n(737);n(1404);class l extends i.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(s.arrayEqual)(e.screenList,this.props.screenList,(e,t)=>e.name===t.name&&e.tag===t.tag)||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(r.scrollIfNecessary)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,variantMapping:t,onJumpToScreen:n}=this.props,{selectedScreenIndex:s}=this.state;return i.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map((e,r)=>{let l;return s===r&&(l=Object(a.default)(this,"selectedScreen")),i.h(o.default,{key:e._id,screenId:e._id,screenName:e.name,variant:t[e._id],filterTag:e.tag,filterJiraAttachment:e.attachedJira,screenIndex:r,selected:s===r,ref:l,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}}l.defaultProps={screenList:[]},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1402);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(718),r=n.n(s);n(1403);class a extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,filterJiraAttachment:n,selected:o,variant:s}=this.props;return i.h("button",{class:r()("screenSuggestion",{selected:o}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"screenName ellipsis",title:s?`${s.variantName} variant of ${s.variantGroupName}`:e},s?i.h("span",null,s.variantName," ",i.h("span",{class:"variantLabel"},"variant of")," ",s.variantGroupName):e),t?i.h("div",{class:"tagName ellipsis"},t):null,n?i.h("div",{class:"tagName ellipsis"},n):null)}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1407);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(688),s=n(556),r=n(558),a=n(737),l=n(540),c=n(684),d=n.n(c),u=n(544),p=n(559),h=n(1164),f=n(1408),g=n(1496),m=n(1248),b=n(681),S=n(696),y=n(706),v=n(690),C=n.n(v),O=n(687),E=n(702),T=n(582),_=n.n(T),P=n(845),D=n.n(P),I=n(1295),j=n(1073);n(1584);function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(...e){super(...e),w(this,"handleFilter",e=>{const{barrel:{id:t}}=this.state;d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:{q:e}}))}),w(this,"handleJiraIssueSelectionChange",e=>{const{barrel:{id:t},jiraIssueFilter:n}=this.state,i=n.includes(e)?n.filter(t=>t!==e):[...n,e];mixpanel.master.track("Filtered by Jira issue"),d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:{ja:i}}))}),w(this,"handleResetJiraIssuesClick",()=>{const{barrel:{id:e}}=this.state;d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:e}}))}),w(this,"handleTagClick",(e,t)=>{const{barrel:{id:n},tagFilter:i,jiraIssueFilter:o}=this.state,r=i.tags.includes(e);let a,l;if(!e?(a=[],l=!i.untagged):(a=[e],l=!1,r&&(a=i.tags.filter(t=>t!==e),l=!1),t&&!r&&(a=i.tags.concat(e),l=!1)),a.length>0||l){let e;l?e={Type:"Untagged"}:a.length>1&&(e={Type:"Multiple"}),mixpanel.master.track("Filtered by tags",e)}const c=A(A({},{ja:o}),l?{untagged:!0}:{tag:a});d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:n},query:c}))}),w(this,"handleResetTagsClick",()=>{const{barrel:{id:e}}=this.state;d.a.history.replace(Object(s.urlResolve)("project-dashboard",{url:{pid:e}}))}),w(this,"handleExpandSection",e=>{y.default.expandSections([e])}),w(this,"handleCollapseSection",e=>{y.default.collapseSections([e])}),w(this,"handleConvertTagToSection",e=>{y.default.convertTagToSection({tag:e})}),w(this,"handleGenerateTagShortlink",e=>{const{barrel:{id:t}}=this.state,n=Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:{tag:e}});Object(h.fetchShortlink)(n)}),w(this,"handleCopyTagWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(s.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:e}});Object(r.copyContent)({content:Object(h.getShortlink)(i),toastContainer:t})}),w(this,"handleCopyTagAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//project?pid=${n}&tag=${e}`;Object(r.copyContent)({content:i,toastContainer:t})}),w(this,"handleDeleteTag",e=>{E.default.removeTag({tag:e,syncWithApi:!0})}),w(this,"handleCopySectionWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(s.urlResolve)("project",{url:{bid:n},query:{seid:e}});Object(r.copyContent)({content:Object(h.getShortlink)(i),toastContainer:t})}),w(this,"handleCopySectionAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//project?pid=${n}&seid=${e}`;Object(r.copyContent)({content:i,toastContainer:t})}),w(this,"handleCopyScreenWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=Object(s.urlResolve)("project-screen",{url:{pid:n,sid:e}});Object(r.copyContent)({content:Object(h.getShortlink)(i),toastContainer:t}),mixpanel.master.track("Copied web link",{Target:"Screen",Source:"Project dashboard"})}),w(this,"handleCopyScreenAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${u.ZPL_PROTOCOL}//screen?pid=${n}&sid=${e}`;Object(r.copyContent)({content:i,toastContainer:t}),mixpanel.master.track("Copied app URI",{Target:"Screen",Source:"Project dashboard"})}),w(this,"handleCollapseAllSections",()=>{const e=C.a.getExpandedSectionIds();e.length>0&&y.default.collapseSections(e)}),w(this,"handleExpandAllSections",()=>{const e=C.a.getCollapsedSectionIds();e.length>0&&y.default.expandSections(e)}),w(this,"handleKeyDown",e=>{Object(r.isEditableElement)(e.target)||(e.keyCode===Zeplin.KEY_CODE.KeyT&&e.altKey&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),y.default.toggleFixedThumbnailSize()),Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),this.handleCollapseAllSections()):Object(l.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections()))}),w(this,"handleChangeSortType",e=>{const{sortType:t}=this.state;t!==e&&y.default.changeSortType(e)})}static calculateState(){const{loading:e,loadingJoin:t}=_.a.BarrelStore.getState();if(e)return{loading:e};const n=b.default.getBarrel(),i=b.default.findUser(),{userId:s,paymentPlan:r,registeredAt:a}=_.a.UserStore.getState(),l=n.users.some(({user:e})=>e._id===s);if(n.partial||!l)return{loading:e,loadingJoin:t,barrel:n,isUserJoined:l};const c=_.a.DashboardStore.getState(),{highlightedScreens:d}=c,u=k(c,["highlightedScreens"]),{sortType:p,filterValue:h,tagFilter:f,jiraIssueFilter:g}=u,{open:m}=_.a.MoveResourcesStore.getState(),{config:S}=_.a.AppStore.getState(),{sortedSections:y,visibleTags:v,variantGroupsMapping:C}=Object(o.filterSortScreens)(n,p,{filterValue:h,tagFilter:f,jiraIssueFilter:g}),{visibleScreens:E}=O.default.getFilteredScreens();return A({loading:e,loadingJoin:t,firstHighlightedScreen:function(e,t,n){let i=1/0,o=null;return t.forEach(t=>{const s=e.findIndex(e=>e._id===t);if(-1!==s&&s<i)i=s,o=t;else for(const[e,{variants:i}]of Object.entries(n))if(i.find(({id:e})=>t===e)){o=e;break}}),o}(E,d,C),highlightedScreens:d,moveResourcesPopupOpen:m,barrel:n,barrelUser:i,isUserJoined:l,sortedSections:y,visibleTags:v,variantGroupsMapping:C,paymentPlan:r,registeredAt:a,config:S},u)}static getStores(){return[_.a.BarrelStore,_.a.DashboardStore,_.a.MoveResourcesStore,_.a.ProjectsDataStore,_.a.UserStore,_.a.AppStore]}get toastContainer(){return this.nodeRefs.dashboardContainer}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e}=this.state;if(e)return{};const{barrel:t,barrel:{id:n,type:i},paymentPlan:o,registeredAt:s,config:r}=this.state;return A(A({},this.context),{},{barrelId:n,projectId:n,projectType:i,paymentPlan:o,isOrganizationProject:Object(p.isOrganizationProject)(t),registeredAt:s,config:r})}render(){const{loading:e,loadingJoin:t,isUserJoined:n,barrel:o,barrelUser:s,sortType:r,filterValue:l,fixedThumbnailSize:c,sidebarWidth:d,tagFilter:u,jiraIssueFilter:p,collapsedSections:h,firstHighlightedScreen:b,highlightedScreens:v,highlightedSection:C,moveResourcesPopupOpen:O,sortedSections:E,visibleTags:T,variantGroupsMapping:_,screenVariantsOnboardingSeen:P}=this.state;if(e)return i.h("div",{class:"dashboardContainer"},i.h(f.default.Loading,null),i.h(g.default,null));if(o.partial||!n)return i.h(m.default,{projectData:o,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoin:S.default.join});const D=o&&o.integration?o.integration.jira:null,I=D&&D.attachments?Array.from(D.attachments.reduce((e,t)=>("project"!==t.type&&e.add(t.issueKey),e),new Set)):[];return i.h("div",{class:"dashboardContainer",ref:Object(a.default)(this,"dashboardContainer")},i.h(f.default,{componentRef:Object(a.default)(this,"projectOverview","componentRefs"),project:o,containerSelector:".projectOverview",userRole:s.role,fixedThumbnailSize:c,collapsedSections:h,sortedSections:E,visibleTags:T,variantGroupsMapping:_,filterValue:l,sortType:r,jiraIssueList:I,selectedJiraIssues:p,firstHighlightedScreen:b,highlightedScreens:v,highlightedSection:C,tagFilter:u,moveResourcesPopupOpen:O,screenVariantsOnboardingSeen:P,onSort:this.handleChangeSortType,onFilter:this.handleFilter,onJiraIssueSelectionChange:this.handleJiraIssueSelectionChange,onResetJiraIssuesClick:this.handleResetJiraIssuesClick,onTagClick:this.handleTagClick,onOpenTagContextMenu:this.handleGenerateTagShortlink,onConvertTagToSection:this.handleConvertTagToSection,onCopyTagWebURL:this.handleCopyTagWebURL,onCopyTagAppURI:this.handleCopyTagAppURI,onCopySectionWebURL:this.handleCopySectionWebURL,onCopySectionAppURI:this.handleCopySectionAppURI,onCopyScreenWebURL:this.handleCopyScreenWebURL,onCopyScreenAppURI:this.handleCopyScreenAppURI,onDownloadScreensOfTag:y.default.downloadScreensOfTag,onDeleteTag:this.handleDeleteTag,onResetTagsClick:this.handleResetTagsClick,onExpandSection:this.handleExpandSection,onCollapseSection:this.handleCollapseSection,onSectionClickFromElevator:y.default.highlightSection}),i.h(g.default,{width:d,onRelease:y.default.changeSidebarWidth}))}}const L=D()(Object(I.default)(N),{pure:!1});t.default=function(e){return i.h(j.SectionObserverProvider,null,i.h(L,e))}},function(e,t,n){"use strict";n.r(t);var i=n(1409);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1410),s=n(1411),r=n(543),a=n(559),l=n(761),c=n(737),d=n(1412),u=n(1443),p=n.n(u),h=n(1062),f=n(1446),g=n(1452),m=n(1455),b=n(1458),S=n(1461),y=n(1469),v=n(1492),C=n(706);n(1495);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){const{canManageScreens:t}=e;return i.h("div",{class:"projectOverviewTagsEmpty"},i.h("span",null,"Tags:"),t?i.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.h("span",null,"Organization ",Object(a.getUserRoleString)("rook"),"s or higher can organize screens using tags."))}function T(e,t){const n=e.screens.filter(e=>e.tags&&e.tags.includes(t));return 0!==n.length&&n.every(t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)})}class _ extends i.Component{constructor(...e){super(...e),O(this,"state",{dragging:!1,screenVariantsOnboardingDialogVisible:!1}),O(this,"handleStartDrag",()=>{this.setState({dragging:!0})}),O(this,"handleEndDrag",()=>{this.setState({dragging:!1})}),O(this,"handleSectionReorder",({sourceId:e,moveIndex:t})=>{C.default.updateSectionOrder({seid:e,index:t-1,syncWithApi:!0})}),O(this,"handleSetAsScreenVariantsClick",()=>{this.setState({screenVariantsOnboardingDialogVisible:!0})}),O(this,"handleHideScreenVariantsOnboarding",()=>{C.default.hideScreenVariantsOnboarding(),this.state.screenVariantsOnboardingDialogVisible&&this.setState({screenVariantsOnboardingDialogVisible:!1})})}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return this.props.sortType!==r.SortTypes.SECTIONS}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length>0||e.untagged}isJiraIssueFilterActive(){const{selectedJiraIssues:e}=this.props;return e.length>0}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive(),jiraIssueFilterActive:this.isJiraIssueFilterActive()}}componentDidUpdate(e){this.props.project.id!==e.project.id&&s.default.clear()}renderTags(){const{project:e,tagFilter:t,filterValue:n,visibleTags:o,onTagClick:s,onOpenTagContextMenu:r,onConvertTagToSection:a,onCopyTagWebURL:l,onCopyTagAppURI:c,onDownloadScreensOfTag:d,onDeleteTag:u}=this.props,{canManageScreens:p}=this.context,h=!!n;return e.tags.length?i.h("div",{class:"projectOverviewTags"},o.map(n=>i.h(v.default,{key:n,tag:n,disabled:h,contextMenuDisabled:!p,selected:t.tags.includes(n),canCreateSectionFromTag:T(e,n),onClick:s,onOpenContextMenu:r,onCopyWebURL:l,onCopyAppURI:c,onDownloadScreenImages:d,onConvertToSection:a,onDelete:u})),i.h(v.default,{untagged:!0,disabled:h,selected:t.untagged,onClick:s})):i.h(E,{canManageScreens:p})}renderScreenVariantsOnboarding(){const{registeredAt:e,config:{countLimit:{screenVariantOnboardingDayLimit:t=14,screenVariantOnboardingScreenLimit:n=10}}}=this.context,{screenVariantsOnboardingDialogVisible:o}=this.state,{project:s,screenVariantsOnboardingSeen:r}=this.props,a=Object(l.getDateDifference)("d",new Date(e),new Date)<=t,c=(s.screens||[]).length>=n;return!a&&!r&&c||o?i.h(p.a,{onHideClick:this.handleHideScreenVariantsOnboarding,showInDialog:o}):null}render(){const{canManageScreens:e}=this.context,{project:t,sortedSections:n,variantGroupsMapping:o,userRole:s,containerSelector:r,fixedThumbnailSize:a,filterValue:l,sortType:u,jiraIssueList:p,selectedJiraIssues:b,tagFilter:v,collapsedSections:C,firstHighlightedScreen:O,highlightedScreens:E,highlightedSection:T,moveResourcesPopupOpen:_,onFilter:P,onSort:D,onJiraIssueSelectionChange:I,onExpandSection:j,onCollapseSection:k,onCopySectionWebURL:R,onCopySectionAppURI:A,onCopyScreenWebURL:w,onCopyScreenAppURI:N,onResetJiraIssuesClick:L,onResetTagsClick:M,onSectionClickFromElevator:x}=this.props,{dragging:U}=this.state;if(!t.screens||!t.screens.length)return i.h(y.default,null);const B=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive()||this.isJiraIssueFilterActive(),V=!e||B;return i.h("div",{class:"projectOverview"},i.h(g.default,{filterValue:l,selectedSortType:u,onSort:D,onJiraIssueSelectionChange:I,jiraIssueList:p,selectedJiraIssues:b,onFilter:P,searchDisabled:U,sections:n,onSectionClick:x,sectionReorderEnabled:!V,onSectionReorder:this.handleSectionReorder}),i.h(h.default,{class:"projectOverviewDragDropContainer",noScroll:_,itemsClass:"projectOverviewDragDropItems",onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:V},this.renderTags(),this.renderScreenVariantsOnboarding(),n.length?i.h(i.Fragment,null,i.h(d.default,{ref:Object(c.default)(this,"dashboardSections","componentRefs"),collapsedSections:C,firstHighlightedScreen:O,highlightedScreens:E,highlightedSection:T,filterValue:l,fixedThumbnailSize:a,onExpandSection:j,onCollapseSection:k,onCopySectionWebURL:R,onCopySectionAppURI:A,onCopyScreenWebURL:w,onCopyScreenAppURI:N,sections:n,variantGroupsMapping:o,userRole:s,projectThumbnail:t.thumbnail,projectId:t.id,containerSelector:r,onSetAsScreenVariantsClick:this.handleSetAsScreenVariantsClick}),_&&i.h(S.default,{key:"moveResourcesContainer"})):i.h(f.default,{tags:v.tags,selectedJiraIssues:b,untagged:v.untagged,onResetJiraIssuesClick:L,onResetTagsClick:M})),i.h(m.default,null))}}const P=Object(o.default)(_);P.Loading=b.default,t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559);t.default=function(Component){return class extends i.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:o.permissions.canUpdateProject(t),canManageScreens:o.permissions.canManageScreens(t),canMoveScreens:o.permissions.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";n.r(t),t.default=new Map},function(e,t,n){"use strict";n.r(t);var i=n(1413);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1414),s=n(886),r=n(737);class a extends s.default{highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}render(){const{sections:e,variantGroupsMapping:t,projectThumbnail:n,fixedThumbnailSize:s,projectId:a,containerSelector:l,filterValue:c,collapsedSections:d,firstHighlightedScreen:u,highlightedScreens:p,highlightedSection:h,onExpandSection:f,onCollapseSection:g,onCopySectionWebURL:m,onCopySectionAppURI:b,onCopyScreenWebURL:S,onCopyScreenAppURI:y,onSetAsScreenVariantsClick:v}=this.props;return i.h("div",{class:"projectOverviewSections"},e.map((e,C)=>i.h(o.default,{index:C,ref:Object(r.default)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!e.screens.length&&d[e._id],fixedThumbnailSize:s,firstHighlightedScreen:u,highlightedScreens:p,highlightedSection:h,onExpand:f,onCollapse:g,onCopySectionWebURL:m,onCopySectionAppURI:b,onCopyScreenWebURL:S,onCopyScreenAppURI:y,onSetAsScreenVariantsClick:v,filterValue:c,actionsDisabled:e.actionsDisabled,screens:e.screens,variantGroupsMapping:t,description:e.description,containerSelector:l,projectThumbnail:n,projectId:a,defaultSection:"default"===e.type})))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1415);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(556),r=n(737),a=n(560),l=n(1164),c=n(1212),d=n(706),u=n(1416),p=n(1178),h=n(1417),f=n(1175),g=n(1073);n(1442);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{addingDescription:!1}),b(this,"subscribedToObserver",!1),b(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),b(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),b(this,"generateShortlink",()=>{const{projectId:e,id:t}=this.props,n=Object(s.urlResolve)("project",{url:{bid:e},query:{seid:t}});Object(l.fetchShortlink)(n)}),b(this,"getScreenThumbnailRef",e=>this.nodeRefs&&this.nodeRefs["screenThumbnail-"+e]),b(this,"registerToObserverIfReady",()=>{const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&!this.subscribedToObserver&&(e.observe(t),this.subscribedToObserver=!0)}),b(this,"handleEditDescriptionClick",e=>{e.stopPropagation(),this.highlightDescription()}),b(this,"handleAddDescriptionClick",e=>{e.stopPropagation(),this.setState({addingDescription:!0})}),b(this,"handleRenameSectionClick",e=>{e.stopPropagation(),this.highlightName()}),b(this,"handleCopyWebURL",e=>{e.stopPropagation();const{id:t,onCopySectionWebURL:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Screen section"})}),b(this,"handleCopyAppURI",e=>{e.stopPropagation();const{id:t,onCopySectionAppURI:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Screen section"})}),b(this,"handleDownloadScreenImagesClick",e=>{e.stopPropagation(),d.default.downloadScreensOfSection(this.props.id)}),b(this,"handleDeleteClick",e=>{e.stopPropagation();const{id:t}=this.props;d.default.removeSection({seid:t,syncWithApi:!0})}),b(this,"handleMoveScreenOrVariantGroupClick",({resourceType:e,resourceId:t,targetNode:n})=>{u.default.open({resourceType:e,resourceId:t,targetNode:n})}),b(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{id:t}=this.props;u.default.open({targetNode:this.nodeRefs.optionsButton,resourceId:t,resourceType:"section"})}),b(this,"handleNameBlur",({discard:e,value:t})=>{const{id:n,name:i}=this.props;if(e)return void(n.startsWith("newSection")?d.default.removeSection({seid:n}):d.default.renameSection({seid:n,name:i}));const o=t.trim();if(n.startsWith("newSectionFromSplit"))d.default.createSection({seid:n,name:o});else if(i!==o){if(o===i)return;d.default.renameSection({seid:n,name:o,syncWithApi:!0,onError:this.highlightName})}}),b(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;if(e)return void d.default.updateSectionDescription({seid:n,description:i});const o=t.trim();o!==i&&d.default.updateSectionDescription({seid:n,description:o,syncWithApi:!0,onError:this.highlightDescription})}),b(this,"handleSectionHeaderDrop",(e,t,n)=>{t!==n&&d.default.updateSectionOrder({seid:e,index:n,syncWithApi:!0})}),b(this,"handleScreenThumbnailDrop",({sourceId:e,sourceType:t,targetSectionId:n})=>{d.default.updateScreenOrderV2({items:[{_id:e,type:t}],targetSectionId:n,syncWithApi:!0})}),b(this,"handleScreenThumbnailRef",(e,t)=>{Object(r.default)(this,"screenThumbnail-"+e)(t)}),b(this,"renderOptionsMenu",()=>{const{description:e,screens:t}=this.props,{canManageScreens:n,canMoveScreens:s}=this.context,r=e?i.h(f.default.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.h(f.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(f.default,{onOpen:this.generateShortlink,onMouseDown:o.stopPropagation},n&&[r,i.h(f.default.Item,{key:"renameSection",onClick:this.handleRenameSectionClick},"Rename section"),i.h(f.default.ItemDivider,{key:"renameDivider"})],i.h(f.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(f.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),!!t.length&&[i.h(f.default.ItemDivider,{key:"downloadDivider"}),i.h(f.default.Item,{key:"downloadScreens",onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(n||s)&&i.h(f.default.ItemDivider,null),s&&!!t.length&&i.h(f.default.Item,{onClick:this.handleMoveSectionClick},"Move section to project…"),n&&i.h(f.default.Item,{onClick:this.handleDeleteClick,warning:!0},"Delete section"))}),b(this,"renderScreenThumbnailContainer",()=>{const{id:e,screens:t,projectId:n,defaultSection:o,projectLastUpdated:s,projectThumbnail:r,firstHighlightedScreen:a,highlightedScreens:l,fixedThumbnailSize:c,variantGroupsMapping:d,filterValue:u,containerSelector:p,onCopyScreenWebURL:f,onCopyScreenAppURI:g,onSetAsScreenVariantsClick:m}=this.props;let b=0;return i.h("div",{class:"dashboardScreenGrid"},t.map((S,y)=>{const v=y+b,[{snapshot:C}]=S.versions,O=S.updated||s,E=r===C.url,T=S.tags&&0!==S.tags.length,_=t[y-1],P=t[y+1],D=d[S._id],I=Object.keys(d).length;let j=l.includes(S._id),k=a===S._id;return D&&(b+=D.variants.length,j||(j=D.variants.some(({id:e})=>l.includes(e))),k||(k=!!D.variants.find(({id:e})=>a===e))),i.h(h.default,{id:S._id,projectId:n,leftScreenId:_&&_._id,rightScreenId:P&&P._id,key:c?"fixed-"+S._id:S._id,variantGroup:D,variantGroupCount:I,screenThumbnailRef:this.handleScreenThumbnailRef,index:v,sectionId:e,scroll:k,highlight:j,hideLeftSectionDivider:0===v&&!o,hideRightSectionDivider:v===t.length-1,filterValue:u,class:"dashboardScreen",hasTag:T,updated:O,isProjectThumbnail:E,fixedSize:c,containerSelector:p,name:S.name,snapshotWidth:C.width,snapshotHeight:C.height,screenImageUrl:C.url,onCopyWebURL:f,onCopyAppURI:g,onSetAsScreenVariantsClick:m,onMoveClick:this.handleMoveScreenOrVariantGroupClick,getScreenThumbnailRef:this.getScreenThumbnailRef})}))})}componentDidMount(){const{id:e}=this.props;e.startsWith("newSectionFromSplit")&&this.highlightName(),this.registerToObserverIfReady()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription(),this.registerToObserverIfReady()}componentWillUnmount(){const{sectionObserver:e}=this.props,{base:t}=this.nodeRefs||{};t&&e&&e.unobserve(t)}render(){const{id:e,name:t,index:n,description:o,defaultSection:s,screens:l,actionsDisabled:u,collapsed:h,highlightedSection:f,onExpand:g,onCollapse:m}=this.props;if(s&&!l.length)return null;const{addingDescription:b}=this.state,{canManageScreens:S}=this.context,y=Object(a.pluralize)(l.length,"screen")+" collapsed",v=this.renderOptionsMenu(),C=b?c.DEFAULT_DESCRIPTION:o;return i.h(p.DragDropScreenThumbnailSection,{type:c.SCREEN_THUMBNAIL_SECTION,optionsButtonRef:Object(r.default)(this,"optionsButton"),componentRef:Object(r.default)(this,"section","componentRefs"),index:n,onExpand:g,onCollapse:m,collapsed:h,baseRef:Object(r.default)(this,"base"),emptyText:"No screens",empty:!l.length,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:C,defaultSection:s,countInfoText:y,highlight:e===f,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,onHighlightEnd:d.default.unhighlightSection,actionsDisabled:u,readOnly:!S,optionsMenu:v,onScreenThumbnailDrop:this.handleScreenThumbnailDrop,onSectionHeaderDrop:this.handleSectionHeaderDrop},this.renderScreenThumbnailContainer())}}S.defaultProps={highlightedScreens:[]};t.default=e=>i.h(g.SectionObserverContext.Consumer,null,({sectionObserver:t})=>i.h(S,m({sectionObserver:t},e)))},function(e,t,n){"use strict";n.r(t);var i=n(618),o=n(582),s=n.n(o);const r={open({targetNode:e,resourceId:t,resourceType:n}){s.a.dispatcher.dispatch({type:i.default.OPEN,targetNode:e,resourceId:t,resourceType:n})},close(){s.a.dispatcher.dispatch({type:i.default.CLOSE})},move({barrelId:e,resource:t,resourceType:n,target:o,densityScale:r,platform:a}){s.a.dispatcher.dispatch({type:i.default.MOVE,barrelId:e,resource:t,resourceType:n,target:o,densityScale:r,platform:a,syncWithApi:!0})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1418);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(1419),r=n(1050),a=n(1411),l=n(1158),c=n(737),d=n(559),u=n(556),p=n(543),h=n(1164),f=n(947),g=n(696),m=n(681),b=n(706),S=n(702),y=n(687);class v extends o.default{constructor(e){super(e),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null,asVariant:!1,loadingDeleteVariantGroup:!1},this.screenThumbnailObserver=Object(l.getThumbnailObserver)(e.containerSelector),this.generateShortlink=this.generateShortlink.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleScreenLinkMouseOver=this.handleScreenLinkMouseOver.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(d.debounce)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}get link(){const{projectId:e,id:t}=this.props;return Object(u.urlResolve)("project-screen",{url:{pid:e,sid:t}})}scroll(){this.nodeRefs.base.scrollIntoView()}calculateCubukPosition(e,t){const{getScreenThumbnailRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-60)));return{height:o,top:Math.max(0,Math.round((i-26-o)/2))}}generateShortlink(){Object(h.fetchShortlink)(this.link)}getContextMenuItems(){const{id:e,hasTag:t,isProjectThumbnail:n,variantGroup:o,onSetAsScreenVariantsClick:s}=this.props,{canUpdateProject:a,canManageScreens:l,canMoveScreens:c}=this.context,d=!!m.default.getVariantGroupOfScreen(e),u=t?i.h(r.default.Item,{key:"manageTags",onClick:this.handleManageTagsClick},"Manage tags…"):i.h(r.default.Item,{key:"addTag",onClick:this.handleManageTagsClick},"Add tag…");return[l&&u,a&&!n&&i.h(r.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.h(r.default.Item,{key:"downloadImage",onClick:this.handleDownloadScreenImageClick},"Download screen ",o?"images":"image"),i.h(r.default.ItemDivider,{key:"copyDivider"}),i.h(r.default.Item,{key:"copyWeb",onClick:this.handleCopyWebLinkClick},"Copy web link"),i.h(r.default.Item,{key:"copyApp",onClick:this.handleCopyAppURIClick},"Copy App URI"),(c||l)&&i.h(r.default.ItemDivider,{key:"warningDivider"}),c&&(o||!d)&&i.h(r.default.Item,{key:"move",onClick:this.handleMoveClick},"Move ",o?"screens":"screen"," to project…"),l&&!o&&!d&&i.h(r.default.Item,{key:"setAsVariants",onClick:s},"Set as screen variants"),l&&i.h(r.default.Item,{key:"delete",onClick:this.openDeleteScreenDialog,warning:!0},"Delete ",o?"screens":"screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,jiraIssueFilterActive:t,tagFilterActive:n,sortActive:i,showToast:o}=this.context;i?o({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?o({text:"Unselect jira issues to reorder",source:"showCannotDragToast"}):n?o({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&o({text:"Reset search to reorder",source:"showCannotDragToast"})}handleBaseRef(e){const{id:t,screenThumbnailRef:n}=this.props;Object(c.default)(this,"base")(e),n(t,e)}handleScreenImageLoad(){a.default.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,300),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i,variantGroup:o}=this.props;if(o){const{variantGroupId:e,variantGroupName:n}=o;if(t===n)return;b.default.renameVariantGroup({vgid:e,name:t,syncWithApi:!0})}else t!==i&&S.default.updateName({sid:n,name:t,syncWithApi:!0,onError:this.componentRefs.screenThumbnail.highlightName})}handleManageTagsClick(e){const{id:t,variantGroup:n}=this.props;if(e.stopPropagation(),n){const e=[t,...n.variants.map(({id:e})=>e)];S.default.openTagManager(e)}else S.default.openTagManager([t])}handleSetAsThumbnailClick(){g.default.updateThumbnail({thumbnail:this.props.screenImageUrl,syncWithApi:!0})}handleDownloadScreenImageClick(){const{id:e,variantGroup:t}=this.props;t?b.default.downloadScreensOfVariantGroup(t.variantGroupId):b.default.downloadScreen(e)}handleCopyWebLinkClick(){const{id:e,onCopyWebURL:t}=this.props;t(e)}handleCopyAppURIClick(){const{id:e,onCopyAppURI:t}=this.props;t(e)}handleMoveClick(e){e.stopPropagation();const{id:t,onMoveClick:n,variantGroup:i}=this.props;n({resourceType:i?"variantGroup":"screen",resourceId:i?i.variantGroupId:t,targetNode:this.nodeRefs.base})}handleDeleteDialogPositiveClick(){const{id:e,variantGroup:t}=this.props;t?(b.default.deleteVariantGroupRequest({vgid:t.variantGroupId,syncWithApi:!0}),this.setState({loadingDeleteVariantGroup:!0})):S.default.removeScreen({sid:e,syncWithApi:!0})}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:o,tagFilterActive:s}=this.context;if(n||i||o||s)return;const r=this.nodeRefs.base.getBoundingClientRect(),a=this.calculateCubukPosition(r,e);this.setState(Object(d.getStateUpdateFunction)({sectionDividerPosition:t,sectionDividerHeight:a.height,sectionDividerTop:a.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;let i;"left"===n?i=e:t&&(i=t),i&&(b.default.splitSection(i),this.handleHideSectionDivider())}handleScreenLinkMouseOver(){const{highlight:e,id:t}=this.props;e&&b.default.unhighlightScreen(t)}handleDragHover({sourceId:e,isSourceVariantGroup:t,mirrorPosition:n}){const i=this.nodeRefs.base.getBoundingClientRect(),o=n.left>i.left+i.width/2;let s=this.props.leftScreenId;o&&(s=this.props.rightScreenId);const r=this.calculateCubukPosition(i,s);!t&&this.props.id!==e&&n.left>i.left+50&&n.left<i.left+i.width-50?this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null,asVariant:!0})):this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:o?"right":"left",moveCubukHeight:r.height,moveCubukTop:r.top,asVariant:!1}))}handleDragHoverOut(){this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null,asVariant:!1}))}handleDrop({sourceId:e,sourceIndex:t,sourceSectionId:n,targetIndex:i,targetSectionId:o,sourceVariantGroup:s}){const{id:r,name:a,variantGroup:l,variantGroupCount:c}=this.props,{moveCubukPosition:d,asVariant:u}=this.state,{paymentPlan:h,isOrganizationProject:g}=this.context,{name:m}=y.default.getScreen({sid:e});if(u){if(l)b.default.addScreensToVariantGroup({vgid:l.variantGroupId,screens:[{id:e,variantName:m}],syncWithApi:!0});else{if(!g&&("free"===h.id||"deprecated"===h.status)&&c>=h.variantGroupLimit)return void Object(f.showPlanChooserOverlay)({source:"Screen variants",upgradeTrigger:p.PlanUpgradeTrigger.VARIANT_GROUP_LIMIT});b.default.createVariantGroup({vgid:"newVariantGroup",screens:[{id:r,variantName:a},{id:e,variantName:m}],variantGroupName:a,syncWithApi:!0})}return}if("left"!==d&&"right"!==d)return;let S=i;if(n===o?(t>i&&"right"===d&&(S=i+1,l&&(S+=l.variants.length)),t<i&&"left"===d&&(S=i-1),t<i&&"right"===d&&l&&(S+=l.variants.length),t<i&&s&&(S-=s.variants.length)):"right"===d&&(S=i+1,l&&(S+=l.variants.length)),n===o&&t===S)return;const v=s?[{type:"variantGroup",_id:s.variantGroupId}]:[{type:"screen",_id:e}];b.default.updateScreenOrderV2({items:v,targetSectionId:o,targetIndex:S,syncWithApi:!0})}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection);const{scroll:e}=this.props;e&&this.scroll()}componentDidUpdate(e){const{loadingDeleteVariantGroup:t}=this.state,{scroll:n,variantGroup:i}=this.props,{scroll:o,variantGroup:s}=e;!o&&n&&this.scroll(),s&&!i&&t&&this.setState({loadingDeleteVariantGroup:!1})}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,updated:t,name:n,class:o,variantGroup:r,fixedSize:l,snapshotWidth:d,snapshotHeight:u,screenImageUrl:p,containerSelector:h,filterValue:f,index:g,sectionId:m,highlight:b,hideLeftSectionDivider:S,hideRightSectionDivider:y}=this.props,{loading:v,source:C,sectionDividerPosition:O,sectionDividerTop:E,sectionDividerHeight:T,moveCubukPosition:_,asVariant:P,moveCubukTop:D,moveCubukHeight:I,deleteDialogVisible:j,loadingDeleteVariantGroup:k}=this.state,{canManageScreens:R}=this.context,A=a.default.has(p),w=C||(A?p:"");return i.h(s.default,{id:e,filterValue:f,index:g,sectionId:m,link:this.link,class:o,updated:t,name:r?r.variantGroupName:n,highlight:b,baseRef:this.handleBaseRef,componentRef:Object(c.default)(this,"screenThumbnail","componentRefs"),readOnly:!R,fixedSize:l,hideLeftSectionDivider:!R||S,hideRightSectionDivider:!R||y,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:O,sectionDividerTop:E,sectionDividerHeight:T,moveCubukPosition:_,moveCubukHeight:I,variantGroup:r,asVariant:P,moveCubukTop:D,snapshotWidth:d,snapshotHeight:u,source:w,loading:v,getContextMenuItems:this.getContextMenuItems,onContextMenu:this.generateShortlink,containerSelector:h,deleteDialogVisible:j,loadingDeleteVariantGroup:k,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:this.handleDrop,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1420);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1421),s=n(1422),r=n(1425),a=n.n(r),l=n(1428),c=n(1050),d=n(1107),u=n.n(d),p=n(737),h=n(718),f=n.n(h),g=n(559),m=n(1435),b=n(1438),S=n.n(b),y=n(1160),v=n(942),C=n(1062);n(1441);class O extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.highlightName=this.highlightName.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(p.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,loadingDeleteVariantGroup:t,name:n,onDeleteDialogPositiveClick:o,onDeleteDialogNegativeClick:s,onDeleteDialogClose:r,variantGroup:a}=this.props;let l="Deleted screens cannot be restored.";if(a&&(l=`All ${a.variants.length+1} screen variants will also be deleted. Deleted screens and variants cannot be restored.`),e)return i.h(v.BasicOverlayDialog,{title:`Delete "${n}"?`,message:l,onPositiveButtonClick:o,onNegativeButtonClick:s,onClose:r,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1,loading:t})}renderContextMenu(){const{getContextMenuItems:e,onContextMenu:t}=this.props,{contextMenu:n}=this.state,o=e()||[];return i.h(c.default.overlay,{class:"screenThumbnailContextMenu",onMouseDown:g.stopPropagation,autoPosition:{clickOrigin:n},onOpen:t,onClose:this.handleContextMenuClose},o)}render(){const{id:e,link:t,updated:n,name:r,readOnly:c,fixedSize:d,snapshotWidth:h,snapshotHeight:b,source:v,class:C,onNameBlur:O,onScreenImageLoad:E,loading:T,filterValue:_,dragging:P,highlight:D,hideLeftSectionDivider:I,hideRightSectionDivider:j,sectionDividerPosition:k,sectionDividerTop:R,sectionDividerHeight:A,onShowLeftSectionDivider:w,onShowRightSectionDivider:N,onHideSectionDivider:L,onSectionDividerClick:M,onScreenLinkMouseOver:x,onMouseDown:U,variantGroup:B,asVariant:V,moveCubukPosition:z,moveCubukHeight:F,moveCubukTop:W}=this.props,{contextMenu:G}=this.state,H=d?200:Math.min(Math.round(240/h*b),520);return i.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:g.stopPropagation,onMouseEnter:w,onMouseLeave:L,style:{height:H}},!I&&"left"===k&&i.h(m.default,{top:R,height:A,onClick:M}),"left"===z&&i.h(y.default,{top:W,height:F})),i.h("div",{class:f()("screenThumbnail",{dragging:P},C),ref:this.handleBaseRef,onMouseDown:U,key:e},G&&this.renderContextMenu(),V&&i.h(a.a,{hasVariantGroup:!B}),i.h(s.default,{loading:T,dragging:P,highlight:D,asVariant:V,href:t,contextMenuOpen:!!G,onContextMenu:this.handleContextMenu,onMouseOver:x},i.h(u.a,{source:v,width:240,height:H,onLoad:E,class:"screenImage"})),i.h("div",{class:"screenInfo"},B&&i.h(S.a,{class:"variantIndicator",numberOfVariants:B.variants.length+1}),i.h(l.default,{class:"screenName",ref:Object(p.default)(this,"screenName","componentRefs"),matchValue:_,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:r,onBlur:O,readOnly:c,minLength:"1",maxLength:"100",required:!0}),i.h(o.default,{type:"time-ago",format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:g.stopPropagation,onMouseEnter:N,onMouseLeave:L,style:{height:H}},!j&&"right"===k&&i.h(m.default,{top:R,height:A,onClick:M}),"right"===z&&i.h(y.default,{top:W,height:F})),this.renderDialogs())}}var Component;t.default=Object(g.pipe)(Object(C.DragSource)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.h(u.a,{source:e,width:240,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{id:t,index:n,sectionId:i,source:o,variantGroup:s,snapshotWidth:r,snapshotHeight:a,fixedSize:l}=e;return{id:t,index:n,sectionId:i,source:o,imgHeight:l?200:Math.min(Math.round(240/r*a),520),variantGroup:s}}}),Object(C.DropTarget)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId,sourceVariantGroup:t.dragData.variantGroup}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,isSourceVariantGroup:!!t.dragData.variantGroup}),onHoverOut:e=>e.onHoverOut()}))((Component=O,e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.h(Component,t)}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886);function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class r extends o.default{render(){const e=this.props,{class:t,children:n,type:o}=e,r=s(e,["class","children","type"]),a=`<${o} ${Object.entries(r).map(([e,t])=>`${e}="${t}"`).join(" ")}></${o}>`;return i.h("span",{class:t,dangerouslySetInnerHTML:{__html:a}})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1423);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1424);t.default=function({loading:e,dragging:t,highlight:n,contextMenuOpen:o,asVariant:r,href:a,onContextMenu:l,onMouseOver:c,children:d}){return i.h("div",{class:s()("screenThumbnailLinkWrapper",{asVariant:r})},i.h("a",{class:s()("screenThumbnailLink",{loading:e,dragging:t,highlight:n,contextMenuOpen:o}),onContextMenu:l,onMouseOver:c,href:a,"data-link-type":"inApp"},d))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1426);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(771);n(1427),t.default=function({hasVariantGroup:e}){return i.h("div",{class:"variantHoverLabel"},i.h(o.IconScreenVariant,{color:"#fff"}),i.h("span",{class:"labelText"},e?"Set as variants":"Add as variants"))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1429);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1430),s=n(558),r=n(718),a=n.n(r),l=n(737);n(1434);class c extends i.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(s.highlightInput)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:r}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(l.default)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=r&&e&&!t&&!n;return i.h("div",{class:a()("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(s.highlightMatchedParts)(e,r,{caseInsensitive:!0,excludeZeroScore:!0})}}):i.h(o.default,c))}}c.defaultProps={value:""},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1431);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(718),r=n.n(s),a=n(737),l=n(1432),c=n(558),d=n(540),u=n(5),p=n.n(u);n(1433);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class f extends o.default{constructor(e){super(e),this.numberOfCharactersRemoved=0,this.handleInputRef=this.handleInputRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMirrorMouseUp=this.handleMirrorMouseUp.bind(this),this.state={mirrorText:e.value,focusWithin:!1,caretPosition:0}}generateMirrorText(){const{value:e}=this.props,t=this.nodeRefs&&this.nodeRefs.mirrorText;let n=e,i=!1,o=0;if(t){for(;Object(c.getTextWidth)(n,"15px Roboto")>t.offsetWidth;)if(i){const e=Math.floor((n.length-"…".length)/2-1);n=`${n.substring(0,e)}…${n.substring(n.length-e,n.length)}`,o+=2}else{const e=Math.floor(n.length/2)-1,t=`${n.substring(0,e)}…${n.substring(n.length-e,n.length)}`;o+=n.length-(t.length-"…".length),n=t,i=!0}n!==this.state.mirrorText&&(this.numberOfCharactersRemoved=o,this.setState({mirrorText:n}))}}handleInputRef(e){const{inputRef:t}=this.props;Object(a.default)(this,"input")(e),t&&t(e)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}handleBlur(e){const{onBlur:t}=this.props;t&&t(e),this.state.focusWithin&&this.setState({focusWithin:!1})}handleMirrorMouseUp(e){const{disabled:t,value:n}=this.props,{mirrorText:i}=this.state;let o=Object(l.default)({element:e.target,maxLength:i.length});n!==i&&o>Math.ceil(i.length/2)&&(o+=this.numberOfCharactersRemoved-"…".length),this.setState({caretPosition:o,focusWithin:!t})}componentDidMount(){const{withMirror:e}=this.props,{focusWithin:t}=this.state;e&&this.nodeRefs&&this.nodeRefs.base&&!t&&this.generateMirrorText()}componentDidUpdate(e,t){const{withMirror:n}=this.props,{focusWithin:i,caretPosition:o,mirrorText:s}=this.state;if(n&&this.nodeRefs&&this.nodeRefs.base&&!i&&this.generateMirrorText(),n&&!t.focusWithin&&i&&this.nodeRefs&&this.nodeRefs.input){const e=o<=Math.ceil(s.length/2)||"…".includes(s[o]);this.nodeRefs.input.focus({preventScroll:e}),e&&Object(d.getBrowser)()===d.BROWSER.SAFARI&&(this.nodeRefs.input.scrollLeft=0),this.nodeRefs.input.setSelectionRange(o,o)}}renderInput(e){const{withMirror:t,type:n,disabled:o}=this.props,{focusWithin:s,mirrorText:l}=this.state;return t&&!s?i.h("div",{class:r()("mirror",{disabled:o})},i.h("span",{ref:Object(a.default)(this,"mirrorText"),contentEditable:!0,onMouseUp:this.handleMirrorMouseUp},l)):i.h("input",h({},e,{ref:this.handleInputRef,type:n,onBlur:this.handleBlur,onMouseUp:this.handleInputMouseUp}))}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:o,class:s,ellipsized:l}=this.props,c=Object.assign({},this.props);return delete c.class,delete c.inputRef,delete c.ellipsized,delete c.blurOnEnter,delete c.discardOnESC,delete c.prefix,delete c.suffix,(n||o)&&(c.onKeyDown=this.handleKeyDown),l&&(c.class="ellipsis"),i.h("div",{ref:Object(a.default)(this,"base"),class:r()("textInput",s,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},this.renderInput(c))}}f.propTypes={suffix:p.a.string,prefix:p.a.string,inputRef:p.a.func,ellipsized:p.a.bool,blurOnEnter:p.a.bool,discardOnESC:p.a.bool},f.defaultProps={type:"text"},t.default=f},function(e,t,n){"use strict";n.r(t),t.default=function({element:e,maxLength:t}){let n,i=0;if(void 0!==document.getSelection&&(n=document.getSelection(),n.rangeCount>0)){const t=document.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(e),n.setEnd(t.endContainer,t.endOffset),i=n.toString().length}return Math.min(i,t)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1436);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771);n(1437);t.default=function(e){const{onClick:t,height:n,top:s,left:r}=e;return i.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:s,left:r}},i.h("div",null),i.h(o.IconDivider,{class:"iconDivider noSelect"}),i.h("div",null))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1439);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(771),r=i(n(718));n(1440),t.default=function({class:e,numberOfVariants:t}){return o.h("div",{class:r.default("screenVariantsIndicator",e)},o.h(s.IconScreenVariant,{color:"#fff"}),o.h("span",{class:"numberOfVariants"},t))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1444);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(723)),a=i(n(942)),l=n(771),c=n(558),d=n(761);n(1445);function u(){mixpanel.master.track("Clicked learn more on screen variants prompt")}function p(){c.openLink("https://zpl.io/blog/screen-variants"),u()}t.default=function({onHideClick:e,showInDialog:t},{canManageScreens:n}){const i=o.h("img",{width:"156",height:"120",src:"/img/screen-variants@2x.gif"});s.useEffect(()=>{mixpanel.master.track("Viewed screen variants prompt")},[]);const c=d.getDateDifference("d",new Date,new Date("2021-06-30"))<=0,h=o.h("div",{class:"baseContent"},!t&&i,o.h("div",{class:"content"},o.h("h3",null,c?"Organize your screens using Screen Variants ":"Introducing Screen Variants ",o.h(l.IconScreenVariant,{color:"var(--teflon)"})),o.h("p",null,"Combine variations of the same screen, reducing clutter and enabling developers to quickly toggle between them.",n&&" You can define variants in two ways:"),t&&o.h("div",{class:"imageWrapper"},i),n?o.h(o.Fragment,null,o.h("p",null,o.h("strong",null,"1. Drag and drop")," screens onto each other to combine them as variants."),o.h("p",null,o.h("strong",null,"2.")," Name frames/artboards in your design file ",o.h("strong",null,"using the -v keyword")," ","to automatically publish them as variants, e.g. Login -v Mobile.")):o.h("p",null,"Click “Learn more” below to discover how to set up screen variants and"," ","how they can save time for your team."),!t&&o.h("footer",null,o.h("a",{rel:"noopener noreferrer",onClick:u,href:"https://zpl.io/blog/screen-variants",target:"_blank"},"Learn more"),o.h(r.default,{class:"hideButton",onClick:e},o.h(l.IconDelete,{transparent:!0})," Got it!"))));return t?o.h(a.default,{positiveButtonText:"LEARN MORE",negativeButtonText:"GOT IT",onPositiveButtonClick:p,hideNegativeButton:!1,onClose:e,width:600},o.h("div",{class:"screenVariantsOnboarding showInDialog"},h)):o.h("div",{class:"screenVariantsOnboarding"},h)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1447);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1448);n(1451);function s(e){const{mainContent:t,subContent:n,actionButtonText:o,onActionButtonClick:s}=e;return i.h("div",{class:"emptySectionsWithActionButton"},i.h("h1",null,t),n&&i.h("h2",null,n),i.h("button",{type:"button",onClick:s},o))}t.default=function(e){const{tags:t,untagged:n,selectedJiraIssues:r,onResetJiraIssuesClick:a,onResetTagsClick:l}=e;return r.length?i.h(s,{mainContent:"There are no screens with the selected Jira issues.",actionButtonText:"Reset Jira issues",onActionButtonClick:a}):t.length?i.h(s,{mainContent:"There are no screens with the selected tags.",actionButtonText:"Reset tags",onActionButtonClick:l}):n?i.h(s,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like you’re well organized. 😎",onResetTagsClick:l}):i.h(o.default,{text:"No screens with this name 🤷‍♀️"})}},function(e,t,n){"use strict";n.r(t);var i=n(1449);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1450);t.default=function({text:e}){return i.h("div",{class:"filterEmptySections"},e)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1453);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1054),s=n(849),r=n(1060),a=n(543);n(1454);const l=[{label:"Sort by Sections",dropdownLabel:"Sections",value:a.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:a.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:a.SortTypes.NAME}];function c({onSort:e,onJiraIssueSelectionChange:t,selectedSortType:n,selectedJiraIssues:o,jiraIssueList:a,sections:c,sectionReorderEnabled:d,onSectionClick:u,onSectionReorder:p}){const h=c.length>=3;return i.h(i.Fragment,null,h&&i.h(r.default,{sections:c,onSectionClick:function(e){u(e)},onSectionReorder:p,selectedSortType:n,reorderEnabled:d}),i.h(s.default,{class:"screensSortDropdown",onChange:e,optionsClass:"screensSortOptions"},l.map(({label:e,dropdownLabel:t,value:o,class:r})=>i.h(s.default.Item,{class:r,key:o,value:o,label:e,dropdownLabel:t,selected:o===n}))),a&&a.length>0&&i.h(s.default,{class:"screensSortDropdown",optionsClass:"jiraIssueFilterOptions",defaultLabel:"Jira Issue",multiSelect:!0,onChange:t},a.map(e=>i.h(s.default.Item,{key:e,label:e,value:e,selected:o.includes(e)}))))}t.default=function({onFilter:e,onSort:t,onJiraIssueSelectionChange:n,selectedJiraIssues:s,selectedSortType:r,jiraIssueList:a,filterValue:l,searchDisabled:d,sections:u,onSectionClick:p,sectionReorderEnabled:h,onSectionReorder:f}){return i.h(o.default,{class:"screensFilterSortView",onFilter:e,filterValue:l,searchPlaceholder:"Search for a screen",searchPlaceholderWidth:128,searchDisabled:d,leftContent:i.h(c,{onSort:t,onJiraIssueSelectionChange:n,selectedSortType:r,selectedJiraIssues:s,jiraIssueList:a,sections:u,onSectionClick:p,sectionReorderEnabled:h,onSectionReorder:f})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1456);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771),s=n(723),r=n(540),a=n(696);n(1457);t.default=function(){const e=Object(r.getOS)()===r.OS.MAC?"⌥J":"Alt+J";return i.h(s.default,{secondary:!0,class:"jumpToButton",onClick:a.default.openJumpToPopup},i.h(o.IconMagnifier,null),i.h("span",{class:"label"},"Jump to"),i.h("span",{class:"shortcut"},e))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1459);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1460);function o(){return i.h("div",{class:"projectOverviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"tagsLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"screenGridLoading"},i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"})))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1462);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(555),r=n(845),a=n.n(r),l=n(681),c=n(1416),d=n(582),u=n.n(d),p=n(1463);function h(e,t,n){const{_id:i,type:s,densityScale:r}=t;return e.filter(e=>{const t=e._id!==i&&e.type===s&&(!e.densityScale||e.densityScale===r),a="active"===e.status;let l=!0;if(Object(o.isOrganizationProject)(e)){const t=e.users.find(({user:e})=>e._id===n);l=t&&o.permissions.canManageScreens(t)}return t&&a&&l}).sort(o.sortBy.name)}class f extends i.Component{constructor(e){super(e),this.handleMove=this.handleMove.bind(this),this.handleClose=this.handleClose.bind(this),this.state={spinnerIndex:-1,moveDialogOpen:!1}}static getStores(){return[u.a.OrganizationStore,u.a.ProjectsDataStore,u.a.BarrelStore,u.a.MoveResourcesStore,u.a.UserStore]}static calculateState(){const{open:e,targetNode:t,resourceId:n,resourceType:i}=u.a.MoveResourcesStore.getState();if(!e)return{open:!1};const{barrelId:s,loading:r,organizationId:a}=u.a.BarrelStore.getState();if(r)return{loading:!0};const{userId:c}=u.a.UserStore.getState(),{loading:d,loadingProfiles:p,organizations:f,organizationProfiles:g,organizationProjects:m}=u.a.OrganizationStore.getState();if(d||p)return{loading:!0};const{projects:b}=u.a.ProjectsDataStore.getState(),S=l.default.getBarrel();let y;switch(i){case"screen":y=S.findScreen(n);break;case"variantGroup":y=S.findVariantGroup(n);break;case"section":y=S.findSection(n)}const v=[];if("user"===a){v.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"});const e=h(m.user.map(e=>b[e]),S,c);v.push(...e.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n})))}const C=("user"===a?Object.entries(m).filter(([e])=>"user"!==e).map(([e,t])=>({organization:f.find(({_id:t})=>t===e),profile:g[e],projects:t.map(e=>b[e])})):[{organization:f.find(({_id:e})=>e===a),profile:g[a],projects:m[a].map(e=>b[e])}]).filter(({organization:{status:e},profile:t})=>"active"===e&&o.permissions.canMoveScreens(t)).map(({organization:e,projects:t})=>({organization:e,projects:h(t,S,c)})).sort(({organization:e},{organization:t})=>o.sortBy.name(e,t));v.push(...C.flatMap(({organization:{name:e,_id:t},projects:n})=>[{type:"header",content:e+"’s Projects"},{type:"create",oid:t},...n.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n}))]));const{type:O,name:E,densityScale:T}=S;return{loading:!1,barrelId:s,barrelName:E,platform:O,densityScale:T,open:e,targetNode:t,resourceType:i,resource:y,listItems:v}}getInteractiveItemAtIndex(e){const{listItems:t}=this.state;return t.filter(({type:e})=>"header"!==e)[e]}handleClose(){const{moveDialogOpen:e}=this.state;e||c.default.close()}handleMove(e){const{resourceType:t}=this.state,{barrelId:n,barrelName:i,platform:o,densityScale:r,resource:a}=this.state,l=this.getInteractiveItemAtIndex(e),d="create"===l.type?"a new project":`"${l.name}"`;this.setState({moveDialogOpen:!0}),s.create({message:`Move selected ${t} from "${i}" to ${d}?`,done:{name:"MOVE",cb:()=>{this.setState({spinnerIndex:e,moveDialogOpen:!1}),c.default.move({barrelId:n,resource:a,resourceType:t,target:l,densityScale:r,platform:o})}},cancel:{name:"KEEP",cb:()=>{this.setState({moveDialogOpen:!1}),c.default.close()}}})}render(){const{loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:s,open:r,targetNode:a,resourceType:l}=this.state;return r?i.h(p.default,{resourceType:l,targetNode:a,loading:e,platform:t,densityScale:n,spinnerIndex:o,listItems:s,onMove:this.handleMove,onClose:this.handleClose}):null}}t.default=a()(f)},function(e,t,n){"use strict";n.r(t);var i=n(1464);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(1465),s=n(873),r=n(559);n(1468);class a extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.handleMove=this.handleMove.bind(this),this.renderContent=this.renderContent.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){const{listItems:t}=this.props;return t.filter(({type:e})=>"header"!==e)[e]}getPosition(){const{resourceType:e}=this.props;return"section"===e?{top:0,left:0}:{top:78,left:172}}handleMove(e){const{spinnerIndex:t,onMove:n}=this.props;-1===t&&n(e)}renderProjectList(){const{loading:e,densityScale:t,platform:n,spinnerIndex:s,listItems:a}=this.props,l=Object(r.getPlatformString)(n);return e?i.h("div",{key:"projectListLoading",class:"projectListLoading"}):i.h(o.default,{key:"projectList",projectType:l,densityScale:t,items:a,spinnerIndex:s,onSelect:this.handleMove})}renderContent(){const{densityScale:e,platform:t}=this.props,n=Object(r.getPlatformString)(t),o=Object(r.getDensityScaleRepresentation)(t,e);return i.h("div",{class:"moveResourcesPopup"},i.h("p",null,"To keep asset sizes and measurements consistent, only ",i.h("strong",null,n)," projects with ",i.h("strong",null,o)," density are listed. Select one or create a new one to move the screen(s):"),this.renderProjectList())}render(){const{resourceType:e,targetNode:t,onClose:n}=this.props,o="section"===e,r="section"===e,a="section"===e,l="screen"===e,c="screen"===e,{top:d,left:u}=this.getPosition();return i.h(s.default,{targetNode:t,content:this.renderContent,showAnchor:r,anchorTop:-4,centerY:o,top:d,left:u,openToLeft:a,faceLeft:l,faceTop:c,stickToEdge:!0,open:!0,onClose:n})}}},function(e,t,n){"use strict";n.r(t);var i=n(1466);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(4),o=n(771),s=n(559),r=n(718),a=n.n(r),l=n(737),c=n(558);n(1467);class d extends i.Component{constructor(e){super(),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.itemCount=d.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(({type:e})=>"header"!==e).length}handleClick(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}handleKeyDown(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){if(e.stopPropagation(),this.lastX===e.clientX&&this.lastY===e.clientY)return;const t=e.target.closest("[data-index]");if(!t)return;const n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){this.itemCount=d.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(c.scrollIfNecessary)(this.nodeRefs.base.querySelector(`[data-index="${this.state.selectedIndex}"]`))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderHeader(e){const{densityScale:t,projectType:n}=this.props,o=s.getDensityScaleRepresentation(n,t);return i.h("h3",{key:e},i.h("span",null,e)," ",i.h("span",null,"(",n,", ",o,")"))}renderProjectButton(e,t){const{spinnerIndex:n}=this.props,{selectedIndex:s}=this.state,r=t===s,l=a()("newProjectButton",{selected:r});return i.h("div",{key:e,class:l,"data-index":t,"data-oid":e},i.h(o.IconPlus,{class:"iconPlus",circleColor:r?"#fff":"var(--cornflower-blue)",color:r?"var(--cornflower-blue)":"#fff"}),i.h("div",null,i.h("div",null,"New project"),i.h("div",null,"Create a new project and transfer screens")),t===n&&i.h(o.IconSpinner,{color:r?"#fff":"var(--gandalf)",class:"iconSpinner"}))}renderProjectItem(e,t,n,s){const{spinnerIndex:r}=this.props,{selectedIndex:l}=this.state,c=s===l,d=a()("project",{odd:n,selected:c});return i.h("div",{key:e,class:d,title:t,"data-index":s},i.h("span",null,t),s===r&&i.h(o.IconSpinner,{color:c?"#fff":null,class:"iconSpinner"}))}renderItems(){const{items:e}=this.props;let t=0,n=!1;return e.map(e=>{switch(e.type){case"header":return this.renderHeader(e.content);case"create":return n=!1,this.renderProjectButton(e.oid,t++);case"project":return n=!n,this.renderProjectItem(e.pid,e.name,n,t++);default:return null}})}render(){return i.h("div",{ref:Object(l.default)(this,"base"),class:"projectList",onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onClick:this.handleClick},this.renderItems())}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1470);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(4),o=n(541),s=n(1471),r=n(1488);n(1491);function a(){const e=o.isWindowsApp?s.default:r.default;return i.h("div",{class:"noScreens"},i.h(e,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1472);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(542),s=n(547),r=n(1473),a=n(1476),l=n(1479),c=n(1482);function d(e){e.preventDefault(),o.default.shell.openExternal(e.target.href)}class u extends i.Component{constructor(e){super(e),this.state={designTool:"figma"},this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),s.userPrefs.set("noScreensDesignToolSelection",t)}componentDidMount(){s.userPrefs.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}render(){const{designTool:e}=this.state;return i.h(r.default,{designTool:e,onDesignToolChange:this.handleDesignToolChange},i.h(r.default.Tab,{value:"figma",description:"Figma"},i.h(a.default,null)),i.h(r.default.Divider,null),i.h(r.default.Tab,{value:"xd",description:"Adobe XD"},i.h(l.default,null)),i.h(r.default.Divider,null),i.h(r.default.Tab,{value:"photoshop",description:"Photoshop"},i.h(c.default,{onExternalLinkClicked:d})))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1474);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1475);class r extends i.Component{get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{designTool:e,onDesignToolChange:t}=this.props;return this.tabs.map(n=>n?i.cloneElement(n,{onChange:t,designTool:e}):null)}renderActiveTabContent(){const{designTool:e}=this.props,t=this.tabs.find(t=>!!t&&t.props&&t.props.value===e);return t?t.props.children:null}render(){const{designTool:e}=this.props;return i.h("div",{class:s()("noScreensElectron","designToolTabs",e)},i.h("h1",null,"Let’s start by exporting designs."),i.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}r.Tab=function({onChange:e,designTool:t,value:n,description:o}){return i.h("label",null,i.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.h("span",{class:"designToolName"},o))},r.Divider=()=>i.h("div",{class:"designToolDivider"}),t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1477);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(879);n(1478);const s=i.h("ol",{class:"figmaSteps"},i.h("li",null,i.h("div",null,"To get started, install the Zeplin plugin in Figma."),i.h("a",{class:"installPluginButton noSelect",href:"https://www.figma.com/community/plugin/745330164019088593/Zeplin",target:"_blank"},"Install plugin")),i.h("li",null,i.h("div",null,"In your Figma file, right-click anywhere in the canvas and "),i.h("div",null,"select ",i.h("strong",null,"“Plugins > Zeplin”:")),i.h(o.default,{asset:"img/imgFigmaPluginMenuIntegration.png"})),i.h("li",null,i.h("div",null,"Select frames and hit the ",i.h("strong",null,"“Export”")," button:"),i.h(o.default,{asset:"img/imgFigmaPluginMenuExport.png"})));t.default=function(){return i.h("div",{class:"figmaContainer"},i.h(o.default,{class:"figmaToZeplinImage",asset:"img/imgFigmaToZeplin.png"}),s)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1480);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(879),s=n(563);n(1481);const r=i.h("ol",{class:"xdSteps"},i.h("li",null,i.h("div",null,"Select and artboard/layer in your XD file.")),i.h("li",null,i.h("div",null,"Select ",i.h("strong",null,"“Zeplin”")," under ",i.h("strong",null,"“File > Export”"),":"),i.h(o.default,{class:"ssMenuExport",asset:"img/imgXDMenuExport.png"}),i.h("div",{class:"additionalInfo"},i.h("div",{class:"shortcutInfo"},i.h("img",{class:"emoji",src:s.imageUrl("img/emjPointUp@17w.png"),srcset:`${s.imageUrl("img/emjPointUp@34w.png")} 2x, ${s.imageUrl("img/emjPointUp@51w.png")} 3x`}),i.h("div",null,"You can use the shortcut ",i.h("strong",null,"Ctrl+Alt+E"),", on your next export.")),i.h(o.default,{class:"xdShortcut",asset:"img/icXDShortcut.png"}))));t.default=function(){return i.h("div",{class:"xdContainer"},i.h(o.default,{class:"xdToZeplinImage",asset:"img/imgXdToZeplin.png"}),r)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1483);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1484),s=n(563);n(1487);const r=[i.h("img",{class:"psLogo",src:s.imageUrl("img/icLogoPSNew.png"),srcset:s.srcset(s.imageUrl("img/icLogoPSNew.png"))}),i.h("img",{class:"psToZeplinLogo",src:s.imageUrl("img/icDashboardPSToZeplin.svg")})];function a({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("ol",{class:"photoshopSteps"},i.h("li",null,i.h("div",null,i.h("div",null,"Open your Photoshop file"))),i.h("li",null,i.h("div",null,"Select artboards (or layers in artboards) and click:"),i.h("img",{class:"ssDashboardEmpty",src:s.imageUrl("img/ss/ssDashboardEmpty.png"),srcset:s.srcset(s.imageUrl("img/ss/ssDashboardEmpty.png"))}),t?i.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.default=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.h("div",{class:"photoshopContainer"},i.h(o.default,{images:r,withMargin:n}),i.h(a,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";n.r(t);var i=n(1485);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(563),s=n(718),r=n.n(s);n(1486);t.default=function({images:e,withMargin:t}){return i.h("div",{class:r()("toolToZeplin",{withMargin:t})},e,i.h("img",{class:"zeplinLogo",src:Object(o.imageUrl)("img/icZeplin.svg")}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1489);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1490);function o(){return i.h("div",{class:"noScreensWebApp"},i.h("h1",null,"Here, you’ll see a list of screens after the designs are uploaded from Sketch, Adobe XD, Figma or Photoshop CC."),i.h("div",{class:"screenSilhouettes"},i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"})),i.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.h("span",{class:"downloadApp"},", if you are a designer you can ",i.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.h("br",null),i.h("br",null),"To learn more about how to export from ",i.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1493);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(559),s=n(540),r=n(737),a=n(1050),l=n(718),c=n.n(l);n(1494);class d extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(s.cmdKey)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebURL(e){e.stopPropagation(),this.props.onCopyWebURL(this.props.tag),mixpanel.master.track("Copied web link",{Target:"Tag"})}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag),mixpanel.master.track("Copied app URI",{Target:"Tag"})}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){const{canCreateSectionFromTag:e}=this.props,{contextMenu:t}=this.state;return i.h(a.default.withAutoPosition,{class:"tagContextMenu",onMouseDown:o.stopPropagation,autoPosition:{limitingElement:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleCloseContextMenu},e&&i.h(a.default.Item,{onClick:this.handleConvertToSection},"Convert to section"),e&&i.h(a.default.ItemDivider,{key:"copyDivider"}),i.h(a.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(a.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(a.default.ItemDivider,{key:"downloadDivider"}),i.h(a.default.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.h(a.default.ItemDivider,{key:"warningDivider"}),i.h(a.default.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:o}=this.props,{contextMenu:s}=this.state,a=c()("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:o,contextMenuOpen:!!s});return i.h("button",{ref:Object(r.default)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:a},i.h("div",{class:"tagName ellipsis"},t?"Untagged":e),s&&this.renderTagContextMenu())}}t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1497);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(1498),r=n(681),a=n(682),l=n(582),c=n.n(l),d=n(845),u=n.n(d),p=n(556),h=n(574),f=n.n(h),g=n(544),m=n(559);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class C extends o.default{static getExtensionState(){const{loading:e,extensions:t,enabledExtensions:n}=c.a.ExtensionsStore.getState();if(e)return{loadingExtensions:!0};const i=t.filter(({id:e})=>n.includes(e)).map(({name:e})=>e);return{loadingExtensions:!1,extensionTitles:i.length?Object(m.formatList)(i):"No extensions yet."}}static calculateState(){const e=c.a.BarrelStore.getState(),{loading:t,barrelType:n,barrelId:i}=e,o=v(e,["loading","barrelType","barrelId"]);if(t)return{loading:t};const s=r.default.findUser(),l=r.default.getBarrel(),{loadingSelectParent:d}=c.a.StyleguidesDataStore.getState(),{organizationId:u}=o,h=a.default.getOrganizationStyleguides(u)||[],m=Object(p.urlResolve)(n,{url:{bid:i}}),b=n===f.a.PROJECT?"pid":"stid",y=`${g.ZPL_PROTOCOL}//${n}?${b}=${i}`;let O;return l.public&&(O=Object(p.urlResolve)(n,{origin:g.SCENE_URL,url:{bid:i}})),S(S(S({loading:t,barrelType:n,barrelUser:s,webURL:m,sceneURL:O,appURI:y},o),C.getExtensionState()),{},{loadingSelectParent:d,currentOrganizationStyleguides:h,barrel:l})}static getStores(){return[c.a.BarrelStore,c.a.ProjectsDataStore,c.a.StyleguidesDataStore,c.a.ExtensionsStore,c.a.OrganizationStore,c.a.UserStore]}render(){const{width:e,onRelease:t}=this.props,{loading:n,organizationId:o,barrel:r,barrelType:a,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:p,extensionTitles:h,loadingSelectParent:f,currentOrganizationStyleguides:g}=this.state;return n?i.h(s.default.Loading,null):i.h(s.default,{width:e,onRelease:t,organizationId:o,barrel:r,barrelType:a,barrelUser:l,webURL:c,sceneURL:d,appURI:u,loadingExtensions:p,extensionTitles:h,loadingSelectParent:f,currentOrganizationStyleguides:g})}}const O=u()(C,{withProps:!0,pure:!1});t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(1499);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(1135),r=n.n(s),a=n(1500),l=n(559),c=n(718),d=n.n(c),u=n(1096),p=n(737),h=n(1505),f=n(574),g=n.n(f),m=n(947),b=n(696),S=n(1385),y=n(1506),v=n(1507),C=n(1510),O=n(1513),E=n.n(O),T=n(1092),_=n(1519),P=n(1535),D=n(1523),I=n(1526),j=n(1538),k=n(723),R=n(1550),A=n(1553),w=n(1561),N=n.n(w),L=n(735),M=n(1570),x=n(1573),U=n(1580),B=n(697),V=n(543),z=n(942),F=n(771);n(1583);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class H extends o.default{constructor(...e){super(...e),G(this,"state",{shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}),G(this,"openMembersDialog",()=>{this.setState({membersDialogOpen:!0})}),G(this,"closeMembersDialog",()=>{this.setState({membersDialogOpen:!1})}),G(this,"openDensityDialog",()=>{this.setState({densityDialogOpen:!0})}),G(this,"closeDensityDialog",()=>{this.setState({densityDialogOpen:!1})}),G(this,"setInvitePopupAnchorPosition",()=>{const{inviteButton:e}=this.nodeRefs,t=a.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;a.anchor.classList.toggle("hidden",t.bottom<n.bottom)||(a.anchor.style.top=i+"px")}),G(this,"setInvitePopupPosition",Object(l.debounce)(()=>{a.element.style.transform="";const{inviteButton:e}=this.nodeRefs,t=a.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,o=n.top-i,s=n.bottom+n.height+i;let r;r=o>108&&s<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-r,12)-60;a.element.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()})),G(this,"openSelectParentDialog",e=>{const{currentOrganizationStyleguides:t}=this.props,n=t.find(t=>t._id===e);this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})}),G(this,"closeSelectParentDialog",()=>{this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})}),G(this,"openRemoveParentDialog",()=>{this.setState({removeParentDialogOpen:!0})}),G(this,"closeRemoveParentDialog",()=>{this.setState({removeParentDialogOpen:!1})}),G(this,"toggleInvitePopup",e=>{e.stopPropagation(),a.isHidden()?this.openInvitePopup():this.closeInvitePopup()}),G(this,"handleRename",e=>{if(e===this.props.barrel.name)return;const{barrel:{id:t},barrelType:n}=this.props;b.default.updateName({bid:t,barrelType:n,name:e,syncWithApi:!0})}),G(this,"handleDensityScaleChange",e=>{if(e===this.props.densityScale)return;const{barrel:{id:t},barrelType:n}=this.props;b.default.updateDensityScale({bid:t,barrelType:n,densityScale:e,syncWithApi:!0})}),G(this,"handleRemoveIntegration",(e,t)=>{b.default.removeIntegration({intype:e,inid:t,syncWithApi:!0})}),G(this,"handleShareContentOpen",()=>{this.setState({shareContentOpen:!0})}),G(this,"handleShareContentClose",()=>{this.setState({shareContentOpen:!1})}),G(this,"handleDescriptionSubmit",e=>{if(e===this.props.barrel.description)return;const{barrel:{id:t},barrelType:n}=this.props;b.default.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),G(this,"handleMemberClick",e=>{this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})}),G(this,"handleAddMembers",e=>{b.default.addMembers({members:e.detail.users,syncWithApi:!0})}),G(this,"handleRemoveMember",({user:{_id:e}})=>{b.default.removeMember({mid:e,syncWithApi:!0})}),G(this,"handleAssignAdmin",({user:{_id:e}})=>{b.default.updateUserRole({uid:e,role:"admin",syncWithApi:!0})}),G(this,"handleUnassignAdmin",({user:{_id:e}})=>{b.default.updateUserRole({uid:e,role:"user",syncWithApi:!0})}),G(this,"handleTransferOwnership",({user:{_id:e}})=>{b.default.transferOwnership({uid:e,syncWithApi:!0})}),G(this,"handleSelectParent",()=>{const{barrel:{id:e}}=this.props,{selectedParentStyleguide:t}=this.state;this.closeSelectParentDialog(),S.default.selectParentRequest({stid:e,parent:t._id,syncWithApi:!0})}),G(this,"handleRemoveParent",()=>{const{barrel:{id:e,parent:t}}=this.props;this.closeRemoveParentDialog(),S.default.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),G(this,"handleShowPlanChooserOverlay",()=>{Object(m.showPlanChooserOverlay)({source:"Members dialog"})})}get isOrganizationProject(){const{barrel:e}=this.props;return Object(l.isOrganizationProject)(e)}get canUpdateBarrel(){const{barrelUser:e}=this.props;return l.permissions.canUpdateProject(e)}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrel:e,barrelType:t,organizationId:n}=this.props,{id:i,users:o}=e,{sidebar:s}=this.nodeRefs;a.show({bt:t,popupContainer:s,bid:i,members:o,oid:n,onDismiss:e=>{this.setInvitePopupState(!1)},onUsersFetched:this.setInvitePopupPosition}),this.setInvitePopupPosition(),s.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),s.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Sidebar"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),a.dismiss(),this.setInvitePopupState(!1)}componentWillUnmount(){this.closeInvitePopup()}renderSelectParentDialog(){const{barrel:e}=this.props,{selectedParentStyleguide:t}=this.state,{name:n,type:o,parent:s}=e,{name:r,type:a}=t,l=o===a||a===V.PLATFORM.BASE,c=s?"Change":"Select",d=s?"to":"as",u=`“${n}”`+(l?"":` (${V.PlatformString[o]})`),p=`“${r}”`+(l?"":` (${V.PlatformString[a]})`);return i.h(z.BasicOverlayDialog,{title:`${c} parent styleguide of ${u} ${d} ${p}?`,message:"Styleguide parent can be changed later.",positiveButtonText:`${s?"CHANGE":"SELECT"}${l?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{barrel:e}=this.props;return i.h(z.BasicOverlayDialog,{message:`Remove parent styleguide of “${e.name}”?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e}=this.props,t=this.canUpdateBarrel?"Update project density.":Object(u.default)(e.role,"update project density"),n=!this.canUpdateBarrel;return i.h(T.default,{content:t},i.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:n},i.h(F.IconEdit,{color:n?"#C1BEC1":"#554D56"})))}renderName(){const{barrel:e,barrelUser:t,barrelType:n}=this.props,{name:o}=e,s=i.h(C.default,{readonly:!this.canUpdateBarrel,onBlur:this.handleRename,value:o});return this.canUpdateBarrel?s:i.h(T.default,{content:Object(u.default)(t.role,`rename ${n}s`)},s)}renderDensityAndType(){const{barrel:e}=this.props,{type:t,densityScale:n}=e;return i.h("div",{class:"densityAndType"},i.h("div",{class:"info"},Object(l.getPlatformString)(t),", ",Object(l.getDensityScaleRepresentation)(t,n)),this.renderDensityChangeAction())}renderShareButton(){const{shareContentOpen:e}=this.state,{barrelUser:t,barrelType:n,webURL:o,sceneURL:s,appURI:r}=this.props,a=l.permissions.canChangeProjectAccesibility(t);return i.h(N.a,{popoverOpen:e,onPopoverOpen:this.handleShareContentOpen,onPopoverClose:this.handleShareContentClose,barrelType:n,webURL:o,sceneURL:s,appURI:r,onEnableScene:b.default.enableScene,onUnshare:b.default.unshareScene,canUserChangeBarrelAccesibility:a})}renderDescription(){const{barrel:e,barrelType:t}=this.props,{description:n}=e;return t===g.a.STYLEGUIDE?null:[i.h(D.default,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.h(j.default,{class:"descriptionTextArea",value:n,placeholder:this.canUpdateBarrel?"Got any notes?":"No description yet",color:"cornflowerBlue",readOnly:!this.canUpdateBarrel,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:h.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(P.default,{key:"descriptionSeparator"})]}renderMembers(){const{barrel:e,barrelUser:t,barrelType:n,organizationId:o}=this.props,{membersDialogOpen:s}=this.state,{id:r,name:a,users:l}=e;let c=null;if(s){const e=this.highlightedMemberId;this.highlightedMemberId=null,c=i.h(L.default,null,i.h(A.default,{key:"membersDialog",members:l,barrelUser:t,barrelType:n,barrelId:r,barrelName:a,isOrganizationProject:this.isOrganizationProject,organizationId:o,highlight:e,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog,onUpgrade:this.handleShowPlanChooserOverlay}))}return i.h(i.Fragment,null,i.h(D.default,{title:"Members",button:i.h(I.default,{onClick:this.openMembersDialog})}),i.h("div",{class:"inviteButtonContainer"},i.h(k.default,{secondary:!0,class:"inviteButton",baseRef:Object(p.default)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite")),i.h(R.default,{members:l,barrelUser:t,onMemberClick:this.handleMemberClick}),c)}renderDensityDialog(){const{barrel:e}=this.props,{densityDialogOpen:t}=this.state,{type:n,densityScale:o}=e;return t?"base"===n?i.h(x.default,{selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.h(M.default,{type:n,selectedValue:o,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):null}renderParentStyleguides(){const{barrel:e,barrelType:t,barrelUser:n,loadingSelectParent:o,currentOrganizationStyleguides:s}=this.props,{id:r,users:a,ancestors:l,parent:c}=e;if(t===g.a.PROJECT)return null;const d=Object(B.getSelectableParentStyleguides)({isOrganizationStyleguide:this.isOrganizationProject,currentStyleguides:s,currentUser:n,id:r,parentId:c,users:a}),u=function(e,t){return e.map(e=>{const n=t.find(t=>t._id===e);return n?n.name:null}).filter(Boolean).reverse()}(l,s);return i.h(U.default,{barrelUser:n,selectableStyleguides:d,parentNames:u,isOrganization:this.isOrganizationProject,loading:o,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{width:e,hover:t,onRelease:n,barrel:o,loadingExtensions:s,extensionTitles:r}=this.props,{shareContentOpen:a,invitePopupOpen:l,selectParentDialogOpen:c,removeParentDialogOpen:u}=this.state,{id:h}=o;return i.h(v.default,{class:d()("barrelSidebar",{shareContentOpen:a,invitePopupOpen:l}),minWidth:260,initialWidth:e,baseRef:Object(p.default)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:n},this.renderName(),i.h(E.a,null),this.renderDensityAndType(),this.renderShareButton(),i.h(P.default,null),this.renderDescription(),this.renderParentStyleguides(),i.h(_.default,{barrelId:h,showConfigurationButtons:t}),i.h(P.default,null),i.h(D.default,{title:"Extensions",button:i.h(I.default,{onClick:y.default.openSettings,disabled:s})}),i.h("div",{class:"extensionsContainer"},i.h("div",{class:"extensions ellipsis",title:r},r)),i.h(P.default,null),this.renderMembers(),this.renderDensityDialog(),c&&this.renderSelectParentDialog(),u&&this.renderRemoveParentDialog())}}H.defaultProps={loadingExtensions:!0,extensionTitles:"…"};const $=r()(H),q=e=>i.h($,W({},e,{ignoreOverlays:!1}));q.Loading=v.default.Loading,t.default=q},function(e,t,n){"use strict";n.r(t),n.d(t,"element",(function(){return m})),n.d(t,"anchor",(function(){return y})),n.d(t,"show",(function(){return Ee})),n.d(t,"dismiss",(function(){return Pe})),n.d(t,"isHidden",(function(){return De})),n.d(t,"removeUser",(function(){return ve})),n.d(t,"handleInviteUserSocketForInvitePopup",(function(){return ye})),n.d(t,"handleInvitedSocketForInvitePopup",(function(){return Se})),n.d(t,"handleCreateUserSocketForInvitePopup",(function(){return Ce})),n.d(t,"handleDeleteUserSocketForInvitePopup",(function(){return Oe}));n(1501);var i=n(555),o=n(559),s=n(558),r=n(571),a=n(575),l=n(682),c=n(549),d=n(712),u=n(560),p=n(1502),h=n.n(p),f=n(1113);const g=new Set,m=document.getElementById("inviteUserPopup"),b=document.getElementById("inviteUserPopupContent"),S=document.getElementById("invitePopupLoading"),y=document.getElementById("inviteUserPopupAnchor"),v=document.getElementById("inviteeHandle"),C=m.querySelector(".userList"),O=document.getElementById("inviteeTemplate"),E=document.getElementById("inviteNewUserTemplate"),T=document.getElementById("typedUserAlreadyAddedTemplate"),_=document.getElementById("inviteByTagTemplate"),P=document.querySelector(".organizationInviteeList"),D=document.querySelector(".tagList"),I=document.querySelector(".showRemainingTags"),j=document.querySelector(".memberList"),k=document.querySelector(".membersWithTagHeader"),R=document.querySelector(".membersWithTagList"),A=new d.default(f.default,m),w=new d.default(h.a,S);let N,L,M,x,U,B,V,z,F={},W=[],G={},H=new Set,$=new Set,q=new Set,Z=null,K=!0;function Y(e){if(e.classList.contains("newUser")){if(!v.checkValidity()&&!/^\w{3,30}$/.test(v.value))return Object(s.wiggle)(v.parentElement),void(K=!0);m.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))fe(v.value,e);else if(e.classList.contains("user")){var t=W.find((function(t){return t._id===e.dataset.uid}));fe(t.username||t.email,e)}else if(e.classList.contains("member")){var n=G.members.find((function(t){return t.user._id===e.dataset.mid}));fe(n.user.username||n.user.email,e)}else e.classList.contains("inviteByTag")&&(o=e.dataset.tag,a=e,r[L].inviteUsersByTag(G._id,M,o).then((function(e){ge(e,a)})).catch((function(){a.classList.remove("inviteSpinner"),a.classList.add("inviteRetry"),i.create({done:{cb(){Object(s.highlightInput)(v),K=!0}}})})));var o,a}function J(){m.classList.contains("organizationBarrel")?ie():oe()}function X(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function Q(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach((function(t){t.classList.remove("hidden","selected"),e.appendChild(t)}))}function ee(e){return D.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function te(e){return j.querySelector("[data-mid='"+e.user._id+"']")}function ne(e,t,n,i){t.forEach((function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)}));for(var o=0;o<e.childElementCount-t.length;o++){var s=e.children[o];s.classList.add("hidden"),s.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function ie(){re(".memberList .newUser"),re(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=v.value.toLowerCase();if(m.classList.remove("noNewInvitees","noInvitees"),P.classList.remove("noTags","noMembers","hasMembersWithTag","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),R.innerHTML="",v.placeholder="Invite with email/username",n){e=!!(t=$.has(n))||H.has(n);var i=Object.keys(F);i.sort();var o={},s=i.filter((function(e){var t=X(e.toLowerCase(),n);return!!t&&(o[e]=t,!0)})).sort((function(e,t){return o[t]-o[e]}));ne(D,s,ee,"noTags");var r=function(e,t,n){var i={};if(!e)return[];var o=e.filter((function(e){if(q.has(e.user._id)){var o=n(e);if(!o)return!1;if(!o.classList.contains("inviteDone"))return!1}var s=0;return e.user.username&&(s+=X(e.user.username,t)),e.user.fullName&&(s+=X(e.user.fullName,t)),!!(s+=X(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=s,!0)}));return o.sort((function(e,t){return i[t.user._id]-i[e.user._id]})),o}(G.members,n,te);ne(j,r,te,"noMembers");var a=ee(s[0]);if(P.classList.toggle("hasMembersWithTag",1===s.length&&(F[s[0]]>0||a&&a.classList.contains("inviteDone")))&&(k.textContent=s[0],R.innerHTML="",G.members.forEach((function(e){var t=te(e);if((!q.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(s[0])){var n=le(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),R.appendChild(n)}}))),e||n.includes("@")){if(!e){P.classList.add("showAddsToTheBarrelOnlyInfo");const e=document.importNode(E.content,!0);e.querySelector(".invitee").classList.add("member"),e.querySelector(".newUserHandle").textContent=v.value,j.appendChild(e)}}else P.classList.add("writeAnEmailToInvite");if(t&&!P.querySelector(".invitee.inviteDone")){var l=document.importNode(T.content,!0);l.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),l.querySelector("span").textContent=v.value,P.appendChild(l)}}else{if(Q(D,"noTags"),I.textContent){var c=Array.from(D.querySelectorAll(".inviteByTag")).map((function(e){return e.dataset.tag}));c.sort(),c.forEach((function(e){var t=ee(e);D.appendChild(t)}));for(var d=D.firstElementChild,u=3;u<D.childElementCount;u++){var p=D.children[u];p.classList.add("hidden"),D.insertBefore(p,d)}D.childElementCount-3>0?(I.textContent=D.childElementCount-3,I.classList.toggle("multiple",D.childElementCount-3>1)):I.textContent=""}Q(j,"noMembers")}var h=P.querySelectorAll(".invitee:not(.hidden)");if(h.length)h[0].classList.add("selected");else if(!t&&!P.classList.contains("writeAnEmailToInvite")){0===(G.members||[]).filter(e=>!q.has(e.user._id)).length&&x.length>1?m.classList.add("noNewInvitees"):1===x.length&&(m.classList.add("noInvitees"),v.placeholder="Invite with email")}}function oe(){re(".userList .user.newUser"),re(".userList .userListTypedUserAlreadyAdded"),C.classList.remove("writeAnEmailToInvite"),v.placeholder="Invite with email/username";var e,t,n=v.value.toLowerCase(),i=document.importNode(T.content,!0);if(n){e=!!(t=$.has(n))||g.has(n);var o={},s=W.filter((function(e){var t=0;return e.username&&(t+=X(e.username,n)),(t+=X(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(o[e._id]=t,!0)})).sort((function(e,t){return o[t._id]-o[e._id]}));s.forEach((function(e){var t=se(e._id);t.classList.remove("hidden","selected"),C.appendChild(t)}));for(var r=0;r<W.length-s.length;r++){var a=C.children[r].classList;a.add("hidden"),a.remove("selected")}}else W.forEach((function(e){var t=se(e._id);t.classList.remove("hidden","selected"),C.appendChild(t)}));if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(E.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".newUserHandle").textContent=v.value,C.appendChild(l)}}else C.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=v.value,C.appendChild(i))}m.classList.remove("noInvitees"),m.classList.remove("noNewInvitees");var c=C.querySelectorAll(".user:not(.hidden)");c.length?c[0].classList.add("selected"):t||C.classList.contains("writeAnEmailToInvite")||(Z.length?m.classList.add("noNewInvitees"):(m.classList.add("noInvitees"),v.placeholder="Invite with email"))}function se(e){return C.querySelector(".invitee[data-uid='"+e+"']")}function re(e){var t=document.querySelector(e);t&&t.remove()}function ae(e,t,n){var i=document.importNode(_.content,!0),o=i.querySelector(".inviteByTag"),s=i.querySelector(".tagName"),r=i.querySelector(".memberCount");return o.classList.toggle("hidden",!!n),o.dataset.tag=e,s.textContent=e,s.title=e,r.textContent=t+(t>1?" members":" member"),i}function le(e){var t=document.importNode(O.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),o=t.querySelector(".username"),r=t.querySelector(".email"),a=t.querySelector(".organizationTags");if(n.classList.add("member"),n.dataset.mid=e.user._id,Object(s.setAvatar)(i,e.user),e.user.username){const t=Object(c.getUserDisplayName)(e.user);o.textContent=t,o.title=t,r.textContent=e.user.email,r.title=e.user.email}else o.textContent=e.user.email,o.title=e.user.email,r.textContent="Pending Invitation";var l=e.tags?e.tags.join(", "):"";return a.textContent=l,a.title=l,i.addEventListener("mouseenter",t=>de(t,e.user._id)),i.addEventListener("mouseleave",ue),o.addEventListener("mouseenter",t=>de(t,e.user._id,!1)),o.addEventListener("mouseleave",ue),t}function ce(e,t){var n=document.importNode(O.content,!0),i=n.querySelector(".invitee"),o=n.querySelector(".userImage"),r=n.querySelector(".username"),a=n.querySelector(".inviteExtraInfo"),l=Object(c.getUserDisplayName)(e)||e.email;(i.classList.add("user"),Object(s.setAvatar)(o,e),i.dataset.uid=e._id,r.textContent=l,r.title=l,e.username)?n.querySelector(".email").textContent=e.email:a.textContent="Pending invitation";return t&&i.classList.add("hidden"),o.addEventListener("mouseenter",t=>de(t,e._id)),o.addEventListener("mouseleave",ue),r.addEventListener("mouseenter",t=>de(t,e._id,!1)),r.addEventListener("mouseleave",ue),n}function de(e,t,n=!0){ue(),z=setTimeout(()=>{A.render({targetNode:e.target,userId:t,openToLeft:n,open:!0,contentClass:"invitePopupUserProfileCardPopoverContainerContent"});const i=document.querySelector(".invitePopupUserProfileCardPopoverContainerContent");i&&(i.addEventListener("mouseenter",()=>clearTimeout(z)),i.addEventListener("mouseleave",ue))},300)}function ue(){clearTimeout(z),z=setTimeout(()=>{A.remove()},100)}function pe(e){if(!Z)return;Z.find(({_id:t})=>t===e._id)||(Z.push(e),e.username&&g.add(e.username),g.add(e.email))}function he(e){q.add(e._id),e.username&&$.add(e.username),$.add(e.email)}function fe(e,t){r[L].inviteUser(M,e).then((function(e){ge(e,t)})).catch((function(e){m.querySelector(".inputArea img").classList.add("hidden"),De()||t.classList.contains("newUser")?(K=!1,a.handleError(e,{dialogCallback(){Object(s.highlightInput)(v),K=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)})).catch((function(){i.create({done:{cb(){Object(s.highlightInput)(v),K=!0}}})}))}function ge(e,t){Object(s.highlightInput)(v),m.querySelector(".inputArea img").classList.add("hidden");const n=e.users||[e];(B&&B(n),n.forEach(({user:e})=>{he(e),t.classList.contains("user")&&pe(e)}),N&&N.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),m.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach((function(e){if(G.members){var t=G.members.find((function(t){return t.user._id===e.user._id}));t&&t.tags.forEach((function(e){F[e]-=1}))}})),Object.keys(F).forEach((function(e){var t=F[e],n=ee(e);n&&(0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=Object(u.pluralize)(t,"member"))})));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach((function(e){Array.from(P.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach((function(e){e.classList.add("inviteDone")}))})),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){W.push(e.user);var i=ce(e.user);i.querySelector(".user").classList.add("inviteDone"),C.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),be(i)}else{H.add(e.user.email);var o=le(e);o.querySelector(".member").classList.add("inviteDone"),o.querySelector(".member.selected")||o.querySelector(".member").classList.add("selected"),j.appendChild(o)}}function me(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach((function(e){e.remove()}))}function be(e){C.lastElementChild&&C.lastElementChild.classList.contains("user")?C.appendChild(e):C.insertBefore(e,C.lastElementChild)}function Se(e){e.forEach((function(e){(pe(e.user),N&&!q.has(e.user._id))&&(W.some((function(t){return t._id===e.user._id}))||(W.push(e.user),be(ce(e.user))))})),De()||J()}function ye(e,t){(pe(t),M===e)?(he(t),o.arrayRemove(W,e=>e._id===t._id)):W.some(e=>e._id===t._id)||W.push(t);var n,i=v.value;if(n=m.classList.contains("organizationBarrel")?te(t):se(t.user._id),M===e&&n){if(n.classList.contains("selected")&&C.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!C.querySelector(".user:not(.hidden)")){var s=document.importNode(T.content,!0);s.querySelector(".userListTypedUserAlreadyAdded").classList.add(v.value===Zeplin.user.username||v.value===Zeplin.user.email?"selfUser":"someUser"),s.querySelector("span").textContent=v.value,C.appendChild(s)}}else M!==e&&(n?n.classList.contains("newUser")&&(C.appendChild(ce(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):be(ce(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))));C.length||m.classList.add("noNewInvitees","noInvitees")}function ve(e,t){var n,i,o,s,r;if(M===e)if(m.classList.contains("organizationBarrel")){let e,l;const c=G.members.find(e=>e.user._id===t);if(c){e=c,l=te(c),c.tags.forEach(e=>{F[e]?F[e]+=1:F[e]=1;var t=ee(e);if(t)t.querySelector(".memberCount").textContent=F[e]+(F[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=ae(e,F[e]);n.querySelector(".invitee").classList.toggle("hidden",!!v.value&&!e.includes(v.value))?D.appendChild(n):D.insertBefore(ae(e,F[e]),D.querySelector(".invitee:not(.hidden)"))}}),$.delete(e.user.username),$.delete(e.user.email);var a=P.querySelector(".userListTypedUserAlreadyAdded");v.value===e.user.username&&a&&a.remove()}q.delete(t),l?l.classList.remove("inviteDone"):c&&(n=j,o="noMembers",s=le(i=c),r=!(!v.value||i.user.username&&i.user.username.includes(v.value)||i.user.email.includes(v.value)),s.querySelector(".invitee").classList.toggle("hidden",r),r?n.append(s):(n.insertBefore(s,n.querySelector(".invitee:not(.hidden)")),n.parentElement.classList.remove(o)),m.classList.remove("noNewInvitees","noInvitees"))}else if(Z){var l=Z.find(e=>e._id===t);!function(e){q.delete(e._id),e.username&&($.delete(e.username),g.add(e.username)),$.delete(e.email),g.add(e.email),W.some((function(t){return t._id===e._id}))||W.push(e)}(l);var c=v.value,d=se(l._id);d?d.classList.remove("inviteDone"):be(ce(l,c&&!(l.username&&l.username.includes(c))&&!l.email.includes(c)))}}function Ce(e){if(!Z)return;const t=Z.find(({_id:t})=>t===e._id);if(t&&(Object.assign(t,e),N)){var n=se(e._id);n&&(n.querySelector(".username").textContent=Object(c.getUserDisplayName)(e),n.querySelector(".inviteExtraInfo").textContent="")}}function Oe(e){if(!Z)return;const t=o.arrayRemove(Z,({_id:t})=>t===e);if(t){!function(e){q.delete(e._id),e.username&&($.delete(e.username),g.delete(e.username)),$.delete(e.email),g.delete(e.email),o.arrayRemove(W,(function(t){return t._id===e._id}))}(t);var n=se(t._id);n&&(C.removeChild(n),n.classList.contains("selected")&&C.querySelector(".user:not(.hidden)")&&C.querySelector(".user:not(.hidden)").classList.add("selected"))}}async function Ee({bt:e,popupContainer:t,bid:n,members:i,oid:s,onInvite:a,onDismiss:c,onUsersFetched:d}){const u=s&&"user"!==s;L=e,m.classList.toggle("organizationBarrel",u),V=c,B=a,N=t,t.appendChild(m),m.classList.remove("hidden"),Z||(v.disabled=!0,w.render(),await async function(){if(!Z)try{const{acquaintances:e}=await r.getUserAcquaintances();Z=e}catch(e){}}(),w.remove(),v.disabled=!1,d&&setTimeout(d)),b.classList.remove("hidden"),u?(G=l.default.getOrganization(s),F=function(e){const t={};return e.forEach(e=>{e.tags.forEach(e=>{t[e]?t[e]+=1:t[e]=1})}),t}(G.members),function(e,t,n){if(t!==M){Te(),$=new Set,q=new Set,H=new Set,M=t,x=n,x.forEach((function(e){he(e.user)})),G.members&&G.members.forEach((function(e){q.has(e.user._id)?e.tags.forEach((function(e){F[e]>0&&(F[e]-=1,0===F[e]&&delete F[e])})):(H.add(e.user.username).add(e.user.email),j.appendChild(le(e)))})),P.classList.toggle("noMembers",!j.childElementCount);var i=Object.keys(F);i.sort(),i.forEach((function(e){D.appendChild(ae(e,F[e],!1))}));var o=i.length-3;o>0&&(I.textContent=o,I.classList.toggle("multiple",o>1)),P.classList.toggle("noTags",!i.length)}else Object.keys(F).forEach((function(e){0===F[e]&&delete F[e]})),U&&new Date-U>1e4&&(I.textContent=Object.keys(F).length-3,I.classList.toggle("multiple",Object.keys(F).length-3>1)),me(D),me(j);U=0,e.getBoundingClientRect().right+80>window.innerWidth&&m.classList.add("left");ie(),P.scrollTop=0,v.focus()}(t,n,i)):function(e,t,n){t!==M?(Te(),W=[],$=new Set,q=new Set,M=t,x=n,x.forEach((function(e){he(e.user)})),Z.forEach((function(e){q.has(e._id)||(W.push(e),e.username&&g.add(e.username),g.add(e.email))})),W.forEach((function(e){C.appendChild(ce(e))}))):(me(C),q.forEach((function(e){o.arrayRemove(W,(function(t){return t._id===e}))})));e.getBoundingClientRect().right+80>window.innerWidth&&m.classList.add("left");oe(),C.scrollTop=0,v.focus()}(t,n,i),document.addEventListener("click",e=>{if(!A.isRendered()&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&!De()){m.contains(e.target)||Pe()}},!0)}function Te(){C.innerHTML="",D.innerHTML="",I.textContent="",j.innerHTML=""}function _e(){Z&&(v.value="",v.dispatchEvent(new Event("input")))}function Pe(){document.removeEventListener("click",Pe),N=null,m.classList.add("hidden"),m.classList.remove("left"),m.querySelector(".inputArea img").classList.add("hidden"),_e(),A.remove(),U||(U=new Date),V&&V(),document.body.append(m)}function De(){return m.classList.contains("hidden")}!function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),Y(t))}}let t,n;v.addEventListener("input",(function(){v.parentElement.classList.toggle("typed",!!v.value),K=!0,J(),N&&N.dispatchEvent(new CustomEvent("listRefreshed"))})),m.addEventListener("click",(function(e){e.stopPropagation()})),m.addEventListener("contextmenu",(function(e){e.stopPropagation()})),C.addEventListener("click",e),P.addEventListener("click",e),m.addEventListener("mouseenter",(function(e){t=e.clientX,n=e.clientY})),m.addEventListener("mousemove",(function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=m.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}})),document.addEventListener("keydown",(function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(De())break;if(e.stopImmediatePropagation(),A.isRendered()){A.remove();break}if(v.value){_e();break}Pe();break;case Zeplin.KEY_CODE.ENTER:{if(De()||!K)break;const e=m.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;K=!1,Y(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(De())break;K=!0,e.preventDefault(),function(e){m.classList.contains("organizationBarrel")?function(e){var t=P.querySelector(".invitee.selected");if(!t){var n=P.querySelector(".invitee:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(s.scrollIfNecessary)(n,{container:P})))}var i,o=Array.from(P.querySelectorAll(".invitee:not(.hidden)")),r=o.findIndex((function(e){return e.classList.contains("selected")}));i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?r-1:r+1;if(i>-1&&i<o.length){var a=o[i];t.classList.remove("selected"),a.classList.add("selected"),Object(s.scrollIfNecessary)(a,{container:P})}}(e):function(e){var t=C.querySelector(".selected");if(!t){var n=C.querySelector(".user:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(s.scrollIfNecessary)(n)))}var i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;i&&i.classList.contains("user")&&!i.classList.contains("hidden")&&(t.classList.remove("selected"),i.classList.add("selected"),Object(s.scrollIfNecessary)(i))}(e)}(e)}})),I.addEventListener("click",(function(e){e.stopPropagation(),I.textContent="",Array.from(D.querySelectorAll(".inviteByTag.hidden")).forEach((function(e){e.classList.remove("hidden"),D.appendChild(e)}))}))}()},function(e,t,n){"use strict";n.r(t),n.d(t,"registerInput",(function(){return o}));var i=n(558);function o(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let o=t;e.addEventListener("input",(function(){if(e.value){if(Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")>e.clientWidth&&o>n;)o-=.2;else if(Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t)for(;Object(i.getTextWidth)(e.value,o+"px Roboto")<=e.clientWidth&&o<t;)o+=.2}else o=t;e.style.fontSize=o+"px"}))}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(o)}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1503);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1504);t.default=function(){return i.h("div",{class:"invitePopupLoading"},i.h("div",{class:"title breathe"}),Array.from({length:3},()=>i.h("div",{class:"item"},i.h("div",{class:"avatar breathe"}),i.h("div",null,i.h("div",{class:"username breathe"}),i.h("div",{class:"email breathe"})))))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"formatTextArea",(function(){return v})),n.d(t,"formatComment",(function(){return C}));var i=n(208),o=n.n(i),s=n(559),r=n(718),a=n.n(r),l=n(556),c=n(1122),d=n(544),u=n(681),p=n(582),h=n.n(p),f=n(543);function g(e){const t=function(e){const t=new URL(e),n=t.origin===location.origin,i=t.protocol===d.ZPL_PROTOCOL;if(!n&&!i)return;const o={query:{}};if(t.hash||i){const e=(i?t.search||t.href.substring(t.href.indexOf("?")):t.hash).replace(/&amp;/g,"&").substring(1),s=Object(l.parseUrlParams)(e);if(!("pid"in s))return;return o.url={pid:s.pid[0]},"sid"in s?(o.url.sid=s.sid[0],"vid"in s&&(o.url.vid=s.vid[0])):n&&"styleguide"in s||i&&(t.pathname.startsWith("//styleguide")||t.pathname.startsWith("//guideline"))?o.subpage=f.ProjectViewTypes.STYLEGUIDE:o.subpage=f.ProjectViewTypes.DASHBOARD,o}const s=Object(l.parseUrlPath)(t.pathname);if(!s)return;Object.assign(o,{url:s});const r=t.pathname.match(/\/(dashboard|styleguide)$/);if(r&&(o.subpage=r[1]),t.search){const e=Object(l.parseUrlParams)(t.search.replace(/&amp;/g,"&"));Object.assign(o,{query:e})}return o}(e),n=u.default.getBarrel();if(!n||!t||!("pid"in t.url)||t.url.pid!==n.id)return;let i="project-dashboard",o="Dashboard",s=["link"];if("sid"in t.url){i="vid"in t.url?"project-screen-version":"project-screen";const e=n.screens.find((function(e){return e._id===t.url.sid})),r=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)o="Notes on "+r;else{const n=e.dots&&e.dots.find((function(e){return e._id===t.query.did[0]})),i="Note"+(n?" #"+n.name:"");o="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${r}`:`${i}, ${r}`}else s.push("screenLink"),o=r}return"subpage"in t&&"styleguide"===t.subpage&&(i="project-styleguide",o="Styleguide",delete t.subpage),{anchorText:o,classList:s,url:Object(l.urlResolve)(i,t)}}function m(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=g(t.getUrl());if(n){const{anchorText:t,classList:i,url:o}=n;return e.push(`<a href="${o}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function b(e,t=[]){var n=[],i=new o.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:m(n)});return t.reduce((function(e,t){return t(e)}),i.link(Object(s.escapeHTML)(e))).replace(/{{link:(\d+)}}/g,(function(e,t){return n[parseInt(t,10)]}))}function S(e){const t=u.default.getBarrel();return t?e.replace(/#([\w-]+)/g,(function(e,n){var i=t.findColorByName(n);return i?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+i.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(i=t.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+i.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})):e}function y(e){const t=u.default.getBarrel();if(!t)return e;const n=Object(s.userRegexFn)(t.users),{username:i}=h.a.UserStore.getState(),o=Object(s.mentionRegexFn)(i);return e.replace(n,e=>{const t=o.test(e);return`<span class="${a()("user",{self:t})}">${e}</span>`})}function v(e){return b(e,[c.default.formatEmojiString,c.default.spanEmojis])}function C(e){return b(e,[S,y,c.default.formatEmojiString,c.default.spanEmojis])}},function(e,t,n){"use strict";n.r(t);var i=n(601),o=n(582),s=n.n(o);function r(e={}){if(!e.bid){const{barrelId:t}=s.a.BarrelStore.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=s.a.BarrelStore.getState();e.barrelType=t}return e}const a={init(e){const{barrelType:t,bid:n,enabledExtensions:o}=r(e);s.a.dispatcher.dispatch({type:i.default.INIT,barrelType:t,bid:n,enabledExtensions:o})},loadExtensions(e){const{bid:t,extensions:n,enabledExtensions:o}=r(e);s.a.dispatcher.dispatch({type:i.default.LOAD_EXTENSIONS,bid:t,extensions:n,enabledExtensions:o})},updateOption(e,t,n){s.a.dispatcher.dispatch({type:i.default.UPDATE_OPTION,eid:e,name:t,value:n})},load(e){const{barrelType:t,bid:n,eid:o,uid:a,local:l=!1}=r(e),{barrelId:c}=s.a.BarrelStore.getState();n===c&&s.a.dispatcher.dispatch({type:i.default.LOAD,barrelType:t,bid:n,eid:o,uid:a,local:l,syncWithApi:!0})},reload(){s.a.dispatcher.dispatch({type:i.default.RELOAD})},openSettings(e){s.a.dispatcher.dispatch({type:i.default.OPEN_SETTINGS,extensionId:e})},closeSettings(){s.a.dispatcher.dispatch({type:i.default.CLOSE_SETTINGS})},add(e){const{barrelType:t,bid:n,uid:o,extension:a,local:l=!1}=r(e),{userId:c}=s.a.UserStore.getState(),d=o===c;s.a.dispatcher.dispatch({type:i.default.ADD,barrelType:t,bid:n,extension:a,openSettings:d,local:l})},enable(e){const{bid:t,eid:n}=r(e);s.a.dispatcher.dispatch({type:i.default.ENABLE,bid:t,eid:n})},disable(e){const{bid:t,eid:n}=r(e);s.a.dispatcher.dispatch({type:i.default.DISABLE,bid:t,eid:n})},remove(e){const{bid:t,barrelType:n,eid:o,local:a=!1,syncWithApi:l=!1}=r(e),{barrelId:c}=s.a.BarrelStore.getState();if(t!==c)return;const{extensions:d}=s.a.ExtensionsStore.getState(),u=d.find(e=>e.id===o);s.a.dispatcher.dispatch({type:i.default.REMOVE,bid:t,barrelType:n,eid:o,removedExtension:u,local:a,syncWithApi:l})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1508);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(771),a=n(718),l=n.n(a),c=n(737),d=n(540);n(1509);const u={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function p(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return u[t][e]}class h extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleContentRef=this.handleContentRef.bind(this);const{initialWidth:t,minWidth:n,collapsible:i,collapsed:o}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:i&&o,resizing:!1}}collapse(){const{onCollapse:e}=this.props;e&&e(),this.setState({collapsed:!0})}expand(){const{onExpand:e}=this.props;e&&e(),this.setState({collapsed:!1})}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i,resizingSide:o,collapsible:s}=this.props,{clientWidth:r}=this.nodeRefs.base;let a;a=e||!s&&r===i?"left"===o?"west":"east":Math.floor(t)>r?"right"===o?"west":"east":r!==i&&Math.floor(t)===r&&"resize"!==n?n:"resize",a!==n&&(document.body.dataset.resizeCursor=a,this.setState({cursorType:a}))}handleBaseRef(e){Object(c.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleContentRef(e){this.props.contentRef&&this.props.contentRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n,resizingSide:i,collapsible:o,onCollapse:s,onExpand:r}=this.props,{collapsed:a}=this.state,{left:l,right:c}=t.getBoundingClientRect(),d=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;if(!d)return;const u="right"===i?d-l:c-d,p=o&&u<n/2,h=Math.max(u,n);this.setState({collapsed:p,width:h}),!a&&p&&s?s():a&&!p&&r&&r()})}handleMouseUp(e){document.removeEventListener(p("move"),this.handleMouseMove),document.removeEventListener(p("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,{collapsed:n}=this.state,i=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(i,{collapsed:n}),this.setState({width:i,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(p("move"),this.handleMouseMove),document.addEventListener(p("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(p("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&this.state.resizing&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth)}componentWillUnmount(){document.removeEventListener(p("move"),this.handleMouseMove),document.removeEventListener(p("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(p("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:o}=this.state,{children:s,class:a,resizingSide:d="left",compact:u,minWidth:p,paddingBottom:h,noScroll:f,onClick:g}=this.props,m={},b=l()("sidebar",a,d,{resizing:t,collapsed:e,compact:u});return e||Object.assign(m,{minWidth:p?p+"px":"",width:n?n+"px":"",paddingBottom:h?h+"px":""}),i.h("div",{class:b,style:m,onClick:g,ref:this.handleBaseRef},i.h("div",{class:l()("content",{noScroll:f}),ref:this.handleContentRef},i.toChildArray(s)),i.h("div",{class:l()("resizer","cursor"+o),ref:Object(c.default)(this,"resizer")},i.h(r.IconMoveHandle,{color:"var(--gandalf)"})))}}h.Loading=()=>i.h("div",{class:"sidebar loading"}),h.propTypes={children:s.a.node,class:s.a.string,compact:s.a.bool,collapsible:s.a.bool,collapsed:s.a.bool,initialWidth:s.a.number,minWidth:s.a.number,resizingSide:s.a.oneOf(["left","right"]),noScroll:s.a.bool,onRelease:s.a.func,onResize:s.a.func,onCollapse:s.a.func,onExpand:s.a.func},h.defaultProps={collapsible:!0,collapsed:Object(d.isMobileViewport)(),initialWidth:0,minWidth:0,resizingSide:"left"},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1511);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737),s=n(718),r=n.n(s);n(1512);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"state",{value:this.props.value,editing:!1,originalValue:this.props.value}),a(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState(e=>({value:e.originalValue})),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())}),a(this,"handleMouseDown",()=>{this.setState({editing:!0})}),a(this,"handleInput",e=>{this.setState({editing:!0,value:e.target.value})}),a(this,"handleBlur",()=>{const{onBlur:e}=this.props,{value:t,originalValue:n}=this.state,i=t.trim();this.setState({value:i||n,editing:!1}),i&&e(i)})}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.h("div",{class:r()("barrelNameTextArea",{editing:n,readonly:e})},i.h("div",{class:"mirror",ref:Object(o.default)(this,"mirror"),title:t},t),i.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(o.default)(this,"textarea"),readonly:e}),n&&i.h("div",{class:"underline"}),!n&&!e&&i.h("div",{class:"dashedLine"}))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1514);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(682)),r=i(n(582)),a=i(n(574)),l=i(n(1515)),c=i(n(845)),d=n(556);var u;n(1518),function(e){e[e.None=0]="None",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready"}(u||(u={}));class p extends o.Component{static calculateState(){const{barrelType:e,barrelId:t}=r.default.BarrelStore.getState(),n=s.default.getOrganization();if(e!==a.default.PROJECT||!t||!n)return{status:u.None};const i=t,o=n.sections.find(({projects:e})=>e.includes(i));if(!o)return{status:u.Loading};if(n.sections[0]===o)return{status:u.None};const{projects:l}=r.default.ProjectsDataStore.getState(),{_id:c,name:p,projects:h,links:f}=o,g=h.map(e=>l[e]).filter(e=>e&&"archived"!==e.status).map(e=>Object.assign(Object.assign({},e),{url:d.urlResolve("project",{url:{bid:e.id}})})),{_id:m}=n,b=d.urlResolve("workspace-projects",{url:{oid:m},query:{seid:c}});return{status:u.Ready,name:p,pid:i,projects:g,organizationUrl:b,links:f}}static getStores(){return[r.default.OrganizationStore,r.default.BarrelStore,r.default.ProjectsDataStore]}render(){if(this.state.status===u.None)return null;if(this.state.status===u.Loading)return o.h("div",{class:"sectionNavigationLoading"},"Loading Section Name…");const{name:e,pid:t,projects:n,organizationUrl:i,links:s}=this.state;return o.h(l.default,{sectionName:e,pid:t,projects:n,organizationUrl:i,links:s})}}t.default=c.default(p)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1516);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=n(771),a=i(n(735)),l=i(n(1219)),c=i(n(718)),d=n(563),u=n(1237),p=n(543);n(1517);t.default=function({sectionName:e,pid:t,projects:n,organizationUrl:i,links:h}){const[f,g]=s.useState(!1),m=s.useRef(),b=s.useRef();function S(){g(!1)}return o.h("div",{class:"sectionNavigation"},o.h("div",{class:"info ellipsis",title:e},e),o.h("div",null,o.h("button",{type:"button",class:c.default("menuButton",{active:f}),ref:m,onClick:function(){g(!0)}},o.h(r.IconArrowDown,{width:10})),f&&o.h(a.default,{didRender:function(e){const t=m.current.getBoundingClientRect(),n=b.current,i=n.getBoundingClientRect(),o=e.getBoundingClientRect(),s=t.bottom+5,r=t.right-o.width;let a;a=s+o.height+8>window.innerHeight?window.innerHeight-o.height-8:s,a<8&&(n.style.maxHeight=i.height+a-8+"px",a=8),e.style.transform=`translate3d(${r}px, ${a}px, 0)`}},o.h(l.default,{class:"sectionNavigationMenu",onClose:S,edgeOffset:8},o.h("div",{class:"projectContainer",ref:b},n.map(({id:e,name:n,type:i,url:s})=>o.h("a",{key:e,href:s,"data-link-type":"inApp",onClick:n=>function(e,n){n!==t&&mixpanel.master.track("Navigated to project",{Source:"Project dashboard"}),e.stopPropagation()}(n,e)},o.h("span",{class:"projectNameAndType ellipsis",title:n},o.h("span",{class:"projectName ellipsis"},n),", ",o.h("span",{class:"projectType"},p.PlatformString[i])),o.h("img",{style:{visibility:e===t?"visible":"hidden"},class:"sectionNavigationActiveProject",src:d.imageUrl("img/icMenuCheck.svg"),alt:"&check;"})))),o.h("div",{class:"optionsSeparator"}),o.h("a",{href:i,"data-link-type":"inApp"},"Go to Section"),h.length&&o.h(l.default.Submenu,{submenuClass:"linksMenu",name:"Links"},h.map(({_id:e,title:t,url:n})=>o.h("a",{class:"sectionLink",key:e,href:n,target:"_blank",rel:"noopener",onClick:e=>function(e,t){mixpanel.master.track("Clicked project section link",{Source:"Project dashboard",Type:u.getLinkType(t)}),S(),e.stopPropagation()}(e,n)},o.cloneElement(u.getLinkIcon(n),{width:16,height:16}),o.h("span",null,t))))))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1520);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(1521),l=n(696),c=n(681),d=n(582),u=n.n(d),p=n(1533),h=n.n(p),f=n(845),g=n.n(f);n(1534);class m extends r.default{static calculateState(e,t){const{barrelId:n}=t,{loading:i,barrelType:o}=u.a.BarrelStore.getState();if(i)return{loading:i};const s=c.default.getBarrel({bid:n}),r=c.default.findUser(),{channels:a,loading:l}=u.a.TeamsIntegrationStore.getState();return{barrelType:o,barrel:s,barrelUser:r,teamsChannels:a,teamsChannelsLoading:l}}static getStores(){return[u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore,u.a.UserStore,u.a.TeamsIntegrationStore]}render(){const{showConfigurationButtons:e}=this.props,{barrel:t,barrelUser:n,loading:o,teamsChannels:s,teamsChannelsLoading:r}=this.state;return o?null:i.h(a.default,{barrel:t,barrelUser:n,teamsChannels:s,teamsChannelsLoading:r,showConfigurationButtons:e,onAddToSlack:l.default.addToSlack,onRemoveIntegration:l.default.removeIntegration,onOpenSlackPreferences:h.a.open})}}m.propTypes={barrelId:s.a.string.isRequired,showConfigurationButtons:s.a.bool},t.default=g()(m,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1522);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(1523),l=n(1526),c=n(735),d=n(1219),u=n(1092),p=n(723),h=n(1529),f=n(1185),g=n(1187),m=n(771),b=n(559),S=n(558),y=n(1096),v=n(737),C=n(718),O=n.n(C),E=n(544);n(1532);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _="SLACK",P="JIRA",D="TEAMS",I="TRELLO";class j extends r.default{constructor(...e){super(...e),T(this,"state",{isMenuOpen:!1}),T(this,"handlePortalDidRender",e=>{const t=this.nodeRefs.settingsButton.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top-12,o=t.left-n.width+12;let s=o,r=i;o+n.width+12>window.innerWidth&&(s=window.innerWidth-n.width-12),i<12?r=12:i+n.height+12>window.innerHeight&&(r=window.innerHeight-n.height-12),e.style.transform=`translate3d(${s}px, ${r}px, 0)`}),T(this,"handleMenuOpen",()=>{this.setState({isMenuOpen:!0})}),T(this,"handleMenuClose",()=>{this.setState({isMenuOpen:!1})}),T(this,"handleIntegrateWithJira",()=>{Object(S.openLink)(E.INTEGRATION_JIRA_URL)}),T(this,"handleIntegrateWithTeams",()=>{Object(S.openLink)(E.INTEGRATION_TEAMS_URL)}),T(this,"handleIntegrateWithTrello",()=>{Object(S.openLink)(E.INTEGRATION_TRELLO_URL)}),T(this,"handleRemoveIntegration",(e,t)=>{this.props.onRemoveIntegration({intype:e,inid:t,syncWithApi:!0})}),T(this,"handleMenuChange",(e,t)=>{const{onAddToSlack:n}=this.props;switch(t){case _:n();break;case P:this.handleIntegrateWithJira();break;case D:this.handleIntegrateWithTeams();break;case I:this.handleIntegrateWithTrello()}})}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get hasAnyJiraAttachment(){return(this.jiraIntegration&&this.jiraIntegration.attachments||[]).some(({type:e})=>"project"===e)}get hasAnyIntegration(){const{teamsChannels:e}=this.props;return Boolean(this.slackChannels)||this.hasAnyJiraAttachment||Boolean(e.length)}get canUpdateBarrel(){return b.permissions.canUpdateProject(this.props.barrelUser)}renderLoadingOrEmptyState(){return this.props.teamsChannelsLoading?i.h("div",{class:"integrationsLoadingState"},"…"):this.renderEmptyState()}renderEmptyState(){const{barrelUser:e,onAddToSlack:t}=this.props;return i.h("div",{class:"integrationsEmptyState"},i.h("p",{class:"integrationsEmptyStateText"},"Connect to tools you use everyday; like ",i.h("strong",null,"Slack"),", ",i.h("strong",null,"Jira"),", ",i.h("strong",null,"Microsoft Teams")," and ",i.h("strong",null,"Trello"),"."),i.h("div",{class:"integrationsEmptyStateIcons"},i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Slack":Object(y.default)(e.role,"add projects to Slack")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:t,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconSlack,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Jira":Object(y.default)(e.role,"connect projects to Jira")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithJira,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconJira,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Microsoft Teams":Object(y.default)(e.role,"add projects to Microsoft Teams")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTeams,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTeams,null))),i.h(u.default,{targetClass:"integrationsEmptyStateIconTooltip",content:this.canUpdateBarrel?"Trello":Object(y.default)(e.role,"connect projects to Trello")},i.h(p.default,{class:"integrationsEmptyStateIconButton",onClick:this.handleIntegrateWithTrello,disabled:!this.canUpdateBarrel,ninja:!0},i.h(m.IconTrello,null)))))}renderIntegrationsList(){const{barrel:e,barrelUser:t,teamsChannels:n,showConfigurationButtons:o,onAddToSlack:s,onOpenSlackPreferences:r}=this.props;return i.h("div",{class:"integrationsList"},this.slackChannels&&this.slackChannels.map(e=>i.h(h.default,{key:e._id,channel:e,barrelUser:t,showConfigurationButton:o,onAddAnother:s,onOpenPreferences:r,onRemove:this.handleRemoveIntegration,canUpdateProject:this.canUpdateBarrel})),i.h(f.default,{items:[{itemType:"project",itemId:e._id,label:"Attached to "}]}),n.map(e=>i.h(g.default,{key:e.id,class:"teamsChannelIntegrationInfo",logo:i.h(m.IconTeams,null),description:"Connected to ",text:e.name,href:e.url})))}renderMenu(){return i.h(c.default,{didRender:this.handlePortalDidRender},i.h(d.default,{class:"integrationsMenu",onClose:this.handleMenuClose,onChange:this.handleMenuChange},i.h(d.default.Button,{name:_},i.h(m.IconSlack,{color:"var(--teflon)"}),i.h("span",null,this.slackChannels?"Add another…":"Add to Slack")),!this.hasAnyJiraAttachment&&i.h(d.default.Button,{name:P},i.h(m.IconJira,{color:"var(--teflon)"}),i.h("span",null,"Connect to Jira")),i.h(d.default.Button,{name:D},i.h(m.IconTeams,{color:"var(--teflon)"}),i.h("span",null,"Add to Microsoft Teams")),i.h(d.default.Button,{name:I},i.h(m.IconTrello,{color:"var(--teflon)"}),i.h("span",null,"Connect to Trello"))))}render(){const{barrelUser:e}=this.props,{isMenuOpen:t}=this.state;let n=i.h(l.default,{baseRef:Object(v.default)(this,"settingsButton"),class:O()({active:t}),icon:m.IconPlusWithCircle,disabled:!this.canUpdateBarrel,onClick:this.handleMenuOpen});return this.canUpdateBarrel||(n=i.h(u.default,{content:Object(y.default)(e.role,"add integrations to project.")},n)),i.h("div",{class:"integrationsContainer"},i.h(a.default,{title:"Integrations",button:n}),this.hasAnyIntegration?this.renderIntegrationsList():this.renderLoadingOrEmptyState(),t&&this.renderMenu())}}j.propTypes={barrel:s.a.object.isRequired,barrelUser:s.a.object.isRequired,teamsChannels:s.a.array.isRequired,teamsChannelsLoading:s.a.bool,showConfigurationButtons:s.a.bool,onAddToSlack:s.a.func.isRequired,onRemoveIntegration:s.a.func.isRequired,onOpenSlackPreferences:s.a.func.isRequired},t.default=j},function(e,t,n){"use strict";n.r(t);var i=n(1524);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1525);t.default=function({class:e,title:t,button:n}){return i.h("div",{class:s()("barrelSidebarSubtitle",e)},i.h("div",{class:"title noSelect"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1527);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(771),a=n(718),l=n.n(a);n(1528);function c(e){const{class:t,icon:n,disabled:o,onClick:s,baseRef:r,children:a}=e;return i.h("button",{type:"button",class:l()("sidebarSettingsButton",t),disabled:o,onClick:s,ref:r},i.h(n,{color:o?"#C1BEC1":"#554D56"}),a)}c.propTypes={class:s.a.string,icon:s.a.node,disabled:s.a.bool,onClick:s.a.func,baseRef:s.a.object,children:s.a.node},c.defaultProps={icon:r.IconSettings},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1530);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1096),s=n(558),r=n(886),a=n(1526),l=n(1050),c=n(718),d=n.n(c),u=n(1092),p=n(771),h=n(1187);n(1531);class f extends r.default{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(s.openLink)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channel)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){return i.h(l.default,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},i.h(l.default.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another…"),i.h(l.default.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.h(l.default.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences…"),i.h(l.default.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{barrelUser:e,canUpdateProject:t}=this.props;if(t){const{menuOpen:e}=this.state;return i.h(a.default,{class:d()({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.h(u.default,{content:Object(o.default)(e.role,"update Slack integration.")},i.h(a.default,{disabled:!0}))}render(){const{showConfigurationButton:e,channel:{incomingWebHook:{configurationURL:t,channelId:n,channel:o}}}=this.props,s=new URL(t);return s.pathname="/messages/"+(n||o.replace("#","")),i.h("div",{class:"slackChannelContainer"},i.h(h.default,{class:"slackChannel",logo:i.h(p.IconSlack,null),description:"Connected to ",text:o,href:s.toString()}),e&&this.renderSlackChannelConfigurationButton())}}t.default=f},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(655)),s=i(n(582)),r={init(){s.default.dispatcher.dispatch({type:o.default.INIT})},load(e,t){s.default.dispatcher.dispatch({type:o.default.LOAD,inid:e,events:t,barrelType:s.default.BarrelStore.getState().barrelType})},open(e,t){s.default.dispatcher.dispatch({type:o.default.OPEN,inid:e,channelName:t})},close(){s.default.dispatcher.dispatch({type:o.default.CLOSE})},updateEventGroup(e,t){s.default.dispatcher.dispatch({type:o.default.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){s.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){s.default.dispatcher.dispatch({type:o.default.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},addIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:r}=s.default.BarrelStore.getState();"slacks"===t&&e===r&&s.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!0})},removeIntegrationEvent({bid:e,intype:t,inid:n,event:i}){const{barrelId:r}=s.default.BarrelStore.getState();"slacks"===t&&e===r&&s.default.dispatcher.dispatch({type:o.default.EVENT_UPDATED,inid:n,event:i,enabled:!1})}};t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1536);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1537);t.default=function(e){const{class:t}=e;return i.h("div",{class:s()("barrelSidebarSeparator",t)},i.h("div",null))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1539);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(718),l=n.n(a),c=n(1198),d=n(737),u=n(559),p=n(558),h=n(560),f=n(543),g=n(540),m=n(1540),b=n.n(m),S=n(1201),y=n(1122),v=n(1543),C=n.n(v),O=n(1546),E=n.n(O),T=n(681),_=n(682),P=n(735);n(1549);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends r.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenEmojiListOpen=this.handleKeyDownWhenEmojiListOpen.bind(this),this.handleKeyDownWhenUserListOpen=this.handleKeyDownWhenUserListOpen.bind(this),this.handleKeyDownEmojiListActions=Object(u.debounce)(this.handleKeyDownEmojiListActions).bind(this),this.handleKeyDownUserListActions=Object(u.debounce)(this.handleKeyDownUserListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleSelectUser=this.handleSelectUser.bind(this),this.handleEmojiMouseOver=this.handleEmojiMouseOver.bind(this),this.handleUserMouseOver=this.handleUserMouseOver.bind(this),this.handleEmojiClick=this.handleEmojiClick.bind(this),this.handleUserClick=this.handleUserClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.handleFileInputChange=this.handleFileInputChange.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this),this.changeSuggestedUsers=this.changeSuggestedUsers.bind(this),this.abortController=null,this.autocompleteListRef=i.createRef();const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],suggestionPositionedParentTop:0,suggestionPositionedParentLeft:0,suggestionTargetTop:0,suggestionTargetBottom:0,suggestionTargetLeft:0,autoCompletedEmoji:!1,selectedUserIndex:0,suggestedUsers:[],autoCompletedUser:!1,value:t,originalValue:t,error:"",editing:e.editing,uploading:!1}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;this.abortController&&(this.abortController.abort(),this.abortController=null),t&&t(),this.setState({editing:!1,uploading:!1,value:e,error:""},()=>{this.nodeRefs.textArea.blur()})}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,o=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),o=e.substring(i,t).match(/^:(.+)/);if(o){const e=o[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),s=n.substring(t,i+1).match(y.default.EMOJI_CANDIDATE_REGEX);return s&&y.default.searchEmoji(s[0].substring(1,s[0].length-1))?[]:y.default.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(o!==t){const e=Math.max(0,Math.min(n,o.length-1));this.setState(I({suggestedEmojis:o,selectedEmojiIndex:e},this.getSuggestionPositions()))}}changeSuggestedUsers(){const{value:e,suggestedUsers:t,selectedUserIndex:n}=this.state,{textArea:i}=this.nodeRefs,{barrelId:o}=this.props,s=function(e,t,n){const i=e.lastIndexOf("@",n);if(-1===i)return[];const o=e.substring(i+1,n).toLowerCase(),s=T.default.getBarrel({bid:t}),r=_.default.getOrganization(null,{pid:t});if(!s)return[];const{users:a}=s,l=[{_id:"everyone",name:"everyone",self:!1,description:"Notify all project members",groupDataType:s.icon.type,group:!0}];return r&&l.push({_id:"organization",name:"organization",icon:r.logo,self:!1,description:"Notify all workspace members",groupDataType:r.logo?null:"organizationPlaceholder",group:!0}),o&&l.push({_id:"project",name:"project",self:!1,description:"Notify all project members",groupDataType:s.icon.type,group:!0}),[...l.filter(({name:e})=>e.toLowerCase().startsWith(o)),...a.filter(({user:{status:e,username:t,fullName:n,_id:i}})=>"invited"!==e&&("me"===o&&Zeplin.user._id===i||t.toLowerCase().startsWith(o)||n&&n.toLowerCase().startsWith(o))).map(({user:e,user:{username:t,email:n,_id:i}})=>({_id:i,name:t||n,icon:Object(p.getUserAvatar)(e).src,self:Zeplin.user._id===i}))]}(e,o,i.selectionStart),r=Math.max(0,Math.min(t.length?n:s.findIndex(({group:e})=>!e),s.length-1));this.setState(I({suggestedUsers:s,selectedUserIndex:r},this.getSuggestionPositions()))}getSuggestionPositions(){const{textAreaMirror:e}=this.nodeRefs;let t=0,n=0;const i=Object(p.findFirstPositionedAncestor)(this.autocompleteListRef.current);i&&({top:t,left:n}=i.getBoundingClientRect());const{top:o,bottom:s,left:r}=e.getBoundingClientRect();return{suggestionPositionedParentTop:t,suggestionPositionedParentLeft:n,suggestionTargetTop:o,suggestionTargetBottom:s,suggestionTargetLeft:r}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return Object(g.getBrowser)()===g.BROWSER.SAFARI?e+(t.match(/\n/g)||[]).length:e}submit(){const{resetOnSubmit:e,disabledWhenEmpty:t,onSubmit:n}=this.props,{value:i,originalValue:o}=this.state;if(!(i.length>this.maxLength))if(i!==o||t){if(t&&!i)return;const s={error:"",editing:!1,originalValue:i};e&&(s.value=o),this.setState(s),n(i)}else this.cancelEdit()}handleSubmit(){const{submitOnBlur:e,onSubmit:t}=this.props,{value:n}=this.state;n.length>this.maxLength||(!e&&t&&this.submit(),this.nodeRefs.textArea.blur())}handleBlur(){const{submitOnBlur:e,onSubmit:t}=this.props,{uploading:n}=this.state;e&&!n&&t&&this.submit()}handleButtonClick(){const{readOnly:e}=this.props;e||this.handleSubmit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t,onInput:n}=this.props;if(t)return;const{value:i}=e.target;this.setState({value:i,error:"",autoCompletedEmoji:!1,autoCompletedUser:!1},()=>{n&&n(i)})}handleKeyDown(e){const{readOnly:t,showEmojiAutoComplete:n,showUserAutoComplete:i}=this.props,{editing:o,uploading:s,suggestedEmojis:r,suggestedUsers:a}=this.state;if(t)return;if(n&&o&&0!==r.length)return e.stopPropagation(),void this.handleKeyDownWhenEmojiListOpen(e);if(i&&o&&0!==a.length)return e.stopPropagation(),void this.handleKeyDownWhenUserListOpen(e);e.key===f.Keyboard.Key.Escape&&(e.stopPropagation(),this.cancelEdit()),e.key===f.Keyboard.Key.Enter&&Object(g.cmdKey)(e)&&!s&&(e.stopPropagation(),this.handleSubmit())}handleKeyDownEmojiListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownUserListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedUsers:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectUser();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedUserIndex>=e.suggestedUsers.length-1?{selectedUserIndex:e.suggestedUsers.length-1}:{selectedUserIndex:e.selectedUserIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedUserIndex<=0?{selectedUserIndex:0}:{selectedUserIndex:e.selectedUserIndex-1})}}handleKeyDownWhenEmojiListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&(e.preventDefault(),e.stopPropagation()),this.handleKeyDownEmojiListActions(e)}handleKeyDownWhenUserListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&(e.preventDefault(),e.stopPropagation()),this.handleKeyDownUserListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||(this.props.showEmojiAutoComplete&&this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis),this.props.showUserAutoComplete&&this.setState({autoCompletedUser:!1},this.changeSuggestedUsers))}handleEmojiClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleUserClick(e,t){this.setState({selectedUserIndex:e},this.handleSelectUser)}handleEmojiMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleUserMouseOver(e,t){this.setState({selectedUserIndex:e})}handleSelectEmoji(){const{onInput:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n,value:i}=this.state,{textArea:o}=this.nodeRefs,s=t[n],r=o.selectionStart,a=i.substring(0,r).lastIndexOf(":"),l=s.formattedAlias,c=`${i.substring(0,a)}:${l}: ${i.substring(r)}`,d=a+l.length+3;this.setState({error:"",value:c,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{o.focus(),o.setSelectionRange(d,d),e&&e(c)})}handleSelectUser(){const{onInput:e}=this.props,{suggestedUsers:t,selectedUserIndex:n,value:i}=this.state,{textArea:o}=this.nodeRefs,{name:s}=t[n],r=o.selectionStart,a=i.lastIndexOf("@",r),l=`${i.substring(0,a+1)}${s} ${i.substring(r)}`,c=a+s.length+2;this.setState({error:"",value:l,autoCompletedUser:!0,suggestedUsers:[]},()=>{o.focus(),o.setSelectionRange(c,c),e&&e(l)})}handleTextAreaClick(){this.state.editing&&(this.changeSuggestedEmojis(),this.changeSuggestedUsers())}async handleFileUpload(e,t){const n=[...t].find(e=>c.IMAGE_MIME_TYPES.includes(e.type));if(!n)return;if(e.preventDefault(),e.stopPropagation(),n.size>1e7)return void this.setState({error:"Smaller than 10 MB please!"});const{onInput:i}=this.props,{value:o}=this.state,{textArea:s}=this.nodeRefs,r=Object(h.getFilenameWithoutExtensionFromPath)(n.name);let a="";/\n$/.test(o)?a=o:o&&(a=o+"\n"),this.setState({error:"",uploading:!0,value:`${a}![${r}](Uploading…)`});try{this.abortController=new AbortController;const{fileURL:e}=await Object(c.uploadCommentImage)(n,this.abortController.signal);this.abortController=null;const t=`${a}![${r}](${e})\n`;this.setState({uploading:!1,value:t},()=>{s.focus(),s.setSelectionRange(t.length,t.length),i&&i(t)})}catch(l){if("AbortError"===l.name)return;this.setState({uploading:!1,value:o},()=>{s.focus(),s.setSelectionRange(o.length,o.length),i&&i(o)})}}handleDrop(e){this.handleFileUpload(e,e.dataTransfer.files)}handlePaste(e){this.handleFileUpload(e,e.clipboardData.files)}handleFileInputChange(e){this.handleFileUpload(e,e.target.files)}componentDidMount(){const{value:e,editing:t}=this.props,{textArea:n}=this.nodeRefs;t&&(n.focus(),n.setSelectionRange(e.length,e.length))}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{showEmojiAutoComplete:n,showUserAutoComplete:i}=this.props,{editing:o,value:s,autoCompletedEmoji:r,autoCompletedUser:a}=this.state,{textArea:l}=this.nodeRefs;o&&t.editing!==o&&(l.focus(),l.setSelectionRange(s.length,s.length)),n&&!r&&s!==t.value&&this.changeSuggestedEmojis(),i&&!a&&s!==t.value&&this.changeSuggestedUsers()}renderEditorInfo(){const{markdownEditor:e}=this.props,{value:t,error:n}=this.state;if(n)return i.h("div",{class:"error"},n);if(e&&!t)return i.h("div",{class:"markdownInfo"},i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote"));const o=l()("counter",{negative:t.length>this.maxLength});return i.h("div",{class:o},this.maxLength-t.length)}renderAutocompleteLists(){const{autoCompleteContainer:e,showEmojiAutoComplete:t,showUserAutoComplete:n}=this.props,{editing:o,suggestionPositionedParentTop:s,suggestionPositionedParentLeft:r,suggestionTargetTop:a,suggestionTargetBottom:l,suggestionTargetLeft:c,suggestedEmojis:d,selectedEmojiIndex:u,suggestedUsers:p,selectedUserIndex:h}=this.state,f=i.h(E.a,{baseRef:this.autocompleteListRef,tabIndex:"-1",positionedParentTop:s,positionedParentLeft:r,targetTop:a,targetBottom:l,targetLeft:c},t&&o&&0!==d.length&&i.h(S.default,{onItemClick:this.handleEmojiClick,onItemMouseOver:this.handleEmojiMouseOver,suggestedEmojis:d,selectedIndex:u}),n&&o&&0!==p.length&&i.h(C.a,{onItemClick:this.handleUserClick,onItemMouseOver:this.handleUserMouseOver,suggestedUsers:p,selectedIndex:h}));return e?i.h(P.default,{into:e},f):f}render(){const{autoEdit:e,containerClass:t,class:n,color:o,formatter:s,placeholder:r,buttonLabel:a,disabledWhenEmpty:c,markdownEditor:u,openFilePicker:p}=this.props,{editing:h,uploading:f,value:m}=this.state,S=s?s(m):m,y=Object(g.getOS)()===g.OS.MAC?"⌘⏎":"Ctrl+⏎",v=l()("shortcut",{[Object(g.getOS)()]:!0}),C=f||m.length>this.maxLength||c&&!m;return i.h("div",{class:l()("textAreaContainer",t)},i.h("div",{class:l()("textArea",n,{editing:h,markdownEditor:u},o)},i.h("div",{class:l()("formattedContent",{placeholder:r&&!m}),onClick:e?this.handleClick:null,dangerouslySetInnerHTML:{__html:S||r}}),i.h("div",{class:"editor"},i.h("div",{ref:Object(d.default)(this,"textAreaMirror"),class:"mirror"},m," "),i.h("textarea",{ref:Object(d.default)(this,"textArea"),value:m,spellcheck:"false",placeholder:r,readOnly:f,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur,onDrop:u?this.handleDrop:null,onPaste:u?this.handlePaste:null})),i.h("div",{class:"controls",tabIndex:"-1"},this.renderEditorInfo(),u&&i.h(b.a,{open:p,onChange:this.handleFileInputChange}),i.h("button",{type:"button",class:"submit",disabled:C,ref:Object(d.default)(this,"submitButton"),onClick:this.handleButtonClick},i.h("span",{class:"labelMirror"},a),i.h("span",{class:"label"},a),i.h("span",{class:v},y)))),this.renderAutocompleteLists())}}k.propTypes={autoEdit:s.a.bool,value:s.a.string,containerClass:s.a.string,class:s.a.string,color:s.a.oneOf(["yellow","orange","peach","green","turquoise","cornflowerBlue","deepPurple"]).isRequired,editing:s.a.bool,maxLength:s.a.number.isRequired,placeholder:s.a.string,buttonLabel:s.a.string,readOnly:s.a.bool,submitOnBlur:s.a.bool,onSubmit:s.a.func,resetOnSubmit:s.a.bool,disabledWhenEmpty:s.a.bool,markdownEditor:s.a.bool,onCancelEdit:s.a.func,formatter:s.a.func,showEmojiAutoComplete:s.a.bool,showUserAutoComplete:s.a.bool,openFilePicker:s.a.bool,barrelId:s.a.string},k.defaultProps={autoEdit:!1,value:"",placeholder:"",buttonLabel:"Done",readOnly:!1,submitOnBlur:!1,onSubmit:null,resetOnSubmit:!1,disabledWhenEmpty:!1,markdownEditor:!1,onCancelEdit:null,showEmojiAutoComplete:!1,showUserAutoComplete:!1,openFilePicker:!1,barrelId:null},t.default=k},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1541);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(778)),a=n(1198);n(1542),t.default=function({open:e=!1,onChange:t}){const n=s.useRef();return s.useEffect(()=>{var t;e&&(null===(t=n.current)||void 0===t||t.click())},[e]),o.h("label",{class:"attachImageButton noSelect"},o.h("input",{ref:n,type:"file",accept:a.IMAGE_MIME_TYPES.join(","),onClick:function(){n.current.value=""},onChange:t}),o.h(r.default,null))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1544));t.default=o.default},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718)),r=i(n(1203));function a(e){const{name:t,self:n,description:i,icon:r,groupDataType:a,selected:l,onClick:c,onMouseOver:d,listRef:u}=e;return o.h("div",{class:s.default({selected:l},"userItem"),onMouseOver:d,onClick:c,ref:u},r&&o.h("img",{class:"userImg",src:r}),!r&&o.h("img",{class:"userImg","data-type":a}),o.h("div",{class:"userInfo"},o.h("span",{class:s.default({self:n},"userName","ellipsis")},t),i&&o.h("span",{class:"userDescription ellipsis"},i)))}n(1545),t.default=function({suggestedUsers:e,selectedIndex:t,onItemClick:n,onItemMouseOver:i,class:l}){return o.h(r.default,{class:s.default("userAutoCompleteList",l),options:e,keyProp:"_id",selectedIndex:t,onItemMouseOver:i,onItemClick:n,RowComponent:a})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1547);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(222);n(1548);t.default=function({baseRef:e,tabIndex:t,positionedParentTop:n,positionedParentLeft:s,targetTop:r,targetBottom:a,targetLeft:l,children:c}){const d=o.useRef(),[u,p]=o.useState(a-n),h=l-s;return o.useLayoutEffect(()=>{const{height:e}=d.current.getBoundingClientRect(),t=a+e+6>=window.innerHeight;p(t?r-n-e:a-n)},[n,r,a,c]),i.h("div",{ref:function(t){d.current=t,e.current=t},class:"absolutePositionedItemHolder",tabIndex:t,style:{top:u,left:h}},c)}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1551);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(855),s=n.n(o),r=n(558),a=n(737);n(1552);function l(e,t){return"invited"!==e.user.status?e.user.username+("user"!==t?" ("+e.user.email+")":""):"Pending… ("+e.user.email+")"}class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:o}=Object(r.getUserAvatar)(e.user,{ignoreRandomEmotar:!1,size:30});return i.h("div",{class:"memberAvatar",onClick:this.handleClick},i.h(s.a,{src:n,srcset:o,title:t,size:30}))}}class d extends i.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-24)/38);if(0===i)return;let o;o=e.length>i?i-1:e.length,o!==t&&this.setState({nrOfAvatarsDisplayed:o})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:o}=this.props;if(0===t)return null;const s=n.length-t;if(s){const r=n.slice(t).map(t=>l(t,e)).join("\n");return i.h("button",{type:"button",class:"remaining",onClick:o,title:r},"+",s)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,barrelUser:n,onMemberClick:o}=this.props,s=t.find(e=>e.user._id===n.user._id).role;return i.h("div",{class:"membersPreview",ref:Object(a.default)(this,"base")},t.slice(0,e).map(e=>i.h(c,{key:e.user._id,onClick:o,member:e,title:l(e,s)})),this.renderRemainingMembers(s))}}t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1554);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1500),s=n(559),r=n(556),a=n(737),l=n(723),c=n(1523),d=n(1555),u=n(1558),p=n(942);n(1560);function h(e){const t=Object(s.getUserRoleString)(e);return"king"===e||"owner"===e?t:t+"s"}const f={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};class g extends i.Component{constructor(e){super(e),this.state=Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},f),this.close=this.close.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(s.debounce)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this),this.handleMembersDialogClick=this.handleMembersDialogClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this),this.handleCloseMemberOptions=this.handleCloseMemberOptions.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.openRemoveMemberConfirmationDialog=this.openRemoveMemberConfirmationDialog.bind(this),this.handleAddMembers=this.handleAddMembers.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.openTransferOwnershipConfirmationDialog=this.openTransferOwnershipConfirmationDialog.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.openLeaveConfirmationDialog=this.openLeaveConfirmationDialog.bind(this),this.handleLeave=this.handleLeave.bind(this)}close(){const{onClose:e}=this.props;e()}closeDialogs(){this.setState(f)}openRemoveMemberConfirmationDialog(e){this.setState(Object.assign({},f,{removeMemberConfirmationDialog:{member:e}}))}openTransferOwnershipConfirmationDialog(e){this.setState(Object.assign({},f,{transferOwnershipConfirmationDialog:{member:e}}))}openLeaveConfirmationDialog(e){this.setState(Object.assign({},f,{leaveConfirmationDialog:{member:e}}))}setInvitePopupAnchorPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,s=t.top>=n.top,r=i||s;if(!o.anchor.classList.toggle("hidden",r)){const e=n.top-t.top;o.anchor.style.top=e+25+-10+"px"}}setInvitePopupPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;o.element.style.transform="";const t=o.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let s;if(i>0?s=Math.max(t.top-i,60):t.top<60&&(s=60),s){const e=s-n.top- -52;o.element.style.transform=`translate3d(0, ${e}px, 0)`}const r=n.right+t.width+24>window.innerWidth;o.element.classList.toggle("left",r),this.setInvitePopupAnchorPosition()}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:s}=this.props,{membersDialog:r}=this.nodeRefs;o.show({bt:e,popupContainer:r,bid:t,members:n,oid:"pawn"===i.role?"user":s}),this.setInvitePopupPosition(),r.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),r.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.master.track("Showed invite user pop up",{Source:"Members dialog"})}closeInvitePopup(){const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),o.dismiss()}toggleInvitePopup(e){e.stopPropagation(),o.isHidden()?this.openInvitePopup():this.closeInvitePopup()}handleOpenMemberOptions(e,t){this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})}handleCloseMemberOptions(){this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})}handleUpgrade(){this.props.onUpgrade(),this.close()}handleDocumentKeyDown(e){const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:o}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||o?this.setState(f):this.close())}handleBackdropClick(e){if(e.stopPropagation(),!o.isHidden())return void this.closeInvitePopup();const{onClose:t}=this.props;t()}handleMembersDialogClick(e){e.stopPropagation(),o.isHidden()||this.closeInvitePopup()}handleAddMembers(e){const{onAddMembers:t}=this.props;t(e)}handleRemoveMember(){const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)}handleTransferOwnership(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)}handleLeave(){const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),this.closeInvitePopup()}renderHeader(){return i.h("div",{class:"membersDialogHeader"},i.h("div",{class:"title"},"Members"),i.h(l.default,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"))}renderExtraInfo(){const{barrelUser:e,members:t,isOrganizationProject:n,organizationId:o}=this.props;if(n&&"pawn"!==e.role)return i.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.h("a",{href:Object(r.urlResolve)("workspace-members",{url:{oid:o}})},"visit the workspace dashboard"),".");const s=t.find(e=>"owner"===e.role);return s&&"free"===s.user.paymentPlan?s.user._id===e.user._id?i.h("div",{class:"upgradeNow"},i.h("div",{class:"information text"},"On the Free plan, only the project owner can upload designs. Upgrade now to access more projects and allow members to upload designs!"),i.h(l.default,{class:"updgradeNowButton",secondary:!0,onClick:this.handleUpgrade},"Upgrade")):i.h("div",{class:"information ownerIsOnFreePlan"},"On the Free plan, only the project owner can upload designs. Contact ",s.user.username," to upgrade their plan and allow members to upload designs!"):void 0}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:o}=this.state,r=t.reduce((t,r)=>{const a=i.h(d.default,{key:r.user._id,member:r,showOptionsButton:"owner"!==r.role&&s.permissions.isSuperior(e,r,!0),memberOptionsOpen:!!o&&o.user._id===r.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===r.user._id});return t.has(r.role)?t.get(r.role).push(a):t.set(r.role,[a]),t},new Map),a=[];for(let[s,l]of r)a.push(i.h("div",{key:s+"Rows",class:"roleGroup"},i.h(c.default,{class:"roleTitle",key:s,title:h(s)}),l));return i.h("div",{class:"members"},a)}renderFooter(){return i.h("div",{class:"membersDialogFooter"},i.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:o,onUnassignAdmin:r}=this.props,{memberOptionsMenuOpenFor:a,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.h(u.default,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:a,canAssignAdmin:!n&&"user"!==e.role&&"user"===a.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===a.role,canTransferOwnership:!n&&s.permissions.canTransferOwnership(e),canRemoveFromProject:a.user._id!==e.user._id&&s.permissions.isSuperior(e,a,!0),canLeaveProject:a.user._id===e.user._id,onAssignAdmin:o,onUnassignAdmin:r,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions})}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.h(p.BasicOverlayDialog,{key:"removeMemberConfirmationDialog",message:`Remove "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.h(p.BasicOverlayDialog,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.h(p.BasicOverlayDialog,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{memberOptionsMenuOpenFor:e,removeMemberConfirmationDialog:t,transferOwnershipConfirmationDialog:n,leaveConfirmationDialog:o}=this.state;return i.h("div",{class:"membersDialog",ref:Object(a.default)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),this.renderExtraInfo(),this.renderMembers(),this.renderFooter(),e&&this.renderMemberOptionsMenu(),t&&this.renderRemoveMemberConfirmation(),n&&this.renderTransferOwnershipConfirmationDialog(),o&&this.renderLeaveConfirmationDialog())}render(){return i.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1556);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),s=n(855),r=n.n(s),a=n(1113),l=n(771),c=n(718),d=n.n(c),u=n(737);n(1557);class p extends i.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(o.scrollIfNecessary)(this.nodeRefs.memberRow),setTimeout(()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})},10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:s,srcset:c}=Object(o.getUserAvatar)(e,{ignoreRandomEmotar:!1,size:30}),{_id:p,username:h,fullName:f}=e,g=f?`${f} (${h})`:h;return i.h("div",{class:"memberRow",ref:Object(u.default)(this,"memberRow")},i.h(a.default,{userId:p},i.h(r.a,{class:"memberRowAvatar",src:s,srcset:c,size:30})),"invited"===e.status?i.h("div",{class:"info"},i.h("div",{class:"memberRowMainInfo ellipsis",title:e.email},e.email),i.h("div",{class:"memberRowSubInfo"},"pending invitation")):i.h("div",{class:"info"},i.h(a.default,{class:"memberRowNameUserProfileCardPopoverContainer",userId:p,openToLeft:!1},i.h("div",{class:"memberRowMainInfo ellipsis",title:g},g)),i.h("div",{class:"memberRowSubInfo ellipsis",title:e.email},e.email)),n&&i.h("button",{class:d()("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.h(l.IconMenu,null)))}}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1559);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050);class s extends i.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,clickOrigin:t,menuContainer:n,canAssignAdmin:s,canUnassignAdmin:r,canTransferOwnership:a,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.h(o.default.overlay,{class:u,onClose:d,autoPosition:{clickOrigin:t,menuContainer:n}},s&&i.h(o.default.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),r&&i.h(o.default.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),a&&i.h(o.default.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.h(o.default.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.h(o.default.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1562);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1563)),a=i(n(873)),l=i(n(723));n(1569);const c=n(1164);t.default=function({popoverOpen:e,onPopoverOpen:t,onPopoverClose:n,barrelType:i,webURL:d,sceneURL:u,appURI:p,onEnableScene:h,onUnshare:f,canUserChangeBarrelAccesibility:g}){s.useEffect(()=>{c.fetchShortlink(d),u&&c.fetchShortlink(u)},[]);const m=o.h(r.default,{barrelType:i,webURL:d,sceneURL:u,appURI:p,canChangeProjectAccesibility:g,onEnableScene:h,onUnshare:f});return o.h("div",{class:"shareButtonContainer"},o.h(a.default,{open:e,onOpen:t,onClose:n,content:m,left:12,centerY:!0,faceTop:!0,showAnchor:!0},o.h(l.default,{class:"shareButton",primary:!0},"Share")))}},function(e,t,n){"use strict";n.r(t);var i=n(1564);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737),a=n(558),l=n(574),c=n.n(l),d=n(1164),u=n(560),p=n(723),h=n(1535),f=n(1565);n(1568);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=Object.freeze({WEB:"Web",APP:"App"});function b(e){const{type:t,link:n,onCopy:o}=e;let s;if(t===m.WEB){const e=new URL(n);s=e.host+e.pathname}else s=n;return i.h("div",{class:"shareBarrelLink"},i.h("div",{class:"type"},t,":"),i.h("div",{class:"link ellipsis",title:n},s),t===m.APP&&i.h("a",{href:n,class:"button secondary openButton"},"Open"),i.h(p.default,{class:"copyButton",onClick:o,primary:!0,disabled:!n},"Copy"))}function S(e){const{title:t,explanation:n}=e;return i.h("div",{class:"shareBarrelSubtitle"},i.h("div",{class:"title"},t),i.h("div",{class:"explanation"},n))}class y extends i.Component{constructor(...e){super(...e),g(this,"state",{sceneOptionsOpen:!1}),g(this,"openSceneOptions",()=>{this.setState({sceneOptionsOpen:!0})}),g(this,"closeSceneOptions",()=>{this.setState({sceneOptionsOpen:!1})}),g(this,"handleCopyWebURL",()=>{const{webURL:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(a.copyContent)({content:Object(d.getShortlink)(e),toastContainer:n}),mixpanel.master.track("Copied web link",{Target:Object(u.uppercaseFirst)(t),Source:"Inspector"})}),g(this,"handleCopyAppURI",()=>{const{appURI:e,barrelType:t}=this.props,{content:n}=this.nodeRefs;Object(a.copyContent)({content:e,toastContainer:n}),mixpanel.master.track("Copied app URI",{Target:Object(u.uppercaseFirst)(t),Source:"Inspector"})}),g(this,"handleCopySceneURL",e=>{e.stopPropagation();const{sceneURL:t}=this.props,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(a.copyContent)({content:Object(d.getShortlink)(t),toastContainer:n}),mixpanel.master.track("Copied scene link")}),g(this,"handleUnshare",e=>{e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()})}renderSceneSection(){const{barrelType:e,sceneURL:t,canChangeProjectAccesibility:n,onEnableScene:o}=this.props;if(e===c.a.STYLEGUIDE)return null;const{sceneOptionsOpen:s}=this.state;return i.h(i.Fragment,null,i.h(h.default,{class:"shareBarrelSeparator"}),i.h(S,{title:"Scene",explanation:"Everyone with the link"}),i.h(f.default,{optionsOpen:s,canChangeProjectAccesibility:n,sceneURL:t,onEnable:o,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions}))}render(){const{webURL:e,appURI:t}=this.props,{sceneOptionsOpen:n}=this.state,o=Object(d.getShortlink)(e);return i.h("div",{class:"shareBarrel"},i.h("div",{class:s()("content",{sceneOptionsOpen:n}),ref:Object(r.default)(this,"content")},i.h(S,{title:"Share link",explanation:"Invited members only"}),i.h(b,{type:m.WEB,link:o,onCopy:this.handleCopyWebURL}),i.h(b,{type:m.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1566);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(1050),r=n(771);n(1567);t.default=function(e){const{onEnable:t,sceneURL:n,canChangeProjectAccesibility:a,optionsOpen:l,onOptionsOpen:c,onOptionsClose:d,onCopySceneURL:u,onUnshare:p}=e;return i.h("div",{class:"scene"},i.h("div",{class:"explanation"},"Showcase designs and Styleguide"),n?i.h(i.Fragment,null,i.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:n,target:"_blank"},"Open"),i.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:c},i.h(r.IconMenu,null)),l?i.h(s.default,{class:"sceneOptions",onClose:d},i.h(s.default.Item,{onClick:u},"Copy link"),a&&i.h(s.default.Item,{onClick:p},"Unshare")):null):i.h(o.default,{class:"enableScene",onClick:t,disabled:!a,secondary:!0},"Enable"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1571);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(942),a=n(975),l=n.n(a),c=n(563),d=n(737),u=n(559),p=n(543);n(1572);class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||p.DENSITY.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t,onClose:n}=this.props;t(e),n()}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.h("div",{ref:Object(d.default)(this,"tooltip"),onClick:u.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),"android"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"720×1280px")," screen, you should select ",i.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.h("div",null,"e.g. for a ",i.h("strong",null,"640×1136px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.h("div",{class:"androidDensitySelection"},i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Phone"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:!e||e===p.DENSITY.MDPI,onClick:this.handleChange,value:p.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"),i.h("span",{class:"densityResolution"},"360x640px"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XHDPI,onClick:this.handleChange,value:p.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi"),i.h("span",{class:"densityResolution"},"720x1280px")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.HDPI,onClick:this.handleChange,value:p.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"),i.h("span",{class:"densityResolution"},"480x800px"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XXHDPI,onClick:this.handleChange,value:p.DENSITY.XXHDPI}),i.h("span",{class:"densityValue"},"xxhdpi"),i.h("span",{class:"densityResolution"},"1080x1920px")))),i.h("tr",null,i.h("td",null),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidDensity",checked:e===p.DENSITY.XXXHDPI,onClick:this.handleChange,value:p.DENSITY.XXXHDPI}),i.h("span",{class:"densityValue"},"xxxhdpi"),i.h("span",{class:"densityResolution"},"1440x2560px")))))),i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Tablet"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.MDPI,onClick:this.handleChange,value:p.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"))),i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.XHDPI,onClick:this.handleChange,value:p.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"androidTabletDensity",checked:e===p.DENSITY.HDPI,onClick:this.handleChange,value:p.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"))),i.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.h("div",{class:"webDensitySelection"},i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"webDensity",checked:!e||e===p.DENSITY._1x,onClick:this.handleChange,value:p.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x"),i.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.h("hr",null),i.h("label",null,i.h(l.a,{class:"densityRadioButton",name:"webDensity",checked:e===p.DENSITY._2x,onClick:this.handleChange,value:p.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x"),i.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.h("div",{class:"iosxDensitySelection"},i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:!e||e===p.DENSITY._1x,onClick:this.handleChange,value:p.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _320x480"},"320x480"),i.h("div",{class:"phoneFrame _320x568"},"320x568"),i.h("div",{class:"phoneFrame _375x667"},"375x667"),i.h("div",{class:"phoneFrame _414x736"},"414x736"),i.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:e===p.DENSITY._2x,onClick:this.handleChange,value:p.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _640x960"},"640x960"),i.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(l.a,{class:"densityRadioButton",name:"iosxDensity",checked:e===p.DENSITY._3x,onClick:this.handleChange,value:p.DENSITY._3x}),i.h("span",{class:"densityValue"},"3x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(r.default,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(c.imageUrl)("img/icInfo.svg")}),"What I need to choose?"))},i.h("div",{ref:Object(d.default)(this,"base"),class:"densityDialogBody"},i.h("h1",null,"Choose your screens’ densities"),i.h("div",{class:"densityChangeWarning"},i.h("img",{src:Object(c.imageUrl)("img/icWarning.svg"),alt:"⚠"}),i.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.h("br",null),i.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()),e&&this.renderTooltip())}}h.propTypes={type:s.a.oneOf(["android","web","ios"]),selectedValue:s.a.number.isRequired,onChange:s.a.func.isRequired,onClose:s.a.func.isRequired},t.default=h},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1574);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1233),a=n(563),l=n(737),c=n(559),d=n(1575),u=n(543);n(1579);class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.DENSITY._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.h("div",{ref:Object(l.default)(this,"tooltip"),onClick:c.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.h("br",null),"Pick the density based on your artboard size."),i.h("div",{class:"densityDialogForm"},i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._1x),value:u.DENSITY._1x,checked:e===u.DENSITY._1x,divisor:u.DENSITY._1x,onChange:this.handleChange}),i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._2x),value:u.DENSITY._2x,checked:e===u.DENSITY._2x,divisor:u.DENSITY._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(r.default,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(a.imageUrl)("img/icInfo.svg")}),"Learn more"))},i.h("div",{ref:Object(l.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}p.propTypes={selectedValue:s.a.string.isRequired,onChange:s.a.func.isRequired,onClose:s.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1576);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(975),s=n.n(o),r=n(1577);n(1578);t.default=function(e){const{text:t,description:n,value:o,divisor:a,unit:l,checked:c,onChange:d}=e;return i.h("div",{class:"densityDialogOption"},i.h("label",{class:"densityRadio"},i.h(s.a,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:o}),i.h("span",{class:"densityValue"},t),n&&i.h("span",{class:"densityAdditionalDescription"},n)),c&&i.h("div",{class:"densityOptionBody"},i.h(r.default,{divisor:a,targetUnit:l})))}},function(e,t,n){"use strict";n.r(t);var i=n(4);t.default=function({divisor:e,targetUnit:t="px"}){return i.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"24.506",y:"11"},"120")," ",i.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"75",y:"37"},"60")," ",i.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.h("tspan",{x:"0",y:"24"},"🎨")),i.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.h("svg",{width:"60",x:"160",y:"-18.67"},i.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",null,120/e)," ",i.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"224",y:"37"},60/e)," ",i.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1581);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050),s=n(1535),r=n(1523),a=n(1526),l=n(873),c=n(737),d=n(1318),u=n(559);n(1582);class p extends i.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.h(l.default,{targetNode:this.nodeRefs.settingsButton,content:i.h(d.default,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,s=e?[t&&i.h(o.default.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.h(o.default.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.h(o.default.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.h(o.default,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},s)}render(){const{barrelUser:e,selectableStyleguides:t,parentNames:n}=this.props,{selectParentPopupOpen:o,menuOpen:l}=this.state,d=u.permissions.canUpdateStyleguide(e),p=!!t.length,h=!!n.length;return i.h("div",null,i.h(r.default,{title:"Parent Styleguide",button:p&&i.h(a.default,{baseRef:Object(c.default)(this,"settingsButton"),disabled:!d,onClick:this.openParentStyleguidesMenu})}),i.h("div",{class:"parentStyleguidesContainer"},l&&this.renderContextMenu(h,p),i.h("p",{ref:Object(c.default)(this,"textContainer")},h?n.join(" ▸ "):"No parent styleguides.")),i.h(s.default,null),o&&this.renderSelectParentPopup(t))}}t.default=p},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1586);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1587),s=n.n(o),r=n(1629),a=n(1737),l=n(582),c=n.n(l),d=n(696),u=n(681),p=n(845),h=n.n(p),f=n(540),g=n(737),m=n(570);n(1906);class b extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[c.a.BarrelStore,c.a.ScreenStore,c.a.UserStore]}static calculateState(){const{versionsVisible:e}=c.a.ScreenStore.getState(),{connectedComponentsDevModeEnabled:t}=c.a.BarrelStore.getState();return{userRestricted:u.default.isUserRestricted(),versionsVisible:e,connectedComponentsDevModeEnabled:t}}handleBaseRef(e){Object(g.default)(this,"base")(e),this.props.baseRef(e)}handleKeyDown(e){const{connectedComponentsDevModeEnabled:t}=this.state;Object(f.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(m.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.base}),t?d.default.disableDevMode():d.default.enableDevMode())}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{versionsVisible:e}=this.state;return i.h("div",{class:"screenContainer",ref:this.handleBaseRef},e&&i.h(s.a,null),i.h(r.default,null),i.h(a.default,null))}}t.default=h()(b,{withProps:!0})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1588);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),l=n(559),c=n(556),d=n(558),u=s(n(555)),p=r(n(684)),h=n(544),f=r(n(718)),g=n(543),m=n(947),b=r(n(1507)),S=r(n(1589)),y=r(n(1622)),v=r(n(1625)),C=r(n(1292)),O=r(n(845)),E=r(n(681)),T=r(n(702)),_=r(n(687)),P=r(n(582)),D=n(1164);n(1628);class I extends a.Component{constructor(){super(...arguments),this.sidebarRef=a.createRef(),this.handleCollapse=()=>{const{compactMode:e,latestVersionSelected:t}=this.state;!e&&t||T.default.enableVersionsCompactMode()},this.handleCollapserClick=()=>{var e,t;const{compactMode:n,latestVersionSelected:i}=this.state;n?null===(e=this.sidebarRef.current)||void 0===e||e.expand():i?T.default.hideVersions():null===(t=this.sidebarRef.current)||void 0===t||t.collapse()},this.handleRelease=(e,{collapsed:t})=>{const{latestVersionSelected:n}=this.state;T.default.changeVersionsSidebarWidth(e),t&&n&&T.default.hideVersions()},this.handleOpenMenu=e=>{const{barrelId:t,screenId:n}=this.state,i=c.urlResolve("project-screen-version",{url:{pid:t,sid:n,vid:e}});D.fetchShortlink(i)},this.handleCopyWebUrl=(e,t)=>{const{barrelId:n,screenId:i}=this.state,o=c.urlResolve("project-screen-version",{url:{pid:n,sid:i,vid:e}});d.copyContent({content:D.getShortlink(o),toastContainer:t})},this.handleCopyAppUri=(e,t)=>{const{barrelId:n,screenId:i}=this.state,o=`${h.ZPL_PROTOCOL}//screen?pid=${n}&sid=${i}&vid=${e}`;d.copyContent({content:o,toastContainer:t})},this.handleDelete=e=>{const{screenId:t,screenName:n,totalVersionCount:i}=this.state;1!==i?u.create({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb(){T.default.removeVersion({vid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}}):u.create({title:`Delete ${n}?`,message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb(){T.default.removeScreen({sid:t,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleSelectedVersionChange=e=>{const{barrelId:t,screenId:n,versions:i}=this.state,o=i.findIndex(t=>t._id===e)>0?"project-screen-version":"project-screen";p.default.history.replace(c.urlResolve(o,{url:{pid:t,sid:n,vid:e}}))},this.handleCommitColorChange=({vid:e,color:t,syncWithApi:n})=>{const{barrelUser:i}=this.state;l.permissions.canManageScreens(i)&&T.default.updateCommitColor({vid:e,color:t,syncWithApi:n})},this.handleKeyDown=e=>{const{barrelId:t,screenId:n,versions:i,selectedVersionId:o}=this.state,s=i.findIndex(e=>e._id===o);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:{e.preventDefault();const o=s-1;if(o>=0){const e=0===o?"project-screen":"project-screen-version",s=i[o]._id;p.default.history.replace(c.urlResolve(e,{url:{pid:t,sid:n,vid:s}}))}break}case Zeplin.KEY_CODE.ArrowDown:{e.preventDefault();const o=s+1;if(o<i.length){const e=i[o]._id;p.default.history.replace(c.urlResolve("project-screen-version",{url:{pid:t,sid:n,vid:e}}))}break}}},this.handleShowPlanChooserOverlay=()=>{m.showPlanChooserOverlay({source:"Version history",upgradeTrigger:g.PlanUpgradeTrigger.VERSION_LIMIT})}}static getStores(){return[P.default.BarrelStore,P.default.ScreenStore,P.default.ProjectsDataStore,P.default.UserStore]}static calculateState(){const{loading:e,barrelId:t}=P.default.BarrelStore.getState(),n=E.default.findUser(),i=P.default.UserStore.getState().paymentPlan;if(e||!t)return{loading:!0};const{screenId:o,loadingVersions:s,versionId:r,latestVersionSelected:a,versionsCompactMode:c,versionsSidebarWidth:d}=P.default.ScreenStore.getState(),{versions:u,totalVersionCount:p,allowedVersionCount:h,name:f}=_.default.getScreen()||{},g=p-h,m=g>0;return{barrelId:t,barrelUser:n,screenId:o,screenName:f,versions:u,loading:s,totalVersionCount:p,remainingVersionCount:g,selectedVersionId:r,latestVersionSelected:a,compactMode:c,collapsed:c,sidebarWidth:d,paymentPlan:i,canDelete:l.permissions.canManageScreens(n),versionLimitExceededHintboxVisible:["owner","king"].includes(n.role)&&m}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{loading:e,barrelUser:t,versions:n,selectedVersionId:i,latestVersionSelected:o,remainingVersionCount:s,compactMode:r,collapsed:l,sidebarWidth:c,paymentPlan:d,canDelete:u,versionLimitExceededHintboxVisible:p}=this.state;let h;return"free"===d.id?h="On the free plan, you can access 30 days of version history. If you want to access more, you need to upgrade.":d.versionLimit<99&&(h=`On the ${d.name} plan, you can access ${d.versionLimit} screen versions. If you want to access more, you need to upgrade.`),a.h(b.default,{ref:this.sidebarRef,class:f.default("versionsSidebar",{versionLimitExceededHintboxVisible:p}),resizingSide:"right",minWidth:245,initialWidth:c,compact:r||!o,collapsed:l,onCollapse:this.handleCollapse,onExpand:T.default.disableVersionsCompactMode,onRelease:this.handleRelease},!r&&a.h("h2",{class:"versionsSidebarHeader"},"Versions"),e?a.h(y.default,null):a.h(S.default,{versions:n,remainingVersionCount:s,selectedVersionId:i,barrelUser:t,compact:r,onCommitColorChange:this.handleCommitColorChange,onCommitMessageChange:T.default.updateCommitMessage,onSelectedVersionChange:this.handleSelectedVersionChange,onOpenMenu:this.handleOpenMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:u?this.handleDelete:null}),a.h(v.default,{latestVersionSelected:o,compact:r,onClick:this.handleCollapserClick}),p&&a.h("div",{class:"upgradeNowHintboxContainer"},a.h(C.default,{class:"upgradeNowHintbox",actionContent:"Upgrade",onActionClick:this.handleShowPlanChooserOverlay},h)))}}t.default=O.default(I)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1590);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1591)),a=i(n(1604)),l=i(n(1615)),c=i(n(1618)),d=n(559),u=n(761),p=i(n(718));n(1621),t.default=function({versions:e,remainingVersionCount:t,selectedVersionId:n,barrelUser:i,compact:h,onCommitColorChange:f,onCommitMessageChange:g,onSelectedVersionChange:m,onOpenMenu:b,onCopyWebUrl:S,onCopyAppUri:y,onDelete:v}){const[C,O]=s.useState(!1),E=s.useRef();function T(e){O(!0),b(e)}function _(){O(!1)}function P(e){v&&v(e)}function D(e){S(e,E.current)}function I(e){y(e,E.current)}function j(e){m(e)}return o.h("div",{ref:E,class:p.default("versions",{contextMenuOpen:C})},e.reduce((function(t,s){const{_id:l,creator:c,created:p,commit:{color:m,message:b}={}}=s,{version:S,renderedVersions:y}=t,v=!S||c._id!==S.creator._id,C=new Date(p),O=S&&new Date(S.created),E=O&&u.inSameDay(O,C),k=o.h(o.Fragment,null,!E&&o.h(r.default,{date:C,hideNode:!S}),o.h(a.default,{id:l,selected:l===n,commitColor:m,hideTopConnector:!S,creator:c,created:p,messagePlaceholder:(R=s,R.creator&&R.creator._id===i.user._id?1===e.length?"Got any notes?":"What has changed in this version?":"No commit message yet."),message:b,showDelete:d.permissions.canRemoveVersions(i),versionOwner:c&&c._id===i.user._id,shouldDisplayAvatar:v||!E,compact:h,onColorChange:f,onCommitMessageChange:g,onSelect:j,onOpenMenu:T,onCloseMenu:_,onCopyWebUrl:D,onCopyAppUri:I,onDelete:P}));var R;return y.push(k),{version:s,renderedVersions:y}}),{version:null,renderedVersions:[]}).renderedVersions,t>0?o.h(c.default,{remainingVersionCount:t}):o.h(l.default,null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1592);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(761),r=i(n(1593));n(1603),t.default=function({date:e,hideNode:t}){return o.h("h3",{class:"versionHeader"},o.h(r.default.forHeader,{hideConnector:t}),o.h("span",{class:"versionHeaderText"},s.getDateString(e)))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1594);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1595)),r=i(n(718));function a(e){return o.h("div",{class:"versionNode noSelect"},e.children)}n(1602),a.forHeader=function({hideConnector:e}){return o.h("div",{class:"versionNode headerNode noSelect"},o.h("div",{class:r.default("versionConnector",{transparent:e})}))},a.forInitialCommit=function(){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:"versionConnector top",key:"initialCommitTopConnector"}),o.h("img",{src:"/img/icHeart.svg",alt:"<3",key:"icHeart"}))},a.forCommit=function({selected:e,color:t,hideTopConnector:n,compact:i,onColorChange:a}){return o.h("div",{class:"versionNode noSelect"},o.h("div",{class:r.default("versionConnector top",{transparent:n}),key:"commitTopConnector"}),o.h(s.default,{selected:e,color:t,compact:i,onColorChange:a}),o.h("div",{class:"versionConnector bottom",key:"commitBottomConnector"}))},t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1596);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1597)),a=i(n(718));n(1601),t.default=function({selected:e,color:t,compact:n,onColorChange:i}){const[l,c]=s.useState(!1);return o.h("div",{class:a.default("versionNodeDot",t,{selected:e}),onMouseEnter:()=>{c(!0)}},!n&&l&&o.h(r.default,{selected:e,color:t,onChange:i,onClose:()=>{c(!1)}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1598);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=n(1599),a=i(n(718)),l=n(559);n(1600),t.default=function({selected:e,color:t,onChange:n,onClose:i}){const c=s.useRef();return o.h("div",{ref:c,class:a.default("nodeColorChooser",t),onClick:l.stopPropagation,onMouseLeave:function(){var e;null===(e=c.current)||void 0===e||e.addEventListener("transitionend",i,{once:!0})}},o.h("div",{class:a.default("nodeColor",{selected:e})},o.h("div",null)),r.versionNodeColorOptions.map(e=>{const i=e===t;let s;return i||(s=()=>n(e)),o.h("div",{key:e,class:a.default("nodeColorOption",e,{selectedColor:i}),onClick:s})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionNodeColorOptions=void 0;t.versionNodeColorOptions=["yellow","orange","peach","green","turquoise"]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1605);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1593)),r=i(n(1606)),a=i(n(1612)),l=n(558),c=n(640),d=i(n(1135));n(1614);class Version extends o.Component{constructor(){super(...arguments),this.baseRef=o.createRef(),this.state={contextMenuOpen:!1,contextMenuOrigin:{x:0,y:0}},this.handleColorChange=e=>{const{id:t,onColorChange:n}=this.props;n({vid:t,color:c.getColorValueByName(e),syncWithApi:!0})},this.handleCommitMessageChange=e=>{const{id:t,onCommitMessageChange:n}=this.props;n({vid:t,message:e,syncWithApi:!0})},this.handleSelect=()=>{const{id:e,onSelect:t}=this.props;t(e)},this.handleOpenMenu=e=>{e.stopPropagation();const{id:t,onOpenMenu:n}=this.props;this.setState({contextMenuOpen:!0,contextMenuOrigin:{x:e.clientX,y:e.clientY-28}}),n(t)},this.handleCloseMenu=()=>{this.setState({contextMenuOpen:!1}),this.props.onCloseMenu()},this.handleCopyWebUrl=()=>{const{id:e,onCopyWebUrl:t}=this.props;t(e),mixpanel.master.track("Copied web link",{Target:"Version",Source:"Versions panel"})},this.handleCopyAppUri=()=>{const{id:e,onCopyAppUri:t}=this.props;t(e),mixpanel.master.track("Copied app URI",{Target:"Version",Source:"Versions panel"})},this.handleDelete=()=>{const{id:e,onDelete:t}=this.props;t(e)}}componentDidMount(){this.props.selected&&l.scrollIfNecessary(this.baseRef.current)}componentWillReceiveProps(e){!this.props.selected&&e.selected&&l.scrollIfNecessary(this.baseRef.current)}renderContextMenu(){const{versionOwner:e,showDelete:t}=this.props,{contextMenuOpen:n,contextMenuOrigin:i}=this.state;return n?o.h(a.default,{autoPosition:{zIndex:1e3,clickOrigin:i},canDelete:null!=e?e:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:this.handleDelete,onClose:this.handleCloseMenu}):null}render(){const{selected:e,commitColor:t,hideTopConnector:n,compact:i,creator:a,created:l,messagePlaceholder:d,message:u,versionOwner:p,shouldDisplayAvatar:h,hover:f}=this.props,{contextMenuOpen:g}=this.state,m=c.getColorName(t);return o.h("div",{ref:this.baseRef,class:"version",onClick:this.handleSelect},o.h(s.default.forCommit,{selected:e,color:m,hideTopConnector:n,onColorChange:this.handleColorChange,compact:i}),o.h(r.default,{creator:a,createdAt:l,messagePlaceholder:d,message:u,color:m,selected:e,versionOwner:p,shouldDisplayAvatar:h,shouldDisplayButtons:g||f,onOpenMenu:this.handleOpenMenu,onCommitMessageChange:this.handleCommitMessageChange}),this.renderContextMenu())}}Version.defaultProps={message:"",commitColor:c.getColorValueByName("yellow")},t.default=d.default(Version)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1607);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1608)),a=i(n(1538)),l=i(n(718)),c=n(1505);n(1611);class d extends o.Component{constructor(){super(...arguments),this.textAreaRef=s.useRef(),this.handleMessageSubmit=e=>{const{onCommitMessageChange:t}=this.props;this.setState({editing:!1}),e!==this.props.message&&t(e)},this.handleEdit=()=>{this.setState({editing:!0})},this.handleCancelEdit=()=>{this.setState({editing:!1})}}componentDidUpdate(e){var t;e.selected&&!this.props.selected&&this.state.editing&&(null===(t=this.textAreaRef.current)||void 0===t||t.cancelEdit())}render(){const{creator:e,createdAt:t,versionOwner:n,shouldDisplayButtons:i,shouldDisplayAvatar:s,onOpenMenu:d,message:u,messagePlaceholder:p,selected:h,color:f}=this.props,{editing:g}=this.state;return o.h("div",{class:l.default("versionCommit",f,{selected:h,editing:g,empty:!u})},o.h(r.default,{creator:e,createdAt:t,shouldDisplayButtons:i&&!g,shouldDisplayAvatar:s,shouldDisplayTime:!g||!i,shouldDisplayEditButton:i&&n&&!!u,onEdit:this.handleEdit,onOpenMenu:d}),o.h(a.default,{ref:this.textAreaRef,value:u||"",maxLength:1024,editing:g,color:f,placeholder:p,onCancelEdit:this.handleCancelEdit,onSubmit:this.handleMessageSubmit,formatter:c.formatComment,showEmojiAutoComplete:!0}),n&&!g&&!u&&o.h("button",{type:"button",class:"enterMessageButton",onClick:this.handleEdit},"ENTER COMMIT MESSAGE"))}}t.default=d},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1609);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(855)),a=i(n(1113)),l=n(771),c=n(559),d=n(558),u=n(549);n(1610);t.default=function({creator:e,createdAt:t,shouldDisplayButtons:n,shouldDisplayAvatar:i,shouldDisplayTime:p,shouldDisplayEditButton:h,onEdit:f,onOpenMenu:g}){const[m,b]=s.useState(!1),{src:S,srcset:y}=d.getUserAvatar(e,{ignoreRandomEmotar:!1,size:24}),v=c.formatTime(t,{hour:"numeric",minute:"numeric"}),C=o.h(o.Fragment,null,o.h(r.default,{class:"versionAuthorImageFrame",src:S,srcset:y,size:24}),o.h("div",{class:"versionAuthorName ellipsis"},e?u.getUserDisplayName(e):"Anonymous"));return o.h("div",{class:"versionMetadata"},i?o.h(o.Fragment,null,e?o.h(a.default,{class:"versionAuthor",userId:e._id,openToLeft:!1,onVisibilityChange:b},C):o.h("div",{class:"versionAuthor"},C)):o.h("time",null,v),!m&&n?o.h("div",{class:"commitButtons"},h&&o.h("button",{type:"button",onClick:f},o.h(l.IconEdit,null)),o.h("button",{type:"button",onClick:g},o.h(l.IconMenu,null))):i&&p&&o.h("time",null,v))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1613);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1050));t.default=function({autoPosition:e,canDelete:t,onClose:n,onDelete:i,onCopyWebUrl:r,onCopyAppUri:a}){return o.h(s.default.overlay,{autoPosition:e,onClose:n},o.h(s.default.Item,{onClick:r},"Copy version web link"),o.h(s.default.Item,{onClick:a},"Copy version App URI"),t&&o.h(o.Fragment,null,o.h(s.default.ItemDivider,null),o.h(s.default.Item,{onClick:i,warning:!0},"Delete version")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1616);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1593));n(1617),t.default=function(){return o.h("div",{class:"initialCommit"},o.h(s.default.forInitialCommit,null),o.h("div",{class:"commit"},o.h("h4",null,"The story begins here!"),o.h("p",null,"“Versions” panel lists the changes on this screen over time.")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1619);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(560);n(1620),t.default=function({remainingVersionCount:e}){return i.h("div",{class:"versionLimitExceeded noSelect"},o.pluralize(e,"more version")," available, ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/version-limits",target:"_blank",onClick:function(){mixpanel.master.track("Clicked version limits learn more button")}},"learn more")," about version limits in different plans")}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1623);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1624),t.default=function(){return i.h("div",{class:"versionsLoading"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1626);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(771);n(1627),t.default=function({latestVersionSelected:e,compact:t,onClick:n}){return i.h("button",{class:"versionsCollapser",onClick:n},t||!e?i.h(o.IconCollapseLeft,null):i.h(o.IconClose,null))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1630);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1631),s=n(1689),r=n(1139),a=n(1421),l=n(1704),c=n(1725),d=n.n(c),u=n(1062),p=n(681),h=n(702),f=n(687),g=n(1701),m=n.n(g),b=n(582),S=n.n(b),y=n(1702),v=n.n(y),C=n(1734),O=n.n(C),E=n(845),T=n.n(E),_=n(559),P=n(718),D=n.n(P),I=n(703),j=n(1633),k=n(761),R=n(737),A=n(563),w=n(558),N=n(560),L=n(540),M=n(640),x=n(544),U=n(543),B=n(1735),V=n.n(B);n(1736);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends i.Component{constructor(...e){super(...e),F(this,"state",{holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null,parentIndex:0}),F(this,"setZoomOrigin",e=>{if(this.zoomOrigin)return;const{top:t,left:n,width:i,height:o}=this.nodeRefs.snapshotDetail.getBoundingClientRect(),{clientX:s,clientY:r}=e;this.zoomOrigin={x:s,y:r,xRatio:(s-n)/i,yRatio:(r-t)/o}}),F(this,"setZoomOriginAsCenter",()=>{const{screenView:e,snapshotDetail:t}=this.nodeRefs,{top:n,width:i,height:o}=e.getBoundingClientRect(),{top:s,left:r,width:a,height:l}=t.getBoundingClientRect(),c=i/2,d=o/2+n;this.zoomOrigin={x:c,y:d,xRatio:(c-r)/a,yRatio:(d-s)/l}}),F(this,"scrollToZoomOrigin",()=>{const{x:e,y:t,xRatio:n,yRatio:i}=this.zoomOrigin,{screenView:o,dotgrid:s,snapshotDetail:r}=this.nodeRefs,a=o.getBoundingClientRect(),l=s.getBoundingClientRect(),c=r.getBoundingClientRect(),d=c.left-l.left-e+n*c.width,u=c.top-l.top+a.top-t+i*c.height;o.scrollTo(d,u)}),F(this,"animateScroll",()=>{this.scrollToZoomOrigin(),this.scrollHandle=requestAnimationFrame(this.animateScroll)}),F(this,"deselectLayer",()=>{h.default.deselectLayer()}),F(this,"handleMouseLeave",()=>{const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})}),F(this,"handleMouseMove",e=>{const{loading:t,selectedLayer:n,holdingSpace:i,holdingMouse:o}=this.state;t||(i&&o&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},n&&this.handleEdgeDistanceMode(e))}),F(this,"handleMouseDown",e=>{document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}}),F(this,"handleMouseUp",()=>{document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(h.default.disableNoteMode(),this.scrolledScreenView=!1)}),F(this,"handleGestureStart",e=>{e.preventDefault(),h.default.startGesture()}),F(this,"handleGestureChange",e=>{e.preventDefault(),this.setZoomOrigin(e),h.default.zoomWithGesture(e.scale)}),F(this,"handleWheel",e=>{e.ctrlKey&&(e.preventDefault(),this.setZoomOrigin(e),h.default.zoomWithWheel(e.deltaY))}),F(this,"handleKeyPress",e=>{Object(w.isEditableElement)(e.target)||e.keyCode===Zeplin.KEY_CODE.SPACE&&e.preventDefault()}),F(this,"handleKeyDown",e=>{if(Object(w.isEditableElement)(e.target))return;const{screenId:t,percentageMode:n,selectedLayer:i,destinationLayer:o,parentLayers:{length:s},parentIndex:r,holdingSpace:a,edgesToMeasure:l,componentLayer:c,variantViewState:{componentVariantViewVisible:d,stateVariants:u},variantViewSourceLayerId:p}=this.state;if(e.keyCode!==Zeplin.KEY_CODE.SPACE||a)if(e.keyCode===Zeplin.KEY_CODE.ArrowUp&&n&&s)e.preventDefault(),this.setState({parentIndex:(r+1)%s});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown&&n&&s)e.preventDefault(),this.setState({parentIndex:(r-1+s)%s});else if(e.altKey||e.keyCode!==Zeplin.KEY_CODE.ArrowLeft)if(e.altKey||e.keyCode!==Zeplin.KEY_CODE.ArrowRight){if(e.altKey){switch(e.code){case U.Keyboard.Code.Minus:e.preventDefault(),e.stopPropagation(),h.default.zoomOut();break;case U.Keyboard.Code.Equal:e.preventDefault(),e.stopPropagation(),h.default.zoomIn()}switch(e.keyCode){case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),h.default.resetZoom();break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),h.default.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),h.default.openTagManager([t]);break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),h.default.toggleVersions()}}}else{e.preventDefault();const n=f.default.getNextScreen(t);n&&f.default.navigateToScreen(n._id)}else{e.preventDefault();const n=f.default.getPreviousScreen(t);n&&f.default.navigateToScreen(n._id)}else e.preventDefault(),this.setState({holdingSpace:!0});if(!Object(L.cmdKey)(e)||!Object(L.isCmdPressed)(e)||Object(L.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?h.default.disableNoteMode():h.default.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!i||!o&&!l?h.default.disablePercentageMode():h.default.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?h.default.hideFlowLinks():h.default.showFlowLinks(),e.key===U.Keyboard.Key.v){if(i&&c&&c.variant&&i._id!==p)return void m.a.open(c._id,O.a.SHORTCUT);if(d&&u){const e=u.findIndex(e=>e.selected);if(-1===e)return;let t,n=(e+1)%u.length;for(;n!==e;){if(({coid:t}=u[n]),t)return m.a.changeVariant({coid:t,variantChangeValueSource:v.a.SHORTCUT,isState:!0});n=(n+1)%u.length}}}}),F(this,"handleKeyUp",e=>{if(Object(w.isEditableElement)(e.target))return;const{holdingSpace:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:o}=this.state;e.keyCode===Zeplin.KEY_CODE.SPACE&&t&&(e.preventDefault(),this.setState({holdingSpace:!1})),!Object(L.cmdKey)(e)||Object(L.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?h.default.disableNoteMode():h.default.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!n||!i&&!o?h.default.disablePercentageMode():h.default.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?h.default.hideFlowLinks():h.default.showFlowLinks()}),F(this,"handleCopy",e=>{const{selectedLayer:t}=this.state;if(!t||"text"!==t.type)return;"Range"!==window.getSelection().type&&(e.preventDefault(),e.clipboardData.setData("text/plain",t.content))}),F(this,"handleCopyDotWebUrl",e=>{const{screenView:t}=this.nodeRefs;Object(w.copyContent)({content:e,toastContainer:t})}),F(this,"handleCopyDotAppUri",e=>{const{screenView:t}=this.nodeRefs,{barrelId:n,screenId:i}=this.state,o=`${x.ZPL_PROTOCOL}//dot?pid=${n}&sid=${i}&did=${e}`;Object(w.copyContent)({content:o,toastContainer:t})}),F(this,"handleLayerSelect",(e,t)=>{const{noteMode:n,holdingSpace:i}=this.state;n||i||(e.stopPropagation(),this.setState({edgesToMeasure:null}),h.default.selectLayer(t))}),F(this,"handleComponentLayerTagClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Header"})}),F(this,"handleZoomIn",()=>{this.setZoomOriginAsCenter(),h.default.zoomIn()}),F(this,"handleZoomOut",()=>{this.setZoomOriginAsCenter(),h.default.zoomOut()}),F(this,"handleZoomChange",e=>{this.setZoomOriginAsCenter(),h.default.changeZoomLevel(e,!0)}),F(this,"handleComponentVariantsButtonClick",e=>{m.a.open(e,O.a.LAYER_DETAIL)}),F(this,"handleScroll",()=>{const{screenView:e}=this.nodeRefs,{scrollTop:t,scrollLeft:n}=e;h.default.changeScrollPosition(t,n)}),F(this,"handleScreenVariantSelect",(e,t)=>{h.default.selectScreenVariant({svid:e,usingKeyboardShortcut:t})}),F(this,"handleScreenVariantRename",(e,t)=>{h.default.renameScreenVariant({svid:e,name:t,syncWithApi:!0})}),F(this,"handleScreenVariantReorder",(e,t)=>{h.default.reorderScreenVariant({svid:e,index:t,syncWithApi:!0})}),F(this,"handleScreenVariantRemove",e=>{h.default.removeScreenVariant({svid:e,syncWithApi:!0})}),F(this,"handleScreenVariantDelete",e=>{h.default.removeScreen({sid:e,vgid:this.state.variantGroup._id,syncWithApi:!0})})}static getStores(){return[S.a.BarrelStore,S.a.ScreenStore,S.a.ProjectsDataStore,S.a.StyleguidesDataStore,S.a.UserStore,S.a.ComponentVariantStore,S.a.DotsStore]}static calculateState(e={}){const t=p.default.getStyleguidesData({barrelStore:S.a.BarrelStore,styleguidesDataStore:S.a.StyleguidesDataStore,projectsDataStore:S.a.ProjectsDataStore}),{loading:n,barrelId:i,barrelType:o,screenVersionsLastSeen:s}=S.a.BarrelStore.getState();if(n)return{loading:!0};const r=p.default.findUser(),{screenId:a,loadingVersions:l,versionId:c,animateZooming:d,zoomLevel:u,percentageMode:h,selectedLayer:g,destinationLayer:m,flowLinksVisible:b,latestVersionSelected:y,layoutGridEnabled:v,notesVisible:C,noteMode:O,hasNewVersions:E,showVersionsAuntie:T,showVersionsTutorial:P,versionsVisible:D}=S.a.ScreenStore.getState(),{componentVariantViewVisible:k,selectedComponentVariantId:R,selectedLayer:A,destinationLayer:w,sourceLayerId:N}=S.a.ComponentVariantStore.getState();if(l&&!y)return{loading:!0};const{statusFilter:L,colorFilter:M}=S.a.DotsStore.getState(),x=sessionStorage.getItem("newVersionsAuntieStatus"),U=sessionStorage.getItem("versionsCommitAuntieStatus"),B=p.default.getBarrel(),W=f.default.getScreen(),G=f.default.getVersion({sid:a,vid:c}),{snapshot:H}=G,$=B.variantGroups&&B.variantGroups.find(({screens:e})=>e.find(({id:e})=>e===W._id)),q=Object(I.getComponentLayerForVariant)(H,g,t),Z=q?{_id:q.component._id,name:q.component.name,rect:q.layer.absoluteRect,variant:!!q.component.variant}:null;let K={};if(k){const{ancestors:e,component:n}=Object(I.findComponentById)(t,R);K=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedComponentVariantId:R,componentVariantViewVisible:k,selectedLayer:A,destinationLayer:w},V()({ancestors:e,component:n},o,i))}const Y=t.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),J=h&&g&&m&&H?Object(j.findParents)(g,m,H):[],{parentLayers:X=[]}=e;let{parentIndex:Q=0}=e;const ee=_.arrayEqual(X,J,(e,t)=>e._id===t._id);return h&&g&&m&&ee||(Q=0),{loading:!1,barrelId:i,barrel:B,remPreferences:t[0].remPreferences,barrelUser:r,screenId:a,screen:W,version:G,componentLayer:Z,spacingTokens:Y,animateZooming:d,zoomLevel:u,percentageMode:h,selectedLayer:g,destinationLayer:m,parentLayers:J,parentIndex:Q,flowLinksVisible:b,layoutGridEnabled:v,notesVisible:C,noteMode:O,latestVersionSelected:y,hasNewVersions:E,showVersionsAuntie:T,showVersionsTutorial:P,screenVersionsLastSeen:s,newVersionsAuntieStatus:x,versionsCommitAuntieStatus:U,versionsVisible:D,variantViewState:K,variantViewSourceLayerId:N,notesStatusFilter:L,notesColorFilter:M,variantGroup:$}}dismissVersionsCommitAuntie(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}dismissNewVersionsAuntie(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!_.arrayEqual(t,e,(e,t)=>e===t)))&&this.setState({edgesToMeasure:e})}resetModeFlags(){h.default.hideFlowLinks(),h.default.disablePercentageMode(),h.default.disableNoteMode()}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleNotesVisibilityChange(e){e?h.default.showNotes():h.default.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),h.default.showVersionsAuntie()}getChildContext(){const{barrel:{densityScale:e,dimensionSuffix:t}={},barrelUser:n}=this.state;return{densityScale:e,dimensionSuffix:t,canManageScreens:n&&_.permissions.canManageScreens(n.role)}}componentDidMount(){const{selectedLayer:e}=this.state,{dotgrid:t,screenView:n}=this.nodeRefs;e&&document.addEventListener("click",this.deselectLayer),window.addEventListener("blur",this.resetModeFlags),document.addEventListener("keypress",this.handleKeyPress),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("copy",this.handleCopy),n.addEventListener("scroll",this.handleScroll,{passive:!0}),"GestureEvent"in window&&(t.addEventListener("gesturestart",this.handleGestureStart),t.addEventListener("gesturechange",this.handleGestureChange))}componentDidUpdate(e,t){const{zoomLevel:n,animateZooming:i,selectedLayer:o}=this.state;t.zoomLevel!==n&&this.zoomOrigin&&(clearTimeout(this.originResetTimeout),this.originResetTimeout=setTimeout(()=>{cancelAnimationFrame(this.scrollHandle),this.zoomOrigin=null},300),cancelAnimationFrame(this.scrollHandle),this.scrollHandle=i?requestAnimationFrame(this.animateScroll):requestAnimationFrame(this.scrollToZoomOrigin)),o?document.addEventListener("click",this.deselectLayer):document.removeEventListener("click",this.deselectLayer)}componentWillUnmount(){const{dotgrid:e,screenView:t}=this.nodeRefs;window.removeEventListener("blur",this.resetModeFlags),this.resetModeFlags(),document.removeEventListener("click",this.deselectLayer),document.removeEventListener("keypress",this.handleKeyPress),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("mouseup",this.handleMouseUp),t.removeEventListener("scroll",this.handleScroll),"GestureEvent"in window&&(e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange))}renderScreen(){const{loading:e,screen:t,version:n,componentLayer:s,spacingTokens:r,barrel:a,barrelUser:l,remPreferences:c,zoomLevel:d,percentageMode:u,selectedLayer:p,destinationLayer:f,parentLayers:g,parentIndex:m,edgesToMeasure:b,flowLinksVisible:S,layoutGridEnabled:y,latestVersionSelected:v,notesVisible:C}=this.state;if(e||!t||!n)return i.h(o.default.Loading,null);const{snapshot:O}=n,E=g[m];return i.h(o.default,{snapshotDetailRef:Object(R.default)(this,"snapshotDetail"),screenViewRef:this.nodeRefs.screenView,project:a,screen:t,snapshot:O,barrelUser:l,remPreferences:c,notesVisible:C&&v,layoutGridEnabled:y,zoomLevel:d,selectedLayer:p,destinationLayer:f,parentLayer:E,componentLayer:s,spacingTokens:r,percentageMode:u,flowLinksVisible:S,edgesToMeasure:b,onCopyDotWebUrl:this.handleCopyDotWebUrl,onCopyDotAppUri:this.handleCopyDotAppUri,onLayerSelect:this.handleLayerSelect,onLayerEnter:h.default.enterLayer,onLayerLeave:h.default.leaveLayer,onComponentLayerTagClick:this.handleComponentLayerTagClick,onComponentVariantsButtonClick:this.handleComponentVariantsButtonClick})}renderDotGrid(){const{version:e,zoomLevel:t,animateZooming:n,holdingSpace:o,holdingMouse:s,noteMode:r}=this.state;let a,l;e?({snapshot:{width:a,height:l}}=e):(a=320,l=480);const c=20*t,d=`linear-gradient(to bottom, transparent, transparent ${2*t}px, #FFF ${2*t}px, #FFF ${c}px), linear-gradient(to right, #C8C3C7, #C8C3C7 ${2*t}px, #FFF ${2*t}px, #FFF ${c}px`,u=window.innerWidth/2-151-t*a/2+"px "+(-3*c+58)+"px",p=c+"px "+c+"px";return i.h("div",{class:D()("dotgrid","noSelect",{noteMode:r,zooming:n,grab:o&&!s,grabbing:o&&s}),style:{width:a*t+240,height:l*t+120,backgroundImage:d,backgroundPosition:u,backgroundSize:p},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onTransitionEnd:h.default.zoomApplied,ref:Object(R.default)(this,"dotgrid")},this.renderScreen())}renderScreenVariants(){const{variantGroup:e,screen:t}=this.state;return e&&e.screens.length?i.h(u.default,{class:"screenVariantsContainer",itemsClass:"screenVariantsDragItems"},i.h(d.a,{selectedVariantId:t._id,screenVariants:e.screens,onSelect:this.handleScreenVariantSelect,onRename:this.handleScreenVariantRename,onReorder:this.handleScreenVariantReorder,onDelete:this.handleScreenVariantDelete,onRemove:this.handleScreenVariantRemove})):null}renderComponentVariants(){const{loading:e,barrel:t,screen:n,remPreferences:o,spacingTokens:r,variantViewState:a}=this.state;if(e||!a.componentVariantViewVisible)return null;const{componentName:l,componentURL:c,snapshot:d,stateVariants:u,otherVariants:p,selectedLayer:h,destinationLayer:f,largestOfVariants:g}=a;return i.h(s.default,{screenViewRef:this.nodeRefs.screenView,componentName:l,componentURL:c,screenName:n.name,platform:t.type,remPreferences:o,spacingTokens:r,snapshot:d,stateVariants:u,otherVariants:p,selectedLayer:h,destinationLayer:f,largestOfVariants:g})}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,latestVersionSelected:o,versionsVisible:s,screen:r,barrelUser:a,notesStatusFilter:c,notesColorFilter:d}=this.state,u=!r||!r.dots,p=r&&r.dots&&0===r.dots.length,f=!n||u||p,g=u?[]:r.dots.filter(e=>Object(M.checkFilter)(e,c,d,a.user));return i.h(l.default,{latestVersionSelected:o,versionsVisible:s,hasNewVersions:t,onVersionsToggleClick:h.default.showVersions,zoomLevel:e,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomChange:this.handleZoomChange,onPopoutWidgetClick:h.default.openPopout,onAddNoteWidgetClick:h.default.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange,fetchingNotes:u,noNotes:p,dotCount:g.length,notesStatusFilter:c,notesColorFilter:d,disableFilterNotesDropdown:f,onFilterNotesChange:h.default.changeDotFilter})}renderEarlierVersionWarning(){const{version:e,latestVersionSelected:t}=this.state;return!e||t?null:i.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.h("time",{datetime:e.created},Object(k.getDateString)(e.created)))}renderVersionsAuntie(){const{loading:e,barrelUser:t,screenId:n,screen:o,hasNewVersions:s,showVersionsTutorial:l,showVersionsAuntie:c,screenVersionsLastSeen:d,versionsCommitAuntieStatus:u,newVersionsAuntieStatus:p}=this.state;if(e)return null;const{versions:f}=o||{};if(l)return i.h("img",{class:"versionsTutorialCircle",src:Object(A.imageUrl)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick});if(c)return i.h(r.default,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:h.default.hideVersionsAuntie});if(!s)return null;const g=d&&d[n]?d[n]:new Date(0),m=f.filter(({created:e})=>new Date(e)>g),b=m.filter(({creator:e})=>e&&e._id===t.user._id),S=b.find(({commit:e})=>!e||!e.message),y=m.length-b.length;if(S&&"dismissed"!==u){const e=new Date-new Date(S.created)>36e5?i.h("span",null,"Looks like you uploaded a version ",i.h(a.default,{type:"time-ago",datetime:S.created}),". Add a commit message and share what has changed!"):"New version! Add a commit message and share what has changed.";return i.h(r.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissVersionsCommitAuntie})}if(y&&"dismissed"!==p){const e=`There ${y>1?"are":"is"} ${Object(N.pluralize)(y,"new version",{one:"a"})} since you last visited!`;return i.h(r.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissNewVersionsAuntie})}return null}render(){return i.h("div",{class:"screenViewContainer"},i.h("section",{class:"screenView",ref:Object(R.default)(this,"screenView")},this.renderDotGrid()),this.renderScreenVariants(),this.renderComponentVariants(),this.renderWidgets(),this.renderEarlierVersionWarning(),this.renderVersionsAuntie())}}t.default=T()(W)},function(e,t,n){"use strict";n.r(t);var i=n(1632);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737),a=n(1633),l=n(1634),c=n(1660),d=n(1666),u=n(1669);n(1688);class Screen extends i.Component{constructor(e){super(e),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleSnapshotDetailRef=this.handleSnapshotDetailRef.bind(this),this.layerClickHandler=Object(a.getLayerClickHandler)()}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:o}=this.props,s=this.nodeRefs.snapshotDetail.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:i,snapshotDetailRect:s}))}handleSnapshotDetailRef(e){Object(r.default)(this,"snapshotDetail")(e);const{snapshotDetailRef:t}=this.props;t&&t(e)}componentWillReceiveProps(e){const{selectedLayer:t}=e,{selectedLayer:n}=this.props;!t&&n&&this.layerClickHandler.reset()}renderScreenImage(){const{zoomLevel:e,snapshot:{_id:t,width:n,height:o}}=this.props;return i.h(u.default.Image,{key:"snapshotImage-"+t,class:s()("snapshotImage",{pixelated:e>=2}),style:{width:n*e,height:o*e}})}renderComponentLayer(){const{project:e,screen:{name:t},snapshot:{width:n,height:o},componentLayer:s,zoomLevel:r,onComponentLayerTagClick:a,onComponentVariantsButtonClick:l}=this.props;return i.h(u.default.ComponentLayer,{barrelId:e.id,barrelType:"project",containerName:t,componentLayer:s,containerWidth:n,containerHeight:o,zoomLevel:r,onTagClick:a,onVariantsButtonClick:l})}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,parentLayer:o,onLayerEnter:s,onLayerLeave:r,edgesToMeasure:a}=this.props;return e.layers?i.h(u.default.Layers,{key:"layers",layers:e.layers,selectedLayerId:t?t._id:null,hoveredId:n?n._id:null,edgeDistanceMode:!!a,parentLayer:o,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:s,onLayerLeave:r}):null}renderFlowLinks(){const{project:e,snapshot:t,flowLinksVisible:n}=this.props;return n&&t.links&&t.links.length?i.h(c.default,{key:"flowLinks",project:e,snapshot:t}):null}renderDotsContainer(){const{screenViewRef:e,notesVisible:t,onCopyDotWebUrl:n,onCopyDotAppUri:o}=this.props;return t?i.h(l.default,{key:"dotsContainer",screenViewRef:e,onCopyWebUrl:n,onCopyAppUri:o}):null}renderRulers(){const{selectedLayer:e}=this.props;return e?i.h(u.default.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height}):null}renderDistances(){const{selectedLayer:e,destinationLayer:t,parentLayer:n,percentageMode:o,edgesToMeasure:s}=this.props;return e&&(t||s&&s.length)?t?i.h(u.default.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:o,parentRect:n?n.rect:null}):i.h(u.default.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:s,percentageMode:o}):null}renderLayoutGrid(){const{layoutGridEnabled:e,zoomLevel:t,snapshot:n}=this.props;return e&&n.grid?i.h(d.default,{key:"layoutGrid",zoomLevel:t,width:n.width,height:n.height,grid:n.grid}):null}renderLayersAndDots(){const{flowLinksVisible:e}=this.props;return e?null:[this.renderDotsContainer(),this.renderLayers(),this.renderRulers(),this.renderDistances(),this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},project:{type:o},remPreferences:s,zoomLevel:r,spacingTokens:a}=this.props;return i.h(u.default,{baseRef:this.handleSnapshotDetailRef,snapshot:e,platform:o,spacingTokens:a,remPreferences:s,style:{width:t*r,height:n*r},class:"screenSnapshotDetail"},this.renderScreenImage(),this.renderFlowLinks(),this.renderLayersAndDots())}}Screen.Loading=()=>i.h("div",{class:"screen loading"}),t.default=Screen},function(e,t,n){"use strict";n.r(t),n.d(t,"findParents",(function(){return g})),n.d(t,"addAssetStats",(function(){return m})),n.d(t,"createArtboardLayer",(function(){return b})),n.d(t,"preprocessLayers",(function(){return S})),n.d(t,"getLayerClickHandler",(function(){return y})),n.d(t,"findCoveringLink",(function(){return v}));var i=n(544),o=n(559),s=n(556),r=n(563),a=n(547),l=n(543);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){const{url:t,format:n,density:i,densityScale:s=Object(o.getDensityScale)(i)}=e;return fetch(t,{method:"HEAD"}).then(e=>({length:e.headers.get("Content-Length"),densityScale:s,format:n}))}function h(e){return Promise.all([e,e.optimized].map(p)).then(([{length:t},{length:n}])=>{e.optimized.percent=Math.round((t-n)/t*100)}).catch(e=>{})}function f(e,t,n){let i=[];for(let o=e.length-1;o>=0;o--){const s=e[o],{width:r,height:a}=s.rect,l=r<3?6:0,c=a<3?6:0,d=s.absoluteRect.y-c,u=s.absoluteRect.x+r+l,p=s.absoluteRect.y+a+c;s.absoluteRect.x-l<=t&&d<=n&&u>=t&&p>=n&&("group"===s.type?("top"===s.interactionLevel&&i.push(s),i=i.concat(f(s.layers,t,n)),"bottom"===s.interactionLevel&&i.push(s)):i.push(s))}return i}function g(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let o=function e(t,n){let i=[];for(let o=0;o<t.length;o++){let s=t[o],r=s.absoluteRect.x+s.rect.width,a=s.absoluteRect.y+s.rect.height;s.absoluteRect.x<=n.left&&s.absoluteRect.y<=n.top&&r>=n.right&&a>=n.bottom&&(("group"!==s.type||["bottom","top"].includes(s.interactionLevel))&&i.push(s),"group"===s.type&&(i=i.concat(e(s.layers,n))))}return i}(n.layers,i);return e===t&&(o=o.filter(t=>!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e))),o.length?o.sort((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height):[n.layers[0]]}function m(e,t,n,s){const c={},u=new Set,f=s.contents.filter(({originalURL:e,format:t})=>Boolean(e)&&"webp"!==t);let g=s.contents.filter(({format:e})=>"webp"===e);s.contents=s.contents.filter(({originalURL:e})=>!e),g=g.map(e=>d(d({},s.contents.find(({url:t})=>t===e.originalURL)),{},{_id:e._id,format:"webp",optimized:d({},e)})),s.contents=[...s.contents,...g];const m=[];for(let i=0;i<s.contents.length;i++){const{url:e,format:t,density:n,densityScale:r=Object(o.getDensityScale)(n),optimized:a}=s.contents[i];if(!a){const t=f.find(({originalURL:t})=>t===e);t&&(s.contents[i].optimized=d({},t))}const l=s.contents[i].optimized;l&&l.url&&"ready"===l.status&&m.push(h(s.contents[i])),t in c?c[t]++:c[t]=1,u.add(r)}let b;var S;b=!("jpg"in c)||"svg"in c||"pdf"in c||c.jpg!==c.png?"svg"in c?"optimized"in(S=s.contents.find(({format:e})=>"svg"===e))?Promise.resolve():(S.optimized=d(d({},S),{},{url:`${i.IMG_URL}/svgo/${encodeURIComponent(S.url)}`}),Promise.all([S,S.optimized].map(p)).then(([{length:e},{length:t}])=>{S.optimized.percent=Math.round((e-t)/e*100)}).catch(e=>{S.optimized=null})):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,o=0;return Promise.all(e.contents.map(p)).then(s=>{t.forEach(e=>{const t=s.filter(t=>t.densityScale===e).reduce((e,t)=>(e[t.format]=t.length,e),{});i+=Number(t.jpg)/Number(t.png),o+=Number(t.png)/Number(t.jpg)}),i=Math.round(100-i/t.size*100),o=Math.round(100-o/t.size*100),i>=10?n={type:"jpg",diff:i}:o>=10&&(n={type:"png",diff:o}),n&&(e.percent=n)}).catch(e=>{})}(s,u);const y=s.contents.find(({density:e,densityScale:t=Object(o.getDensityScale)(e),format:n})=>t===l.DENSITY.BASE&&"png"===n);const v=!y||"lightness"in s?Promise.resolve():Object(r.getImageProperties)(y.url).then(e=>Object.assign(s,e)).catch(e=>null),C="localName"in s?Promise.resolve():function(e,t,n,i){const o=n.assets.find(e=>e._id===i);return o?"localName"in o?Promise.resolve(o.localName):a.barrelPrefs.get(e,t,"assetNames").then(e=>e&&e[i]):Promise.resolve()}(e,t,n,s._id).then(e=>{e&&Object.assign(s,{localName:e})});return Promise.all([b,v,C,...m])}function b(e,{_id:t,width:n,height:i,backgroundColor:o}){return{_id:t,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:n,height:i},type:"shape",fills:o?[{fillType:"color",color:o}]:[],borders:[],shadows:[]}}function S(e,t=null){const{absoluteRect:n={x:0,y:0}}=t||{};for(const i of e)i.absoluteRect={x:i.rect.x+n.x,y:i.rect.y+n.y,width:i.rect.width,height:i.rect.height},i.parent=t,"group"===i.type&&(Array.isArray(i.layers)?S(i.layers,i):i.layers=[])}function y(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:s,width:r,height:a},selectedLayer:l,snapshotDetailRect:c}){let d=i;const u=(n.clientX-c.left)/c.width*r,p=(n.clientY-c.top)/c.height*a,h=f(s,u,p);if(e&&t&&l){const n=f(s,e,t);if(Math.hypot(e-u,t-p)>40||!Object(o.arrayEqual)(h,n,(e,t)=>e._id===t._id))d=h[0];else{const e=l._id,t=h.findIndex(t=>t._id===e);d=h[(t+1)%h.length]}}else d=h[0];return e=u,t=p,d}}}function v(e,t,n){if(!n||!t.snapshot.links)return;const i=t.snapshot.links.find(e=>Object(o.rectContains)(e.rect,n.absoluteRect));if(!i)return;let r,a,l;switch(i.destination.type){case"previous":a="previous screen";break;case"screen":a=i.destination.name,r=e.findScreenByName(i.destination.name),r&&(l=Object(s.urlResolve)("project-screen",{url:{pid:e.id,sid:r._id}}));break;default:return}return{name:a,url:l}}},function(e,t,n){"use strict";n.r(t);var i=n(1635);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(640),s=n(556),r=n(555),a=n(1164),l=n(1636),c=n(1644),d=n.n(c),u=n(681),p=n(702),h=n(582),f=n.n(h),g=n(687),m=n(845),b=n.n(m);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}class E extends i.Component{constructor(...e){super(...e),T.set(this,{writable:!0,value:i.createRef()}),C(this,"handleDelete",e=>{const{barrelUser:t}=this.state,{creator:n}=g.default.getDot({did:e})||{};let i;i=n?n._id===t.user._id?"Delete your note?":`Delete ${n.username}’s note?`:"Delete note?",r.create({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb(){p.default.removeDot({did:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}),C(this,"handleMenuOpen",e=>{const{barrelId:t,screenId:n}=this.state,i=Object(s.urlResolve)("project-screen",{url:{pid:t,sid:n},query:{did:e}});Object(a.fetchShortlink)(i),p.default.openDotMenu()}),C(this,"handleCopyWebUrl",e=>{const{onCopyWebUrl:t}=this.props,{barrelId:n,screenId:i}=this.state,o=Object(s.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:e}});t(Object(a.getShortlink)(o))})}static calculateState(){const{loading:e,barrelId:t}=f.a.BarrelStore.getState();if(e)return{loading:e};const n=u.default.findUser(),{statusFilter:i,colorFilter:s,flash:r,dotId:a,highlightedDots:l}=f.a.DotsStore.getState(),{noteMode:c,screenId:d}=f.a.ScreenStore.getState(),{dots:p=[]}=g.default.getScreen()||{},h=p.filter(e=>Object(o.checkFilter)(e,i,s,n.user)).map(e=>{const{_id:t,status:n="open",color:i,comments:s}=e,r=v(e,["_id","status","color","comments"]),a=Object(o.getColorName)(i);return y(y({},r),{},{id:t,colorName:a,status:n,highlight:l.includes(t)})});return{loading:e,barrelUser:n,dots:h,dotId:a,noteMode:c,flash:r,screenId:d,barrelId:t}}static getStores(){return[f.a.BarrelStore,f.a.ScreenStore,f.a.DotsStore,f.a.ProjectsDataStore,f.a.UserStore]}handleCreate(e,t){p.default.createNote({x:e,y:t})}handlePositionChange(e,t,n){p.default.updateDotPosition({did:e,x:t,y:n,syncWithApi:!0})}handleStatusChange(e,t){p.default.updateDotStatus({did:e,status:t,syncWithApi:!0})}render(){const{screenViewRef:e,onCopyAppUri:t}=this.props,{barrelUser:n,loading:o,dotId:s,dots:r,noteMode:a,flash:c}=this.state;return o?null:i.h(i.Fragment,null,i.h(l.default,{dotRef:O(this,T),dots:r,selectedDotId:s,noteMode:a,flash:c,barrelUser:n,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:t,onPositionChange:this.handlePositionChange,onStatusChange:this.handleStatusChange,onMenuOpen:this.handleMenuOpen,onClick:p.default.selectDot,onCreate:this.handleCreate,onMoveThresholdExceed:p.default.closeDotPopup,onAnimationEnd:p.default.dotsFlashed,onDelete:this.handleDelete}),i.h(d.a,{dotRef:O(this,T),screenViewRef:e}))}}var T=new WeakMap;t.default=b()(E)},function(e,t,n){"use strict";n.r(t);var i=n(1637);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(1638),s=n(1641),r=n(559),a=n(640),l=n(718),c=n.n(l),d=n(737);n(1643);class u extends i.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.handleClick=this.handleClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:11},this.clickedDotOriginX=null,this.clickedDotOriginY=null}isDragging(e){const{movingDot:{id:t}}=this.state;return e.id===t}isMoving(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDragging(e)&&t}isOverlapping(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+13,e.top+13);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.comparePositions()}comparePositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+13,n=e.top+13,i=this.nodeRefs.base.children;for(let o=0;o<i.length&&i[o].classList.contains("dot");o++){const e=i[o].getBoundingClientRect();if(i[o]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleContextMenu(e,t){const{onMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleMenuClose(){this.setState({dotMenu:{}})}handleMouseDown(e,t){Object(a.isDraft)(t)||(this.clickedDotOriginX=e.clientX,this.clickedDotOriginY=e.clientY,this.setState({dotMenu:{},movingDot:{id:t,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMoveBeforeThreshold(e){const{dots:t,onMoveThresholdExceed:n}=this.props,{movingDot:{id:i},movingDot:o}=this.state,s=Math.abs(e.clientX-this.clickedDotOriginX),r=Math.abs(e.clientY-this.clickedDotOriginY);if(Math.hypot(s,r)>4){n();const{x:e,y:s}=t.find(e=>e.id===i);this.setState({movingDot:Object.assign({},o,{x:e,y:s,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.base.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),o=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),s=this.isOverlapping();this.setState({movingDot:Object.assign({},n,{x:i,y:o,overlap:s})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp),this.clickedDotOriginX=null,this.clickedDotOriginY=null;const{onPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:o,y:s},movingDot:r,dotZIndex:a}=this.state;n?i?this.setState({movingDot:Object.assign({},r,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:a+1}),e(t,o,s)):this.setState({movingDot:{}})}handleTransitionEnd(){this.setState({movingDot:{}})}handleClick(e){const{noteMode:t,onCreate:n}=this.props;if(t){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect();n(Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),Math.max(0,Math.min((e.clientY-t.top)/t.height,1)))}}handleDotClick(e){if(Object(a.isDraft)(e))return;const{onClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t({dotId:e,source:"Layer detail"})}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find(e=>e.id===t),o=i.find(e=>e.id===t);o&&o.x===e.x&&o.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:o},movingDot:s}=this.state;if(n){const n=e.find(e=>t===e.id&&i!==e.x&&o!==e.y);n&&this.setState({movingDot:Object.assign({},s,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dotRef:e,dots:t,selectedDotId:n}=this.props,{movingDot:s,dotZIndex:r,dotMenu:a}=this.state;return t.map(t=>{const l=Object.assign({},t,{key:t.id,selected:n===t.id,baseRef:n===t.id?e:null,zIndex:r,menuOpen:a.id===t.id,onClick:this.handleDotClick});return this.isMoving(t)?i.h(o.default,Object.assign({},l,{x:s.x,y:s.y,moving:!0,overlap:s.overlap,revert:s.revert,onTransitionEnd:s.revert?this.handleTransitionEnd:null,zIndex:r+5,draggingRef:Object(d.default)(this,"dragging")})):this.isDragging(t)?i.h(o.default,Object.assign({},l,{draggingRef:Object(d.default)(this,"dragging")})):i.h(o.default,Object.assign({},l,{onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown}))})}renderMenu(){const{dots:e,barrelUser:t,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:a,onDelete:l,onMenuOpen:c}=this.props,{dotMenu:{id:d,origin:u},dotZIndex:p}=this.state;if(!d)return null;const h=e.find(e=>e.id===d);if(!h)return null;const f=h.creator&&h.creator._id===t.user._id||r.permissions.canRemoveNotes(t);return i.h(s.default,{key:"dotmenu",id:d,status:h.status,canDelete:f,autoPosition:{clickOrigin:u,zIndex:p},onClose:this.handleMenuClose,onOpen:c,onStatusChange:n,onCopyWebUrl:o,onCopyAppUri:a,onDelete:l})}render(){const{noteMode:e,flash:t,onAnimationEnd:n}=this.props,o=c()("dots",{noteMode:e});return i.h("div",{class:o,ref:Object(d.default)(this,"base"),onClick:this.handleClick},this.renderDots(),this.renderMenu(),t&&i.h("div",{key:"flash",class:"flash",onAnimationEnd:n}))}}},function(e,t,n){"use strict";n.r(t);var i=n(1639);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(886);n(1640);class c extends l.default{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(e,t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{baseRef:e,name:t,colorName:n,x:o,y:s,status:r="open",highlight:l,moving:c,overlap:d,revert:u,selected:p,menuOpen:h,zIndex:f,draggingRef:g}=this.props,m=`calc(${100*o}% - 13px)`,b=`calc(${100*s}% - 13px)`,S=a()("dot",n,r,{highlight:l,moving:c,menuOpen:h,overlap:d,revert:u,selected:p});return i.h("div",{class:S,ref:g||e,"data-color":n,style:{left:m,top:b,zIndex:f},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}c.propTypes={id:s.a.string,name:s.a.string,colorName:s.a.string,x:s.a.number,y:s.a.number,status:s.a.oneOf(["open","resolved"]),moving:s.a.bool,menuOpen:s.a.bool,zIndex:s.a.number},c.defaultProps={moving:!1,overlap:!1,revert:!1,selected:!1},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1642);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050);class s extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{const{onOpen:e,id:t}=this.props;e(t)},(n="handleMenuOpen")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleStatusChange=this.handleStatusChange.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyWebUrl(e){e.stopPropagation();const{id:t,onCopyWebUrl:n}=this.props;n(t),mixpanel.master.track("Copied web link",{Target:"Dot"})}handleCopyAppUri(e){e.stopPropagation();const{id:t,onCopyAppUri:n}=this.props;n(t),mixpanel.master.track("Copied app URI",{Target:"Dot"})}handleDelete(e){e.stopPropagation();const{id:t,onDelete:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:s}=this.props;return i.h(o.default.overlay,{onClose:s,onOpen:this.handleMenuOpen,autoPosition:n},i.h(o.default.Item,{onClick:this.handleStatusChange},"open"===e?"Resolve":"Reopen"),i.h(o.default.ItemDivider,null),i.h(o.default.Item,{onClick:this.handleCopyWebUrl},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppUri},"Copy App URI"),t&&i.h(o.default.ItemDivider,null),t&&i.h(o.default.Item,{warning:!0,onClick:this.handleDelete},"Delete note"))}}t.default=s},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1645);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i,o,s=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},l=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},c=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=n(4),p=d(n(582)),h=d(n(681)),f=d(n(702)),g=d(n(687)),m=d(n(845)),b=d(n(1646)),S=d(n(1035)),y=n(543),v=a(n(555)),C=d(n(718)),O=n(640),E=n(559),T=n(561),_=n(557),P=d(n(735)),D=d(n(1647)),I=d(n(1653)),j=d(n(1656));n(1659);class k extends u.Component{constructor(){super(...arguments),i.set(this,u.createRef()),o.set(this,""),this.relocateDotPopup=()=>{const{dotRef:e,screenViewRef:t}=this.props,{dotId:n,dot:o}=this.state;if(!(n&&o&&e.current&&t))return;const s=o.x<=.5?"left":"right",r=t.getBoundingClientRect(),a=l(this,i).current.getBoundingClientRect(),c=e.current.getBoundingClientRect(),d=c.left+c.width/2,u=c.top+c.height/2,p=u-13,h=d+13,f=u+13,g=d-13;let m=6,b=6,S=29,y=!1,v="left";h<=0?(y=!0,m=6):g>=r.right?(y=!0,m=r.width-6-a.width):g<=a.width+6+13?(v="right",m=h+13):h+13+a.width+6>=r.right?(v="left",m=g-13-a.width):(v=s,m="left"===s?g-13-a.width:h+13),p<=r.top+26+6?(y=!0,b=r.top+6):f>=window.innerHeight-26?(y=!0,b=window.innerHeight-a.height-6):p>=window.innerHeight-a.height+26-6?(b=window.innerHeight-a.height-6,S=p-b+6):p+a.height-29>window.innerHeight?(y=!0,b=window.innerHeight-a.height-6):b=p-26,this.setState({overflown:y,position:v,top:b,left:m,anchorTop:S})},this.handleColorChange=e=>{const{dotId:t}=this.state,n=O.getColorValueByName(e);f.default.updateDotColor({did:t,color:n,syncWithApi:!O.isDraft(t)})},this.handleCommentHover=e=>{f.default.unhighlightComment(e)},this.handleCommentEdit=e=>{this.setState({editedCommentId:e})},this.handleAttachImageButtonClick=()=>{this.setState({editedCommentId:"new",openFilePicker:!0})},this.handleCommentInput=()=>{this.relocateDotPopup()},this.handleCommentImageLoad=()=>{this.relocateDotPopup()},this.handleNewCommentInput=e=>{c(this,o,e),this.relocateDotPopup()},this.handleNewCommentEdit=()=>{this.setState({editedCommentId:"new"})},this.handleCommentCancelEdit=()=>{const{barrelId:e,screenId:t,dotId:n}=this.state;O.isDraft(n)?f.default.removeDot({pid:e,sid:t,did:n,note:l(this,o)}):f.default.saveNote({sid:t,did:n,note:l(this,o)}),this.setState({editedCommentId:null})},this.handleUpdateStatus=e=>{const{dotId:t}=this.state;f.default.updateDotStatus({did:t,status:e,syncWithApi:!0})},this.handleReaction=e=>{var t;const{userId:n,barrelId:i,screenId:o,dotId:s,dot:{comments:r}}=this.state,a=r[r.length-1];(null===(t=null==a?void 0:a.author)||void 0===t?void 0:t._id)===n&&a.note===e||(f.default.createComment({pid:i,sid:o,did:s,note:e,hasReaction:!0,syncWithApi:!0}),this.setState({editedCommentId:null,scrollToBottom:!0}))},this.handleCommentSubmit=e=>{const{barrelId:t,screenId:n,dotId:i,dot:s,editedCommentId:r}=this.state,a=e.trim();let l=!1;if(O.isDraft(i)){const{x:e,y:t,color:n}=s;c(this,o,""),f.default.addDot({dot:{_id:i,x:e,y:t,color:n,comments:[{note:a}]},syncWithApi:!0})}else if("new"===r)c(this,o,""),f.default.createComment({pid:t,sid:n,did:i,note:a,hasReaction:!1,syncWithApi:!0}),l=!0;else{if(!a)return this.handleCommentDelete(r),void this.setState({editedCommentId:null});f.default.updateComment({pid:t,sid:n,did:i,cmid:r,commentData:{note:a,updated:new Date},syncWithApi:!0})}this.setState({editedCommentId:null,scrollToBottom:l})},this.handleCommentDelete=e=>{const{userId:t,barrelId:n,screenId:i,dotId:o,dot:{comments:s}}=this.state,r=1===s.length?"note":"comment",a=s.find(t=>t._id===e);let l;l=a.author?a.author._id===t?`Delete your ${r}?`:`Delete ${a.author.username}’s ${r}?`:`Delete ${r}?`,v.create({title:l,message:`Deleted ${r}s cannot be restored.`,done:{name:"DELETE",cb(){1===s.length?f.default.removeDot({pid:n,sid:i,did:o,syncWithApi:!0}):f.default.removeComment({sid:i,did:o,cmid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},this.handleReopenAndEdit=()=>{const{dotId:e}=this.state;f.default.updateDotStatus({did:e,status:b.default.OPEN,statusFilter:S.default.Open,syncWithApi:!0}),this.setState({editedCommentId:"new"})},this.handleDocumentClick=()=>{f.default.closeDotPopup()},this.handleDocumentKeyDown=e=>{e.key===y.Keyboard.Key.Escape&&f.default.closeDotPopup()}}static getStores(){return[p.default.BarrelStore,p.default.ScreenStore,p.default.DotsStore,p.default.ProjectsDataStore,p.default.StyleguidesDataStore,p.default.UserStore]}static calculateState(e){var t,n,i,o,s,r,a,l,c,d;const{userId:u}=p.default.UserStore.getState(),f=p.default.BarrelStore.getState().barrelId,{screenId:m,zoomLevel:b,scrollTop:S,scrollLeft:y}=p.default.ScreenStore.getState(),{dotId:v,highlightedComments:C,savedNotes:E}=p.default.DotsStore.getState(),_=g.default.getDot(),P=h.default.findUser(),D=T.permissions.canRemoveNotes(P);return{userId:u,barrelId:f,screenId:m,zoomLevel:b,scrollTop:S,scrollLeft:y,dotId:v,dot:_,highlightedComments:C,savedNote:null!==(n=null===(t=E[m])||void 0===t?void 0:t[O.isDraft(v)?"newDot":v])&&void 0!==n?n:"",canRemoveNotes:D,overflown:null!==(i=null==e?void 0:e.overflown)&&void 0!==i&&i,position:null!==(o=null==e?void 0:e.position)&&void 0!==o?o:"left",top:null!==(s=null==e?void 0:e.top)&&void 0!==s?s:58,left:null!==(r=null==e?void 0:e.left)&&void 0!==r?r:6,anchorTop:null!==(a=null==e?void 0:e.anchorTop)&&void 0!==a?a:0,editedCommentId:null!==(l=null==e?void 0:e.editedCommentId)&&void 0!==l?l:null,openFilePicker:null!==(c=null==e?void 0:e.openFilePicker)&&void 0!==c&&c,scrollToBottom:null!==(d=null==e?void 0:e.scrollToBottom)&&void 0!==d&&d}}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeyDown),this.relocateDotPopup()}componentDidUpdate(e,t){const{dotRef:n,screenViewRef:i}=this.props,{dotRef:s,screenViewRef:r}=e,{dotId:a,dot:d,savedNote:u,zoomLevel:p,scrollTop:h,scrollLeft:g,scrollToBottom:m,openFilePicker:b,editedCommentId:S}=this.state,{barrelId:y,screenId:v,dotId:C,dot:E,zoomLevel:T,scrollTop:_,scrollLeft:P,editedCommentId:D}=t;a!==C&&(O.isDraft(C)?f.default.removeDot({pid:y,sid:v,did:C,note:l(this,o)}):C&&f.default.saveNote({sid:v,did:C,note:l(this,o)}),c(this,o,u));const I={};a&&a!==C&&(I.editedCommentId=null),m&&(I.scrollToBottom=!1),b&&(I.openFilePicker=!1),Object.keys(I).length>0&&this.setState(I),!a||d===E&&n.current===s.current&&i===r&&p===T&&h===_&&g===P&&S===D||this.relocateDotPopup()}componentWillUnmount(){const{screenId:e,dotId:t}=this.state;f.default.saveNote({sid:e,did:t,note:l(this,o)}),document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeyDown)}renderComments(){const{userId:e,barrelId:t,screenId:n,dotId:o,dot:{status:s,comments:r,color:a},highlightedComments:c,canRemoveNotes:d,editedCommentId:p,scrollToBottom:h}=this.state;let f=!0;return u.h("div",{class:"dotComments"},r.map((r,g)=>{var m;const b=r._id,S=(null===(m=r.author)||void 0===m?void 0:m._id)===e,y=c.includes(b),v=y&&f||0===c.length&&h;y&&f&&(f=!1);const C=_.urlResolve("project-screen",{url:{pid:t,sid:n},query:{did:o,cmid:b}});return u.h(I.default,{key:b,dotPopupRef:l(this,i),index:g,comment:r,color:O.getColorName(a),editing:b===p,dotStatus:s,isOwner:S,canRemoveNotes:d,pid:t,commentURL:C,scroll:v,highlight:y,onHover:this.handleCommentHover,onUpdateStatus:this.handleUpdateStatus,onEdit:this.handleCommentEdit,onInput:this.handleCommentInput,onImageLoad:this.handleCommentImageLoad,onCancelEdit:this.handleCommentCancelEdit,onSubmit:this.handleCommentSubmit,onDelete:this.handleCommentDelete})}))}render(){var e;const{screenViewRef:t}=this.props,{userId:n,barrelId:o,dotId:s,dot:r,savedNote:a,overflown:c,position:d,top:p,left:h,anchorTop:f,editedCommentId:g,openFilePicker:m}=this.state;if(!s||!r||!t)return null;const{color:b,status:S,comments:y}=r,v=y[y.length-1],T=v&&(null===(e=v.author)||void 0===e?void 0:e._id)!==n?"Reply":"Post",_=C.default("dotPopup","noSelect",d,{overflown:c}),I={transform:`translate(${h}px, ${p}px)`},k={top:f},R=O.getColorName(b),A=O.isDraft(s),w="new"===g||A,N=!g||w;return u.h(P.default,null,u.h("div",{ref:l(this,i),class:_,style:I,onClick:E.stopPropagation},u.h("div",{class:"dotPopupAnchor",style:k}),u.h(D.default,{draft:A,selectedColor:R,onClick:this.handleColorChange}),this.renderComments(),N&&u.h(j.default,{barrelId:o,draft:A,dotStatus:S,color:R,buttonLabel:T,editing:w,value:a,openFilePicker:m,onEdit:this.handleNewCommentEdit,onAttachImageButtonClick:this.handleAttachImageButtonClick,onInput:this.handleNewCommentInput,onCancelEdit:this.handleCommentCancelEdit,onReaction:this.handleReaction,onSubmit:this.handleCommentSubmit,onReopenAndEdit:this.handleReopenAndEdit})))}}i=new WeakMap,o=new WeakMap,t.default=m.default(k)},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OPEN="open",e.RESOLVED="resolved"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1648);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1649)),r=i(n(718)),a=n(640);n(1652),t.default=function({draft:e,selectedColor:t,onClick:n}){const i=r.default("dotColors",{draft:e});return o.h("div",{class:i},a.colorNames.map(e=>o.h(s.default,{key:e,color:e,selected:t===e,onClick:n})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1650);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718));n(1651),t.default=function({color:e,selected:t,onClick:n}){const i=s.default("dotColor",e,{selected:t});return o.h("div",{class:i,onClick:function(){n(e)}})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1654);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(855)),a=i(n(1538)),l=i(n(1113)),c=i(n(1117)),d=n(1119),u=i(n(1646)),p=i(n(718)),h=n(558),f=i(n(1122)),g=n(640);n(1655);const m=[d.CustomRules.SPOTIFY,d.CustomRules.YOUTUBE,d.MarkdownRules.CHECKBOX,d.MarkdownRules.TABLE,d.MarkdownRules.HEADING];t.default=function({dotPopupRef:e,index:t,comment:{_id:n,author:i,created:d,updated:b,note:S},color:y,editing:v,dotStatus:C,isOwner:O,canRemoveNotes:E,pid:T,commentURL:_,scroll:P,highlight:D,onHover:I,onUpdateStatus:j,onEdit:k,onInput:R,onImageLoad:A,onCancelEdit:w,onSubmit:N,onDelete:L}){var M,x;const U=s.useRef();function B(){j(u.default.RESOLVED)}function V(){j(u.default.OPEN)}function z(){k(n)}function F(){L(n)}s.useEffect(()=>{var e;P&&(null===(e=U.current)||void 0===e||e.scrollIntoView())},[P]);const W=0===t,G=new Date(d),H=new Date(b),$=H.getTime()-G.getTime()>3e5,q=f.default.canWeMakeThisJumbo(S,1)&&!W,Z=p.default("comment",y,{editing:v,highlight:D,reaction:q}),K=!v&&q,Y=!v&&!q;return o.h("div",{class:Z,ref:U,onMouseOver:function(){D&&I(n)}},o.h("div",{class:"commentInfo"},o.h(l.default,{class:"commentAuthorProfilePopoverContainer",member:{user:i}},o.h(r.default,{class:"commentAuthorImage",src:h.getUserAvatar(i).src,size:32}),!K&&o.h("span",{class:"commentAuthorName"},null!==(x=null!==(M=null==i?void 0:i.fullName)&&void 0!==M?M:null==i?void 0:i.username)&&void 0!==x?x:"Anonymous")),K&&o.h(c.default,{disabledFeatures:m},S),o.h("a",{class:"commentLink",href:_,"data-link-type":"inApp"},o.h("time-ago",{format:"micro",datetime:G})),function(){if(v)return null;const e=W&&C===u.default.OPEN,t=W&&C===u.default.RESOLVED,n=C===u.default.OPEN&&O,i=O||E;return o.h("div",{class:"commentButtons"},e&&o.h("button",{type:"button",onClick:B},"Resolve"),t&&o.h("button",{type:"button",onClick:V},"Reopen"),n&&o.h("button",{type:"button",onClick:z},"Edit"),i&&o.h("button",{type:"button",onClick:F},"Delete"))}()),!K&&o.h("div",{class:"commentContent textSelect"},v?o.h(a.default,{containerClass:"commentTextArea",placeholder:g.getRandomPlaceholder(),value:S,maxLength:1024,color:y,barrelId:T,editing:!0,resetOnSubmit:!0,autoCompleteContainer:e.current,showEmojiAutoComplete:!0,showUserAutoComplete:!0,markdownEditor:!0,onInput:R,onCancelEdit:w,onSubmit:N}):o.h(c.default,{disabledFeatures:m,onImageLoad:A},S)),Y&&o.h("div",{class:"commentFooter"},$&&o.h("span",{class:"commentEdited"},"Edited ",o.h("relative-time",{datetime:H}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1657);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1646)),r=i(n(718)),a=n(640),l=n(560),c=i(n(778)),d=i(n(879)),u=i(n(1538));n(1658),t.default=function({barrelId:e,draft:t,dotStatus:n,color:i,buttonLabel:p,editing:h,value:f,openFilePicker:g,onEdit:m,onAttachImageButtonClick:b,onInput:S,onCancelEdit:y,onReaction:v,onSubmit:C,onReopenAndEdit:O}){function E(e){const t=e.currentTarget;v(t.value)}const T=r.default("newCommentArea",{draft:t});return o.h("div",{class:T},n===s.default.RESOLVED||h?null:o.h("div",{class:"newCommentButtons"},o.h("div",{class:"newCommentReactions"},Object.entries(a.reactions).map(([e,t])=>o.h("button",{key:e,type:"button",class:"newCommentReaction noSelect",value:t,onClick:E},o.h(d.default,{asset:`img/emj${l.uppercaseFirst(e)}.png`,alt:t})))),o.h("button",{class:"newCommentAttachImageButton noSelect",onClick:b},o.h(c.default,null)),o.h("button",{type:"button",class:"newCommentButton",onClick:m},p)),n!==s.default.RESOLVED&&h?o.h(u.default,{placeholder:a.getRandomPlaceholder(),buttonLabel:p,maxLength:1024,color:i,barrelId:e,value:f,editing:!0,openFilePicker:g,resetOnSubmit:!0,disabledWhenEmpty:!0,showEmojiAutoComplete:!0,showUserAutoComplete:!0,markdownEditor:!0,onInput:S,onCancelEdit:y,onSubmit:C}):null,n===s.default.OPEN?null:o.h("div",{class:"resolvedNoteInfo"},o.h("button",{onClick:O},"Reopen")," to continue the conversation"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1661);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(556),s=n(614),r=n(1662);n(1665);t.default=function(e){const{project:t,snapshot:{_id:n,links:a,width:l,height:c}}=e,d=a.map((e,a)=>{const{rect:{x:d,y:u,width:p,height:h},destination:{type:f,name:g}}=e;let m;if("screen"===f){const e=t.screens.find(e=>e.name===g);if(!e)return null;m=Object(o.urlResolve)("project-screen",{url:{pid:t.id,sid:e._id}})}const b=Object(s.toPercentage)(p,l),S=Object(s.toPercentage)(h,c),y=Object(s.toPercentage)(d,l),v=Object(s.toPercentage)(u,c);return i.h(r.default,{key:`${t.id}-${n}-link-${a}`,style:{width:b,height:S,top:v,left:y},type:f,to:m})}).filter(Boolean);return i.h("div",{class:"flowLinks"},d)}},function(e,t,n){"use strict";n.r(t);var i=n(1663);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(4);n(1664);function o({style:e,type:t,to:n}){const o="previous"===t?"pop":"replace",s="previous"===t?"#":n;return i.h("a",{href:s,class:"flowLink",style:e,"data-link-type":"inApp","data-nav-op":o,"data-flow-nav":!0})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1667);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(737);n(1668);class l extends r.default{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,o=i.getContext("2d");o.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let s="rgba(238, 103, 35, 0.3)";if(n.vertical){const{columnWidth:e,gutterWidth:t,guttersOnOutside:r,numberOfCols:a}=n.vertical,l=this.toDeviceDimen(e+t),c=this.toDeviceDimen((n.horizontalOffset||0)+(r?t/2:0));let d,u=a;n.horizontal&&!n.horizontal.gutterHeight||!t?(s="rgba(0, 255, 255, 0.7)",d=1):d=this.toDeviceDimen(e),u=1===d?u+1:u,o.fillStyle=s;let p=c;for(let n=0;n<u;n++)o.fillRect(p,0,d,i.height),p+=l}if(n.horizontal){const{rowHeight:e,gutterHeight:t,numberOfRows:r}=n.horizontal,a=this.toDeviceDimen(e+t),l=this.toDeviceDimen(n.horizontalOffset||0),c=this.toDeviceDimen(n.verticalOffset||0);let d,u,p;n.vertical&&!n.vertical.gutterWidth||!t?(s="rgba(0, 255, 255, 0.7)",u=1):u=this.toDeviceDimen(e),r?(d=r,d=1===u?d+1:d):d=Math.ceil(i.height/a),o.fillStyle=s,p=1===u?void 0!==n.verticalOffset?c:a:c;for(let s=0;s<d;s++){const e=l;let t=i.width-2*l;t=n.vertical&&n.vertical.gutterWidth>0&&n.vertical.guttersOnOutside?t+this.toDeviceDimen(n.vertical.gutterWidth/2):t,o.fillRect(e,p,t,u),p+=a}}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.h("div",{class:"layoutGridContainer"},i.h("canvas",{ref:Object(a.default)(this,"canvas"),width:"100%",height:"100%"}))}}l.propTypes={height:s.a.number.isRequired,width:s.a.number.isRequired,grid:s.a.shape({horizontalOffset:s.a.number,verticalOffset:s.a.number,vertical:s.a.shape({gutterWidth:s.a.number,columnWidth:s.a.number,numberOfCols:s.a.number,guttersOnOutside:s.a.bool}),horizontal:s.a.shape({gutterHeight:s.a.number,rowHeight:s.a.number,numberOfRows:s.a.number})})},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1670);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(1671),a=n(1674),l=n(1677),c=n(1683),d=n(1685);class u extends i.Component{getChildContext(){const{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}=this.props;return{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}}render(){const{baseRef:e,class:t,style:n,children:o,onClick:r}=this.props;return i.h("div",{ref:e,class:s()("snapshotDetail",t),style:n,onClick:r},o)}}u.Layers=l.default,u.Rulers=a.default,u.Distances=r,u.Image=c.default,u.ComponentLayer=d.default,t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1672);n.d(t,"BetweenEdges",(function(){return i.BetweenEdges})),n.d(t,"BetweenLayers",(function(){return i.BetweenLayers}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BetweenEdges",(function(){return b})),n.d(t,"BetweenLayers",(function(){return m}));var i=n(4),o=n(614),s=n(560),r=n(643),a=n(718),l=n.n(a),c=n(564);n(1673);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){const{style:t,side:n}=e,o=["left","right"].includes(n)?"top":"left";return i.h("div",{class:"spacingHighlight",style:u(u({},t),{},{[o]:0})})}function f(e){const{style:t,side:n,value:o,matchedSpacingTokens:s,showVerticalLabelOnLeft:r,showHorizontalLabelOnBottom:a}=e,c=["left","right"].includes(n)?"horizontal":"vertical",d=l()("distance",c,{onLeft:"vertical"===c&&r,onBottom:"horizontal"===c&&a});return i.h("div",{class:d,style:t},i.h("div",{class:"value"},Boolean(s.length)&&[i.h("div",{key:"spacingTokenNames"},s.map(({_id:e,token:t})=>i.h("span",{key:e,class:"spacingTokenName ellipsis"},t))),i.h("div",{key:"valueDivider",class:"valueDivider"})],i.h("span",null,o)))}function g(e){const{measurements:t}=e,{platform:n,spacingTokens:a,remPreferences:l,densityScale:d,dimensionSuffix:p}=this.context,g="web"===n&&"enabled"===l.status&&l.useForMeasurements,{topDistanceAmount:m,rightDistanceAmount:b,bottomDistanceAmount:S,leftDistanceAmount:y}=t,v=null===b&&null!==m&&null!==S&&null!==y,C=null===m&&null!==b&&null!==S&&null!==y,O=["top","right","bottom","left"].map(e=>{if(null===t[e+"DistanceAmount"])return null;const{[e+"DistanceTop"]:n,[e+"DistanceLeft"]:m,[e+"DistanceAmount"]:b,[e+"DistanceValue"]:S,[e+"DistanceValuePercentage"]:y}=t,O=Object(o.round)(S/d,1),E={top:n,left:m,[["left","right"].includes(e)?"width":"height"]:b};let T=[],_=y;if(!y){const e=1===a.length&&O<=144&&O%a[0].value==0&&O!==a[0].value;T=Object(r.removeDuplicatesFromArrayOfObjects)(a.filter(e=>e.value===O),"token"),e&&T.push(u(u({},a[0]),{},{_id:Object(s.getRandomString)(24),value:O,token:`${O/a[0].value} ${a[0].token}`})),_=g?Object(o.toRemSize)(S/d,l.remRootFontSize):O+p}return[Boolean(T.length)&&i.h(h,{style:u(u({},E),{},{backgroundColor:new c.default(T[0].color).toRGBAString()}),side:e}),i.h(f,{key:e+"-distance",style:E,side:e,value:_,matchedSpacingTokens:T,showVerticalLabelOnLeft:v,showHorizontalLabelOnBottom:C})]},this);return O.filter(Boolean).length?i.h("div",{class:"distances"},O):null}class m extends i.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:s}}=this.context,r=e.x,a=r+e.width,l=t.x,c=l+t.width;let d=!1,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,C=null,O=null;return c<r?(C=r-c,b=Object(o.toPercentage)(c,s)):l<r&&c>a?(C=r-l,b=Object(o.toPercentage)(l,s),O=c-a,p=Object(o.toPercentage)(a,s),u=Object(o.toPercentage)((r+a)/2,s),m=Object(o.toPercentage)((r+a)/2,s),d=!0):l>r&&c<a?(C=l-r,b=Object(o.toPercentage)(r,s),O=a-c,p=Object(o.toPercentage)(c,s)):c>r&&c<a?(C=r-l,b=Object(o.toPercentage)(l,s),c-r>7&&(u=Object(o.toPercentage)((c+r)/2,s),m=Object(o.toPercentage)((c+r)/2,s),d=!0)):l>r&&l<a?(C=l-r,b=Object(o.toPercentage)(r,s),a-l>7&&(u=Object(o.toPercentage)((l+a)/2,s),m=Object(o.toPercentage)((l+a)/2,s),d=!0)):l>a&&(O=l-a,p=Object(o.toPercentage)(a,s)),C&&(S=Object(o.toPercentage)(C,s),y=C,n&&(v=Object(o.percentageLength)(C,i.width))),O&&(h=Object(o.toPercentage)(O,s),f=O,n&&(g=Object(o.percentageLength)(O,i.width))),d||(u=Object(o.toPercentage)((l+c)/2,s),m=Object(o.toPercentage)((l+c)/2,s)),{topDistanceLeft:u,rightDistanceLeft:p,rightDistanceAmount:h,rightDistanceValue:f,rightDistanceValuePercentage:g,bottomDistanceLeft:m,leftDistanceLeft:b,leftDistanceAmount:S,leftDistanceValue:y,leftDistanceValuePercentage:v}}_measureVertical(e,t,n,i){const{snapshot:{height:s}}=this.context,r=e.y,a=r+e.height,l=t.y,c=l+t.height;let d=!1,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,C=null,O=null;return c<r?(C=r-c,u=Object(o.toPercentage)(c,s)):l<r&&c>a?(C=r-l,u=Object(o.toPercentage)(l,s),O=c-a,y=Object(o.toPercentage)(a,s),v=Object(o.toPercentage)((r+a)/2,s),g=Object(o.toPercentage)((r+a)/2,s),d=!0):l>r&&c<a?(C=l-r,u=Object(o.toPercentage)(r,s),O=a-c,y=Object(o.toPercentage)(c,s)):c>r&&c<a?(C=r-l,u=Object(o.toPercentage)(l,s),c-r>7&&(v=Object(o.toPercentage)((c+r)/2,s),g=Object(o.toPercentage)((c+r)/2,s),d=!0)):l>r&&l<a?(C=l-r,u=Object(o.toPercentage)(r,s),a-l>7&&(v=Object(o.toPercentage)((l+a)/2,s),g=Object(o.toPercentage)((l+a)/2,s),d=!0)):l>a&&(O=l-a,y=Object(o.toPercentage)(a,s)),C&&(p=Object(o.toPercentage)(C,s),h=C,n&&(f=Object(o.percentageLength)(C,i.height))),O&&(m=Object(o.toPercentage)(O,s),b=O,n&&(S=Object(o.percentageLength)(O,i.height))),d||(v=Object(o.toPercentage)((l+c)/2,s),g=Object(o.toPercentage)((l+c)/2,s)),{topDistanceTop:u,topDistanceAmount:p,topDistanceValue:h,topDistanceValuePercentage:f,rightDistanceTop:g,bottomDistanceAmount:m,bottomDistanceValue:b,bottomDistanceValuePercentage:S,bottomDistanceTop:y,leftDistanceTop:v}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.h(g,{measurements:this.measure()})}}class b extends i.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i}}=this.context,{edgesToMeasure:s}=this.props,r=e.x,a=r+e.width,l=e.y,c=l+e.height;let d=null,u=null,p=null,h=null,f=null,g=null,m=null,b=null,S=null,y=null,v=null,C=null,O=null,E=null,T=null,_=null,P=null,D=null,I=null,j=null;return s.includes("left")&&(d=0,p=Object(o.toPercentage)(r,n),u=Object(o.toPercentage)((l+c)/2,i),h=r,t&&(f=Object(o.percentageLength)(r,n))),s.includes("top")&&(m=0,b=Object(o.toPercentage)(l,i),g=Object(o.toPercentage)((r+a)/2,n),S=l,t&&(y=Object(o.percentageLength)(l,i))),s.includes("right")&&(v=Object(o.toPercentage)(a,n),O=Object(o.toPercentage)(n-a,n),C=Object(o.toPercentage)((l+c)/2,i),E=n-a,t&&(T=Object(o.percentageLength)(E,n))),s.includes("bottom")&&(I=Object(o.toPercentage)(c,i),_=Object(o.toPercentage)(i-c,i),j=Object(o.toPercentage)((r+a)/2,n),P=i-c,t&&(D=Object(o.percentageLength)(P,i))),{leftDistanceLeft:d,leftDistanceTop:u,leftDistanceAmount:p,leftDistanceValue:h,leftDistanceValuePercentage:f,topDistanceLeft:g,topDistanceTop:m,topDistanceAmount:b,topDistanceValue:S,topDistanceValuePercentage:y,rightDistanceLeft:v,rightDistanceTop:C,rightDistanceAmount:O,rightDistanceValue:E,rightDistanceValuePercentage:T,bottomDistanceLeft:j,bottomDistanceTop:I,bottomDistanceAmount:_,bottomDistanceValue:P,bottomDistanceValuePercentage:D}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.h(g,{measurements:this.measure()})}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1675);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(614);n(1676);t.default=function(e){const{x:t,y:n,width:s,height:r}=e,{snapshot:{width:a,height:l}}=this.context,c=Object(o.toPercentage)(n,l),d=Object(o.toPercentage)(t+s,a),u=Object(o.toPercentage)(n+r,l),p=Object(o.toPercentage)(t,a);return i.h("div",{class:"rulers"},i.h("div",{style:{top:c},class:"ruler horizontal"}),i.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.h("div",{style:{left:p},class:"ruler vertical"}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1678);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1679),s=n(737),r=n(559);n(1682);const a=()=>{};class l extends i.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this),this.positionLayerWidth=this.positionLayerWidth.bind(this),this.state={layerWidthOnBottom:!1}}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:r,edgeDistanceMode:l,selectedLayerId:c,hoveredId:d,parentLayer:u}=this.props,{snapshot:p,densityScale:h,dimensionSuffix:f}=this.context,{layerWidthOnBottom:g}=this.state,m=!!c&&c===e._id,b=m&&!l&&(!d||d===e._id),S=i.h(o.default,{key:e._id,selectedLayerRef:b?Object(s.default)(this,"selectedLayer"):a,layerWidthRef:b?Object(s.default)(this,"layerWidth"):a,showWidthLabelOnBottom:g,selected:m,shouldRenderDimensions:b,parentLayer:u,container:p,data:e,densityScale:h,dimensionSuffix:f,onSelect:t,onEnter:n,onLeave:r});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(S),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(S),t}return[S]}positionLayerWidth(){const{selectedLayerId:e,componentLayer:t}=this.props,{layerWidthOnBottom:n}=this.state;if(e&&t&&this.nodeRefs){const{componentLayerTag:e,layerWidth:t,selectedLayer:i}=this.nodeRefs;if(!e||!t||!i)return;const o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),a=e.getBoundingClientRect();if(n){const e=new DOMRect(o.x,s.y-24,o.width,o.height);Object(r.rectanglesIntersect)(e,a)||this.setState({layerWidthOnBottom:!1})}else{const e=Object(r.rectanglesIntersect)(o,a);e&&this.setState({layerWidthOnBottom:e})}}}componentDidUpdate(){this.positionLayerWidth()}render(){const{layers:e,componentLayer:t}=this.props;return i.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)),t&&i.cloneElement(t,{componentLayerTagRef:Object(s.default)(this,"componentLayerTag")}))}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1680);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(614),s=n(718),r=n.n(s),a=n(886);n(1681);class Layer extends a.default{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}shouldRenderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;return!e&&(t<3||n<3)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){return[i.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]}renderEdgeCircles(){const{data:{rect:{width:e,height:t}}}=this.props,n=[];return e>120&&n.push(i.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),t>120&&n.push(i.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),n}renderHitRegion(){const{data:{rect:{width:e,height:t}}}=this.props,n=e<3,o=t<3,s=r()("hitRegion",{tooNarrow:n,tooShort:o});return i.h("div",{key:"hitRegion",class:s})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:s,dimensionSuffix:a,showWidthLabelOnBottom:l,layerWidthRef:c}=this.props,{platform:d,remPreferences:u}=this.context,p=r()("layerWidth",{showOnBottom:l}),h="web"===d&&"enabled"===u.status&&u.useForMeasurements;return e?[i.h("div",{key:"layerWidth",ref:c,class:p},Object(o.percentageLength)(t,e.rect.width)),i.h("div",{key:"layerHeight",class:"layerHeight"},Object(o.percentageLength)(n,e.rect.height))]:[i.h("div",{key:"layerWidth",ref:c,class:p},h?Object(o.toRemSize)(t/s,u.remRootFontSize):Object(o.round)(t/s,1)+a),i.h("div",{key:"layerHeight",class:"layerHeight"},h?Object(o.toRemSize)(n/s,u.remRootFontSize):Object(o.round)(n/s,1)+a)]}render(){const{selected:e,parentLayer:t,data:{_id:n,rect:{width:s,height:a},absoluteRect:{x:l,y:c}},container:d,onLeave:u,shouldRenderDimensions:p,selectedLayerRef:h}=this.props,f={width:Object(o.toPercentage)(s,d.width),height:Object(o.toPercentage)(a,d.height),left:Object(o.toPercentage)(l,d.width),top:Object(o.toPercentage)(c,d.height)};return i.h("div",{class:r()("zplLayer",{selected:e}),style:f,ref:h,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},p&&this.renderLayerDimensions(),e&&this.renderCornerCircles(),e&&this.renderEdgeCircles(),this.shouldRenderHitRegion()&&this.renderHitRegion(),t&&t._id===n&&i.h("div",{class:"parent"}))}}t.default=Layer},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1684);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);class o extends i.Component{constructor(e){super(e),this.state={src:null}}getProps(e,t){return t.snapshot?t.snapshot:e.snapshot?e.snapshot:e}componentDidMount(){this.setState({src:this.getProps(this.props,this.context).url})}componentWillReceiveProps(e,t){const{src:n}=this.state,{url:i}=this.getProps(e,t);n!==i&&this.setState({src:i})}render(){const{class:e,style:t,onError:n}=this.props,{src:o}=this.state,{width:s,height:r}=this.getProps(this.props,this.context);return i.h("img",{class:e,style:t,width:s,height:r,src:o,crossOrigin:"anonymous",onError:n})}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1686);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771),s=n(574),r=n.n(s),a=n(556),l=n(614);n(1687);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleTagClick",()=>{const{onTagClick:e}=this.props;e&&e()}),c(this,"handleVariantsButtonClick",e=>{const{onVariantsButtonClick:t,componentLayer:{_id:n}}=this.props;e.stopPropagation(),t(n)})}render(){const{barrelId:e,barrelType:t,containerName:n,componentLayer:s,containerWidth:c,containerHeight:d,zoomLevel:u,componentLayerTagRef:p}=this.props;if(!s)return null;const{_id:h,name:f,rect:{width:g,height:m,x:b,y:S},variant:y}=s,v=t===r.a.PROJECT?"project-styleguide-components":"styleguide-components",C=Object(a.urlResolve)(v,{url:{bid:e},query:{coid:h}}),O={width:Object(l.toPercentage)(g,c),height:Object(l.toPercentage)(m,d),left:Object(l.toPercentage)(b,c),top:Object(l.toPercentage)(S,d)},E=Math.min(g*u,240),T=y?36:null;return i.h("div",{class:"componentLayer",style:O},i.h("div",{class:"componentLayerControls",style:{maxWidth:E,minWidth:T}},i.h("a",{ref:p,href:C,title:f,onClick:this.handleTagClick,"data-link-type":"inApp","data-back":n},E>62&&i.h("span",{class:"componentLayerName ellipsis"},f),i.h(o.IconGoTo,{width:"12",height:"12",color:"#fff"})),y&&i.h(i.Fragment,null,i.h("div",{class:"variantsSeperator"}),i.h("button",{type:"button",onClick:this.handleVariantsButtonClick},i.h(o.IconVariants,{width:"14",height:"14",color:"#fff"})))))}}d.defaultProps={zoomLevel:1},t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1690),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1691)),a=i(n(1695)),l=i(n(1698)),c=i(n(849)),d=n(771),u=i(n(718)),p=n(558),h=n(1693),f=i(n(1701)),g=i(n(1702));n(1703),t.default=function(e){const{screenViewRef:t,componentName:n,componentURL:i,screenName:m,snapshot:b,platform:S,spacingTokens:y,remPreferences:v,stateVariants:C,otherVariants:O,selectedLayer:E,destinationLayer:T,largestOfVariants:_}=e,P=s.useRef(),[D,I]=s.useState(null);function j(e){f.default.changeVariant({coid:e,variantChangeValueSource:g.default.BUTTON,isState:!0})}function k(e){f.default.changeVariant({coid:e,variantChangeValueSource:g.default.BUTTON,isState:!1})}s.useEffect(()=>(E?document.addEventListener("click",f.default.deselectLayer):document.removeEventListener("click",f.default.deselectLayer),()=>document.removeEventListener("click",f.default.deselectLayer)),[!!E]),s.useEffect(()=>{const e=document.querySelector(".screenViewContainer");if(!e)return;const t=document.querySelector(".componentLayer"),{width:n,height:i}=b,o=Math.min(720,i+36+46),s=(null==t?void 0:t.getBoundingClientRect())||{height:0,top:0},r=e.getBoundingClientRect(),a=s.top-r.top+(s.height-o)/2,l=r.right-n;I({x:l,y:a})},[]);const R=_.width+h.MIN_HORIZONTAL_PADDING_BOTH_SIDES,A=R>h.MAX_IMAGE_WIDTH?h.MAX_IMAGE_WIDTH:R,w={minWidth:Math.max(h.MIN_IMAGE_WIDTH,A),maxWidth:Math.min(h.MAX_IMAGE_WIDTH,_.width+h.MAX_HORIZONTAL_PADDING_BOTH_SIDES)};if(!D)return null;const{x:N,y:L}=D;return o.h(l.default,{offset:{top:12,right:12,bottom:52,left:12},x:N,y:L},o.h("div",{ref:P,class:"componentVariantView",onClick:function(e){e.stopPropagation(),f.default.deselectLayer()},style:w},o.h("div",{class:"componentInspect",style:{minHeight:_.height+h.MAX_VERTICAL_PADDING_BOTH_SIDES}},o.h(r.default,{platform:S,snapshot:b,spacingTokens:y,remPreferences:v,selectedLayer:E,destinationLayer:T,onLayerSelect:function(e,t){e.stopPropagation(),f.default.selectLayer(t)},onLayerEnter:f.default.enterLayer,onLayerLeave:f.default.leaveLayer})),o.h("div",{class:"variantInfo"},C?C.filter(({coid:e})=>!e).length===C.length?null:o.h(c.default,{onChange:j,class:"stateVariantsDropdown",optionsClass:"stateVariantsDropdownOptions"},C.map(({name:e,coid:t,selected:n})=>o.h(c.default.Item,{class:u.default("stateVariantDropdownItem",{disabled:!t}),key:e,value:t,label:e,selected:n}))):null,0===O.length?null:o.h(a.default,{variants:O,onChangeVariant:k})),o.h("button",{class:"closeButton",onClick:f.default.close},o.h(d.IconHintClose,{width:14,height:14})),o.h("button",{class:"copyButton",onClick:function(){p.copyContent({content:i,toastContainer:t}),mixpanel.master.track("Copied component variant link"),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Variant pop-up"})}},o.h(d.IconCustomLink,{width:16,height:16,class:"copyButtonIcon",color:"var(--teflon)"})),o.h("a",{onClick:function(){mixpanel.master.track("Navigated to component from screen",{Source:"Variant pop-up"})},href:i,title:n,"data-link-type":"inApp","data-back":m},o.h("span",{class:"ellipsis"},n),o.h(d.IconGoTo,{width:12,height:12,color:"#fff"}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1692);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1669)),a=n(1693),l=i(n(718)),c=n(563);n(1694),t.default=function({platform:e,snapshot:t,selectedLayer:n,destinationLayer:i,remPreferences:d,spacingTokens:u,onLayerSelect:p,onLayerEnter:h,onLayerLeave:f}){const[g,m]=s.useState("dark");s.useEffect(()=>{c.getImageProperties(t.url).then(({lightness:e})=>m(e)).catch(()=>{m("dark")})},[t.url]);let b=t.width,S=t.height;if(t.width>a.MAX_IMAGE_WIDTH){const e=a.MAX_IMAGE_WIDTH/b;b*=e,S*=e}if(t.height>a.MAX_IMAGE_HEIGHT){const e=a.MAX_IMAGE_HEIGHT/S;b*=e,S*=e}const y={width:b,height:S};return o.h(r.default,{class:l.default("componentVariantInspect",{dark:"dark"===g}),platform:e,snapshot:t,remPreferences:d,spacingTokens:u,style:y},o.h(r.default.Image,{style:y,key:"componentVariantSnapshotImage-"+t.url}),function(){if(!n)return null;const{absoluteRect:{x:e,y:t,width:i,height:s}}=n;return o.h(r.default.Rulers,{key:"rulers",x:e,y:t,width:i,height:s})}(),t.layers&&0!==t.layers.length?o.h(r.default.Layers,{key:"layers",layers:t.layers,selectedLayerId:n?n._id:null,hoveredId:i?i._id:null,onLayerSelect:p,onLayerEnter:h,onLayerLeave:f}):null,n&&i?o.h(r.default.Distances.BetweenLayers,{key:"distances",sourceRect:n.absoluteRect,destRect:i.absoluteRect}):null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_VERTICAL_PADDING_BOTH_SIDES=t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=t.MAX_IMAGE_HEIGHT=t.MIN_IMAGE_WIDTH=t.MAX_IMAGE_WIDTH=void 0,t.MAX_IMAGE_WIDTH=1080,t.MIN_IMAGE_WIDTH=180,t.MAX_IMAGE_HEIGHT=720,t.MAX_HORIZONTAL_PADDING_BOTH_SIDES=216,t.MIN_HORIZONTAL_PADDING_BOTH_SIDES=36,t.MAX_VERTICAL_PADDING_BOTH_SIDES=36},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1696);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(718)),a=n(771),l=i(n(1219)),c=i(n(735));n(1697),t.default=function({variants:e,onChangeVariant:t}){const[n,i]=s.useState(!1),d=s.useRef();function u(){i(!1)}function p(e){t(e),u()}const h=e.reduce((e,t)=>t.values.reduce((e,{name:t,selected:n})=>n?[...e,t]:e,e),[]).join(", ");return o.h(o.Fragment,null,o.h("button",{type:"button",ref:d,class:r.default("otherVariants",{open:n}),onClick:function(){i(!n)}},o.h("span",{class:"ellipsis"},h),o.h(a.IconArrowDown,{width:9,color:"var(--gandalf)"})),n&&o.h(c.default,{didRender:function(e){if(!d.current)return;const t=d.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom,o=t.left;let s,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,s=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${s}px, ${r}px, 0)`}},o.h(l.default,{onChange:t,onClose:u,class:"otherVariantsMenu"},e.map((function(e){const{name:t,values:n}=e;return o.h(l.default.Submenu,{content:t},n.map(({name:e,coid:t,selected:n})=>o.h(l.default.Switch,{key:e,content:e,name:t,disabled:!t,value:n,onClick:p})))})))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1699);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(222),s=n(614);n(1700),t.default=function({children:e,x:t=0,y:n=0,offset:r=0}){var a,l,c,d,u;const p=o.useRef(),[h,f]=o.useState(!1),[g,m]=o.useState({x:0,y:0}),[b,S]=o.useState({x:0,y:0}),[y,v]=o.useState({x:t,y:n}),[C,O]=o.useState("hidden");function E(e){e.preventDefault(),e.stopPropagation(),S({x:e.clientX-g.x,y:e.clientY-g.y})}function T(e){e.preventDefault(),e.stopPropagation(),f(!1)}o.useEffect(()=>(h?(document.addEventListener("mousemove",E),document.addEventListener("mouseup",T)):(document.removeEventListener("mouseup",T),document.removeEventListener("mousemove",E)),()=>{document.removeEventListener("mouseup",T),document.removeEventListener("mousemove",E)}),[h]),o.useEffect(()=>{O("visible")},[]);const{width:_=0,height:P=0}=null!==(c=null===(l=null===(a=p.current)||void 0===a?void 0:a.parentElement)||void 0===l?void 0:l.getBoundingClientRect())&&void 0!==c?c:{},{width:D=0,height:I=0}=null!==(u=null===(d=p.current)||void 0===d?void 0:d.getBoundingClientRect())&&void 0!==u?u:{};let j,k,R,A;"number"==typeof r?(j=r,k=r,R=r,A=r):({top:j,right:k,bottom:R,left:A}=r);const w={transform:`translate(${s.clamp(y.x+b.x,A,_-D-k)}px, ${s.clamp(y.y+b.y,j,P-I-R)}px)`,visibility:C};return i.h("div",{ref:p,style:w,class:"draggablePanel",onMouseDown:function(e){e.preventDefault(),e.stopPropagation(),v({x:y.x+b.x,y:y.y+b.y}),m({x:e.clientX,y:e.clientY}),S({x:0,y:0}),f(!0)}},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(649)),s=i(n(582)),r={open(e,t){const{selectedLayer:n}=s.default.ScreenStore.getState();s.default.dispatcher.dispatch({type:o.default.OPEN,coid:e,sourceLayerId:n&&n._id,variantPopupSource:t})},close(){s.default.dispatcher.dispatch({type:o.default.CLOSE})},selectLayer(e){s.default.dispatcher.dispatch({type:o.default.SELECT_LAYER,layer:e})},enterLayer(e){s.default.dispatcher.dispatch({type:o.default.ENTER_LAYER,layer:e})},leaveLayer(){s.default.dispatcher.dispatch({type:o.default.LEAVE_LAYER})},deselectLayer(){s.default.dispatcher.dispatch({type:o.default.DESELECT_LAYER})},changeVariant({coid:e,variantChangeValueSource:t,isState:n}){s.default.dispatcher.dispatch({type:o.default.CHANGE_VARIANT,coid:e,variantChangeValueSource:t,isState:n})}};t.default=r},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BUTTON="Button",e.SHORTCUT="Shortcut"}(i||(i={})),t.default=i},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1705);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1706),a=n(1709),l=n(1712),c=n(1715),d=n(1718),u=n(1720),p=n.n(u),h=n(541);n(1724);const f=Object(h.featureValue)("popout");function g(e){return i.h("div",{class:"widgets"},i.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:o}=e;return t?null:i.h(r.default,{onClick:o,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:o,onZoomChange:s}=e;return i.h(a.default,{value:t,onZoomIn:n,onZoomOut:o,onChange:s})}(e),function(e){const{onPopoutWidgetClick:t}=e;return h.isWindowsApp?i.h(l.default,{disabled:!f,onClick:t}):null}(e)),i.h("div",{class:"widgetGroup"},function(e){const{latestVersionSelected:t,notesVisible:n,onAddNoteWidgetClick:o,onNotesVisibilityChange:s,fetchingNotes:r,noNotes:a,notesStatusFilter:l,notesColorFilter:u,disableFilterNotesDropdown:h,dotCount:f,onFilterNotesChange:g}=e;return t?i.h(i.Fragment,null,i.h(c.default,{onClick:o}),i.h(d.default,{notesVisible:n,onChange:s}),i.h(p.a,{class:"widget",top:-146,fetchingNotes:r,noNotes:a,statusFilter:l,colorFilter:u,dotCount:f,disabled:h,onFilterChange:g})):null}(e)))}g.propTypes={latestVersionSelected:s.a.bool.isRequired,versionsVisible:s.a.bool.isRequired,hasNewVersions:s.a.bool.isRequired,onVersionsToggleClick:s.a.func.isRequired,zoomLevel:s.a.number.isRequired,onZoomIn:s.a.func.isRequired,onZoomOut:s.a.func.isRequired,onZoomChange:s.a.func.isRequired,onPopoutWidgetClick:s.a.func.isRequired,onAddNoteWidgetClick:s.a.func.isRequired,notesVisible:s.a.bool.isRequired,onNotesVisibilityChange:s.a.func.isRequired,noNotes:s.a.bool.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1707);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(771);n(1708);function c(e){const{hasNewVersions:t,onClick:n}=e;return i.h("button",{class:a()("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.h(l.IconHourGlass,null))}c.propTypes={hasNewVersions:s.a.bool.isRequired,onClick:s.a.func.isRequired},t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1710);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(723),a=n(653);n(1711);class l extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.h("div",{class:"zoomWidget widget"},i.h(r.default,{disabled:e<=a.ZOOM_LEVEL_MIN,onClick:n},i.h("div",{class:"minus"})),i.h("select",{id:"zoomDropdown",onChange:this.handleChange},a.default.map(t=>i.h("option",{key:t,value:t,selected:e===t},100*t,"%"))),i.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.h(r.default,{disabled:e>=a.ZOOM_LEVEL_MAX,onClick:t},i.h("div",{class:"plus"})))}}l.propTypes={value:s.a.number.isRequired,onZoomIn:s.a.func.isRequired,onZoomOut:s.a.func.isRequired,onChange:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1713);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(771),a=n(1092),l=n(718),c=n.n(l);n(1714);function d(e){const{disabled:t,onClick:n}=e;return i.h(a.default,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.h("button",{class:c()("popoutWidget",{disabled:t}),onClick:t?null:n},i.h(r.IconPopout,null)))}d.propTypes={disabled:s.a.bool.isRequired,onClick:s.a.func.isRequired},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1716);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(771),a=n(540);n(1717);class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){const e=Object(a.getOS)()===a.OS.MAC?"⌘":"Ctrl";return i.h("button",{class:"widget addNoteWidget",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},i.h("span",{class:"shortcut"},e,i.h(r.IconCursorPointer,{class:"cursorPointer"})),i.h(r.IconAddNote,{class:"addNoteIcon"}))}}l.propTypes={onClick:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(886),a=n(879);n(1719);class l extends r.default{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.h(a.default,{asset:e?"img/maymusOpen.png":"img/maymusClose.png"}))}}l.propTypes={notesVisible:s.a.bool.isRequired,onChange:s.a.func.isRequired},t.default=l},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1721);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(849)),r=i(n(1084)),a=i(n(718)),l=n(560),c=n(640),d=i(n(1722)),u=n(677);function p({color:e,count:t,status:n,fetchingNotes:i,noNotes:s}){let a;return a=i?"Fetching…":s?"No notes yet":l.pluralize(t>0?t:"No",d.default[n].slice(0,-1)),o.h("div",{class:"statusFilterLabel"},e&&o.h(r.default,{class:"statusFilterLabelColor",color:e,selected:!1}),a)}n(1723),t.default=function({class:e,statusFilter:t,colorFilter:n,dotCount:i,top:l,disabled:h,fetchingNotes:f,noNotes:g,onFilterChange:m}){function b(e,i){m(t,n===i?null:i)}return o.h(s.default,{disabled:h,alignRight:!0,class:a.default("filterNotesDropdown",e),top:l,onChange:function(e){t!==e&&m(e,n)}},u.entriesOf(d.default).map(([e,r])=>o.h(s.default.Item,{key:e,label:o.h(p,{color:n,count:i,status:e,fetchingNotes:f,noNotes:g}),value:e,selected:t===e},o.h("span",{class:"noteStatusFilterItem"},r))),o.h("div",{class:"noteFilterSeparator"}),o.h("div",{class:"noteColorFilter"},c.colorNames.map(e=>o.h(r.default,{key:e,class:"noteColorFilterItem",color:e,selected:e===n,onClick:b}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1035)),s={[o.default.Open]:"Open Notes",[o.default.Mentioned]:"Mentioned Notes",[o.default.Resolved]:"Resolved Notes"};t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1726);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1727)),a=i(n(723)),l=n(771),c=i(n(1219)),d=n(543),u=i(n(718)),p=n(614);n(1733);t.default=function(e,t){const{canManageScreens:n}=t,{screenVariants:i,onSelect:h,onRename:f,onReorder:g,onDelete:m,onRemove:b}=e,S=e.selectedVariantId||i[0].id,[y,v]=s.useState(0),[C,O]=s.useState(!1),[E,T]=s.useState(!1),_=s.useRef(),P=s.useRef(),D=i.findIndex(({id:e})=>e===S),I=i.length-y,j=D>I-1,k=y>0;function R(e){if(e.altKey&&e.key===d.Keyboard.Key.ArrowLeft){const e=p.mod(D-1,i.length),t=i[e];h(t.id,!0),e<I?N():w()}else if(e.altKey&&e.key===d.Keyboard.Key.ArrowRight){const e=p.mod(D+1,i.length),t=i[e];h(t.id,!0),e>=I?w():N()}else e.key===d.Keyboard.Key.Escape&&(E?M():C&&N())}function A(e){var t;const n=null===(t=P.current)||void 0===t?void 0:t.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||n||M()}function w(){O(!0),E&&M()}function N(){O(!1)}function L(){T(!0)}function M(){T(!1)}return s.useLayoutEffect(()=>{var e,t;if((null!==(t=null===(e=_.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0)>720){v(y+1)}}),s.useEffect(()=>(document.addEventListener("click",A),()=>{document.removeEventListener("click",A)}),[]),s.useEffect(()=>(document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}),[S,E,C]),o.h("div",{ref:_,class:"screenVariantToggle"},o.h("div",{class:"iconWrapper"},o.h(l.IconScreenVariant,null)),o.h("div",{class:"variants"},i.slice(0,I).map((e,t)=>{const{id:n,variantName:i}=e,s=n===S,r=t<D;return o.h(a.default,{key:n,onClick:(l=n,()=>h(l)),class:u.default("variantButton","ellipsis",{beforeSelected:r,selected:s}),ninja:!s,primary:s,secondary:!s},i);var l}),(n||k)&&o.h(o.Fragment,null,o.h(a.default,{baseRef:P,class:u.default("screenVariantsMenuButton",{focus:E||j}),onClick:k?w:L},o.h(l.IconMenu,{width:20,height:20,color:"var(--gandalf)"})),C&&o.h(c.default,{class:"screenVariantsMenu",onChange:function(e,t){"edit"===t?L():h(t)},onClose:N},o.h(c.default.Picker,{name:"otherScreenVariants",value:S,options:i.slice(I).map(({id:e,variantName:t})=>({name:t,value:e}))}),o.h(c.default.Divider,null),n&&o.h(c.default.Button,{name:"edit"},"Manage variants")),E&&o.h(r.default,{class:"manageScreenVariants",screenVariants:i,onClose:M,onRename:f,onReorder:g,onDelete:m,onRemove:b}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1728);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(723)),r=i(n(1729)),a=n(559);n(1732),t.default=function({class:e,screenVariants:t,onClose:n,onRename:i,onReorder:l,onDelete:c,onRemove:d}){return o.h("div",{onClick:a.stopPropagation,class:e},o.h("div",{class:"manageScreenVariantsContainer"},o.h("div",{class:"scrollableWrapper"},t.map(({id:e,variantName:t},n)=>o.h(r.default,{index:n,key:e,id:e,value:t,onBlur:i,onRemove:d,onDelete:c,onReorder:l}))),o.h("div",{class:"manageScreenVariantsFooter"},o.h(s.default,{onClick:n,ninja:!0},"Done"))))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),l=n(222),c=n(1062),d=n(771),u=s(n(1730)),p=n(543),h=c.DragSource({itemType:"ScreenVariantInput",allowX:!1,mirrorComponent:e=>{var t=r(e,[]);return a.h(u.default,Object.assign({mirror:!0},t))},provideDragData:e=>e,getSourceRef:({getSourceRef:e})=>e(),onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()})(d.IconSectionDrag),f=u.getScreenVariantInput(h),g=c.DropTarget({acceptsItemType:"ScreenVariantInput",discardHorizontalPosition:!0,onHover:({onHover:e},t)=>e(t),onHoverOut:({onHoverOut:e})=>e(),onDrop:({onDrop:e},t)=>e(t)})(f);t.default=function(e){const t=l.useRef(),[n,i]=l.useState(!1),[o,s]=l.useState(null);return a.h(g,Object.assign({baseRef:t,dragging:n,movePosition:o,onStartDrag:function(){i(!0)},onEndDrag:function(){i(!1)},onHover:function({mirrorPosition:e}){var n;const i=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect();if(!i)return;const o=i.top+i.height/2;s(e.top>o?p.DragDropTargetPosition.BOTTOM:p.DragDropTargetPosition.TOP)},onHoverOut:function(){s(null)},onDrop:function({dragData:{id:t,index:n}}){const{index:i,onReorder:s}=e;let r=i;n>i&&o===p.DragDropTargetPosition.BOTTOM?r+=1:n<i&&o===p.DragDropTargetPosition.TOP&&(r-=1),n!==r&&s(t,r)}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getScreenVariantInput=void 0;const o=n(4),s=n(222),r=n(771),a=n(942),l=n(543),c=i(n(718));function d(e){function t(t){const{baseRef:n,id:i,value:d,dragging:u,movePosition:p,mirror:h,onBlur:f,onRemove:g,onDelete:m}=t,[b,S]=s.useState(d),[y,v]=s.useState(!1),C=s.useRef();return s.useEffect(()=>{S(d)},[d]),o.h("div",{class:c.default("screenVariantInputWrapper",p,{hidden:u,mirror:h}),ref:function(e){null!==e&&(C.current=e,n.current=e)}},o.h("div",{class:"screenVariantInput"},e?o.h(e,Object.assign({},t,{class:"dragIcon draggable",getSourceRef:function(){return C.current}})):o.h(r.IconSectionDrag,{class:"dragIcon"}),o.h("input",{type:"text",name:"screenVariantName",value:b,onKeyDown:function(e){if(e.key===l.Keyboard.Key.Escape){e.preventDefault(),S(d);const t=e.target;setTimeout(()=>{t.blur()},0)}else e.key===l.Keyboard.Key.Enter&&(e.preventDefault(),e.target.blur())},onBlur:function(){d!==b.trim()&&f(i,b)},onInput:function(e){S(e.target.value)},maxLength:100}),o.h("button",{type:"button",onClick:function(){v(!0)}},o.h(r.IconDelete,null))),y&&o.h(a.BasicOverlayDialog,{class:"differentTypeDialog",onPositiveButtonClick:function(){g(i)},onFallbackButtonClick:function(){m(i)},onClose:function(){v(!1)},positiveButtonText:"REMOVE AS VARIANT",negativeButtonText:"CANCEL",fallbackButtonText:"DELETE VARIANT",hideNegativeButton:!1,width:600,title:`Remove “${d}” as variant?`,message:o.h(o.Fragment,null,o.h("p",null,"Removing “",d,"” as variant will move it to the project dashboard as an individual screen."),o.h("br",null),o.h("p",null,"You can also delete the variant entirely. Deleted variants cannot be restored."))}))}return e=>o.h(t,Object.assign({},e))}n(1731),t.getScreenVariantInput=d;const u=d();t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.HEADER="Header",e.LAYER_DETAIL="Layer detail",e.SHORTCUT="Shortcut",e.NOTE="Note"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(574)),s=n(556);function r(e,t,n){var i;for(const o of n.components)if(o._id!==e._id&&o.variant&&o.variant.values.length===(null===(i=e.variant)||void 0===i?void 0:i.values.length)){if(!o.variant.values.find(n=>{var i;if(n.propertyId===t.propertyId)return n.value!==t.value;const o=null===(i=e.variant)||void 0===i?void 0:i.values.find(e=>e.propertyId===n.propertyId);return!o||o.value!==n.value}))return o}for(const o of n.componentSections){const n=r(e,t,o);if(n)return n}return null}t.default=function(e,t,n){var i;const{ancestors:a,component:l}=e,c=a.find(e=>!!e.variant),d=c?function(e,t){if(!e.variant||!t.variant)return null;const n=t.variant.properties.find(e=>"state"===e.name.toLowerCase()),i=t.variant.properties.filter(e=>"state"!==e.name.toLowerCase()),o=e.variant.values.find(({propertyId:e})=>(null==n?void 0:n._id)===e);let s,a={width:e.latestVersion.snapshot.width,height:e.latestVersion.snapshot.height};if(n){s=[];for(const i of n.values){const l=r(e,{propertyId:n._id,value:i},t),c=l?l._id:null;s.push({name:i,selected:(null==o?void 0:o.value)===i,coid:(null==o?void 0:o.value)===i?e._id:c}),a=l?{width:Math.max(a.width,l.latestVersion.snapshot.width),height:Math.max(a.height,l.latestVersion.snapshot.height)}:a}}const l=[];for(const{_id:c,name:d,values:u}of i)if(u.length>0){const n=e.variant.values.find(({propertyId:e})=>c===e),i=[];for(const o of u){const s=r(e,{propertyId:c,value:o},t),a=s?s._id:null;i.push({name:o,selected:(null==n?void 0:n.value)===o,coid:(null==n?void 0:n.value)===o?e._id:a})}l.push({name:d,values:i})}return{stateVariants:s,otherVariants:l,largestOfVariants:a}}(l,c):{},u=t===o.default.PROJECT?"project-styleguide-components":"styleguide-components",p=s.urlResolve(u,{url:{bid:n},query:{coid:l._id}});return Object.assign({snapshot:l.latestVersion.snapshot,componentURL:p,componentName:null!==(i=null==c?void 0:c.name)&&void 0!==i?i:l.name},d)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1738);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(696),a=n(681),l=n(702),c=n(1739),d=n.n(c),u=n(687),p=n(1014),h=n(582),f=n.n(h),g=n(1701),m=n.n(g),b=n(1740),S=n(1870),y=n(1507),v=n(555),C=n(559),O=n(718),E=n.n(O),T=n(737),_=n(558),P=n(570),D=n(1633),I=n(1365),j=n(703);n(1905);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.Component{constructor(...e){super(...e),R(this,"handleAddColorClick",e=>{r.default.addColor({color:e,syncWithApi:!0}),Object(P.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})}),R(this,"handleColorNameChange",(e,t)=>{r.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),R(this,"handleRemoveColorClick",e=>{r.default.removeColor({cid:e,syncWithApi:!0})}),R(this,"handleAddTextStyleClick",e=>{r.default.addTextStyle({textStyle:e,syncWithApi:!0}),Object(P.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})}),R(this,"handleTextStyleNameChange",(e,t)=>{const{styleguidesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return v.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();r.default.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),R(this,"handleRemoveTextStyleClick",e=>{r.default.removeTextStyle({tsid:e,syncWithApi:!0})}),R(this,"handleRequestOrgInviteClick",()=>{const{organizationId:e}=this.state;p.default.requestInvite(e,this.nodeRefs.sidebar)}),R(this,"handleCopyCode",(e,t)=>{const{platform:n}=this.state;r.default.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Screen"})}),R(this,"handleCopy",e=>{Object(_.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})}),R(this,"handleProcessFailedAssetContents",e=>{const{barrelId:t,barrelType:n,screenId:i,version:o,componentVariantViewVisible:s,variantViewSelectedLayer:r,variantComponent:a}=this.state;for(const l of e)s&&r?d.a.processComponentVersionAssetContent({barrelType:n,bid:t,csids:a.idPath.slice(0,-1),coid:a._id,vid:a.latestVersion._id,vaid:l.assetId,vacid:l._id,ovacid:l.optimized._id}):d.a.processVersionAssetContent({pid:t,sid:i,vid:o._id,vaid:l.assetId,vacid:l._id,ovacid:l.optimized._id})})}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onProcessFailedAssetContents:this.handleProcessFailedAssetContents}}static getStores(){return[f.a.BarrelStore,f.a.ScreenStore,f.a.ProjectsDataStore,f.a.StyleguidesDataStore,f.a.UserStore,f.a.ComponentVariantStore]}static calculateState(){const{loading:e,barrelType:t,barrelId:n,organizationId:i}=f.a.BarrelStore.getState();if(e)return{loading:!0};const o=a.default.getBarrel(),s=a.default.findUser(),{screenId:r,loadingVersions:l,versionId:c,latestVersionSelected:d,selectedLayer:p,screenSidebarWidth:h}=f.a.ScreenStore.getState();if(l&&!d)return{loading:!0};const g=u.default.getScreen(),m=u.default.getVersion({sid:r,vid:c}),b=Object(D.findCoveringLink)(o,m,p),S=new I.default(o),y=a.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore}),{componentVariantViewVisible:v,selectedLayer:C,selectedComponentVariantId:O}=f.a.ComponentVariantStore.getState();let E;v&&({component:E}=Object(j.findComponentById)(y,O));const T=y.some(({connectedComponents:e})=>e&&e.length>0);return{loading:!1,barrelType:t,barrelId:n,barrelUser:s,organizationId:i,platform:o.type,flowLink:b,formatter:S,screenId:r,screen:g,version:m,selectedLayer:p,sidebarWidth:h,styleguidesData:y,componentVariantViewVisible:v,variantViewSelectedLayer:C,variantComponent:E,hasConnectedComponent:T}}getChildContext(){const{barrelType:e,barrelId:t,barrelUser:n={},platform:i,hasConnectedComponent:o}=this.state;return{barrelType:e,barrelId:t,projectId:t,platform:i,projectType:i,barrelUser:n,userRole:n.role,hasConnectedComponent:o,permissions:{canManageColors:C.permissions.canManageColors(n),canManageScreens:C.permissions.canManageColors(n),canManageTextStyles:C.permissions.canManageTextStyles(n)}}}renderLayerDetail(){const{screen:e,version:t,selectedLayer:n,flowLink:o,formatter:s,componentVariantViewVisible:r,variantViewSelectedLayer:a,variantComponent:c}=this.state;return r&&a?i.h(b.default,k({layer:a,layerContainer:c,version:c.latestVersion,formatter:s},this.getHandlers(),{onCloseClick:m.a.deselectLayer})):i.h(b.default,k({layer:n,layerContainer:e,version:t,flowLink:o,formatter:s},this.getHandlers(),{onCloseClick:l.default.deselectLayer}))}renderResourceView(){const{formatter:e}=this.state;return i.h(S.default,k({formatter:e,onRequestOrgInviteClick:this.handleRequestOrgInviteClick},this.getHandlers()))}render(){const{loading:e,selectedLayer:t,variantViewSelectedLayer:n,sidebarWidth:o}=this.state;if(e)return i.h(y.default.Loading,null);const s=!t&&!n;return i.h(y.default,{baseRef:Object(T.default)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:o,minWidth:260,onRelease:l.default.changeScreenSidebarWidth},i.h("div",{class:"sidebarViews",onClick:C.stopPropagation},i.h("div",{class:E()("sidebarView",{scrollable:s})},t||n?this.renderLayerDetail():this.renderResourceView())))}}t.default=s()(A)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(674)),s=i(n(582)),r={setVersionAssets({vid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.SET_VERSION_ASSETS,vid:e,assets:t})},setComponentAssets({coid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.SET_COMPONENT_ASSETS,coid:e,assets:t})},updateVersionAssetOptimizedContents({vid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.UPDATE_VERSION_ASSET_OPTIMIZED_CONTENTS,vid:e,assets:t})},processVersionAssetContent({pid:e,sid:t,vid:n,vaid:i,vacid:r,ovacid:a}){s.default.dispatcher.dispatch({type:o.default.PROCESS_VERSION_ASSET_CONTENT_REQUEST,pid:e,sid:t,vid:n,vaid:i,vacid:r,ovacid:a})},processVersionAssetContentFailure({vid:e,vaid:t,vacid:n}){s.default.dispatcher.dispatch({type:o.default.PROCESS_VERSION_ASSET_CONTENT_FAILURE,vid:e,vaid:t,vacid:n})},updateComponentVersionAssetOptimizedContents({coid:e,assets:t}){s.default.dispatcher.dispatch({type:o.default.UPDATE_COMPONENT_VERSION_ASSET_OPTIMIZED_CONTENTS,coid:e,assets:t})},processComponentVersionAssetContent({barrelType:e,bid:t,csids:n,coid:i,vid:r,vaid:a,vacid:l,ovacid:c}){s.default.dispatcher.dispatch({type:o.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST,barrelType:e,bid:t,csids:n,coid:i,vid:r,vaid:a,vacid:l,ovacid:c})},processComponentVersionAssetContentFailure({coid:e,vaid:t,vacid:n}){s.default.dispatcher.dispatch({type:o.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_FAILURE,coid:e,vaid:t,vacid:n})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1741);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(559),r=n(1199),a=n(703),l=n(1742),c=n(606),d=n(1743),u=n(1849),p=n(696),h=n(681),f=n(582),g=n.n(f),m=n(1506),b=n(845),S=n.n(b),y=n(543),v=n(1868),C=n.n(v);n(1869);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends o.default{constructor(...e){super(...e),T(this,"handleDownloadAssetClick",(e,t)=>{const{layerContainer:{name:n}}=this.props,{selectedView:i,assets:o}=this.state,{screenContainerRef:s,styleguideContainerRef:r}=this.context,a=i===y.ProjectViewTypes.SCREEN?s():r();p.default.downloadAsset({containerName:n,assets:o,assetId:e,format:t,toastContainer:a,source:"Layer detail"})}),T(this,"handleAssetNameChange",(e,t)=>{const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;p.default.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Layer detail"})})}static getStores(){return[g.a.BarrelStore,g.a.StyleguidesDataStore,g.a.ProjectsDataStore,g.a.ScreenStore,g.a.ComponentVariantStore,g.a.AssetsStore]}static calculateState(e,t){const{layer:n,version:{_id:i,snapshot:o,snapshot:{density:l,densityScale:c=Object(s.getDensityScale)(l)}},componentId:d}=t,{loading:u,selectedView:p,assetDensityScalePrefs:f,assetExportTarget:m,assetNamingConvention:b,densityMismatchWarningHidden:S,flowLinkInfoDismissed:y,noVectorAssetInfoHidden:v,showOptimizedSVG:C,showOptimizedPNG:O,showOptimizedJPG:E,connectedComponentsDevModeEnabled:T,connectedComponentsLocalWorkspace:_,connectedComponentsEditorInfo:P,connectedComponentsOnboardingDialogSeen:D,numberOfHighlightedConnectToCodeButtonViews:I}=g.a.BarrelStore.getState();if(u)return{loading:!0};const{type:j,densityScale:k}=h.default.getBarrel(),{componentVariantsOnboardingHintboxSeen:R,componentVariantViewSeen:A,numberOfLayerComponentViews:w}=g.a.ScreenStore.getState(),N=c!==k&&!S,L=h.default.getStyleguidesData({barrelStore:g.a.BarrelStore,styleguidesDataStore:g.a.StyleguidesDataStore,projectsDataStore:g.a.ProjectsDataStore}),{componentVariantViewVisible:M,selectedLayer:x,selectedComponentVariantId:U}=g.a.ComponentVariantStore.getState();let B;M&&x&&({component:B}=Object(a.findComponentById)(L,U));const{versionsAssets:V,componentsAssets:z}=g.a.AssetsStore.getState();let F,W=V[i];d?W=z[d]:B&&(W=z[B._id],F=W&&W.length?W:B.latestVersion.snapshot.assets||[]),W=W&&W.length?W:o.assets;let G=Object(r.findAsset)(W,n);!G&&F&&(G=F.find(e=>"snapshot"===e.layerId));return{loading:!1,selectedView:p,platform:j,asset:G,assetDensityScalePrefs:f,assetExportTarget:m,assetNamingConvention:b,showDensityMismatchWarning:N,flowLinkInfoDismissed:y,noVectorAssetInfoHidden:v,showOptimizedSVG:C,showOptimizedPNG:O,showOptimizedJPG:E,connectedComponentsDevModeEnabled:T,connectedComponentsLocalWorkspace:_,connectedComponentsEditorInfo:P,styleguidesData:L,shouldDisplayComponentVariantsOnboardingHintbox:!A&&!R&&w<a.LAYER_COMPONENT_VIEW_LIMIT,shouldHighlightConnnectToCodeButton:!D&&I<a.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT,assets:W}}render(){const{layerContainer:{name:e},formatter:t,layer:n,flowLink:o,version:s,onCopy:r,onCopyCode:h,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:b,onAddTextStyleClick:S,onTextStyleNameChange:y,onRemoveTextStyleClick:v,onCloseClick:O,onProcessFailedAssetContents:T}=this.props,{loading:_,platform:P,selectedView:D,asset:I,assetDensityScalePrefs:j,assetExportTarget:k,assetNamingConvention:R,showDensityMismatchWarning:A,flowLinkInfoDismissed:w,noVectorAssetInfoHidden:N,showOptimizedSVG:L,showOptimizedPNG:M,showOptimizedJPG:x,connectedComponentsDevModeEnabled:U,connectedComponentsLocalWorkspace:B,connectedComponentsEditorInfo:V,styleguidesData:z,shouldDisplayComponentVariantsOnboardingHintbox:F,shouldHighlightConnnectToCodeButton:W}=this.state;if(_)return null;const G=s.creator,H=Object(a.getComponentLayerForVariant)(n,z);let $=null,q=null;H&&(q=C()(H),$=Object(a.findConnectedComponentByIdOrName)(H.component._id,H.component.name,z,U));const Z=new c.default(E(E({},n),{},{asset:I})),K=Object(l.transformLayer)(Z,t,P,z,q);return i.h("div",{class:"layerDetail"},i.h(d.default,{layer:K,selectedView:D,versionCreator:G,connectedComponent:$,shouldDisplayComponentVariantsOnboardingHintbox:F,shouldHighlightConnnectToCodeButton:W,connectedComponentsDevModeEnabled:U,connectedComponentsLocalWorkspace:B,connectedComponentsEditorInfo:V,containerName:e,projectType:P,showDensityMismatchWarning:A,noVectorAssetInfoHidden:N,assetDensityScalePrefs:j,namingConvention:R,showOptimizedSVG:L,showOptimizedPNG:M,showOptimizedJPG:x,flowLink:o,flowLinkInfoDismissed:w,assetExportTarget:k,onOpenExportTargetClick:p.default.openExportTarget,onChangeExportTargetClick:p.default.changeExportTarget,onCloseClick:O,onAddTextStyleClick:S,onTextStyleNameChange:y,onRemoveTextStyleClick:v,onAddColorClick:f,onColorNameChange:g,onRemoveColorClick:b,onContentCopyClick:r,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:p.default.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:p.default.hideNoVectorAssetInfo,onAssetDensityOptionChange:p.default.changeAssetDensityScalePref,onNamingConventionChange:p.default.changeAssetNamingConvention,onShowOptimizedSVGChange:p.default.toggleSVGOptimization,onShowOptimizedPNGChange:p.default.togglePNGOptimization,onShowOptimizedJPGChange:p.default.toggleJPGOptimization,onHideFlowInfoClick:p.default.dismissFlowLinkInfo,onProcessFailedAssetContents:T}),i.h(u.default,{class:"codeSection",version:s,layer:Z,onCopyClick:h,onSettingsClick:m.default.openSettings}))}}t.default=S()(_,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"transformAsset",(function(){return c})),n.d(t,"transformAuthors",(function(){return d})),n.d(t,"transformColor",(function(){return u})),n.d(t,"transformLayer",(function(){return m}));var i=n(559),o=n(614),s=n(1199),r=n(558);function a(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`}(e,t)).join(", ")})`}function l(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:o,range:s})=>{const r=n.find(e=>e.font.equals(o));let a,l;var c;t.equals(o)?l="default":r?l=r.group:(c=i,l=["turquoise","cornflower-blue","green","yellow","peach"][parseInt(c,10)]||"group-"+c,a=e.content.substring(s.start,s.end),i+=1),a=e.content.substring(s.start,s.end),n.push({font:o,range:s,group:l,content:a})}),n}function c(e,t,n){const{localName:o,displayName:r,layerName:a,contents:l,percent:c,size:d,lightness:u,_id:p}=e,h={},f={},g={previewImages:h,displayName:r,layerName:a,localName:o,formats:f,percent:c,size:d,light:"light"===u,id:p},m=l.filter(e=>Object(s.isSupportedAssetContent)(n,e));for(const s of m){const{_id:e,density:t,densityScale:n=Object(i.getDensityScale)(t),format:o,optimized:r,url:a}=s,l={_id:e,densityScale:n,optimized:r,url:a};o in f?f[o].variants.push(l):f[o]={variants:[l]},"diff"in f[o]||(c&&c.type===o?f[o].diff={type:"jpg"===c.type?"png":"jpg",percent:c.diff}:r&&!r.originalURL&&r.percent&&(f[o].diff={type:"svg",percent:r.percent}))}return g.size&&(g.size={width:t.withUnit(g.size.width),height:t.withUnit(g.size.height)}),"png"in f||"svg"in f?("svg"in f&&(h.svg=f.svg.variants[0].url),"png"in f&&f.png.variants.forEach(e=>{h[e.densityScale]=e.url}),g):null}function d(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const i=n[0],o=i.creator||{username:"Anonymous"},{_id:s,fullName:a,username:l}=o;return{id:s,fullName:a,username:l,avatar:Object(r.getUserAvatar)(o),versions:n.length,lastUpdated:i.created}})}function u(e,t,n){const i={sourceId:e.sourceId,name:e.name,r:e.r,g:e.g,b:e.b,a:e.a};let o;const s=e.toCSS(),r=t.colorString(e);for(const{id:a,name:l,colors:c,isMember:d,isOrganizationBarrel:u}of n){const n=c.filter(t=>t.equals(e));for(const i of n){const n={styleguideId:a,styleguideName:l,isMember:d,isOrganizationBarrel:u,added:!0,id:i.id,value:{sourceId:e.sourceId,name:i.name,r:e.r,g:e.g,b:e.b,a:e.a},colorStyle:e.toCSS(),colorString:t.colorString(e),name:i.name,exactMatch:e.toRGBAString()===i.toRGBAString()};if(i.sourceId||!e.sourceId)return n;o||(o=n)}if(o)return o}for(const{id:a,name:l,colors:c,isMember:d,isOrganizationBarrel:u}of n){const n=c.find(t=>t.hexBase()===e.hexBase());if(n&&1===n.a&&(!e.sourceId||!n.sourceId)){const{id:o,name:c}=n;return{styleguideId:a,styleguideName:l,isMember:d,isOrganizationBarrel:u,added:!1,id:o,value:i,colorStyle:s,colorString:r,name:c,opacity:t.alpha(e.a),exactMatch:!0}}}return{added:!1,value:i,colorStyle:s,colorString:r,exactMatch:!0}}function p(e,t,n){return{gradientStyle:a(e),colorStops:e.colorStops.map(({color:e,position:i})=>({position:Object(o.round)(i,2),color:u(e,t,n)}))}}function h(e,t,n,s){const r=Object(i.getMostConformingTextStyle)(s,e),{color:a,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:p,textAlign:h,fontVariationSettings:f}=e,{densityScale:g,remPreferences:m}=s[0],b="web"===n&&"enabled"===m.status&&m.useForFontSizes,S=a&&u(a,t,s),{id:y,styleguideId:v,styleguideName:C,isMember:O,isOrganizationBarrel:E}=r||{};return{styleguideId:v,styleguideName:C,isMember:O,isOrganizationBarrel:E,id:y,added:!!r,color:S,name:r&&r.name,fontFace:l,fontSize:b?Object(o.toRemSize)(c/g,m.remRootFontSize):t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:p&&(b?Object(o.toRemSize)(p/g,m.remRootFontSize):t.textLength(p)),textAlign:h,fontVariationSettings:f,value:{color:S&&S.value,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:p,textAlign:h,fontVariationSettings:f}}}function f(e,t,n,i){return"text"!==e.type?[]:l(e).map(({font:e,group:o,content:s,range:r})=>({textStyle:h(e,t,n,i),group:o,content:s,range:r}))}function g(e,t,n,i){const{densityScale:s,remPreferences:r}=i,{status:a,useForMeasurements:l,remRootFontSize:c}=r;return"web"===n&&"enabled"===a&&l?{x:Object(o.toRemSize)(e.x/s,c),y:Object(o.toRemSize)(e.y/s,c),width:Object(o.toRemSize)(e.width/s,c),height:Object(o.toRemSize)(e.height/s,c)}:{x:t.length(e.x),y:t.length(e.y),width:t.length(e.width),height:t.length(e.height)}}function m(e,t,n,i,o){const{_id:s,id:r=s,absoluteRect:a,assetData:l,blendMode:d,blur:h,borders:m,borderRadius:b,content:S,fills:y,name:v,opacity:C,rotation:O,shadows:E,type:T,styleName:_}=e,P={id:r,borders:m.map(e=>function(e,t,n){const{fill:{color:i,gradient:o},position:s,thickness:r}=e;return{color:i&&u(i,t,n),gradient:o&&p(o,t,n),position:s,thickness:t.length(r)}}(e,t,i)),component:o,content:S,fills:y.map(e=>function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=u(e.color,t,n):"gradient"===e.type&&(i.gradient=p(e.gradient,t,n)),i}(e,t,i)),name:v,rect:g(a,t,n,i[0]),shadows:E.map(e=>function(e,t,n){const{blurRadius:i,color:o,offsetX:s,offsetY:r,spread:a,type:l}=e;return{blurRadius:t.length(i),color:u(o,t,n),offsetX:t.length(s),offsetY:t.length(r),spread:t.length(a),type:l}}(e,t,i)),type:T,typefaces:f(e,t,n,i),styleName:_};return l&&(P.asset=c(l,t,n)),h&&(P.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(h,t)),C<1&&(P.opacity=t.percentage(C)),b>0&&(P.borderRadius=t.length(b)),0!==O&&(P.rotation=O),"normal"!==d&&(P.blendMode=d),P}},function(e,t,n){"use strict";n.r(t);var i=n(1744);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1745),s=n(1751),r=n(1766),a=n(1787),l=n(1790),c=n(737),d=n(549),u=n(543),p=n(1292),h=n.n(p),f=n(1820),g=n(1823),m=n(1826),b=n(1830),S=n(1833),y=n(1836),v=n(1839),C=n(1842),O=n(1845);n(1848);class E extends i.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderLayerStyle(e){const{layer:{styleName:t}}=this.props;return t?{layerStyle:i.h(C.default,{styleName:t,showSeparator:e}),showSeparator:!0}:{layerStyle:null,showSeparator:e}}renderAssets(e){const{layer:{asset:t},projectType:n,assetDensityScalePrefs:o,assetExportTarget:s,namingConvention:a,showDensityMismatchWarning:l,showOptimizedSVG:c,showOptimizedPNG:d,showOptimizedJPG:u,noVectorAssetInfoHidden:p,onChangeExportTargetClick:h,onOpenExportTargetClick:f,onDownloadAssetClick:g,onAssetNameChange:m,onHideDensityMismatchWarningClick:b,onHideNoVectorAssetInfoClick:S,onAssetDensityOptionChange:y,onNamingConventionChange:v,onShowOptimizedSVGChange:C,onShowOptimizedPNGChange:O,onShowOptimizedJPGChange:E,onProcessFailedAssetContents:T}=this.props;return t?{assets:i.h(r.default,{showSeparator:!!e,asset:t,projectType:n,showDensityMismatchWarning:l,noVectorAssetInfoHidden:p,assetDensityScalePrefs:o,namingConvention:a,showOptimizedSVG:c,showOptimizedPNG:d,showOptimizedJPG:u,assetExportTarget:s,onChangeExportTargetClick:h,onOpenExportTargetClick:f,onDownloadClick:g,onNameChange:m,onHideDensityMismatchWarningClick:b,onHideNoVectorAssetInfoClick:S,onAssetDensityOptionChange:y,onNamingConventionChange:v,onShowOptimizedSVGChange:C,onShowOptimizedPNGChange:O,onShowOptimizedJPGChange:E,onProcessFailedAssetContents:T}),showSeparator:!0}:{assets:null,showSeparator:e}}renderBlur(e){const{layer:{blur:t}}=this.props;return t?{blur:i.h(o.default,{title:"Blur",showSeparator:!!e},i.h(v.default,{blur:t})),showSeparator:!0}:{blur:null,showSeparator:e}}renderBorders(e){const{layer:{borders:t},onAddColorClick:n,onRemoveColorClick:s,onColorNameChange:r}=this.props;return t.length?{borders:i.h(o.default,{title:"Borders",showSeparator:!!e},t.map((e,t)=>i.h(S.default,{key:t,border:e,onColorNameChange:r,onColorAddClick:n,onColorRemoveClick:s}))),showSeparator:!0}:{borders:null,showSeparator:e}}renderComponentSection(){const{containerName:e,layer:{component:t},connectedComponent:n,connectedComponentsDevModeEnabled:s,connectedComponentsLocalWorkspace:r,connectedComponentsEditorInfo:a,shouldDisplayComponentVariantsOnboardingHintbox:c,shouldHighlightConnnectToCodeButton:d}=this.props;if(!t)return{componentSection:i.h("div",{class:"withPadding"},i.h(o.default,{title:"Component",showSeparator:!0},i.h(O.default,null))),showSeparator:!0};const{componentId:u,componentName:p,properties:h}=t;return{componentSection:i.h(l.default,{containerName:e,connectedComponentsDevModeEnabled:s,shouldDisplayComponentVariantsOnboardingHintbox:c,shouldHighlightConnnectToCodeButton:d,connectedComponentsLocalWorkspace:r,connectedComponentsEditorInfo:a,componentId:u,componentName:p,properties:h,connectedComponent:n,showLayerComponent:!0,userRestricted:!1}),showSeparator:!1}}renderContent(e){const{layer:{content:t,type:n,typefaces:o},onContentCopyClick:s}=this.props,{hoveredTypeface:r}=this.state;return"text"!==n?{content:null,showSeparator:e}:{content:i.h(f.default,{showSeparator:!!e,textStyles:o.filter(e=>"default"!==e.group),onCopyClick:s,content:t,hovered:r}),showSeparator:!0}}renderFills(e){const{layer:{fills:t},selectedView:n,versionCreator:r,onAddColorClick:a,onRemoveColorClick:l,onColorNameChange:c}=this.props;return t.length?{fills:i.h(o.default,{title:"Colors",showSeparator:!!e},t.map(e=>{if("color"===e.type){const{color:t}=e,o=n===u.ProjectViewTypes.SCREEN?"screen":"component";return i.h(i.Fragment,null,i.h(s.default,{color:t,onNameChange:c,onAddClick:a,onRemoveClick:l}),t&&!t.exactMatch&&t.name&&i.h(h.a,{type:"warning",class:"notSyncedHintBox",emoji:"💁‍♀️"},"Looks like color “",t.name,"” was updated in your styleguide after this ",o," was published. Check in with"," ",Object(d.getUserDisplayName)(r)," ","to make sure that this ",o," ","is up-to-date."))}return"gradient"===e.type?i.h(b.default,{gradient:e.gradient,onColorNameChange:c,onColorAddClick:a,onColorRemoveClick:l}):null})),showSeparator:!0}:{fills:null,showSeparator:e}}renderShadows(e){const{layer:{shadows:t},onAddColorClick:n,onRemoveColorClick:s,onColorNameChange:r}=this.props;return t.length?{shadows:i.h(o.default,{title:"Shadows",showSeparator:!!e},t.map((e,t)=>i.h(y.default,{key:t,shadow:e,onColorNameChange:r,onColorAddClick:n,onColorRemoveClick:s}))),showSeparator:!0}:{shadows:null,showSeparator:e}}renderTypefaces(e){const{layer:{type:t,typefaces:n},onAddTextStyleClick:s,onRemoveTextStyleClick:r,onTextStyleNameChange:a,onAddColorClick:l,onRemoveColorClick:c,onColorNameChange:d}=this.props;return"text"!==t?{typefaces:null,showSeparator:e}:{typefaces:i.h(o.default,{showSeparator:!!e},i.h(m.default,{typefaces:n,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:s,onRemoveTextStyleClick:r,onTextStyleNameChange:a,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d})),showSeparator:!0}}render(){const{flowLink:e,layer:t,flowLinkInfoDismissed:n,onCloseClick:o,onHideFlowInfoClick:s}=this.props,{componentSection:r,showSeparator:l}=this.renderComponentSection(),{layerStyle:d,showSeparator:u}=this.renderLayerStyle(l),{typefaces:p,showSeparator:h}=this.renderTypefaces(u),{assets:f,showSeparator:m}=this.renderAssets(h),{fills:b,showSeparator:S}=this.renderFills(m),{borders:y,showSeparator:v}=this.renderBorders(S),{shadows:C,showSeparator:O}=this.renderShadows(v),{blur:E,showSeparator:T}=this.renderBlur(O),{content:_}=this.renderContent(T);return i.h("div",{class:"detailSections",ref:Object(c.default)(this,"base")},i.h("div",{class:"withPadding"},i.h(a.default,{onCloseClick:o},t.name)),i.h("div",{class:"withPadding"},i.h(g.default,{flowLink:e,layer:t,flowLinkInfoDismissed:n,onHideFlowInfoClick:s})),r,i.h("div",{class:"withPadding"},d,p,f,b,y,C,E,_))}}t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(1746);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1747),s=n.n(o),r=n(718),a=n.n(r);n(1750);t.default=function(e){const{class:t,children:n,title:o,showSeparator:r}=e;return i.h("div",{class:a()("sidebarSection",t)},r&&i.h(s.a,null),o&&i.h("h2",{class:"title"},o),n)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1748);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(1749),t.default=function(){return i.h("div",{class:"separator"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1752);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1753),s=n(1135),r=n.n(s);n(1765);class a extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:s,colorString:r,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:p}=this.props,{permissions:{canManageColors:h}}=this.context;return i.h("div",{class:"layerColor"},i.h("div",{class:"colorPreview",style:{backgroundColor:s}}),i.h(o.default,{class:"layerColorInfo",added:n,hover:p,id:e,name:t,colorString:r,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}}const l=r()(a);t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1754);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1755),s=n.n(o),r=n(574),a=n.n(r),l=n(771),c=n(1757),d=n(718),u=n.n(d),p=n(556);n(1764);t.default=function(e,t){const{added:n,isMember:o,isOrganizationBarrel:r,styleguideId:d,styleguideName:h,id:f,name:g,canManageColors:m,class:b,colorString:S,hover:y,opacity:v,onAddClick:C,onRemoveClick:O,onNameChange:E}=e,{barrelType:T,barrelId:_}=t;let P;!!g&&(P=n&&m&&d===_?i.h(s.a,{initialValue:g,hasHover:y,textInputProps:{prefix:"#",maxLength:100,blurOnEnter:!0,withMirror:!0},onBlur:E}):i.h(s.a,{initialValue:v?`${g}, ${v}`:g,hasHover:y,textInputProps:{readonly:!0,prefix:"#",maxLength:100,blurOnEnter:!0,withMirror:!0},onBlur:E}));const D=!m||n&&d!==_,I=T===a.a.STYLEGUIDE?"styleguide":"project-styleguide",j=Object(p.urlResolve)(I+"-colors",{url:{bid:_},query:{cid:f}});return i.h("div",{class:u()("colorInfo",b,{hover:y})},i.h("div",{class:"infoContent"},P,i.h("div",{class:"value"},S)),i.h(c.default,{onAddClick:C,onRemoveClick:O,resourceAdded:n,isMember:o,isOrganizationBarrel:r,styleguideId:d,styleguideName:h,canManageResource:m,class:"resourceButton",type:c.default.TYPE.COLOR,disabled:D}),f&&i.h("a",{href:j,class:"goToResource","data-link-type":"inApp"},i.h(l.IconGoTo,{width:"18",height:"18"})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1756);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1430)),r=n(543);class a extends o.Component{constructor(){super(...arguments),this.state={oldValue:this.props.initialValue,value:this.props.initialValue},this.inputRef=void 0,this.handleInputRef=e=>{this.inputRef=e},this.handleKeyDown=e=>{e.key===r.Keyboard.Key.Escape&&(e.stopPropagation(),this.setState({value:this.state.oldValue},()=>{var e;null===(e=this.inputRef)||void 0===e||e.blur()}))},this.handleBlur=e=>{if(!e.target)return;const{initialValue:t,onBlur:n}=this.props,{value:i,oldValue:o}=this.state,s=e.target.value.trim();o!==i&&(s?(this.setState({oldValue:i,value:s}),t!==s&&n(s)):this.setState({value:o}))},this.handleFocus=()=>{this.setState({oldValue:this.state.value})},this.handleInput=e=>{const{onAttemptToChange:t}=this.props;if(t)return void t();if(!e.target)return;const n=e.target,{value:i}=n;this.setState({value:i})}}componentDidUpdate(e){this.props.initialValue!==e.initialValue&&this.props.initialValue!==this.state.value&&this.setState({value:this.props.initialValue,oldValue:this.props.initialValue})}render(){const{textInputProps:e,hasHover:t}=this.props,{value:n}=this.state;return o.h(s.default,Object.assign({},e,{inputRef:this.handleInputRef,value:n,hasHover:t,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1758);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1759),s=n(1761);n(1763);class r extends i.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:a,styleguideName:l,canManageResource:c,type:d=r.TYPE.DEFAULT,resourceAdded:u,disabled:p},{hasClickHover:h}){return u?i.h(s.default,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:a,styleguideName:l,disabled:p,hideHoverState:h,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.h(o.default,{type:d,class:e,disabled:p,onClick:this.handleAddClick})}}r.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1760);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(1092),r=n(1096),a=n(771);const l={color:i.h(a.IconColor,{type:"add"}),textStyle:i.h(a.IconTextStyle,{type:"add"})};t.default=function(e,t){const{class:n,disabled:a,type:c,onClick:d}=e,{userRole:u}=t,p=c.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),h=a?Object(r.default)(u,`add ${p}s`):`Add ${p} to Styleguide`;return i.h(s.default,{targetClass:n,content:h},i.h(o.default,{class:"addResourceButton resourceButtonButton",disabled:a,onClick:d},l[c]))}},function(e,t,n){"use strict";n.r(t);var i=n(1762);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(556),s=n(723),r=n(1092),a=n(771),l=n(1096),c=n(718),d=n.n(c);const u={color:i.h(a.IconColor,{color:"#fff",key:"tick",type:"tick",opacity:".5"}),textStyle:i.h(a.IconTextStyle,{color:"#fff",key:"tick",type:"tick",opacity:".5"})},p={color:[i.h(a.IconColor,{color:"#fff",key:"tick",type:"tick"}),i.h(a.IconColor,{color:"#fff",class:"remove",key:"remove",type:"remove"})],textStyle:[i.h(a.IconTextStyle,{color:"#fff",key:"tick",type:"tick"}),i.h(a.IconTextStyle,{color:"#fff",class:"remove",key:"remove",type:"remove"})]};function h({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:s,styleguideName:r,resourceName:a,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:s,styleguideId:r,styleguideName:a}){if(!n)return Object(l.default)(s,`delete ${e}s`);const c=Object(o.urlResolve)("styleguide",{url:{bid:r}});return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Go to ",a)," to update the ",e,"s.")]:[i.h("p",{key:"tooltipExplanation"},"You’re not a member of the ",i.h("strong",null,a)," Styleguide, only members can remove ",e,"s."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Join to edit ",a),".")]}({resourceName:a,isMember:e,canManageResource:n,userRole:c,styleguideId:s,styleguideName:r}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:s}){return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:Object(o.urlResolve)("styleguide",{url:{bid:n}}),"data-link-type":"inApp"},"Go to ",s)," update the ",e,"s.")]:i.h("p",null,"You are not a member of ",s,". Contact the owner to request access.")}({resourceName:a,isMember:e,styleguideId:s,styleguideName:r})}t.default=function(e,t){const{class:n,disabled:o,type:a,onClick:l,hideHoverState:c,onMouseLeave:f,isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y}=e,{userRole:v}=t,C=a.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),O=o?h({isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:S,styleguideName:y,resourceName:C,userRole:v}):`Delete ${C} from Styleguide`,E=i.h(s.default,{class:d()("removeResourceButton","resourceButtonButton",{hideHoverState:c}),disabled:o,onClick:l,onMouseLeave:f},o?u[a]:p[a]);return c?E:function(e,{targetClass:t,content:n}){return i.h(r.default,{targetClass:t,content:n},e)}(E,{targetClass:n,content:O})}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1767);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(1199),a=n(558),l=n(559),c=n(543),d=n(1768),u=n(1771),p=n(1773),h=n(1775),f=n(1778),g=n(1781),m=n(723),b=n(1430),S=n(1745),y=n(901),v=n.n(y),C=n(1783),O=n(771);n(1786);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=Object(a.canDownload)();class D extends i.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(r.formatName)(e,t)}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:o}=e.target,s=n||this.getAssetName();o?s!==o&&i(t,o):e.target.value=s}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderExports(){const{asset:{id:e,formats:t},assetDensityScalePrefs:n,showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:a,projectType:l,onProcessFailedAssetContents:d}=this.props;return l===c.PLATFORM.BASE?i.h(v.a,null,"To download assets, navigate to a linked project or a platform‑specific child styleguide."):i.h("div",{class:"assetExports"},Object.keys(t).sort(r.sortFormats).map(r=>{const{variants:l,diff:c}=t[r],u=l.map(t=>T(T({},t),{},{assetId:e}));return i.h(h.default,{key:r,format:r,variants:u,diff:c,assetDensityScalePrefs:n,showCompressionInfo:"svg"!==r||c,optimizationSettings:{showOptimizedSVG:o,showOptimizedPNG:s,showOptimizedJPG:a},onProcessFailedAssetContents:d,onDownloadClick:this.createDownloadClickHandler(r)})}))}renderBitmapInfo(){const{onHideNoVectorAssetInfoClick:e}=this.props;return i.h(v.a,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(){const{class:e,showSeparator:t,asset:{localName:n,size:o,formats:r,light:a,previewImages:h},noVectorAssetInfoHidden:y,showDensityMismatchWarning:v,assetDensityScalePrefs:E,namingConvention:T,showOptimizedSVG:_,showOptimizedPNG:D,showOptimizedJPG:I,projectType:j,assetExportTarget:k,onChangeExportTargetClick:R,onOpenExportTargetClick:A,onHideDensityMismatchWarningClick:w,onAssetDensityOptionChange:N,onNamingConventionChange:L,onShowOptimizedSVGChange:M,onShowOptimizedPNGChange:x,onShowOptimizedJPGChange:U}=this.props,{settingsOpen:B}=this.state,V=i.h("div",{class:"assetsTitle"},"Assets",i.h(g.default,{open:B,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:N,onNamingConventionChange:L,onShowOptimizedSVGChange:M,onShowOptimizedPNGChange:x,onShowOptimizedJPGChange:U,projectType:j,settings:{assetDensityScalePrefs:E,namingConvention:T,showOptimizedSVG:_,showOptimizedPNG:D,showOptimizedJPG:I},target:i.h(m.default,{class:s()("assetSettingsButton",{active:B}),onClick:this.showSettingsMenu},i.h(O.IconSettings,null))})),z=Object.keys(r).some(e=>"jpg"===e)&&Object.keys(r).every(e=>"svg"!==e&&"pdf"!==e),F=this.getAssetName(),{pattern:W,text:G}=function(e){switch(e){case c.PLATFORM.BASE:case c.PLATFORM.WEB:default:return{pattern:"[\\w-]+",text:"letters, numbers, underscores, and hyphens"};case c.PLATFORM.IOS:case c.PLATFORM.MACOS:return{pattern:"[a-zA-Z\\d]+",text:"letters, and numbers"};case c.PLATFORM.ANDROID:return{pattern:"[a-z\\d_]+",text:"lower cased letters, numbers, and underscores"}}}(j),H=`${Object(l.getPlatformString)(j)} platform assets can only contain ${G}`;return i.h(S.default,{class:s()("assetSection",e),title:V,showSeparator:t},v&&i.h(u.default,{class:"warningBox",onHideClick:w}),!P&&i.h(p.default,{class:"warningBox"}),i.h(f.default,{class:"preview",light:a,images:h}),i.h(C.default,{name:"Name",capitalize:!1},i.h(b.default,{class:"assetName",blurOnEnter:!0,title:H,value:n||this.getAssetName(),pattern:W,onBlur:this.handleNameChange,onInput:this.handleNameInput})),n&&i.h("div",{class:"renameInfo"},"Renamed locally from “",F,"”"),i.h(C.default,{name:"Size"},o&&`${o.width} × ${o.height}`),this.renderExports(),k&&i.h(d.default,{name:k.name,type:k.type,path:k.path,pathParts:k.pathParts,onChangeClick:R,onOpenClick:A}),z&&!y&&this.renderBitmapInfo())}}t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(1769);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(771),r=n(718),a=n.n(r),l=n(563);n(1770);t.default=function(e){const{name:t,type:n,path:r,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.h("div",{class:"exportPathSelection"},i.h("div",{class:"pathLocation"},i.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"”"),i.h("div",{class:"path",title:r,onClick:u},c.join(" ▸ "))),i.h(o.default,{class:a()(n,"openExportPath"),onClick:u},"android"===n?[i.h("img",{key:"regular",src:Object(l.imageUrl)("img/icAndroidStudio.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/icAndroidStudio.png"))}),i.h("img",{key:"pressed",src:Object(l.imageUrl)("img/icAndroidStudioPressed.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/icAndroidStudioPressed.png"))})]:i.h(s.IconFolder,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1772);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o);function r(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.default=function(e){const{class:t,onHideClick:n}=e;return i.h(s.a,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:r},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";n.r(t);var i=n(1774);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o);t.default=function(e){const{class:t}=e;return i.h(s.a,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";n.r(t);var i=n(1776);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(771),r=n(559),a=n(1199),l=n(560),c=n(718),d=n.n(c);n(1777);function u(e){return"svg"===e||"pdf"===e}t.default=function(e,t){const{format:n,variants:c,assetDensityScalePrefs:p,diff:h,showCompressionInfo:f,optimizationSettings:{showOptimizedSVG:g,showOptimizedPNG:m,showOptimizedJPG:b},onDownloadClick:S,onProcessFailedAssetContents:y}=e,{projectType:v}=t,C=c.filter(e=>Object(a.isAssetDensityScaleSelected)(p,n,e.densityScale)),O=C.length,E=Object(a.getSupportedDensityScales)(v).every(e=>Object(a.isAssetDensityScaleSelected)(p,n,e)),T=g&&"svg"===n,_=m&&"png"===n,P=b&&"jpg"===n;let D,I,j=!1,k=[];(_||P||"webp"===n)&&(k=C.filter(({optimized:e})=>e&&"ready"===e.status),D=C.filter(({optimized:e})=>e&&("queued"===e.status||"processing"===e.status)),I=C.filter(({optimized:e})=>e&&"error"===e.status)),(_||P||T)&&(j=C.some(({optimized:e})=>Boolean(e)));const R=Boolean(D&&D.length),A=Boolean(I&&I.length);function w(){y(I)}return i.h("div",{class:d()("assetExport",{hasError:!R&&A})},i.h("div",{class:d()("exportType",{fourChar:4===a.ASSET_FORMAT_TITLES[n].length})},a.ASSET_FORMAT_TITLES[n]),i.h("div",{class:"exportInfo"},function(){const e=`${O}${E?"":" selected"}${j?" optimized":""} ${Object(a.getFormatType)(n)} image${O>1?"s":""}`;return i.h("div",{class:"ellipsis",title:e},e)}(),function(){let e,t,o;if(R)e="Optimizing now…",t=e;else if(A){const n="Optimized with "+Object(l.pluralize)(I.length,"error");e=i.h("a",{class:"assetExportRetryOptimization",onClick:w},n,". Retry."),t=n}else if(!u(n)){const o=[...new Set(c.map(e=>e.densityScale))].sort((e,t)=>e-t);e=o.reduce((e,t,o,s)=>{const l=Object(r.getDensityScaleRepresentation)(v,t);return e.push(Object(a.isAssetDensityScaleSelected)(p,n,t)?l:i.h("s",null,l)),o!==s.length-1&&e.push(", "),e},[]),t=o.filter(e=>Object(a.isAssetDensityScaleSelected)(p,n,e)).map(e=>Object(r.getDensityScaleRepresentation)(v,e)).join(", ")}if(k.length===O){const e=k.reduce((e,t)=>e+(t.optimized.percent||0),0),t=Math.round(e/O);t&&(o=`~${t}% smaller`,"webp"===n&&(o+=" than original PNG"))}else if(!u(n)&&h)o=`~${h.percent}% smaller than original ${h.type.toUpperCase()}`;else if(T){let e;if(h)e=h.percent;else{const t=C.reduce((e,t)=>e+(t.optimized?t.optimized.percent:0),0);e=Math.round(t/O)}o=`~${e}% smaller`}return o&&(t=`${o}${t?"; "+t:""}`,f&&(e=o)),e?i.h("div",{class:"extraInfo ellipsis",title:t},e):null}()),R?i.h(s.IconDotSpinner,{class:"assetExportOptimizationPendingIcon",width:16}):i.h(o.default,{class:"downloadButton",onClick:S},i.h(s.IconDownload,null)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1779);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737),a=n(563),l=n(1198);n(1780);class c extends i.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}async setImageSource(){const{images:e}=this.props;try{if(e.svg){const n=await fetch(e.svg,{mode:"cors"}),i=await n.text(),o=new DOMParser;let s,r=!1,a=!1;try{s=o.parseFromString(i,l.MIME_TYPE.svg)}catch(t){r=!0}if(r||(a=Boolean(s.querySelector("text")),r=Boolean(s.querySelector("parsererror"))),!a&&!r)return void this.setState({source:e.svg,svg:!0})}const[n]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),i=n*window.devicePixelRatio,o=Object.keys(e).filter(e=>"svg"!==e).map(Number).sort((e,t)=>e-t),s=e[o[0]],r=(await Object(a.getImageProperties)(s)).size.height,c=o.find(e=>r*e>=i)||o[o.length-1];this.setState({source:e[c],svg:!1})}catch(t){}}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:o}=this.props;return i.h("div",{class:s()("assetPreview","noSelect",n,{light:o,svg:t})},i.h("img",{ref:Object(r.default)(this,"image"),src:e,crossorigin:"anonymous"}))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1782);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1219),s=n(737),r=n(559),a=n(1199);const l=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}];class c extends i.Component{constructor(e){super(e),this.handlePositionMenu=this.handlePositionMenu.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static optimizedAssetsOptionVisible(e){return"base"!==e}get optimizedAssetsSelectedOptionNames(){const{settings:{showOptimizedSVG:e,showOptimizedPNG:t,showOptimizedJPG:n}}=this.props,i=[];return e&&i.push("SVG"),t&&i.push("PNG"),n&&i.push("JPG"),i}handlePositionMenu(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let s,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,s=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${s}px, ${r}px, 0)`}handleSettingsChange(e,t){if("naming"===e)this.props.onNamingConventionChange(t);else if("optimizedAssets"===e){const{onShowOptimizedSVGChange:e,onShowOptimizedPNGChange:n,onShowOptimizedJPGChange:i}=this.props;let[o]=t.filter(e=>!this.optimizedAssetsSelectedOptionNames.includes(e)),s=!0;o||([o]=this.optimizedAssetsSelectedOptionNames.filter(e=>!t.includes(e)),s=!1),"SVG"===o?e(s):"PNG"===o?n(s):"JPG"===o&&i(s)}else"bitmapScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t},projectType:n,open:d,target:u,onClose:p}=this.props,h=[];return c.densityScaleOptionVisible(n)&&h.push(i.h(o.default.SwitchMenu,{name:"bitmapScales",content:"Bitmap Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:1,options:Object(a.getSupportedDensityScales)(n).map(e=>({name:e,content:Object(r.getDensityScaleRepresentation)(n,e)}))})),c.namingOptionVisible(n)&&h.push(i.h(o.default.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:l})),c.optimizedAssetsOptionVisible(n)&&h.push(i.h(o.default.SwitchMenu,{name:"optimizedAssets",content:"Optimize Assets",selectedOptionNames:this.optimizedAssetsSelectedOptionNames,options:[{name:"PNG",content:"PNG"},{name:"JPG",content:"JPG"},{name:"SVG",content:"SVG"}],footer:i.h(i.Fragment,null,i.h(o.default.Divider,null),i.h(o.default.Link,{href:"https://zpl.io/optimized-assets"},"About Optimized Assets"))})),i.h("div",{class:"assetSettings"},i.h("div",{class:"target",ref:Object(s.default)(this,"target")},u),d&&i.h(o.default.Overlay,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:p,onPositionMenu:this.handlePositionMenu,overlayDivProps:{onClick:r.stopPropagation}},h))}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1784);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r);n(1785);function l(e){const{capitalize:t,name:n,abbr:o,children:s,theme:r}=e,l=n?""+n:null,c=o?i.h("abbr",null,o):null,d=l&&c?", ":"";return i.h("div",{class:a()("layerProperty",r,{capitalize:t})},i.h("span",{class:"propertyName noSelect"},l,d,c,": "),i.h("span",{class:"propertyValue ellipsis"},s))}l.Group=function({children:e}){return i.h("div",{class:"layerPropertyGroup"},e)},l.propTypes={capitalize:s.a.bool,name:s.a.string,abbr:s.a.string,children:s.a.element.isRequired,theme:s.a.oneOf(["light","dark"])},l.defaultProps={capitalize:!0,theme:"light"},t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1788);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(723),a=n(771);n(1789);function l(e){const{children:t,onCloseClick:n}=e;return i.h("div",{class:"sidebarHeader"},i.h("h2",{class:"ellipsis"},t),i.h(r.default,{class:"closeButton",onClick:n},i.h(a.IconClose,{color:"#979197"})))}l.propTypes={onCloseClick:s.a.func,children:s.a.oneOfType([s.a.node,s.a.element])},t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1791);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(723),a=n(1117),l=n(1792),c=n(771),d=n(541),u=n(696),p=n(702),h=n(1701),f=n.n(h),g=n(1734),m=n.n(g),b=n(556),S=n(558),y=n(560),v=n(718),C=n.n(v),O=n(1795),E=n(1802),T=n(1804),_=n(1783),P=n(1747),D=n.n(P),I=n(1807),j=n.n(I),k=n(1810),R=n.n(k),A=n(1816),w=n.n(A);n(1819);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends i.Component{constructor(e){super(e),N(this,"handleLayerComponentClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Layer detail"})}),N(this,"handleOpenComponentVariantViewClick",()=>{f.a.open(this.props.componentId,m.a.HEADER)}),N(this,"handleVariantsHintboxActionClick",()=>{Object(S.openLink)("#")}),this.state={showCoCoOnboardingDialog:!1},this.handleConnectToCodeClick=this.handleConnectToCodeClick.bind(this),this.handleCloseOnboarding=this.handleCloseOnboarding.bind(this),this.handleOpenDocumentationClick=this.handleOpenDocumentationClick.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this)}handleConnectToCodeClick(){const{shouldHighlightConnnectToCodeButton:e}=this.props;e&&u.default.markConnectedComponentsOnboardingDialogAsSeen(),this.setState({showCoCoOnboardingDialog:!0});const t=this.props.showLayerComponent;mixpanel.master.track("Opened connected component onboarding",{Source:t?"Screen":"Component"})}handleCloseOnboarding(){this.setState({showCoCoOnboardingDialog:!1})}handleOpenDocumentationClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked local configuration documentation button",{Source:e?"Screen":"Component"}),Object(S.openLink)("https://zpl.io/connected-components-local-configuration")}handleAddWorkspacePath(e){const{barrelId:t}=this.context;u.default.setConnectedComponentsLocalWorkspace({bid:t,workspace:e})}renderLayerComponent(){if(!this.props.showLayerComponent)return null;const{containerName:e,componentId:t,componentName:n}=this.props,{projectId:o}=this.context,s=Object(b.urlResolve)("project-styleguide-components",{url:{bid:o},query:{coid:t}});return[i.h("h2",{key:"componentTitle",class:"componentTitle"},"Component"),i.h("div",{key:"styleguideComponent",class:"styleguideComponent"},i.h("span",{class:"name ellipsis",title:n},n),i.h("a",{href:s,onClick:this.handleLayerComponentClick,"data-link-type":"inApp","data-back":e},i.h(c.IconGoTo,{width:"18",height:"18",color:"#C1BEC1"})))]}renderComponentProperties(){const{showLayerComponent:e,properties:t,shouldDisplayComponentVariantsOnboardingHintbox:n}=this.props;return e&&t?i.h(i.Fragment,null,i.h(D.a,null),i.h("h2",{class:"componentTitle"},"Properties",i.h("button",{onClick:this.handleOpenComponentVariantViewClick},i.h(c.IconVariants,null))),t.map(({name:e,value:t})=>i.h(_.default,{key:t,name:e,theme:"dark"},t)),n&&i.h(j.a,{onActionClick:this.handleVariantsHintboxActionClick,onHideClick:p.default.hideComponentVariantsOnboardingHintbox})):null}renderDevModeHintBox(){const{connectedComponentsDevModeEnabled:e}=this.props;return e?i.h(T.default,{onReload:u.default.reloadLocalConnectedComponents}):null}renderCodeComponent(){const{connectedComponent:e,connectedComponentsDevModeEnabled:t,componentName:n,shouldHighlightConnnectToCodeButton:o,showLayerComponent:s,properties:c,shouldDisplayComponentVariantsOnboardingHintbox:d,componentId:u}=this.props,p=!(s&&c&&d)&&o;if(!e)return t?i.h(i.Fragment,null,i.h("span",{class:"notFoundDescription"},n+" not found in local configuration file. Reload to try again."),i.h(r.default,{class:"openDocumentation",onClick:this.handleOpenDocumentationClick},"Open Documentation")):i.h(i.Fragment,null,i.h("span",{class:"notConnectedDescription"},"Connect this component to your component in code to see a quick overview with links to documentation, e.g. Storybook."),i.h(r.default,{class:C()("connectToCode",{highlight:o}),onClick:this.handleConnectToCodeClick},"Connect to Code"),p&&i.h(w.a,{key:u}));let{name:h,path:f,data:g}=e;h||(h=Object(y.getFilenameWithoutExtensionFromPath)(f));const{description:m,snippet:b,lang:S}=(v=g).find(e=>!!e.snippet)||v.find(e=>!!e.description)||{};var v;return[i.h("div",{key:"componentInfo",class:"componentInfo"},i.h("span",{class:"componentName ellipsis"},h),i.h("span",{class:"componentPath ellipsis"},f)),m||b?[m&&i.h("div",{key:"componentDescription",class:"componentDescription"},i.h(a.default,null,m)),b&&i.h("div",{key:"componentCodeSnippet",class:"snippet"},i.h(l.default,{lineIndicator:!0,lang:S,content:b}))]:i.h("div",{key:"noData",class:"componentDescription"},i.h(a.default,null,"No description or code snippet."))]}renderOpenInEditor(e){const{connectedComponentsLocalWorkspace:t,connectedComponentsEditorInfo:n,userRestricted:o}=this.props;if(d.isWindowsApp){const{editorList:t,defaultEditorPreferences:s,workspacePath:r}=n,a=Object(y.getFileExtensionFromPath)(e),l=s&&s[a];return i.h(E.default,{filePath:e,fileExtension:a,editorList:t,selectedEditor:l,workspacePath:r,disabled:o,onOpenFileInEditor:u.default.openComponentFileInEditor,onEditorChange:u.default.setConnectedComponentsEditorPreference,onSelectWorkspace:u.default.selectConnectedComponentsWorkspaceFolder})}return i.h(O.OpenInVSCode,{filePath:e,showOptionsButton:!0,onAddWorkspacePath:this.handleAddWorkspacePath,workspace:t,disabled:o})}renderOpenInButtons(){const{connectedComponent:e,userRestricted:t}=this.props;if(!e)return;const{urlPaths:n,path:o}=e,s=[],r=[];return n&&n.forEach(e=>{const{name:n,type:o,url:a}=e;"github"===o?r.push(i.h(O.OpenInGitHub,{key:"github",name:n,uri:a,disabled:t})):"gitlab"===o?r.push(i.h(O.OpenInGitLab,{key:"gitlab",name:n,uri:a,disabled:t})):"bitbucket"===o?r.push(i.h(O.OpenInBitbucket,{key:"bitbucket",name:n,uri:a,disabled:t})):"styleguidist"===o?r.push(i.h(O.OpenInStyleguidist,{key:"styleguidist",name:n,uri:a,disabled:t})):"storybook"===o?s.push(a):"custom"===o&&r.push(i.h(O.OpenInCustomLink,{key:"custom-"+n,name:n,uri:a,disabled:t}))}),i.h("div",{class:"openInButtons"},r.length>0&&r,s.length>0&&i.h(O.OpenInStorybook,{uriList:s,disabled:t}),this.renderOpenInEditor(o))}render(){const{componentId:e}=this.props,{showCoCoOnboardingDialog:t}=this.state;return i.h(i.Fragment,null,i.h("div",{class:"componentDetailSection"},i.h("div",{class:"componentDetailsWrapper"},i.h("div",{class:"componentDetails"},this.renderLayerComponent(),this.renderComponentProperties(),this.renderDevModeHintBox(),this.renderCodeComponent())),this.renderOpenInButtons()),t&&i.h(R.a,{componentId:e,onClose:this.handleCloseOnboarding}))}}L.propTypes={containerName:s.a.string,componentId:s.a.string,componentName:s.a.string,showLayerComponent:s.a.bool,shouldDisplayComponentVariantsOnboardingHintbox:s.a.bool,connectedComponent:s.a.object},t.default=L},function(e,t,n){"use strict";n.r(t);var i=n(1793);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(1124);n(1794);class a extends i.Component{constructor(...e){var t,n,i;super(...e),i={lines:[]},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}async highlight(){const{content:e,lang:t}=this.props,n=await async function(e,t){if(!t)return e.split("\n");const n=await Object(r.getPrismInstance)();return n.languages[t]?function(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}(n.tokenizeFlat(e,n.languages[t])):e.split("\n")}(e,t);this.setState({lines:n})}componentDidMount(){this.highlight()}componentDidUpdate(e){e.content!==this.props.content&&this.highlight()}render(){const{class:e,lang:t,lineIndicator:n,style:o}=this.props,{lines:r}=this.state,a=s()("code",e,{lineIndicator:n});return i.h("pre",{class:a},i.h("code",{class:"language-"+t,style:o},r.map((e,t)=>i.h("span",{key:t,class:"lineWrapper"},i.h("span",{class:"lineno"}),i.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.h("span",{class:"token "+e.type},e.content)):e)))))}}t.default=a},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1796);n.d(t,"default",(function(){return i.default})),n.d(t,"OpenInVSCode",(function(){return i.OpenInVSCode})),n.d(t,"OpenInStyleguidist",(function(){return i.OpenInStyleguidist})),n.d(t,"OpenInGitHub",(function(){return i.OpenInGitHub})),n.d(t,"OpenInGitLab",(function(){return i.OpenInGitLab})),n.d(t,"OpenInBitbucket",(function(){return i.OpenInBitbucket})),n.d(t,"OpenInStorybook",(function(){return i.OpenInStorybook})),n.d(t,"OpenInCustomLink",(function(){return i.OpenInCustomLink}))},function(e,t,n){"use strict";n.r(t),n.d(t,"OpenInVSCode",(function(){return y})),n.d(t,"OpenInGitHub",(function(){return C})),n.d(t,"OpenInGitLab",(function(){return O})),n.d(t,"OpenInBitbucket",(function(){return E})),n.d(t,"OpenInStorybook",(function(){return T})),n.d(t,"OpenInStyleguidist",(function(){return v})),n.d(t,"OpenInCustomLink",(function(){return _}));var i=n(4),o=n(1797),s=n(737),r=n(718),a=n.n(r),l=n(540),c=n(559),d=n(1219),u=n(1798);n(1801);function p(e){const{name:t,icon:n,uri:s,target:r,showOptionsButton:l,onOptionsClick:d,onClickOpenInButton:u,disabled:p}=e;return i.h("div",{class:a()("openInButtonWrapper",{disabled:p})},i.h("a",{class:"openInButton noSelect",href:p?"":s,target:r,onClick:p?c.preventDefault:u},n,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",t)),l&&i.h("button",{onClick:d},o.optionsIcon))}function h(){S("Styleguidist")}function f(){S("GitHub")}function g(){S("GitLab")}function m(){S("Bitbucket")}function b(){S("Storybook")}function S(e){mixpanel.master.track("Clicked open in button",{Type:e})}class y extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleHideDialog=this.handleHideDialog.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.state={showDialog:!1,optionsDialog:!1}}handleOpen(){const{filePath:e,workspace:t}=this.props;if(t){mixpanel.master.track("Clicked open in button for connected component",{Type:"Editor",Source:"Visual Studio Code"});const n=`vscode://file/${Object(l.toURI)(t)}/${Object(l.toURI)(e)}`;window.open(n,"_self")}else this.setState({showDialog:!0,optionsDialog:!1})}handleOptionsClick(){this.setState({showDialog:!0,optionsDialog:!0})}handleHideDialog(){this.setState({showDialog:!1})}handleAddWorkspacePath(e){const{optionsDialog:t}=this.state,{filePath:n,onAddWorkspacePath:i}=this.props;if(i(e),this.handleHideDialog(),!t){const t=`vscode://file/${Object(l.toURI)(e)}/${Object(l.toURI)(n)}`;window.open(t,"_self")}}render(){const{name:e,showOptionsButton:t,workspace:n,disabled:r}=this.props,{showDialog:l}=this.state;return i.h("div",{class:a()("openInButtonWrapper",{disabled:r}),ref:Object(s.default)(this,"base")},l&&i.h(u.default,{workspace:n,onAdd:this.handleAddWorkspacePath,onHide:this.handleHideDialog}),i.h("button",{class:"openInButton noSelect",onClick:r?c.preventDefault:this.handleOpen},o.vsCodeIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",e||"VS Code")),t&&i.h("button",{onClick:r?c.preventDefault:this.handleOptionsClick},o.optionsIcon))}}function v(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:r,disabled:a}=e;return i.h(p,{name:t||"Styleguidist",icon:o.styleguidistIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:s,onOptionsClick:r,onClickOpenInButton:h})}function C(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:r,disabled:a}=e;return i.h(p,{name:t||"GitHub",icon:o.gitHubIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:s,onOptionsClick:r,onClickOpenInButton:f})}function O(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:r,disabled:a}=e;return i.h(p,{name:t||"GitLab",icon:o.gitLabIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:s,onOptionsClick:r,onClickOpenInButton:g})}function E(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:r,disabled:a}=e;return i.h(p,{name:t||"Bitbucket",icon:o.bitbucketIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:s,onOptionsClick:r,onClickOpenInButton:m})}class T extends i.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handlePositionMenu=this.handlePositionMenu.bind(this),this.setState({showOptions:!1})}getStoryName(e){const t=new URL(e),n=t.searchParams.get("selectedStory"),i=t.searchParams.get("path");if(n)return n;if(i){const e=/^\/(docs|story)\/(.*)--(.*)$/g.exec(i);if(e)return e[3]}return null}hideOptions(){this.setState({showOptions:!1})}handleOptionsClick(){this.setState({showOptions:!0})}handlePositionMenu(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let s,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,s=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${s}px, ${r}px, 0)`}render(){const{uriList:e,disabled:t}=this.props,{showOptions:n}=this.state,r=[];return e.forEach(e=>{const t=this.getStoryName(e);t&&r.push({name:t,uri:e})}),i.h("div",null,i.h("div",{class:a()("openInButtonWrapper",{disabled:t})},i.h("a",{class:"openInButton noSelect",href:t?"":e[0],target:"_blank",onClick:t?c.preventDefault:b},o.storybookIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in Storybook")),r.length>1&&i.h("button",{class:a()("storybookSettings",{active:n}),onClick:t?c.preventDefault:this.handleOptionsClick,ref:Object(s.default)(this,"target")},o.optionsIcon)),n&&i.h(d.default.Overlay,{class:"storybooksMenu",onClose:this.hideOptions,onPositionMenu:this.handlePositionMenu,overlayDivProps:{onClick:c.stopPropagation}},i.h(d.default.Submenu,{name:"Stories"},r.map(e=>i.h(d.default.Button,{key:e.name,onClick:()=>window.open(e.uri)},e.name)))))}}function _(e){const{name:t,uri:n,showOptionsButton:s,onOptionsClick:r,disabled:a}=e;return i.h(p,{name:t||"Custom Link",icon:o.customLinkIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:s,onOptionsClick:r})}t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"optionsIcon",(function(){return o})),n.d(t,"vsCodeIcon",(function(){return s})),n.d(t,"vsCodeInsidersIcon",(function(){return r})),n.d(t,"androidStudioIcon",(function(){return a})),n.d(t,"sublimeIcon",(function(){return l})),n.d(t,"atomIcon",(function(){return c})),n.d(t,"ideaIcon",(function(){return d})),n.d(t,"webStormIcon",(function(){return u})),n.d(t,"defaultEditorIcon",(function(){return p})),n.d(t,"styleguidistIcon",(function(){return h})),n.d(t,"gitHubIcon",(function(){return f})),n.d(t,"storybookIcon",(function(){return g})),n.d(t,"gitLabIcon",(function(){return m})),n.d(t,"bitbucketIcon",(function(){return b})),n.d(t,"customLinkIcon",(function(){return S}));var i=n(4);const o=i.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),s=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.175.123l4.117 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.125l-4.117 1.98c-.12.058-.245.095-.371.112l-.127.01a1.245 1.245 0 0 1-.923-.363L5.87 12.332l-3.433 2.605a.833.833 0 0 1-.97.027l-.093-.074L.273 13.89a.833.833 0 0 1-.001-1.232l2.977-2.715L.272 7.227a.833.833 0 0 1 0-1.231l1.102-1.001a.833.833 0 0 1 1.063-.048L5.87 7.552 13.754.365c.124-.125.27-.219.428-.28l.12-.04c.285-.078.594-.056.873.078zm-.172 5.281L9.021 9.942l5.982 4.538V5.404z"})),r=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.174.123l4.118 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.126l-4.118 1.98c-.437.21-.952.146-1.323-.154l-.088-.08.07.062a.732.732 0 0 0 1.17-.588V.882a.732.732 0 0 0-1.17-.587l-.07.06.088-.078c.371-.3.886-.364 1.323-.154zm-2.05.742a.625.625 0 0 1 1.046.461v4.51l-5.238 4.15 5.238 4.063v4.504a.625.625 0 0 1-1.047.46L.272 7.228a.833.833 0 0 1 0-1.232l1.102-1.001a.833.833 0 0 1 1.063-.048l3.395 2.634zM2.868 10.42l2.559 2.333-2.989 2.184a.833.833 0 0 1-1.063-.047L.273 13.889a.833.833 0 0 1-.001-1.232l2.595-2.237z"})),a=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.988 0a8.988 8.988 0 0 1 5.785 15.867l1.253 2.173a.598.598 0 0 1 .059.149l.013.078.13 1.498a.16.16 0 0 1-.073.138.154.154 0 0 1-.103.014l-.05-.022-1.248-.85a.47.47 0 0 1-.116-.103l-.046-.068-1.19-2.056a8.947 8.947 0 0 1-4.414 1.158A8.947 8.947 0 0 1 5.54 16.8l-1.203 2.083a.585.585 0 0 1-.1.118l-.062.052-1.247.842c-.048.032-.105.04-.153.008a.158.158 0 0 1-.072-.097l-.001-.04.113-1.507a.554.554 0 0 1 .038-.153l.035-.074L4.16 15.83A8.988 8.988 0 0 1 9.988 0zm3.102 14.55a6.375 6.375 0 0 1-5.995.136l-.256-.135-.69 1.197a7.738 7.738 0 0 0 3.839 1.013 7.738 7.738 0 0 0 3.807-.994l-.705-1.216zM9.988 1.216A7.773 7.773 0 0 0 4.78 14.759l3.169-5.48-.324-.324c-.084-.084-.132-.158-.144-.225l-.002-.05h-.008V6.567c0-.474.363-.87.823-.925l.108-.006h.526V3.968h2.065v1.668h.518c.474 0 .87.363.925.823l.007.108V8.68a.425.425 0 0 1-.099.213l-.055.062-.324.324 1.603 2.77a4.776 4.776 0 0 0 1.151-2.858l.007-.252h1.66a6.415 6.415 0 0 1-1.756 4.409l-.196.199.72 1.249A7.773 7.773 0 0 0 9.987 1.215zm.746 9.287l-.316.316a.62.62 0 0 1-.36.186l-.101.008-.008-.008a.603.603 0 0 1-.38-.116l-.082-.07-.316-.316-1.506 2.607a4.727 4.727 0 0 0 2.292.591c.741 0 1.444-.166 2.057-.464l.226-.119-1.506-2.615zm-.77-4.049c-.696 0-1.246.551-1.246 1.247 0 .646.49 1.177 1.113 1.24l.126.007A1.253 1.253 0 0 0 11.204 7.7c0-.688-.559-1.238-1.24-1.247z"})),l=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M19.228.003c.426 0 .775.349.775.774v18.451a.777.777 0 0 1-.775.77H.778a.778.778 0 0 1-.775-.774V.777c0-.425.349-.774.774-.774h18.451zM15.643 3.05c.179-.72-.564-.331-.564-.331L4.613 6.041c-.052.016-.403.146-.29.802L4.3 9.927c-.001.05.014.4.703.546l4.175 1.344-4.408 1.346c-.06.006-.529.077-.47 1.016.063.998-.004 3.008-.004 3.008s.044.372.555.157l10.465-3.34c.06-.016.309-.093.1-.18.092.022.299.034.267-.303l.005-3.438c.01-.046.055-.369-.546-.586l-4.24-1.33 4.253-1.329c.645-.116.515-.586.515-.586z"})),c=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M6.118 1.158c.79-.058 1.758.367 2.801 1.232a.382.382 0 1 1-.487.587c-.875-.726-1.677-1.102-2.257-1.058a.98.98 0 0 0-.38.103c-.672.342-.938 1.528-.729 3.252.051.417.13.855.23 1.306.829-.128 1.734-.21 2.698-.238 2.201-2.847 4.61-4.695 6.316-4.76.427-.017.807.08 1.124.285.887.576 1.16 1.882.787 3.777a.382.382 0 0 1-.75-.147c.3-1.52.134-2.609-.453-2.99-.182-.118-.41-.172-.68-.162-1.356.051-3.424 1.632-5.353 3.985.385.003.79.015 1.209.037 2.609.137 5.047.638 6.865 1.412 1.937.824 2.972 1.888 2.914 2.997-.052.977-.918 1.82-2.505 2.435a.382.382 0 0 1-.276-.712c1.25-.484 1.985-1.127 2.018-1.763.04-.754-.853-1.575-2.45-2.255-1.738-.74-4.084-1.22-6.606-1.351a27.133 27.133 0 0 0-1.444-.038c-.11 0-.219.002-.327.004a25.337 25.337 0 0 0-1.935 2.975c.227.532.477 1.069.75 1.604 1.146 2.25 2.54 4.2 3.924 5.487 1.27 1.182 2.385 1.664 3.058 1.322.641-.327.915-1.439.75-3.05-.179-1.753-.85-3.908-1.89-6.068a.382.382 0 0 1 .688-.33c1.077 2.237 1.774 4.482 1.962 6.32.201 1.97-.212 3.323-1.164 3.808a1.776 1.776 0 0 1-.816.189c-.881 0-1.953-.557-3.108-1.632-1.448-1.347-2.898-3.371-4.084-5.7-.186-.363-.36-.728-.525-1.092-.666 1.321-1.154 2.608-1.42 3.761-.389 1.691-.249 2.897.384 3.308.595.387 1.675.082 2.963-.835a.382.382 0 1 1 .443.621c-1.067.76-2.01 1.146-2.786 1.146-.389 0-.736-.097-1.036-.292-1.736-1.128-.876-4.951 1.065-8.605a21.89 21.89 0 0 1-.879-2.577C2.244 7.949.812 8.872.765 9.769c-.034.643.611 1.339 1.816 1.96a.382.382 0 0 1-.35.678C.723 11.63-.048 10.704.003 9.73c.072-1.375 1.812-2.468 4.543-3.016a13.94 13.94 0 0 1-.236-1.347c-.254-2.091.15-3.52 1.14-4.024.203-.104.429-.166.67-.184zm3.932 8.086a1.145 1.145 0 1 1 0 2.29 1.145 1.145 0 0 1 0-2.29zM7.408 7.13c-.69.038-1.332.105-1.926.195.164.598.365 1.217.604 1.847A25.166 25.166 0 0 1 7.408 7.13z"})),d=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M2.906 0l6.25.75 2.183 2.492 2.442-2.93L20 5.345l-.375 11.562L11.937 20 7.74 17.278 1.625 19.5 2.906 15l.266-.894-2.953-2.325 1.733-3.22L0 7.906 2.906 0zM16.25 3.75H3.75v12.5h12.5V3.75z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zM8.28 6.312v-.937H5.72v.938h.718v3.28H5.72v.97H8.28v-.97h-.719v-3.28h.72zm2.5 4.313a2.097 2.097 0 0 1-1.031-.219 2.46 2.46 0 0 1-.688-.562l.72-.813c.129.143.276.269.437.375a.916.916 0 0 0 .5.125.581.581 0 0 0 .5-.219.916.916 0 0 0 .187-.656V5.312h1.156v3.375c.012.277-.03.553-.124.813a1.562 1.562 0 0 1-.438.688 2.234 2.234 0 0 1-1.219.437z"}))),u=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M12.75 0l4.656.406.986 2.423.014-.017L20 6.783l-2.188 2.28L20 13.157l-3.75 2.223V3.75H3.75v12.5h11.031l-.332.197L13.75 20 2.687 18.062 0 2.095 5 .03l3.156 1.875L11.094.344l.924.357L12.75 0z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zm6.125-4.094L11.719 9c.469.375.937.625 1.531.625.469 0 .75-.188.75-.5 0-.281-.188-.438-1.031-.656-1.031-.281-1.688-.563-1.688-1.594v-.031c0-.938.75-1.563 1.781-1.563a3.06 3.06 0 0 1 1.907.657l-.594.875a2.381 2.381 0 0 0-1.313-.5c-.406 0-.656.187-.656.468 0 .344.219.469 1.094.688 1.031.281 1.625.656 1.625 1.562 0 1.031-.781 1.625-1.875 1.625a3.603 3.603 0 0 1-2.188-.844m-1-4.437l-.78 3-.876-3h-.875l-.875 3-.781-3H4.656l1.5 5.188h.969l.844-3 .843 3h.97l1.5-5.188h-1.22z"}))),p=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"}))),h=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.985 3.125a3.243 3.243 0 0 1 3.236 3.052l.005.184v2.416a1.658 1.658 0 0 1-.715 1.388 1.141 1.141 0 0 1-.325 1.67l-.116.06v.892a.595.595 0 0 1-.123.364c.066.527.206.913.428 1.171.067.013.142.02.228.02.318 0 .551-.306.648-.846l.023-.153.355-2.61c.139-.9.476-1.6.984-2.107.38-.38.844-.643 1.365-.796l.227-.059 1.722-.454a.41.41 0 0 1 .419.408c0 .36-.043.535-.252.792a.88.88 0 0 1-.292.206c-.14.07-.32.142-.534.216a11.174 11.174 0 0 1-.768.233c-.592.16-1.06.69-1.199 1.276.396-.427.887-.704 1.527-.866l.248-.055 1.603-.412c.256 0 .452.317.452.543 0 .258-.113.531-.286.745-.134.165-.396.313-.663.392l-.134.034-.672.143a2.516 2.516 0 0 0-.975.6c.306-.166.672-.259 1.116-.282l.229-.006h1.818c.23 0 .411.19.411.419a1.075 1.075 0 0 1-.958 1.071l-.122.007-1.154-.005c-.24 0-.47.176-.709.534-.198.299-.365.653-.63 1.296-.239.577-.565 1.066-1.001 1.434-.534.45-1.206.696-2.025.696a3.905 3.905 0 0 1-2.455-.884 3.2 3.2 0 0 1-.933-1.253 3.2 3.2 0 0 1-.933 1.253 3.905 3.905 0 0 1-2.456.884c-.819 0-1.49-.245-2.025-.696-.436-.368-.762-.857-1-1.434-.266-.643-.433-.997-.631-1.296-.208-.314-.412-.487-.62-.526l-.09-.008-1.152.005A1.078 1.078 0 0 1 0 11.703c0-.2.139-.37.328-.41l.083-.009H2.23c.55 0 .988.094 1.346.289a2.478 2.478 0 0 0-.793-.531l-.182-.07-.673-.143c-.31-.065-.64-.233-.797-.426a1.23 1.23 0 0 1-.285-.745c0-.201.154-.474.369-.532l.082-.011 1.604.412c.763.15 1.329.441 1.774.92-.14-.586-.607-1.115-1.2-1.275a12.39 12.39 0 0 1-.767-.233 4.554 4.554 0 0 1-.534-.216.88.88 0 0 1-.292-.206c-.209-.257-.252-.433-.252-.792 0-.19.135-.36.331-.4l.088-.008 1.722.454c.613.14 1.158.42 1.593.855.456.456.775 1.068.936 1.842l.047.264.356 2.611c.077.635.323.998.67.998.086 0 .161-.006.228-.019.222-.258.362-.644.428-1.171a.594.594 0 0 1-.115-.263l-.008-.1v-.857a1.144 1.144 0 0 1-.763-1.077c0-.277.1-.532.266-.73a1.642 1.642 0 0 1-.651-1.183l-.008-.164V6.361a3.24 3.24 0 0 1 3.236-3.236zm-2.183 7.224a.696.696 0 0 0-.218.505.701.701 0 1 0 1.343-.282 14.892 14.892 0 0 1-.306-.056 2.223 2.223 0 0 1-.82-.167zm4.307.025a2.244 2.244 0 0 1-.756.142c-.133.026-.267.05-.4.072a.701.701 0 1 0 1.35.267.696.696 0 0 0-.194-.48zm-.509.193a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577zm-3.336-.001a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577z"})),f=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M18.659 4.98a9.957 9.957 0 0 0-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341a9.956 9.956 0 0 0-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091a.51.51 0 0 0 .17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051a3.82 3.82 0 0 1-.723.046 5.506 5.506 0 0 1-.904-.091 2.022 2.022 0 0 1-.873-.39 1.652 1.652 0 0 1-.573-.801l-.13-.3a3.254 3.254 0 0 0-.41-.664c-.187-.243-.375-.408-.566-.495l-.091-.065a.956.956 0 0 1-.17-.156.714.714 0 0 1-.117-.183c-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065a2.59 2.59 0 0 0 .586-.195c.078-.582.29-1.029.638-1.341a8.915 8.915 0 0 1-1.335-.235 5.314 5.314 0 0 1-1.224-.508A3.505 3.505 0 0 1 4.57 12.8c-.278-.347-.506-.803-.684-1.367-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351a9.245 9.245 0 0 1 2.5-.338c.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367a3.64 3.64 0 0 1-1.054.866c-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"})),g=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M17.717.943l.002.031v18.02A1.006 1.006 0 0 1 16.67 20l-13.422-.603a1.006 1.006 0 0 1-.96-.967l-.62-16.508A1.006 1.006 0 0 1 2.61.88L13.614.19l-.094 2.267a.15.15 0 0 0 .013.067l.018.03a.15.15 0 0 0 .167.052l.043-.023.88-.668.744.586a.15.15 0 0 0 .237-.075l.006-.048L15.546.07 16.65.002a1.006 1.006 0 0 1 1.066.94zm-7.721 2.46c-2.618 0-4.084 1.422-4.084 3.554 0 3.715 5.012 3.786 5.012 5.812 0 .568-.278.906-.89.906-.8 0-1.115-.408-1.078-1.794 0-.3-3.044-.394-3.137 0-.236 3.36 1.856 4.328 4.251 4.328 2.32 0 4.14-1.237 4.14-3.476 0-3.98-5.087-3.874-5.087-5.847 0-.8.595-.906.947-.906.372 0 1.04.065.984 1.558 0 .391 2.635.204 2.99-.07 0-2.665-1.43-4.065-4.048-4.065z"})),m=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M19.91 11.374L18.866 8.16a.454.454 0 00-.026-.086l-2.098-6.46a.834.834 0 00-.796-.568.82.82 0 00-.787.573l-2 6.155H6.845L4.842 1.62a.82.82 0 00-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684a.47.47 0 00.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95a.254.254 0 01-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429a.254.254 0 01-.09.284z"})),b=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M.649 1a.64.64 0 00-.64.745l2.72 16.51a.872.872 0 00.853.73H16.63a.642.642 0 00.641-.537l2.72-16.699a.64.64 0 00-.528-.733c-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"})),S=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))},function(e,t,n){"use strict";n.r(t);var i=n(1799);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(737),s=n(955),r=n(723),a=n(1430),l=n(735);n(1800);class c extends i.Component{constructor(e){super(e),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}focusTextInput(){const{textInput:e}=this.nodeRefs;e.focus()}handleDocumentKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onHide()}handleAddWorkspacePath(e){const t=this.nodeRefs.textInput.value;t?this.props.onAdd(t):e.preventDefault()}handleInputChange(e){const t=e.target.value.split(/\u25B8/g).map(e=>e.replace(/[^\x20-\x7E]/g,"").trim()).join("/");this.nodeRefs.textInput.value=t}componentDidMount(){const{workspace:e}=this.props;this.nodeRefs.textInput.value=e||"",document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.focusTextInput()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{onHide:e,workspace:t}=this.props,n=t?"CHANGE":"SAVE";return i.h(l.default,null,i.h(s.default,{onClose:e},i.h("div",{class:"localWorkspaceDialog"},i.h("div",{class:"dialogContent"},i.h("p",null,(t?"Change":"Enter")+" local path for repository"),i.h(a.default,{inputRef:Object(o.default)(this,"textInput"),class:"localWorkspacePath",placeholder:"e.g. /Users/zo/Developer/project/",onInput:this.handleInputChange})),i.h("div",{class:"footer"},i.h(r.default,{class:"negative",onClick:e},"CANCEL"),i.h(r.default,{class:"positive",onClick:this.handleAddWorkspacePath},n)))))}}t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1803);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1797),s=n(559),r=n(737),a=n(718),l=n.n(a),c=n(1219);n(1801);const d={"Visual Studio Code":o.vsCodeIcon,"Visual Studio Code - Insiders":o.vsCodeInsidersIcon,Atom:o.atomIcon,"Sublime Text":o.sublimeIcon,"Android Studio":o.androidStudioIcon,"IntelliJ IDEA":o.ideaIcon,WebStorm:o.webStormIcon},u={name:"Default Editor",value:"defaultEditor"};class p extends i.Component{constructor(e){super(e),this.handlePositionMenu=this.handlePositionMenu.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.state={showMenu:!1}}selectedEditorAvailable(){const{selectedEditor:e,editorList:t}=this.props;return t.findIndex(t=>t.exePath===e.exePath)>-1}handlePositionMenu(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,o=t.left-n.width;let s,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,s=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${s}px, ${r}px, 0)`}handleOptionsClick(){this.setState({showMenu:!0})}handleCloseMenu(){this.setState({showMenu:!1})}handleMenuItemClick(e,t){if("editors"===e){const{editorList:e,selectedEditor:n,onEditorChange:i,fileExtension:o}=this.props,s=e.find(e=>e.exePath===t);return void(n&&!s?i(o,null):(!n&&s||n&&s.name!==n.name)&&i(o,s))}const{onSelectWorkspace:n}=this.props;n()}handleOpen(){const{selectedEditor:e,filePath:t,onOpenFileInEditor:n}=this.props;n(t,e)}render(){const{editorList:e,selectedEditor:t,workspacePath:n,disabled:a}=this.props,{showMenu:p}=this.state,h=[u];e&&e.forEach(e=>{h.push({name:e.name,value:e.exePath})});const f=[i.h(c.default.Button,{key:"openInEditorSelectButton"},n?"Change":"Select"," Folder in File Explorer")];return e&&e.length>0&&f.push(i.h(c.default.Picker,{key:"openInEditorPicker",name:"editors",content:"Editors",submenu:!0,value:t&&this.selectedEditorAvailable()&&t.exePath||u.value,options:h})),i.h("div",null,i.h("div",{class:l()("openInButtonWrapper",{disabled:a})},i.h("button",{class:"openInButton noSelect",onClick:a?s.preventDefault:this.handleOpen},t?d[t.name]:o.defaultEditorIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in "+(t?t.name:"default editor"))),i.h("button",{onClick:a?s.preventDefault:this.handleOptionsClick,ref:Object(r.default)(this,"target")},o.optionsIcon)),p&&i.h(c.default.Overlay,{class:"openInEditorMenu",onChange:this.handleMenuItemClick,onClose:this.handleCloseMenu,onPositionMenu:this.handlePositionMenu,overlayDivProps:{onClick:s.stopPropagation}},f))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1805);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(540);n(1806);t.default=function(e){const{onReload:t}=e;return i.h("div",{class:"devModeHintBox"},i.h("span",{class:"hintAunt"},"👷‍♀️"),i.h("div",{class:"devModeHintContent"},i.h("p",{class:"devModeHint"},`Local configuration enabled -- this is only visible to you, use shortcut ${Object(s.getDevModeShortcut)()} to disable it.`),i.h(o.default,{class:"devModeReload",onClick:t},"Reload")))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1808);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1292)),a=i(n(879));var l;n(1809),function(e){e.DEFAULT="default",e.HOVER="hover",e.PRESSED="pressed",e.DISABLED="disabled"}(l||(l={}));const c=[l.DEFAULT,l.HOVER,l.PRESSED,l.DISABLED];t.default=function({onHideClick:e,onActionClick:t}){const[n,i]=s.useState(0);s.useEffect(()=>{const e=setTimeout(()=>{i((n+1)%c.length)},1e3);return()=>clearTimeout(e)},[n]);const d=c[n];return o.h(r.default,{class:"variantsHintBox",onActionClick:t,actionContent:"Learn more",onHideClick:e,hideButtonText:"OK, hide it!"},"You can now see different variants of the components by clicking on V.",o.h("div",{class:"variantsHintBoxBody"},o.h("div",{class:"variantsImageWrapper"},o.h(a.default,{style:{visibility:d===l.DEFAULT?"visible":"hidden"},asset:"/img/variants-onboarding/default.png"}),o.h(a.default,{style:{visibility:d===l.HOVER?"visible":"hidden"},asset:"/img/variants-onboarding/hover.png"}),o.h(a.default,{style:{visibility:d===l.PRESSED?"visible":"hidden"},asset:"/img/variants-onboarding/pressed.png"}),o.h(a.default,{style:{visibility:d===l.DISABLED?"visible":"hidden"},asset:"/img/variants-onboarding/disabled.png"}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1811);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(942)),r=i(n(879)),a=i(n(1812)),l=i(n(574));n(1815),t.default=function({componentId:e,onClose:t},{barrelType:n,barrelId:i,hasConnectedComponent:c}){return o.h(s.default,{positiveButtonText:"DONE",onClose:t,width:720},o.h("div",{class:"connectedComponentsOnboardingDialog"},o.h("h4",{class:"dialogHeader"},"Connected components"),o.h("p",{class:"introText"},"By connecting your components, you can access components in your codebase right on the designs, with links to Storybook, GitHub and any other source of documentation."),o.h("div",{class:"dialogBody"},o.h("div",{class:"description"},o.h("p",null,"Make your components visible within designs, promoting reusability. Access a summary of your component with:"),o.h("br",null),o.h("ul",null,o.h("li",null,"• Documentation"),o.h("li",null,"• Bite-sized code snippet describing how to initiate it"),o.h("li",null,"• Links to Storybook, GitHub and so on")),o.h("br",null),o.h("p",null,"Explore the"," ",o.h("a",{href:"https://zpl.io/connected-components",target:"_blank"},"documentation")," ","to learn more.")),o.h(r.default,{asset:"img/coco-onboarding.png",alt:"CoCo onboarding",title:"CoCo onboarding"})),!c&&o.h("p",null,"Get started within minutes by connecting this component!"),c?o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository to connect this component:"):o.h("p",{class:"connectCommandText"},"Run the npm command below in your repository:"),o.h(a.default,{copyActionText:"Click to copy the command.",copyDoneText:"Command copied to clipboard.",lines:[`npx @zeplin/cli connect ${c?"add-components":"initialize"} \\`,`    --${n===l.default.PROJECT?"project-id":"styleguide-id"} ${i} \\`,"    --component-id "+e]})))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1813);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(718)),a=n(558);n(1814),t.default=function({copyActionText:e,copyDoneText:t,lines:n}){const[i,l]=s.useState(!1);return s.useEffect(()=>{l(!1)},[JSON.stringify(n)]),o.h("button",{onClick:function(){a.copyContent({content:n.join("\n")}),l(!0)},class:r.default("copyContents",{copied:i})},o.h("p",null,i?t:e),o.h("strong",null,n.map((e,t)=>o.h("span",{key:t},e))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(1817);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(696)),a=i(n(879));n(1818),t.default=function(){return s.useEffect(()=>{r.default.highlightedConnectToCodeButtonViewed()},[]),o.h("div",{class:"highlightedConnectToCodeButtonDescription"},o.h(a.default,{class:"connectToCodeArrow",asset:"img/icConnectToCodeHighlightArrow.png"}),o.h("div",{class:"connectToCodeDescriptionText"},"👀 We simplified the Connected Components experience, you can now get it running within minutes."))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1821);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(1745),r=n(771),a=n(718),l=n.n(a),c=n(558),d=n(559);n(1822);const u=/\u2028/g,p=Object(c.canCopy)();function h(e){return e.replace(u,"\n")}class f extends i.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",h(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(h(n)),setTimeout(c.selectContent,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(h(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,o=h(e);if(!t.length)return o;const s=[];let r=0;return t.forEach(({range:e,group:t})=>{const a=Object(d.escapeHTML)(o.substring(e.start,e.end));if(e.start>r)s.push(Object(d.escapeHTML)(o.substring(r,e.start)));else if(e.start<r)return;s.push(i.h("span",{class:l()({hovered:n===t}),"data-color-group":t},a)),r=e.end}),s.push(Object(d.escapeHTML)(o.substring(r,o.length))),s}renderTitle(){return i.h("div",{class:"contentTitle"},"Content",p&&i.h(o.default,{class:"contentCopyButton",onClick:this.handleCopyClick},i.h(r.IconCopy,null)))}render(){const{class:e,showSeparator:t}=this.props;return i.h(s.default,{class:l()("contentSection",e),title:this.renderTitle(),showSeparator:t},i.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}t.default=f},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1824);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1745),s=n(901),r=n.n(s),a=n(1783),l=n(771),c=n(718),d=n.n(c);n(1825);function u({name:e,url:t}){return i.h("div",{class:"linkProperty"},i.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":"inApp"},e),t&&i.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp"},i.h(l.IconScreenLink,null)))}t.default=function(e){const{class:t,showSeparator:n,flowLink:s,layer:{rect:l,opacity:c,borderRadius:p,rotation:h,blendMode:f},flowLinkInfoDismissed:g,onHideFlowInfoClick:m}=e;return i.h(o.default,{class:d()("infoSection",t),showSeparator:n},i.h(a.default.Group,null,i.h(a.default,{name:"X"},l.x),i.h(a.default,{name:"Y"},l.y)),i.h(a.default.Group,null,i.h(a.default,{name:"Width"},l.width),i.h(a.default,{name:"Height"},l.height)),p&&i.h(a.default,{name:"Radius"},p),c&&i.h(a.default,{name:"Opacity"},c),h&&i.h(a.default,{name:"Rotation"},h+"°"),f&&i.h(a.default,{name:"Blend Mode"},f),s&&s.url&&i.h(i.Fragment,null,i.h(a.default,{name:"Linked to"},i.h(u,{name:s.name,url:s.url})),!g&&i.h(r.a,{class:"flowInfo",onHideClick:m},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.h("strong",null,"Shift"),".")))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1827);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1828),s=n(1745);n(1829);class r extends i.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{showSeparator:e,typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:r,onTextStyleNameChange:a,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=this.props;return i.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(t).map(({textStyle:t,group:u,content:p})=>{const h="default"===u;return this.handleHoverChangeByGroup[u]||(this.handleHoverChangeByGroup[u]=this.handleHoverChange.bind(this,u)),i.h(s.default,{class:"typefaceSection",showSeparator:e,key:u},i.h(o.default,{textStyle:t,colorGroup:!h&&u,snippet:p,onHoverChange:h?null:this.handleHoverChangeByGroup[u],onAddClick:n,onRemoveClick:r,onNameChange:a,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))}))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(556),s=n(614),r=n(718),a=n.n(r),l=n(1351),c=n(1783),d=n(1757),u=n(1430),p=n(1751),h=n(1135),f=n.n(h),g=n(771),m=n(574),b=n.n(m);n(1829);class S extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:o}=e.target;o?n!==o&&i(t,o):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(l.enumerateFontVariationSettings)(e).map(([e,t])=>i.h(c.default,{key:e,name:l.REGISTERED_AXES[e],abbr:e},Object(s.round)(t,2))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:s,styleguideName:r,isMember:l,isOrganizationBarrel:h,id:f,added:m,name:S,color:y,fontFace:v,fontSize:C,letterSpacing:O,lineHeight:E,textAlign:T},hover:_,onColorAddClick:P,onColorRemoveClick:D,onColorNameChange:I}=this.props,{barrelType:j,barrelId:k,permissions:{canManageTextStyles:R}}=this.context,A=t?i.h("div",{class:"typefaceHeader","data-color-group":t},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface "),i.h("span",null,n),i.h("span",null,"”")),t&&i.h("div",{class:"colorGroup"})):i.h("div",{class:"typefaceHeader"},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface"))),w=!R||m&&s!==k,N=i.h(d.default,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:m,isMember:l,isOrganizationBarrel:h,styleguideId:s,styleguideName:r,canManageResource:R,type:d.default.TYPE.TEXT_STYLE,disabled:w}),L=j===b.a.STYLEGUIDE?"styleguide":"project-styleguide",M=Object(o.urlResolve)(L+"-textstyles",{url:{bid:k},query:{tsid:f}});return i.h("div",{class:a()("typeface",e,{hover:_})},A,m?[i.h("div",{key:"textStyleName-"+f,class:"textStyleName"},i.h(u.default,{class:"textStyleNameInput",value:S,blurOnEnter:!0,disabled:w,onBlur:this.handleNameChange,ellipsized:!0}),i.h("div",{class:"buttonSpacer"},N),i.h("a",{href:M,class:"goToResource","data-link-type":"inApp"},i.h(g.IconGoTo,{width:"18",height:"18"}))),i.h("div",{key:"layerFontFace-"+f,class:"layerFontFace"},i.h("span",{class:"ellipsis"},v))]:i.h("div",{class:"layerFontFace"},i.h("span",{class:"ellipsis"},v),i.h("div",{class:"buttonSpacer"},N)),i.h(c.default.Group,null,i.h(c.default,{name:"Size"},C),void 0!==T&&i.h(c.default,{name:"Align"},T)),this.renderFontVariationSettings(),void 0!==E&&i.h(c.default,{name:"Line Height"},E),void 0!==O&&i.h(c.default,{name:"Letter Spacing"},O),y&&i.h(p.default,{color:y,initialHover:_,onNameChange:I,onAddClick:P,onRemoveClick:D}))}}const y=f()(S);t.default=y},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1831);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(735),s=n(1753),r=n(1135),a=n.n(r);n(1832);const l=a()((function(e){const{color:{id:t,name:n,added:o,colorString:r,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:p,onNameChange:h,onAddClick:f,onRemoveClick:g,hover:m}=e;return i.h("div",{class:"gradientColor"},i.h(s.default,{class:"gradientColorInfo",added:o,hover:m,id:t,name:n,colorString:r,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,editable:o&&p,onAddClick:f,onRemoveClick:g,onNameChange:h}))}));class c extends i.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:Math.trunc(n-5)+"px"}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:s,onColorNameChange:r}=this.props,{activeColorStop:a}=this.state,{permissions:{canManageColors:c}}=this.context;return i.h("div",{class:"layerGradient"},i.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map(({color:{colorStyle:e},position:t},n)=>{const o=t>0&&t<1,s={top:Math.trunc(100*t)+"%",color:e};return i.h("div",{class:"colorStop",key:n,style:s,"data-pos":t,onMouseEnter:o?this.handleColorStopMouseEnter:null,onMouseLeave:o?this.handleColorStopMouseLeave:null})})),i.h("div",{class:"gradientColors"},e.map(({color:e},t)=>{const{id:o,value:a}=e;return i.h(l,{key:t,color:e,canManageColors:c,onNameChange:function(e){r(o,e)},onAddClick:function(){n(a)},onRemoveClick:function(){s(o)}})})),a&&i.h(o.default,null,i.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${a.x}, ${a.y}, 0`}},a.value)))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1834);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1751),s=n(1830);n(1835);t.default=function(e){const{border:{color:t,gradient:n,position:r,thickness:a},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.h("div",{class:"layerBorder"},i.h("div",{class:"borderInfo"},r,", ",a),t?i.h(o.default,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.h(s.default,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1837);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1751),s=n(1783);n(1838);t.default=function(e){const{shadow:{blurRadius:t,color:n,offsetX:r,offsetY:a,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:p,onColorNameChange:h}=e;return i.h("div",{class:"layerShadow"},i.h("div",{class:"shadowType"},c),i.h(s.default.Group,null,i.h(s.default,{name:"X"},r),i.h(s.default,{name:"Y"},a)),i.h(s.default.Group,null,i.h(s.default,{name:"Blur"},t),i.h(s.default,{name:"Spread"},l)),i.h(o.default,{color:n,disabled:d,onAddClick:p,onRemoveClick:u,onNameChange:h}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1840);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1841);t.default=function(e){const{blur:{radius:t,type:n}}=e;return i.h("div",{class:"layerBlur"},i.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1843);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1745),s=n(771);n(1844);t.default=function({styleName:e,showSeparator:t}){return i.h(o.default,{title:"Style",showSeparator:t},i.h("div",{class:"layerStyle"},i.h("div",{className:"layerStyleIconWrapper"},i.h(s.IconLayerStyle,{width:23,height:25})),i.h("span",null,e)))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1846);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771);n(1847);t.default=function(){return i.h("div",{class:"noComponent"},i.h("span",{class:"description ellipsis"},"Not a part of a component yet."),i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},i.h(o.IconInfo,{width:"21",height:"21"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1850),s=n(1867);class r extends i.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e.layer(t,n,i).then(e=>s.CodeSnippet.fromUnknown(e,"layer"))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.h(o.default,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1851);n.d(t,"default",(function(){return i.default}));var o=n(1853);n.d(t,"ExtensionCode",(function(){return o.default}));var s=n(1861);n.d(t,"ResizableExtensionCode",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(846),l=n(605),c=n(681),d=n(582),u=n.n(d),p=n(845),h=n.n(p);n(1852);class f extends i.Component{constructor(...e){var t,n,i;super(...e),i={snippets:{}},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static calculateState(){const{extensions:e,enabledExtensions:t}=u.a.ExtensionsStore.getState(),{loading:n,barrelType:i,barrelId:o}=u.a.BarrelStore.getState();if(n)return{loading:n};const s=c.default.getBarrel({bid:o}),r=c.default.getStyleguidesData({barrelStore:u.a.BarrelStore,styleguidesDataStore:u.a.StyleguidesDataStore,projectsDataStore:u.a.ProjectsDataStore}),{styleguides:a}=u.a.StyleguidesDataStore.getState();return{loading:n,barrel:s,styleguidesData:r,styleguides:a,barrelType:i,extensions:e,enabledExtensions:t}}static getStores(){return[u.a.ExtensionsStore,u.a.BarrelStore,u.a.ProjectsDataStore,u.a.StyleguidesDataStore]}async generateCode(e,t){const{generateCode:n}=this.props;try{const i=await n(e,t);return{[e.id]:{snippets:i?[i]:[],title:e.name}}}catch(i){return null}}async generateCodeSnippets(){const{onGenerateCode:e}=this.props,{barrel:t,styleguidesData:n,styleguides:i,barrelType:o,extensions:s,enabledExtensions:r}=this.state,a=Object(l.transformBarrelToObject)(t,o,n,i),c=s.filter(e=>e.loaded&&r.includes(e.id));try{const t=(await Promise.all(c.map(e=>this.generateCode(e,a)))).filter(Boolean);if(e){e(t.some(e=>Object.keys(e).some(t=>e[t].snippets.length)))}this.setState({snippets:Object.assign({},...t)})}catch(d){}}componentDidMount(){this.generateCodeSnippets()}componentDidUpdate(e,t){const{extensions:n,enabledExtensions:i}=this.state;!Object(a.default)(e,this.props)&&Object(r.arrayEqual)(t.extensions,n,(e,t)=>e===t)&&Object(r.arrayEqual)(t.enabledExtensions,i,(e,t)=>e===t)||this.generateCodeSnippets()}render(){const{render:e}=this.props,{loading:t,snippets:n}=this.state;return t?null:e(n)}}f.propTypes={generateCode:s.a.func.isRequired,onGenerateCode:s.a.func,id:s.a.string,render:s.a.func.isRequired},t.default=h()(f,{pure:!1})},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1854);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(558),a=n(1855);const l=Object(r.canCopy)();class c extends i.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:o}=this.props,r=Object.keys(e).map(o=>{const{snippets:s,title:r}=e[o];return s.length?i.h(a.default,{class:"extensionCode",key:o,extensionId:o,copyEnabled:l,onCopyClick:t,onSettingsClick:n,snippets:s,title:r}):null}).filter(Boolean);if(r.length)return i.h("div",{class:s()("extensionCodePanel",o)},r)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1856);n.d(t,"Gutter",(function(){return i.Gutter})),t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(718),r=n.n(s),a=n(1857);n.d(t,"Gutter",(function(){return a.default}));var l=n(723),c=n(1792),d=n(771);n(1860);class u extends o.default{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t(n)}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=()=>this.props.onExportClick(e.name),this.exportHandlers.set(e,t),t)}render(){const{class:e,copyEnabled:t,exportEnabled:n,snippets:o,title:s}=this.props,u=o.map(e=>i.h("div",{key:e.name,class:"snippet"},n&&e.exportable&&i.h(l.default,{class:"exportButton",onClick:this.bindExportHandler(e)},i.h(d.IconDownload,{color:"#C1BEC1"})),i.h(c.default,{lineIndicator:!0,lang:e.language,content:e.code})));return i.h("div",{class:r()("codePanel",e)},i.h(a.default,null),i.h("div",{class:"title"},i.h("h3",null,s),t&&i.h(l.default,{class:"copyButton",onClick:this.handleCopyClick},i.h(d.IconCopy,{color:"#C1BEC1"})),i.h(l.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(d.IconSettings,{color:"#C1BEC1"}))),u)}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1858);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(1859);t.default=function(){return i.h("div",{class:"codePanelGutter"})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1862);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1853),s=n(1863),r=n(1855),a=n(718),l=n.n(a),c=n(737);n(1866);class d extends i.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:a,onCopyClick:d,onSettingsClick:u,codeGap:p,snippets:h}=this.props;return Object.keys(h).some(e=>h[e].snippets.length)?i.h("div",{class:l()("resizableExtensionCodePanel",e),ref:Object(c.default)(this,"base"),style:{height:t,minHeight:n,maxHeight:a}},i.h(s.default,{onResize:this.handleResize}),i.h(o.default,{onCopyClick:d,onSettingsClick:u,snippets:h}),i.h("div",{class:"availableSpace",style:{height:p}},i.h(r.Gutter,null))):null}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1864);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1855);n(1865);class s extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.h(o.Gutter,null),i.h("div",{class:"resizerIcon"}))}}t.default=s},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeSnippet=void 0;class i{constructor(e,t,n){this.name=e,this.code=t,this.language=n}static fromUnknown(e,t){const n=function(e){if("string"==typeof e)return e;if(!e)return;const{code:t}=e;return"string"==typeof t?t:void 0}(e);if("string"==typeof n)return new i(t,n,function(e){if(!e)return;const{language:t}=e;return"string"==typeof t?t:void 0}(e))}}t.CodeSnippet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({component:e,ancestors:t}){const n=t.find(e=>!!e.variant);return{componentId:e._id,componentName:e.name,properties:n?(i=e.variant,o=n.variant,i&&o?i.values.map(({propertyId:e,value:t})=>{const n=o.properties.find(({_id:t})=>t===e);return n?{name:n.name,value:t}:null}).filter(Boolean):null):null};var i,o}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1871);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(696),a=n(681),l=n(652),c=n(702),d=n(687),u=n(582),p=n.n(u),h=n(1872),f=n(1885),g=n(1891),m=n(1897),b=n(559),S=n(556),y=n(563),v=n(560),C=n(544),O=n(1903);n(1904);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),T(this,"handleClick",e=>{const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)})}render(){const{id:e,selected:t,title:n}=this.props,o=`ic${Object(v.uppercaseFirst)(e)}Tab${t?"Selected":""}`;return i.h("label",{class:"noSelect",title:n},i.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.h("img",{alt:n,src:Object(y.imageUrl)(`img/${o}.png`),srcset:Object(y.srcset)(Object(y.imageUrl)(`img/${o}.png`))}))}}class P extends i.Component{constructor(...e){super(...e),T(this,"handleDescriptionChange",e=>{const{screenId:t,screen:{description:n}}=this.state;e!==n&&c.default.updateDescription({sid:t,description:e,syncWithApi:!0})}),T(this,"handleManageTagsClick",()=>{const{screenId:e}=this.state;c.default.openTagManager([e])}),T(this,"handleDownloadAssetClick",(e,t)=>{const{screen:{name:n},assets:i}=this.state,{screenContainerRef:o}=this.context;r.default.downloadAsset({containerName:n,assets:i,assetId:e,format:t,toastContainer:o(),source:"Assets tab"})}),T(this,"handleDownloadSelectedAssetClick",e=>{const{screen:{name:t},assets:n}=this.state,{screenContainerRef:i}=this.context;r.default.downloadMultipleAsset({containerName:t,assets:n,assetList:e,toastContainer:i(),source:"Assets tab"})}),T(this,"handleCopyScreenWebUrl",e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})}),T(this,"handleCopyScreenAppUri",e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:this.state.latestVersionSelected?"Screen":"Version",Source:"Inspector"})})}static getStores(){return[p.a.BarrelStore,p.a.ScreenStore,p.a.AssetsStore,p.a.DotsStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.UserStore]}static calculateState(){const{loading:e,barrelId:t,assetDensityScalePrefs:n,assetNamingConvention:i,densityMismatchWarningHidden:o,sourceFileInfoHidden:s,showOptimizedSVG:r,showOptimizedPNG:l,showOptimizedJPG:c}=p.a.BarrelStore.getState();if(e)return{loading:!0};const{loadingSnapshot:u,screenId:h,loadingVersions:f,versionId:g,latestVersionSelected:m,selectedSidebarTab:y,layoutGridEnabled:v,sourceFiles:O}=p.a.ScreenStore.getState();if(f&&!m)return{loading:!0};const{statusFilter:E,colorFilter:T}=p.a.DotsStore.getState(),{type:_,densityScale:P}=a.default.getBarrel(),D=a.default.findUser(),I=a.default.isUserRestricted(),j=d.default.getScreen(),k=d.default.getSectionOfScreen(),R=d.default.getVersion({sid:h,vid:g}),{versionsAssets:A}=p.a.AssetsStore.getState(),w=A[g],N=w&&w.length?w:R.snapshot.assets,{density:L,densityScale:M=Object(b.getDensityScale)(L)}=R.snapshot,x=M!==P&&!o,U=O[g],B=m?"":"&vid="+g;return{loading:!1,barrelUser:D,userRestricted:I,platform:_,assetDensityScalePrefs:n,assetNamingConvention:i,showDensityMismatchWarning:x,sourceFileInfoHidden:s,showOptimizedSVG:r,showOptimizedPNG:l,showOptimizedJPG:c,styleguidesData:a.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),loadingSnapshot:u,screenId:h,screen:j,section:k,latestVersionSelected:m,version:R,assets:N,selectedTab:y,layoutGridEnabled:v,appUri:`${C.ZPL_PROTOCOL}//screen?pid=${t}&sid=${h}${B}`,webUrl:m?Object(S.urlResolve)("project-screen",{url:{pid:t,sid:h}}):Object(S.urlResolve)("project-screen-version",{url:{pid:t,sid:h,vid:g}}),sourceFile:U,noteStatusFilter:E,noteColorFilter:T}}renderTabs(){const{selectedTab:e}=this.state;return i.h("div",{class:"resourceTabs"},l.default.map(({id:t,title:n})=>i.h(_,{id:t,key:t,title:n,selected:e===t,onChange:c.default.changeSidebarTab})))}renderInfoTab(){const{formatter:e,onCopyCode:t,onRequestOrgInviteClick:n}=this.props,{loading:o,screenId:s,screen:a,section:l,latestVersionSelected:d,version:u,layoutGridEnabled:p,sourceFileInfoHidden:f,appUri:g,webUrl:m,sourceFile:b}=this.state;if(o||!a||!u)return null;const S=Object(O.transformInfo)(a,u);return i.h(h.default,E({latestVersionSelected:d,appUri:g,webUrl:m,formatter:e,layoutGridEnabled:p,sourceFileInfoHidden:f,screenId:s,sectionId:l&&l._id,onCopyCode:t,onCopyScreenWebUrl:this.handleCopyScreenWebUrl,onCopyScreenAppUri:this.handleCopyScreenAppUri,sourceFile:b,onGridToggleChange:c.default.toggleLayoutGrid,onDescriptionChange:this.handleDescriptionChange,onManageTagsClick:this.handleManageTagsClick,onSourceFileClick:c.default.openSourceFile,onSourceFolderClick:c.default.openSourceFolder,onRequestOrgInviteClick:n,onHideSourceFileInfoClick:r.default.hideSourceFileInfo},S))}renderColorsTab(){const{formatter:e,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o,onRequestOrgInviteClick:s}=this.props,{loadingSnapshot:r,userRestricted:a,version:l,styleguidesData:c}=this.state,d=Object(O.transformColors)(l,e,c);return i.h(f.default,E({loading:r,restricted:a,onRequestOrgInviteClick:s,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:o},d))}renderAssetsTab(){const{formatter:e,onRequestOrgInviteClick:t,onProcessFailedAssetContents:n}=this.props,{loadingSnapshot:o,userRestricted:s,platform:a,version:l,assetDensityScalePrefs:c,assetNamingConvention:d,showDensityMismatchWarning:u,showOptimizedSVG:p,showOptimizedPNG:h,showOptimizedJPG:f,assets:m}=this.state;return i.h(g.default,{restricted:s,formatter:e,showDensityMismatchWarning:u,assetDensityScalePrefs:c,namingConvention:d,showOptimizedSVG:p,showOptimizedPNG:h,showOptimizedJPG:f,loading:o,platform:a,source:l.snapshot.source,assets:Object(O.transformAssets)(m,e,a),onRequestOrgInviteClick:t,onHideDensityMismatchWarningClick:r.default.hideDensityMismatchWarning,onAssetDensityOptionChange:r.default.changeAssetDensityScalePref,onNamingConventionChange:r.default.changeAssetNamingConvention,onShowOptimizedSVGChange:r.default.toggleSVGOptimization,onShowOptimizedPNGChange:r.default.togglePNGOptimization,onShowOptimizedJPGChange:r.default.toggleJPGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick,onProcessFailedAssetContents:n})}renderNotesTab(){const{barrelUser:e,screen:t,noteStatusFilter:n,noteColorFilter:o}=this.state;return i.h(m.default,{dots:t.dots,statusFilter:n,colorFilter:o,barrelUser:e,onFilterChange:c.default.changeDotFilter,onNoteClick:c.default.selectDot,onAddNoteClick:c.default.enableNoteMode})}renderContent(){const{selectedTab:e}=this.state,t=l.default.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(e){case t.colors:return this.renderColorsTab();case t.assets:return this.renderAssetsTab();case t.notes:return this.renderNotesTab();case t.info:default:return this.renderInfoTab()}}render(){return i.h("div",{class:"resourceView"},this.renderTabs(),i.h("div",{class:"resourceContent"},this.renderContent()))}}t.default=s()(P)},function(e,t,n){"use strict";n.r(t);var i=n(1873);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1874),s=n(723),r=n(1875),a=n(1538),l=n(928),c=n(1092),d=n(901),u=n.n(d),p=n(1745),h=n(1878),f=n(1881),g=n(1185),m=n(771),b=n(556),S=n(718),y=n.n(S),v=n(1096),C=n(563),O=n(1505),E=n(540),T=n(1506);n(1884);class _ extends i.Component{getGridData(){const{grid:{horizontal:e,vertical:t},height:n}=this.props,i={};if(t){const{columnWidth:e,gutterWidth:n,guttersOnOutside:o,numberOfCols:s}=t,r=Math.min(230*e/(e+n),206);Object.assign(i,{vertical:!0,columnWidth:e,gutterWidth:n,vizColumnWidth:Math.floor(r),vizGutterWidth:Math.ceil(230-r),totalWidth:s*e+(s-!o)*n,numberOfCols:s})}if(e){const{rowHeight:t,gutterHeight:o,numberOfRows:s}=e,r=Math.min(48*t/(t+o),32),a=t+o,l=s||Math.ceil(n/a);Object.assign(i,{horizontal:!0,rowHeight:t,gutterHeight:o,vizRowHeight:Math.floor(r),vizGutterHeight:Math.ceil(48-r),numberOfRows:l,totalHeight:l*t+(l-1)*o})}return i}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:o,vizColumnWidth:s,vizGutterWidth:r,totalWidth:a,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:p,vizGutterHeight:h,totalHeight:f,numberOfRows:g}=this.getGridData();let m;return t?m={sizeLabel:"Total width:",size:e.length(a),countLabel:"# of columns:",count:l}:c&&(m={sizeLabel:"Total height:",size:e.length(f),countLabel:"# of rows:",count:g}),i.h("div",{class:y()("layoutGrid",{vertical:t,horizontal:c})},i.h("table",null,i.h("tr",null,i.h("td",{class:"gridColumnWidth"},e.length(n)),i.h("td",{class:"gridGutterWidth"},e.length(o)),i.h("td",null)),i.h("tr",null,i.h("td",{class:"gridColumn",style:{width:s+"px"}}),i.h("td",{class:"verticalGutter",style:{width:r+"px"}}),i.h("td",{class:"gridRowHeight",style:{height:p+"px"}},e.length(d))),i.h("tr",null,i.h("td",{class:"horizontalGutter"}),i.h("td",null),i.h("td",{class:"gridGutterHeight",style:{height:h+"px"}},e.length(u)))),m&&i.h(i.Fragment,null,i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},m.sizeLabel),i.h("span",{class:"value"},m.size)),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},m.countLabel),i.h("span",{class:"value"},m.count))))}}class P extends i.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{screenId:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderTags(){const{tags:e,onManageTagsClick:t}=this.props,{barrelId:n,barrelUser:{role:o},permissions:{canManageScreens:r}}=this.context,a=e.map(e=>{const t=Object(b.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:[e]}});return i.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)}),l=Object(E.getOS)()===E.OS.MAC?"⌥T":"Alt+T";return i.h("div",{class:"tags"},a,i.h(c.default,{content:r?"Manage tags":Object(v.default)(o,"organize screens using tags")},i.h(s.default,{class:"manageTagsButton",onClick:t,disabled:!r},i.h(m.IconGear,null),i.h("span",{class:"label"},"Manage"),i.h("span",{class:"shortcut"},l))))}renderLayoutGrid(){const{grid:e,formatter:t,layoutGridEnabled:n,onGridToggleChange:o,version:s}=this.props;if(!e)return null;const r=i.h("div",{class:"gridsTitle"},"Grids",i.h(l.default,{checked:n,onChange:o}));return i.h(p.default,{title:r,showSeparator:!0},i.h(_,{grid:e,formatter:t,height:s.snapshot.height}))}renderSourceFile(){const{sourceFile:e,sourceFileInfoHidden:t,onHideSourceFileInfoClick:n}=this.props;if(!e)return null;const o=t?null:i.h(u.a,{class:"sourceFileHint",onHideClick:n},"This is only visible to you, to quickly jump to your design file.");return i.h(p.default,{title:"File",showSeparator:!0},i.h("div",{class:"sourceFileInfo"},i.h("div",{class:"sourceFileLocation"},i.h("div",{class:"sourceFileName ellipsis",title:e.name,onClick:this.handleSourceFileClick},e.name),i.h("div",{class:"sourceFilePath",title:e.dir,onClick:this.handleSourceFolderClick},e.pathParts.join(" ▸ "))),i.h(s.default,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),o)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.h("img",{key:"ps",src:Object(C.imageUrl)("img/icFilePhotoshopNew.png"),srcset:Object(C.srcset)(Object(C.imageUrl)("img/icFilePhotoshopNew.png"))}),i.h("img",{key:"psPressed",src:Object(C.imageUrl)("img/icFilePhotoshopNewPressed.png"),srcset:Object(C.srcset)(Object(C.imageUrl)("img/icFilePhotoshopNewPressed.png"))})]:"xd"===e?[i.h("img",{key:"xd",src:Object(C.imageUrl)("img/icFileXD.png"),srcset:Object(C.srcset)(Object(C.imageUrl)("img/icFileXD.png"))}),i.h("img",{key:"xdPressed",src:Object(C.imageUrl)("img/icFileXDPressed.png"),srcset:Object(C.srcset)(Object(C.imageUrl)("img/icFileXDPressed.png"))})]:void 0}renderJiraAttachmentsWithSections(e){return e?i.h(p.default,{class:"jiraIntegrationContainer",showSeparator:!0},e):null}render(){const{authors:e,description:t,latestVersionSelected:n,showNoResourceInfo:s,appUri:l,webUrl:c,screen:d,screenId:u,sectionId:m,version:b,onCopyCode:S,onCopyScreenWebUrl:y,onCopyScreenAppUri:v,onDescriptionChange:C}=this.props,{permissions:{canManageScreens:E}}=this.context;return i.h(h.default,{class:"infoTab"},i.h(p.default,{showSeparator:s},e.map(({id:t,fullName:n,username:o,avatar:s={},versions:r,lastUpdated:a})=>i.h(f.default,{key:o,id:t,avatar:s,fullName:n,username:o,versionCount:r,authorCount:e.length,lastUpdated:a}))),i.h(g.default,{class:"jiraIntegration",wrappingFn:this.renderJiraAttachmentsWithSections,items:[{itemType:"screen",itemId:u,label:"Attached to "},{itemType:"section",itemId:m,label:"Section attached to "}]}),i.h(p.default,{title:"Share "+(n?"screen":"version"),showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(r.default,{webUrl:c,appUri:l,onCopyWebUrl:y,onCopyAppUri:v}))),i.h(p.default,{title:"Description",showSeparator:!0},i.h(a.default,{class:"descriptionInput",value:t,placeholder:E?"Got any notes?":"No description yet",color:"cornflowerBlue",readOnly:!E,submitOnBlur:!0,onSubmit:C,autoEdit:!0,formatter:O.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(p.default,{title:"Tags",showSeparator:!0},this.renderTags()),this.renderLayoutGrid(),this.renderSourceFile(),i.h(o.default,{class:"codeSection",screen:d,version:b,onCopyClick:S,onSettingsClick:T.default.openSettings}))}}P.defaultProps={authors:[]},t.default=P},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1850),s=n(1867);class r extends i.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e.screen(t,i,n).then(e=>s.CodeSnippet.fromUnknown(e,"screen"))}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(o.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.h(o.default,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1876);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(558),s=n(1164),r=n(723),a=n(1092),l=n(771);n(1877);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function u(e){const t=window.getSelection().toString().trim();return t&&t!==e}class p extends i.Component{constructor(...e){super(...e),c(this,"state",{shortWebUrl:null}),c(this,"handleCopyAppUriClick",()=>{const{appUri:e,onCopyAppUri:t}=this.props;t(e)}),c(this,"handleCopyWebUrlClick",()=>{const{webUrl:e,onCopyWebUrl:t}=this.props;t(Object(s.getShortlink)(e))}),c(this,"handleCopyAppUri",e=>{u(this.props.appUri)||(e.preventDefault(),this.handleCopyAppUriClick(),Object(o.selectContent)(e.target))}),c(this,"handleCopyWebUrl",e=>{u(d(this.props.webUrl))||(e.preventDefault(),this.handleCopyWebUrlClick(),Object(o.selectContent)(e.target))})}async componentDidMount(){const e=await Object(s.fetchShortlink)(this.props.webUrl);this.setState({shortWebUrl:e})}async componentDidUpdate({webUrl:e}){const{webUrl:t}=this.props;if(e!==t){Object(s.hasShortlink)(t)||this.setState({shortWebUrl:null});const e=await Object(s.fetchShortlink)(t);this.setState({shortWebUrl:e})}}render(){const{shortWebUrl:e}=this.state,{appUri:t}=this.props;return i.h("div",{class:"shareView"},i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"Web:"),e?[i.h("span",{key:"webUrl",class:"link"},i.h(a.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},d(e)))),i.h("div",{key:"webUrlShareButtons",class:"shareButtons"},i.h(a.default,{targetClass:"shareButton",content:"Copy web link"},i.h(r.default,{onClick:this.handleCopyWebUrlClick},i.h(l.IconCopy,null))))]:i.h("span",{class:"fetching"},"Fetching…")),i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"App:"),i.h("span",{class:"link"},i.h(a.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.h("div",{class:"shareButtons"},i.h(a.default,{targetClass:"shareButton",content:"Open in App"},i.h("a",{href:t},i.h(l.IconShare,null))),i.h(a.default,{targetClass:"shareButton",content:"Copy app URI"},i.h(r.default,{onClick:this.handleCopyAppUriClick},i.h(l.IconCopy,null))))))}}t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1879);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o);n(1880);t.default=function(e){const{class:t,children:n,afterContent:o,title:r,onClick:a}=e;return i.h("div",{class:s()("resourceTab",t),onClick:a},r&&i.h("div",{class:"title"},i.h("h1",null,r)),i.h("div",{class:"tabContent"},n),o)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1882);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(855),s=n.n(o),r=n(1421),a=n(1113);n(1883);t.default=function(e){const{id:t,avatar:n,fullName:o,username:l,versionCount:c,authorCount:d,lastUpdated:u}=e,p=i.h(s.a,{class:"userImageFrame",src:n.src,srcset:n.srcset,size:28}),h=i.h("span",{class:"author ellipsis",title:o||l},o||l);return i.h("div",{class:"versionAuthor"},t?i.h(a.default,{userId:t},p):p,i.h("div",{class:"authorAndCount"},t?i.h(a.default,{class:"versionAuthorNameUserProfileCardPopoverContainer",userId:t,openToLeft:!1},h):h,(d>1||c>1)&&i.h("span",null,", ",c," version",c>1?"s":"")),i.h(r.default,{type:"time-ago",format:"micro",class:"date",datetime:u}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1886);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1745),s=n(1878),r=n(1751),a=n(1887),l=n(563);n(1890);class c extends i.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,onAddColorClick:d,onRemoveColorClick:u,onColorNameChange:p}=this.props;let h;return n?h=i.h(o.default,null,i.h(a.default,null)):c?h=i.h(o.default,null,i.h("div",{class:"restricted"},i.h("h2",null,"Need Developer access?"),i.h("p",null,"Your organization role is Reviewer ",i.h("img",{src:Object(l.imageUrl)("img/icPawn.png"),srcSet:Object(l.srcset)(Object(l.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!"))):e||t.length?(h=[],e&&h.push(i.h(o.default,{title:"Background color"},i.h(r.default,{onAddClick:d,onRemoveClick:u,onNameChange:p,color:e}))),t.length>0&&h.push(i.h(o.default,{title:"Colors",showSeparator:h.length>0},t.map(e=>i.h(r.default,{key:e.colorStyle,onAddClick:d,onRemoveClick:u,onNameChange:p,color:e}))))):h=i.h(o.default,null,i.h("div",{class:"noColors"},i.h("h2",null,"No colors. ",i.h("img",{width:"24",height:"24",src:Object(l.imageUrl)("img/emjPalette.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.h("p",null,"All the colors used in the screen will be listed here."),i.h("p",null,"Could this be a bitmap? ",i.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.h(s.default,{class:"colorsTab",title:"Colors"},h)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1888);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737);n(1889);class a extends i.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(5*Math.random())+1,this.intervalId=setInterval(this.handleOnePeriod,1260))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.h("div",{ref:Object(r.default)(this,"base"),class:"tabLoading loadingShapes"},i.h("div",{class:s()("loadingShape","yellow",e[0]||"circle")}),i.h("div",{class:s()("loadingShape","lightOrange",e[1]||"circle")}),i.h("div",{class:s()("loadingShape","orange",e[2]||"circle")}),i.h("div",{class:s()("loadingShape","peach",e[3]||"circle")}),i.h("div",{class:s()("loadingShape","green",e[4]||"circle")}),i.h("div",{class:s()("loadingShape","turquoise",e[5]||"circle")}),i.h("div",{class:s()("loadingShape","cornflowerBlue",e[6]||"circle")}))}}t.default=a},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1892);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1893),s=n(1878),r=n(1887),a=n(723),l=n(1771),c=n(1773),d=n(1775),u=n(1778),p=n(1781),h=n(1745),f=n(771),g=n(737),m=n(718),b=n.n(m),S=n(1199),y=n(558),v=n(540),C=n(547),O=n(563);n(1896);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=Object(y.canDownload)();class D extends i.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:o,light:s,previewImages:r}=this.props;return i.h("div",{class:b()("assetEntry","noSelect",{selected:!!o}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.h(u.default,{class:"preview",light:s,images:r}),i.h("div",{class:"entryInfo"},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"size ellipsis"},t&&`${t.width} × ${t.height}`)),o&&i.h("div",null,Object.keys(n).sort(S.sortFormats).map(e=>i.h(a.default,{key:e,class:b()("exportType",{selected:o===e,fourChar:4===S.ASSET_FORMAT_TITLES[e].length}),onClick:this.createFormatSelectHandler(e)},S.ASSET_FORMAT_TITLES[e]))))}}function I(e,t){return n=>t(e,n)}function j(e,t){return n=>t(e,n)}function k(e){return Object.keys(e).sort().join("&")}class R extends i.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[k(e.formats)]||"png";return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,{assets:o}=this.props;if(t.shiftKey){const t=Math.min(n,e),s=Math.max(n,e),r=o.slice(t,s+1),a=function(e,t,n){const i=Object.assign({},e);for(let o=n-1;o>=0;o--){const e=t[o].id;if(!i[e])break;delete i[e]}for(let o=n;o<t.length;o++){const e=t[o].id;if(!i[e])break;delete i[e]}return i}(i,o,n),l=r.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),a);return void this.setState(e=>({assetSelections:l}))}const s=this.getPreferredFormatObjectForAsset(o[e]);if(Object(v.cmdKey)(t)){const t=o[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,s),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:s,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:o}=this.props,s=o[e],r=Object.assign({},n,{[s.id]:t});this.setState({assetSelections:r,assetFormatPreference:Object.assign({},i,{[k(s.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){C.userPrefs.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:o}=this.state,s=Object.keys(t).length,r=Object.keys(i).length;n!==o&&function(e){C.userPrefs.set("assetFormatPreference",e)}(o),0===s&&r>0?document.body.classList.add("supportButtonHidden"):s>0&&0===r&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n,showOptimizedPNG:o,showOptimizedJPG:s,onProcessFailedAssetContents:r}=this.props,a={};let l=!1;for(const i of e)Object.keys(i.formats).forEach(e=>{const t=i.formats[e].variants.map(e=>T(T({},e),{},{assetId:i.id}));a[e]=(a[e]||[]).concat(t)}),i.formats.svg&&!i.formats.svg.diff&&(l=!0);return Object.keys(a).sort(S.sortFormats).map(e=>i.h(d.default,{key:e,format:e,variants:a[e],assetDensityScalePrefs:t,showCompressionInfo:"svg"===e&&!l,optimizationSettings:{showOptimizedSVG:n,showOptimizedPNG:o,showOptimizedJPG:s},onProcessFailedAssetContents:r,onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,o)=>{const s=this.getPreferredFormatObjectForAsset(e);return i.h(D,{key:e.id,name:Object(S.getExportName)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,s[e.id]),onClick:I(o,this.handleAssetClick),onFormatChange:j(o,this.handleAssetFormatChange)})})}render(){const{assets:e,source:t="sketch",loading:n,restricted:d,showDensityMismatchWarning:u,assetDensityScalePrefs:m,namingConvention:S,showOptimizedSVG:y,showOptimizedPNG:v,showOptimizedJPG:C,platform:E,onHideDensityMismatchWarningClick:T,onAssetDensityOptionChange:_,onNamingConventionChange:D,onShowOptimizedSVGChange:I,onShowOptimizedPNGChange:j,onShowOptimizedJPGChange:k}=this.props,{assetSelections:R,settingsOpen:A}=this.state,w=i.h("div",{class:"assetsTitle"},"Assets",i.h(p.default,{open:A,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:_,onNamingConventionChange:D,onShowOptimizedSVGChange:I,onShowOptimizedPNGChange:j,onShowOptimizedJPGChange:k,projectType:E,settings:{assetDensityScalePrefs:m,namingConvention:S,showOptimizedSVG:y,showOptimizedPNG:v,showOptimizedJPG:C},target:i.h(a.default,{class:b()("assetSettingsButton",{active:A}),onClick:this.showSettingsMenu},i.h(f.IconSettings,null))}));let N;return N=n?i.h(r.default,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0}):d?i.h(h.default,{class:"restricted"},i.h("h1",null,"Need Developer access?"),i.h("p",null,"Your workspace role is Reviewer ",i.h("img",{src:Object(O.imageUrl)("img/icPawn.png"),srcSet:Object(O.srcset)(Object(O.imageUrl)("img/icPawn.png")),alt:"🧐",title:"🧐"}),", only Developers or higher can access technical specs."),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")):e.length?[i.h(h.default,{class:"allAssets",key:"allAssets"},!P&&i.h(c.default,{class:"warningBox"}),u&&i.h(l.default,{class:"warningBox",onHideClick:T}),i.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.h(h.default,{title:"Download individual assets",key:"individualAssets",showSeparator:!0},i.h("div",{class:"individualAssets",ref:Object(g.default)(this,"individualAssets")},this.renderIndividuals()),i.h("div",{class:"spacer"}))]:i.h(h.default,null,i.h(o.default,{source:t})),i.h(s.default,{onClick:this.handleDocumentClick,title:w,class:b()("assetsTab",E),afterContent:Object.keys(R).length>0&&i.h(a.default,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},N)}}t.default=R},function(e,t,n){"use strict";n.r(t);var i=n(1894);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(563);n(1895);t.default=function(e){return i.h("div",{class:"noScreenAssets"},i.h("h1",null,"Rock paper scissors",i.h("img",{src:o.imageUrl("img/emjAssetVictory.png"),srcset:o.srcset(o.imageUrl("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.h("img",{src:o.imageUrl("img/emjScissors.png"),srcset:o.srcset(o.imageUrl("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.h("div",{class:"info sketchFile"},i.h("p",null,i.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icSketchMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"or"),i.h("img",{src:o.imageUrl("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.h("div",{class:"info psdFile"},i.h("p",null,i.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icPhotoshopMakeExportableNew.png"),srcset:o.srcset(o.imageUrl("img/icPhotoshopMakeExportableNew.png")),class:"exportableAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icFigmaMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.h("img",{src:o.imageUrl("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:o.imageUrl("img/icXDMakeExportable.png"),srcset:o.srcset(o.imageUrl("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1898);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(1745),r=n(1720),a=n.n(r),l=n(1878),c=n(879),d=n(1899),u=n(1035),p=n.n(u),h=n(640),f=n(563),g=n(540);n(1902);class m extends i.Component{renderShortcutImage(){return i.h("div",{class:"shortcuts"},Object(g.getOS)()===g.OS.MAC?i.h("img",{class:"dotMacShortcut",src:Object(f.imageUrl)("img/icDotMacShortcut.svg")}):i.h("img",{class:"dotWinShortcut",src:Object(f.imageUrl)("img/icDotWinShortcut.png"),srcset:Object(f.srcset)(Object(f.imageUrl)("img/icDotWinShortcut.png"))}))}renderEmptyState(){const{dots:e,statusFilter:t,onAddNoteClick:n}=this.props;return e.length?t===p.a.Open?i.h("div",{class:"empty open"},i.h("h1",null,"No open notes"),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(g.getOS)()===g.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note")):t===p.a.Resolved?i.h("div",{class:"empty resolved"},i.h("h1",null,"No resolved notes"),i.h("p",null,"Looks like things are going pretty hectic these days ",i.h("img",{src:Object(f.imageUrl)("img/emjSweatTears.png"),srcset:Object(f.srcset)(Object(f.imageUrl)("img/emjSweatTears.png"))})),i.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):t===p.a.Mentioned?i.h("div",{class:"empty mentioned"},i.h("h1",null,"No mentioned notes"),i.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.h("div",{class:"empty noDots"},i.h("h1",null,"What a quiet team!",i.h("img",{src:Object(f.imageUrl)("img/icQuietMaymus.png"),srcset:Object(f.srcset)(Object(f.imageUrl)("img/icQuietMaymus.png"))})),i.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(g.getOS)()===g.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(o.default,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.h(l.default,{class:"notesTab",title:e},i.h(s.default,null,t))}render(){const{dots:e,statusFilter:t,colorFilter:n,barrelUser:o,onNoteClick:s,onFilterChange:r}=this.props;if(!e)return this.renderTab("Notes",i.h("div",{class:"loadingDots"},i.h(c.default,{asset:"img/icDotsLoading.png"}),i.h("div",null,"Loading notes…")));const l=e.filter(e=>Object(h.checkFilter)(e,t,n,o.user)),u=e.length?i.h("div",{class:"notesTitle"},"Notes",i.h(a.a,{top:36,dotCount:l.length,colorFilter:n,statusFilter:t,onFilterChange:r})):"Notes";let p;return l.length?(p=l.map(({_id:e,color:t,comments:n,name:o})=>i.h(d.default,{key:e,color:Object(h.getColorName)(t),id:e,comments:n,name:o,onNoteClick:s})),p.push(i.h("div",{class:"endingMark"},"~"))):p=this.renderEmptyState(),this.renderTab(u,p)}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1900);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(855),s=n.n(o),r=n(1421),a=n(718),l=n.n(a),c=n(737),d=n(558),u=n(549),p=n(1117),h=n(1119);n(1901);function f(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function g(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?n[0]+" also replied":`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const m=document.createElement("canvas").getContext("2d");function b(e){return m.measureText(e)}function S({content:e=""}){const t=[h.CustomRules.SPOTIFY,h.CustomRules.YOUTUBE,h.MarkdownRules.CHECKBOX,h.MarkdownRules.TABLE,h.MarkdownRules.HEADING];return i.h("div",{class:"content"},i.h(p.default,{disabledFeatures:t},e))}m.font="italic 12px Roboto";class y extends i.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let o=g(this.otherAuthorNames,this.hiddenAuthorCount);for(;b(o).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,o=g(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=o}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i({dotId:t,commentId:n.length>1?n[n.length-1]._id:null,source:"Notes tab"})}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),[n]=t,o=t[e.length-1],r=new Set([n.username,o.username]),a=[];t.forEach(e=>{r.has(e.username)||(r.add(e.username),a.push(e))});const l=e.length-2,u=a.filter(e=>!!e._id).length;let p;return a.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=a.map(e=>e.username),this.hiddenAuthorCount=a.length-u,p=u&&this.otherAuthorNames.length?g(this.otherAuthorNames,this.hiddenAuthorCount):l>1?l+" more replies":"1 more reply",i.h("div",{class:"otherReplies"},i.h("div",{class:"avatars"},a.map(e=>i.h(s.a,{class:"authorAvatar",src:Object(d.getUserAvatar)(e).src,size:16}))),i.h("div",{class:"summary",ref:Object(c.default)(this,"repliesSummary")},p))}render(){const{color:e,comments:t,name:n}=this.props,[o]=t;if(!o)return null;const a=t.length>1?t[t.length-1]:null,{author:c={username:"Anonymous"},note:p}=o,{author:h={username:"Anonymous"},note:g}=a||{};return i.h("div",{class:l()("dotEntry",e),onClick:this.handleClick},i.h("div",{class:"comment"},i.h("h4",null,i.h("div",{class:"commentHeader"},i.h(s.a,{src:Object(d.getUserAvatar)(c).src,size:24}),i.h("div",{class:"author ellipsis"},Object(u.getUserDisplayName)(c)),i.h(r.default,{type:"time-ago",format:"micro",class:"time",datetime:f(o)})),i.h("div",{class:"number"},n)),i.h(S,{content:p})),t.length>2&&this.renderOtherReplies(),a&&i.h("div",{class:"comment"},i.h("h4",null,i.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.h(s.a,{src:Object(d.getUserAvatar)(h).src,size:24}),i.h("div",{class:"author ellipsis"},h.username),i.h(r.default,{type:"time-ago",format:"micro",class:"time",datetime:f(a)})),i.h(S,{content:g})))}}t.default=y},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"transformInfo",(function(){return s})),n.d(t,"transformColors",(function(){return r})),n.d(t,"transformAssets",(function(){return a}));var i=n(564),o=n(1742);function s(e,t={}){const{description:n,tags:i=[],versions:s}=e,{snapshot:{grid:r,source:a}={}}=t;return{authors:Object(o.transformAuthors)(s),description:n,grid:r,source:a,tags:i,version:t,screen:e}}function r(e,t,n){const s=new Set,r={screenColors:[]};function a(e){const i=Object(o.transformColor)(e,t,n);s.has(i.colorStyle)||(r.screenColors.push(i),s.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(r.backgroundColor=Object(o.transformColor)(new i.default(l.backgroundColor),t,n)),l.layers?(l.layers.forEach((function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&a(new i.default(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":a(new i.default(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{a(new i.default(e.color))})}}))})),r):r}function a(e,t,n){return e?e.map(e=>Object(o.transformAsset)(e,t,n)).filter(Boolean):[]}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1908);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(574),s=n.n(o),r=n(559),a=n(556),l=n(703),c=n(1365),d=n(737),u=n(570),p=n(540),h=n(684),f=n.n(h),g=n(1909),m=n(2078),b=n(705),S=n(946),y=n(582),v=n.n(y),C=n(1920),O=n(696),E=n(681),T=n(682),_=n(845),P=n.n(_);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.Component{constructor(...e){super(...e),k(this,"handleBaseRef",e=>{Object(d.default)(this,"styleguide")(e),this.props.baseRef(e)}),k(this,"handleSectionNavigatorClick",(e,t)=>{const{barrel:{id:n}}=this.state,i=`${this.slugPrefix()}-${e.toLowerCase()}`;f.a.history.replace(Object(a.urlResolve)(i,{url:{bid:n},query:{seid:t}}))}),k(this,"handleStyleguideLink",e=>{const{barrel:t}=this.state;C.default.linkProjectToStyleguideRequest({project:t,styleguide:e,syncWithApi:!0})}),k(this,"handleStyleguideUnlink",e=>{const{barrel:{_id:t}}=this.state;C.default.unlinkProjectFromStyleguide({pid:t,styleguide:e,syncWithApi:!0})}),k(this,"handleExportClick",(e,t,n,i)=>{O.default.exportCode({resourceType:e,source:t,exportObjects:n,extensionId:i})}),k(this,"handleKeyDown",e=>{const{connectedComponentsDevModeEnabled:t}=this.state;Object(p.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(u.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.styleguide}),t?O.default.disableDevMode():O.default.enableDevMode())})}static calculateState(){const e=v.a.BarrelStore.getState(),{loading:t}=e,n=j(e,["loading"]);if(t)return{loading:!0};const{loadingJoin:i,organizationId:o,barrelType:s,showSlackReconnectionAuntie:r,linkingProjectToStyleguide:a,connectedComponentsDevModeEnabled:l}=n,c=E.default.getBarrel(),d=E.default.findUser(),{userId:u,paymentPlan:p,shouldPromoteExportDesignTokens:h}=v.a.UserStore.getState(),f=c.users.some(({user:e})=>e._id===u);if(c.partial||!f)return{loading:t,loadingJoin:i,barrel:c,isUserJoined:f};const g=v.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:m}=v.a.VersionImportsStore.getState(),b=T.default.getOrganizationStyleguides(o),S=E.default.isUserRestricted(),y=E.default.getStyleguidesData({barrelStore:v.a.BarrelStore,styleguidesDataStore:v.a.StyleguidesDataStore,projectsDataStore:v.a.ProjectsDataStore}),C=y.some(({connectedComponents:e})=>e&&e.length>0);return I(I({loading:!1},g),{},{barrel:c,barrelUser:d,isUserJoined:f,suggestedResourcesByBarrel:m,userId:u,paymentPlan:p,shouldPromoteExportDesignTokens:h,currentOrganizationStyleguides:b,userRestricted:S,organizationId:o,barrelType:s,showSlackReconnectionAuntie:r,linkingProjectToStyleguide:a,connectedComponentsDevModeEnabled:l,styleguidesData:y,hasConnectedComponent:C})}static getStores(){return[v.a.StyleguideStore,v.a.VersionImportsStore,v.a.UserStore,v.a.BarrelStore,v.a.ProjectsDataStore,v.a.StyleguidesDataStore,v.a.OrganizationStore,v.a.UserStore]}slugPrefix(){const{barrelType:e}=this.state;return e===s.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e,userId:t,paymentPlan:n,organizationId:i,barrelType:o,barrel:s,barrelUser:a,isUserJoined:l,hasConnectedComponent:c,sortType:d}=this.state;if(e||s.partial||!l)return{};const{id:u,type:p,densityScale:h,dimensionSuffix:f,styleguideLink:g}=s;return{densityScale:h,dimensionSuffix:f,barrelType:o,barrelId:u,projectId:u,projectType:p,barrelUser:a,organizationId:i,userRole:a.role,hasLinkedStyleguide:!!g,currentUserId:t,currentUserPaymentPlan:n,hasConnectedComponent:c,sortType:d,permissions:{canManageProject:r.permissions.canUpdateProject(a),canManageStyleguide:r.permissions.canUpdateStyleguide(a),canManageColors:r.permissions.canManageColors(a),canManageScreens:r.permissions.canManageColors(a),canManageTextStyles:r.permissions.canManageTextStyles(a),canManageSpacings:r.permissions.canManageSpacings(a),canManageRemSettings:r.permissions.canManageRemSettings(a)}}}render(){const{loading:e,loadingJoin:t,barrel:n,barrelUser:o,isUserJoined:s,showSlackReconnectionAuntie:r}=this.state;if(e)return null;if(n.partial||!s)return i.h(m.default,{styleguide:n,loadingJoin:t,onJoin:O.default.join});const{barrelType:a,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:p,selectedNavigatorId:h,highlightedColors:f,highlightedTextStyles:y,highlightedSpacingTokens:v,scrolledSection:C,highlightScrolledSection:E,sortType:T,filterValue:_,moveResourcesPopup:P,selectionComponentId:D,selection:I,suggestedResourcesByBarrel:j,showSuggestedResourcesBadge:k,currentOrganizationStyleguides:R,linkingProjectToStyleguide:A,styleguidesData:w,shouldPromoteExportDesignTokens:N}=this.state,L=new c.default(n),{barrelId:M,component:x}=Object(l.findComponentById)(w,D)||{};let U=I;return!U&&x&&(U=x),i.h(g.default,{baseRef:this.handleBaseRef,linkingProjectToStyleguide:A,shouldPromoteExportDesignTokens:N,styleguidesData:w,barrelType:a,barrel:n,barrelUser:o,currentOrganizationStyleguides:R,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:p,selectedNavigatorId:h,scrolledSection:C,highlightScrolledSection:E,highlightedColors:f,highlightedTextStyles:y,highlightedSpacingTokens:v,selectionStyleguideId:M,selectionComponent:x,selection:U,sortType:T,filterValue:_,formatter:L,showSlackReconnectionAuntie:r,suggestedResources:j[n.id],showSuggestedResourcesBadge:k,onLeftSidebarRelease:b.default.changeLeftSidebarWidth,onSectionNavigatorClick:this.handleSectionNavigatorClick,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:P,onExportClick:this.handleExportClick,onStopPromotingExportDesignTokens:S.default.stopPromotingExportDesignTokens})}}t.default=P()(R,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1910);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(4),o=n(559),s=n(737),r=n(718),a=n.n(r),l=n(696),c=n(1507),d=n(1911),u=n(1918),p=n(1942),h=n(1965),f=n(1976),g=n(2001),m=n(723),b=n(873),S=n(1318),y=n(2060),v=n(2066),C=n.n(v),O=n(2072),E=n(1062);n(2077);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return e.map(({_id:e,idPath:n,name:i,componentSections:o=[]})=>({id:e,idPath:n,styleguideId:t,title:i,content:i,children:D(o,t)}))}function I(e){return 0===e.length?[]:e[0].idPath}function j({children:e,baseRef:t,compact:n,overlapped:o}){const s=a()("sidebarBottom",{compact:n,overlapped:o});return i.h("div",{class:s,ref:t},i.toChildArray(e).map(e=>"string"==typeof e?e:i.cloneElement(e,{compact:n})))}class k extends i.Component{constructor(...e){super(...e),P(this,"state",{hasDraggingElement:!1,linkToStyleguidePopupVisible:!1,targetLinkButton:null}),P(this,"openLinkPopup",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),P(this,"openLinkPopupAtTargetNode",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),P(this,"closeLinkToStyleguidePopup",()=>{this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})}),P(this,"getScrollableDropContainers",()=>{const e=[];if(this.nodeRefs){const{leftSidebarContent:t,componentsContainer:n}=this.nodeRefs;t&&e.push(t),n&&e.push(n)}return e.length>0?e:null}),P(this,"handleStartDrag",()=>{this.setState({hasDraggingElement:!0})}),P(this,"handleEndDrag",()=>{this.setState({hasDraggingElement:!1})}),P(this,"handleComponentToSectionNodeDrop",(e,t,n)=>{const i=e[e.length-1],o=e.slice(0,-1);if(o.join()===t.join())return;const s=[{coid:i,csid:o,tcsid:t,sourceIndex:n}];l.default.updateComponentsOrder({components:s,syncWithApi:!0})}),P(this,"handleReorderComponentSectionOrGroup",e=>{l.default.updateComponentSectionsOrder({componentSections:[e],syncWithApi:!0})}),P(this,"handleLinkStyleguideSelect",e=>{const{onStyleguideLink:t}=this.props;t(e)}),P(this,"handleRepeatedClick",()=>{const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)}),P(this,"handleResize",()=>{requestAnimationFrame(()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections;if(!e||!t||!n)return;const i=n.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:i,sidebarBottomHeight:i?e.clientHeight:0})})}),P(this,"renderAbout",()=>i.h(u.default,{ref:Object(s.default)(this,"about","componentRefs"),onSectionNavigatorClick:this.props.onSectionNavigatorClick}))}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.classList.remove("dragging")}renderStyleguideSections(){const{barrelType:e,styleguidesData:t,selectedStyleguideSection:n,selectedNavigatorId:r,onSectionNavigatorClick:a,suggestedResources:l={colors:[],textStyles:[]},showSuggestedResourcesBadge:c}=this.props,u=t.map(({id:e,name:t,colors:n=[],textStyles:i=[],spacingSections:s=[],componentSections:r=[]})=>({id:e,styleguideId:e,idPath:I(r),name:t,has:{colors:!!n.length,textStyles:!!i.length,spacing:!!s.flatMap(({spacingTokens:e})=>e).length,components:!!Object(o.collectComponents)(r).length},componentTree:D(r.slice(1),e)})),p={colors:!!l.colors.length&&"colors"!==n&&c.colors,textStyles:!!l.textStyles.length&&"textStyles"!==n&&c.colors};return i.h(d.default,{baseRef:Object(s.default)(this,"styleguideSections"),barrelType:e,styleguideData:u,selectedStyleguideSection:n,selectedNavigatorId:r,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:a,onComponentToSectionNodeDrop:this.handleComponentToSectionNodeDrop,onReorderComponentSectionOrGroup:this.handleReorderComponentSectionOrGroup,showBadge:p})}renderColorPalette(){const{onExportClick:e}=this.props;return i.h(p.default,{ref:Object(s.default)(this,"colors","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderTextStyleCatalog(){const{onExportClick:e}=this.props;return i.h(h.default,{ref:Object(s.default)(this,"textStyles","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSpacings(){const{barrel:e,styleguidesData:t,onExportClick:n}=this.props,o=t.reduce((t,n)=>{let i=n;if(n.id!==e.id&&(i=_(_({},n),{},{spacingSections:n.spacingSections.filter(({spacingTokens:e})=>e.length)})),i.spacingSections.length){const{id:e,name:n,type:o,spacingSections:s,remPreferences:r,dimensionSuffix:a}=i;t.push({id:e,name:n,platform:o,spacingSections:s,remPreferences:r,dimensionSuffix:a})}return t},[]),{remPreferences:r,parentStyleguideToInheritRemPreferences:a}=t[0];return i.h(f.default,{ref:Object(s.default)(this,"spacing","componentRefs"),remPreferences:r,parentStyleguideToInheritRemPreferences:a,spacingSectionsData:o,onExportClick:n})}renderComponents(){const{onExportClick:e}=this.props,{hasDraggingElement:t}=this.state;return i.h(g.default,{ref:Object(s.default)(this,"components","componentRefs"),baseRef:Object(s.default)(this,"componentsContainer"),hasDraggingElement:t,onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase(),e){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"spacing":return this.renderSpacings();case"components":return this.renderComponents()}}renderSidebarBottom(){const{sidebarContentOverlapped:e}=this.state,{permissions:{canManageProject:t},organizationId:n}=this.context,{barrel:o,barrelType:r,currentOrganizationStyleguides:a,shouldPromoteExportDesignTokens:l,onStyleguideUnlink:c,onStopPromotingExportDesignTokens:d}=this.props,{ancestors:u,styleguideLink:p}=o;let h,f=!1;if("project"===r)if(p){const{styleguide:e,status:t}=p,n=function(e,t=[]){return t.find(({_id:t})=>t===e._id)||e}(e,a);f=!0,h=i.h(y.default,{key:"info",barrelName:o.name,linkedStyleguide:n,linkStatus:t,onUnlink:c})}else("user"===n||t)&&(h=i.h(m.default,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide"));const g=l&&(!h||f);return i.h(j,{baseRef:Object(s.default)(this,"sidebarBottom"),overlapped:e},i.h(C.a,{barrelId:o._id,barrelName:o.name,barrelType:r,shouldPromote:l,shouldDisplayHintBox:g,shouldDisplayIncludeParentsOption:Boolean(p)&&"active"===p.status||Boolean(u&&u.length),onStopPromoting:d}),!g&&f&&i.h("div",{class:"sidebarBottomDivider"}),h)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:o}=this.state,{barrel:s,currentOrganizationStyleguides:r,linkingProjectToStyleguide:a}=this.props;if(!n)return null;const l=s.users.find(e=>"owner"===e.role),c=r.filter(e=>["base",s.type].includes(e.type)&&"active"===e.status);let d=i.h(S.default,{onSelect:this.handleLinkStyleguideSelect,styleguides:c,selected:a,loading:!!a});return"user"===t?l.user._id!==e?d=i.h(S.NoStyleguidesForNonOwnerUser,{projectOwnerName:l.user.username}):c.length||(d=i.h(S.NoStyleguides,null)):c.length||(d=i.h(S.NoStyleguides,{hasOrganization:!0})),i.h(b.default,{targetNode:o,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:d,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t,baseRef:n}=this.props,{sidebarBottomHeight:r}=this.state,a=this.context.permissions.canManageStyleguide;return i.h(E.default,{getScrollableDropContainers:this.getScrollableDropContainers,disabled:!a,itemsClass:"styleguide",baseRef:n,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,enableDropOntoMultipleTargets:!0},i.h(c.default,{class:"styleguideLeftSidebar",baseRef:Object(s.default)(this,"sidebar"),contentRef:Object(s.default)(this,"leftSidebarContent"),minWidth:100,paddingBottom:r,initialWidth:e,resizingSide:"right",collapsed:!1,onClick:o.stopPropagation,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.h(O.default,null))}}},function(e,t,n){"use strict";n.r(t);var i=n(1912);n.d(t,"default",(function(){return i.default})),n.d(t,"sections",(function(){return i.sections}))},function(e,t,n){"use strict";n.r(t),n.d(t,"sections",(function(){return a})),n.d(t,"default",(function(){return l}));var i=n(4),o=n(1913),s=n(574),r=n.n(s);n(1917);const a=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Spacing and layout",value:"spacing"},{name:"Components",value:"components"}];function l(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:s,selectedNavigatorId:l,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:p,baseRef:h,showBadge:f}=e,g=t===r.a.PROJECT?a.slice(1):a;return i.h("div",{ref:h,class:"styleguideSections"},g.map(({name:e,value:r})=>{const a=s===r;return i.h(o.default,{key:r,barrelType:t,name:e,value:r,selected:a,selectedNavigatorId:l,styleguideData:n,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,onReorderComponentSectionOrGroup:p,showBadge:f[r]})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1914);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(718),s=n.n(o),r=n(556),a=n(574),l=n.n(a),c=n(1915),d=n(1322);n(1916);class u extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}get sectionURL(){const{styleguideData:e,barrelType:t,value:n}=this.props,i=t===l.a.PROJECT?"project-styleguide-"+n.toLowerCase():"styleguide-"+n.toLowerCase();return Object(r.urlResolve)(i,{url:{bid:e[0].id}})}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:o,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:r}=this.props;if(1===n.length&&"components"!==e)return null;let a,l="",c=!1;switch(e){case"colors":case"textStyles":case"spacing":a=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]}));break;case"components":1===n.length?a=n[0].componentTree:(c=!0,l="linkedStyleguideTree",a=n.filter(({has:{[e]:t}})=>t).map(({id:e,idPath:t,styleguideId:n,name:i,componentTree:o})=>({id:e,idPath:t,styleguideId:n,title:i,content:i,class:"styleguideRootNode",children:o})));break;default:return null}return i.h(d.default,{class:["styleguideTree",l],nodeClass:"styleguideNode",nodePadding:10,dragDropEnabled:"components"===e,startingLevel:c?0:1,tree:a,selectedNodeId:t?o:null,onNodeSelect:this.handleSectionNavigatorClick,onComponentToSectionNodeDrop:s,onReorderComponentSectionOrGroup:r})}render(){const{name:e,value:t,selected:n,showBadge:o}=this.props;return i.h("div",{class:s()("styleguideSection",{selected:n,showBadge:o}),onClick:this.handleClick},i.h("a",{href:this.sectionURL,"data-link-type":"inApp"},i.h(c.default,{type:t,selected:n}),i.h("span",{class:"name noSelect ellipsis",title:e},e),o&&i.h("div",{class:"badge"})),this.renderInstances())}}},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(771);t.default=function({type:e,selected:t}){const n=t?"#fff":"var(--gandalf)";switch(e){case"about":return i.h(o.IconInfo,{color:n});case"colors":return i.h(o.IconColor,{width:"22",height:"24",color:n});case"textStyles":return i.h(o.IconTextStyle,{width:"22",height:"24",color:n});case"spacing":return i.h(o.IconSpacing,{color:n});case"components":return i.h(o.IconComponent,{color:n});default:return null}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1919);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(737),a=n(696),l=n(681),c=n(705),d=n(1920),u=n(682),p=n(559),h=n(582),f=n.n(h),g=n(946),m=n(1921);function b(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"state",{editing:!1}),S(this,"goToTop",()=>{if(!this.nodeRefs)return;const{about:e}=this.nodeRefs;e.scrollTop=0}),S(this,"handleStyleguideTutorialHideClick",()=>{g.default.hideStyleguideTutorial()}),S(this,"handleSectionNavigatorClick",e=>{const{onSectionNavigatorClick:t}=this.props;"about"===e&&this.handleEditDescription(),t(e)}),S(this,"handleEditDescription",()=>{this.setState({editing:!0})}),S(this,"handleUpdateDescription",e=>{this.setState({editing:!1});const{barrelId:t,barrelType:n}=this.state;a.default.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),S(this,"handleCancelDescription",()=>{this.setState({editing:!1})}),S(this,"handleLinkProject",e=>{const{barrel:t,currentOrganizationProjects:n}=this.state,i=n.find(t=>t._id===e);d.default.linkProjectToStyleguideRequest({project:i,styleguide:t})}),S(this,"handleUnlinkProject",e=>{const{barrel:t}=this.state;d.default.unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:!0})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguideStore,f.a.StyleguidesDataStore,f.a.ProjectsDataStore,f.a.OrganizationStore,f.a.UserStore]}static calculateState(){const e=f.a.BarrelStore.getState(),{loading:t}=e,n=b(e,["loading"]),{shouldDisplayStyleguideTutorial:i}=f.a.UserStore.getState();if(t)return{loading:!0};const{barrelId:o,barrelType:s,organizationId:r,showSlackReconnectionAuntie:a}=n,c=l.default.getBarrel(),d=l.default.findUser(),{rightSidebarWidth:h}=f.a.StyleguideStore.getState(),g=u.default.getOrganizationProjects(r)||[],[{colors:m}]=l.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore});return{loading:!1,barrel:c,barrelId:o,barrelType:s,organizationId:r,showSlackReconnectionAuntie:a,sidebarWidth:h,currentOrganizationProjects:g,colors:m,shouldDisplayStyleguideTutorial:i,permissions:{canManageProject:p.permissions.canUpdateProject(d),canManageStyleguide:p.permissions.canUpdateStyleguide(d)}}}getChildContext(){const{colors:e,permissions:t}=this.state;return{permissions:t,projectColors:e}}render(){const{loading:e,barrel:t,organizationId:n,showSlackReconnectionAuntie:o,sidebarWidth:s,currentOrganizationProjects:a,editing:l,shouldDisplayStyleguideTutorial:d,permissions:u}=this.state;return e?null:i.h(m.default,{nodeRef:Object(r.default)(this,"about"),barrel:t,organizationId:n,editing:l,showSlackReconnectionAuntie:o,sidebarWidth:s,shouldDisplayStyleguideTutorial:d,onStyleguideTutorialHideClick:this.handleStyleguideTutorialHideClick,onSectionNavigatorClick:this.handleSectionNavigatorClick,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:c.default.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:a,permissions:u})}}t.default=s()(y)},function(e,t,n){"use strict";n.r(t);var i=n(597),o=n(582),s=n.n(o);const r={linkProjectToStyleguideRequest({project:e,styleguide:t,syncWithApi:n=!1}){s.a.dispatcher.dispatch({type:i.default.LINK_PROJECT_REQUEST,project:e,styleguide:t,syncWithApi:n})},linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n}){s.a.dispatcher.dispatch({type:i.default.LINK_PROJECT_SUCCESS,project:e,styleguide:t,styleguides:n})},linkProjectToStyleguide({project:e,styleguide:t,syncWithApi:n}){s.a.dispatcher.dispatch({type:i.default.LINK_PROJECT,project:e,styleguide:t,syncWithApi:n})},unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:n}){s.a.dispatcher.dispatch({type:i.default.UNLINK_PROJECT,pid:e,styleguide:t,syncWithApi:n})}};t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1922);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(1496),a=n(723),l=n(1923),c=n(1926),d=n(1195),u=n(1929),p=n(1935),h=n(873),f=n(1938),g=n(737);n(1941);class m extends i.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}},editing:n}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate(),n&&setTimeout(()=>this.nodeRefs.markdownDescription.scrollIntoView(),4)}renderDescription(){const{barrel:{description:e},editing:t,onEditDescription:n,onUpdateDescription:o,onCancelDescription:s,permissions:{canManageProject:r}}=this.props;return e||t?i.h(d.default,{ref:Object(g.default)(this,"markdownDescription"),value:e,editing:t,readOnly:!r,onEdit:n,onUpdate:o,onCancel:s}):i.h(l.default,{class:"markdownDescriptionEmptyState",type:l.default.TYPE.DESCRIPTION,onButtonClick:n})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,currentOrganizationProjects:o,onLinkProject:s,barrel:{_id:r,type:a,users:l,linkedProjects:c},permissions:{canManageStyleguide:d}}=this.props,u=o.filter(e=>{const t="base"===a||e.type===a;if("user"===n){const n=e.users.find(e=>"owner"===e.role);if(!n)return!1;const i=l.find(e=>"owner"===e.role).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&d}),f=c.length>0?this.nodeRefs.inlineLinkButton:t;return i.h(h.default,{targetNode:f,onClose:this.closeLinkToProjectPopup,content:i.h(p.default,{organizationId:n,currentStyleguide:r,onSelect:s,projects:u}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{barrel:{linkedProjects:e},onUnlinkProject:t,permissions:{canManageProject:n}}=this.props;let o;return o=e.length?i.h("div",{key:"linkedProjects",class:"linkedProjects"},e.map(({_id:e,name:n,type:o,updated:s})=>i.h(c.default,{key:e,id:e,name:n,type:o,updated:s,onUnlinkProject:t}))):i.h(l.default,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.h(u.default,{key:"styleguideHeader"},"Linked projects",e.length>0&&n&&i.h(a.default,{baseRef:Object(g.default)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),o]}renderSidebar(){const{sidebarWidth:e,onSidebarRelease:t}=this.props;return i.h(r.default,{width:e,onRelease:t})}render(){const{nodeRef:e,shouldDisplayStyleguideTutorial:t,onStyleguideTutorialHideClick:n,onSectionNavigatorClick:o}=this.props;return i.h(i.Fragment,null,i.h("div",{class:s()("styleguideContainerContent","aboutContent",{styleguideTutorialVisible:t}),ref:e},t&&i.h("div",{class:"styleguideTutorialContainer"},i.h(f.default,{hideButtonText:"Got it!",onHideClick:n,onSectionNavigatorClick:o})),this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}m.defaultProps={editing:!1},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1924);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(879),r=n(771),a=n(718),l=n.n(a),c=n(541);n(1925);const d=Object.freeze({description:{emoji:"📝"},linkedProjects:{emoji:"🔗"},colors:{emoji:"🎨",addIcon:i.h(r.IconColor,{type:"add"}),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"✏️",addIcon:i.h(r.IconTextStyle,{type:"add"}),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:"🍡"}});function u(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,e=>" "+e.toLowerCase());return t?n.slice(0,-1):n}class p extends i.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${u(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:s}=this.context;return t&&!n&&"project"===s?i.h("li",null,i.h("h3",null,"From a Styleguide (Recommended)"),i.h("p",null,"Use ",u(e)," from a Styleguide by linking your project."),i.h(o.default,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=d[e];return i.h("li",null,i.h("h3",null,"From Layers"),i.h("p",null,"Select a layer and click ",t," next to the ",u(e,{singular:!0}),"."),i.h(s.default,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return c.isWindowsApp?i.h(i.Fragment,null,i.h("li",null,i.h("h3",null,"From Figma"),i.h("p",null,"Select a master component frame and press ⌥E or select “File > Export” from the menu."),i.h(s.default,{asset:"img/icComponentsHintFigma.png"})),i.h("li",null,i.h("h3",null,"From Adobe XD"),i.h("p",null,"Select a component in “Pasteboard”, or a layer inside it. Press ⌥⌘E or select “File > Export > Zeplin” from the menu."),i.h(s.default,{asset:"img/icComponentsHintAdobeXD.png"}))):i.h("li",null,i.h("h3",null,"From Design Tools"),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps",target:"_blank"},"Download desktop app")," to export ",u(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.h(o.default,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.h(o.default,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:o}=d[t];return i.h("div",{class:"emptyStateContainer"},i.h("div",{class:"emptyStateBefore"},n),i.h("div",{class:l()("emptyState",e)},i.h("h2",null,"No ",u(t)," yet. ",o),i.h("p",null,this.renderDescription()),this.renderBody()))}}p.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.default=p},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1927);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1421),s=n(1130),r=n(1050),a=n(942),l=n(559),c=n(556),d=n(737);n(1928);class u extends i.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+24,y:t.top-24}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.h(r.default.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.h(r.default.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.h(a.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:r,type:a,updated:u}=this.props;return i.h("div",{class:"linkedProject noSelect",ref:Object(d.default)(this,"base")},t&&this.renderContextMenu(),e&&i.h(s.default,{class:"optionsButton",baseRef:Object(d.default)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.h("a",{href:Object(c.urlResolve)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null,"data-link-type":"inApp"},i.h("div",{class:"linkedProjectName ellipsis",title:r},r),i.h("div",{class:"projectInfo"},i.h("span",null,Object(l.getPlatformString)(a)),i.h(o.default,{type:"time-ago",format:"micro",datetime:u}))),this.renderUnlinkDialog())}}t.default=u},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1930);n.d(t,"default",(function(){return i.default}));var o=n(1932);n.d(t,"ContextMenuButton",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(737);n(1931);class s extends i.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.h("h2",{class:"styleguideHeader",ref:Object(o.default)(this,"base")},e)}}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1933);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050),s=n(771),r=n(718),a=n.n(r);n(1934);class l extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:r}=this.state;return i.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.h("button",{class:a()("styleguideContextMenuButton",{active:!!r||n}),onClick:this.handleClick},i.h(s.IconMenu,null)),r&&i.h(o.default,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e))}}t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1936);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1145),s=n(559),r=n(556),a=n(563),l=n(718),c=n.n(l),d=n(571);n(1937);const u="Add",p="Done",h="Spinner",f="Retry",g="linking",m="linked";function b({selected:e,iconType:t}){const n=Object(a.imageUrl)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.h("img",{class:"invite"+t,src:n})}class S extends i.Component{constructor(...e){var t,n,i;super(...e),i=()=>{const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)},(n="handleClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selected:e,projectName:t,projectType:n,status:o}=this.props,r=o===m,a=o===g,l=!r&&!a&&o,d=c()("projectListItem",{selected:e,linking:a}),S=Object(s.getPlatformString)(n),y=`${t} - ${S}`;let v;return v=r?p:a?h:l?f:u,i.h("div",{title:y,class:d},i.h("div",{class:"projectInfo"},i.h("div",{class:"title ellipsis"},t,", ",i.h("span",{class:"projectType"},S)),l&&i.h("p",{class:"error"},l.title)),i.h("button",{onClick:this.handleClick,disabled:r||a},i.h(b,{iconType:v,selected:e})))}}class y extends i.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:g}),Object(d.updateProjectStyleguideLink)(e,n).then(()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:m}),t(e)}).catch(t=>{this.setState({[e]:t})})}renderProjectListItemContent({_id:e,name:t,type:n},o){return i.h(S,{onActionButtonClick:this.handleSelect,value:e,selected:o,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.h(o.default.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.h("div",{key:"projects",class:"projects"},i.h(o.default,{class:"selectableProjectList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",o="";return e.length>0?(n="No unlinked projects",o=i.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. 😎")):o="user"!==t?i.h("p",null,"Looks like there’s no organization project yet, ",i.h("a",{href:Object(r.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."):i.h("p",null,"Looks like you don’t have any projects yet, ",i.h("a",{href:Object(r.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."),i.h("div",{class:"noProjects"},i.h("h3",null,n),o)}render(){const{projects:e,class:t}=this.props,n=e.filter(e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink),o=c()("linkToProjectPopup",t);return i.h("div",{class:o},n.length>0?this.renderProjects(n):this.renderNoProjects())}}t.default=y},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1939);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o),r=n(1911),a=n(1915),l=n(541);n(1940);const c={about:i.h("svg",{width:"11",height:"42",viewBox:"0 0 11 42"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.43 2.508c3.108.335 2.84 4.661 2.082 6.789-.81 2.27-2.142 4.38-2.59 6.782-.506 2.705.177 5.634 2.234 7.243-1.197 1.974-.789 4.44-.789 6.84 0 3.018-.68 8.225-5.198 8.513-1.553.1-1.564 2.6 0 2.5 3.585-.228 5.29-1.849 6.828-5.234.713-1.567.88-3.725.815-5.436-.085-2.213-.756-5.022 1.096-6.645.744-.652.258-1.808-.536-2.09-5.487-1.938.57-10.645 1.046-14.016.5-3.551-1.292-7.348-4.988-7.746-1.553-.167-1.542 2.334 0 2.5z"})),colorsAndTextStyles:i.h("svg",{width:"16",height:"94",viewBox:"0 0 16 94"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M15.88 41.779c.41-.927-.273-2.184-1.383-1.837-4.605 1.44-7.613-4.125-7.615-8.077-.002-4.217 1.715-8.225 2.302-12.364C10.191 12.414 7.675 5.308 2.646.357 1.51-.761-.224 1.005.914 2.125c3.419 3.365 5.588 7.797 5.998 12.65.414 4.896-1.545 9.437-2.237 14.201-.538 3.71-.08 7.27 2.229 10.29 1.528 1.997 3.638 3.318 5.972 3.399-3.04 7.761-4.26 16.156-3.275 24.5.578 4.882 2.287 10.182.037 14.88-1.882 3.928-5.654 6.546-9.088 8.94-1.294.903-.07 3.07 1.237 2.159 3.234-2.256 6.556-4.629 8.842-7.94 2.501-3.623 2.863-7.784 2.314-12.076-.659-5.14-1.48-10.07-1.107-15.281.399-5.556 1.802-10.995 4.044-16.068"})),spacing:i.h("svg",{width:"10",height:"41",viewBox:"0 0 10 41"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.172 2.497c2.959.333 2.705 4.641 1.982 6.76-.77 2.26-2.04 4.36-2.467 6.752-.481 2.693.169 5.61 2.128 7.212-1.14 1.965-.75 4.422-.75 6.81 0 3.006-.65 8.19-4.952 8.477-1.48.099-1.49 2.589 0 2.49 3.414-.228 5.038-1.842 6.503-5.212.68-1.561.838-3.71.776-5.413-.08-2.204-.72-5 1.044-6.616.709-.65.246-1.8-.51-2.08-5.226-1.931.543-10.6.995-13.957.477-3.536-1.23-7.316-4.75-7.712-1.478-.166-1.468 2.324 0 2.49z"})),components:i.h("svg",{width:"9",height:"43",viewBox:"0 0 9 43"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M8.154 18.516c.255-.523.152-1.204-.39-1.508-3.968-2.227-.622-8.267-.993-11.739C6.477 2.506 4.472-.154 1.544.007c-1.388.077-1.397 2.28 0 2.203 5.027-.276 2.328 7.582 2.172 10.188-.135 2.255.448 4.553 2.157 5.967-1.399 3.717-.594 7.596.095 11.463.678 3.816.914 9.154-3.107 11.147-1.254.622-.156 2.522 1.095 1.902 9.38-4.649.756-17.307 4.198-24.361"}))};t.default=function({hideButtonText:e,onHideClick:t,onSectionNavigatorClick:n}){return i.h(s.a,{class:"styleguideTutorial",onHideClick:t,hideButtonText:e,hideEmoji:!0},i.h("h1",null,"Welcome to the Styleguide 🍡"),i.h("p",{class:"description"},"Curate your styleguide by adding components, colors, text styles and spacing tokens. All the projects linked to this styleguide will inherit these resources automatically."),i.h("p",{class:"description"},"From the left panel:"),i.h("div",{class:"sections"},i.h("div",{class:"sectionItems"},r.sections.map(({value:e,name:t})=>i.h("div",{key:e,class:"sectionItem"},i.h(a.default,{type:e}),i.h("span",null,t)))),i.h("div",{class:"sectionItemDescriptions"},i.h("p",{class:"sectionItemDescription aboutDescription"},c.about,i.h("span",null,i.h("strong",{onClick:()=>n("about")},"Start by describing the styleguide")," to your team. View linked projects, integrations and more.")),i.h("p",{class:"sectionItemDescription colorsAndTextStylesDescription"},c.colorsAndTextStyles,i.h("span",null,i.h("strong",{onClick:()=>n("colors")},"Export colors and text styles")," from design tools ",l.isWindowsApp&&"using Zeplin’s desktop apps"," and access them here.")),i.h("p",{class:"sectionItemDescription spacingDescription"},c.spacing,i.h("span",null,i.h("strong",{onClick:()=>n("spacing")},"Set up your spacing tokens")," here to view them while inspecting designs.")),i.h("p",{class:"sectionItemDescription componentsDescription"},c.components,i.h("span",null,i.h("strong",{onClick:()=>n("components")},"Export components")," from design tools ",l.isWindowsApp&&"using Zeplin’s desktop apps"," and organize them here.")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1943);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(555),s=n(737),r=n(559),a=n(556),l=n(696),c=n(681),d=n(705),u=n(582),p=n.n(u),h=n(1050),f=n(1944),g=n(1947),m=n(1923),b=n(1507),S=n(1929),y=n(1955),v=n(1958),C=n(543),O=n(1963),E=n(845),T=n.n(E),_=n(771),P=n(684),D=n.n(P);n(1964);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),I(this,"state",{styleguideToShowColorEditHintBox:null}),I(this,"unsetStyleguideForColorEditHintBox",()=>{this.setState({styleguideToShowColorEditHintBox:null})}),I(this,"goToTop",()=>{if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0}),I(this,"goToStyleguideToEdit",()=>{const{styleguideToShowColorEditHintBox:e}=this.state;D.a.history.push(Object(a.urlResolve)("styleguide-colors",{url:{bid:e}}))}),I(this,"handleNameChange",(e,t)=>{l.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),I(this,"handleDataChange",(e,t)=>{l.default.updateColor({cid:e,colorData:t,syncWithApi:!0})}),I(this,"handleDelete",e=>{l.default.removeColor({cid:e,syncWithApi:!0})}),I(this,"handleAddSuggestedColor",e=>{l.default.addColor({color:e,syncWithApi:!0})}),I(this,"handleAddAllColors",()=>{const{suggestedColors:e}=this.state;l.default.addMultipleColors({colors:e,syncWithApi:!0})}),I(this,"handleHideSuggestedColors",()=>{const{barrel:{id:e},suggestedColors:t}=this.state;d.default.hideSuggestedColors(e,t)}),I(this,"handleMoveColorsToClick",e=>{e.stopPropagation();const{colorsData:[{colors:t}]}=this.state;d.default.openMoveResourcesPopup({resourceType:C.RESOURCE_TYPE.COLORS,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),I(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),o.create({title:"Delete all colors?",message:"Deleted colors cannot be restored",done:{name:"DELETE",cb(){l.default.removeAllColors({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[p.a.BarrelStore,p.a.StyleguideStore,p.a.ProjectsDataStore,p.a.StyleguidesDataStore,p.a.VersionImportsStore,p.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=p.a.BarrelStore.getState();if(e)return{loading:!0};const n=c.default.getBarrel(),i=c.default.findUser(),{moveResourcesPopup:o,scrolledSection:s,highlightScrolledSection:a,highlightedColors:l,rightSidebarWidth:d}=p.a.StyleguideStore.getState(),{role:u}=i,{suggestedResourcesByBarrel:h}=p.a.VersionImportsStore.getState(),f=c.default.getStyleguidesData({barrelStore:p.a.BarrelStore,styleguidesDataStore:p.a.StyleguidesDataStore,projectsDataStore:p.a.ProjectsDataStore}),{colors:g=[]}=h[t]||{};let m=f.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n}));!m.some(e=>e.id===t)&&g.length&&(m=[{id:t,name:"Local Styleguide",colors:[]},...m]);const b=r.permissions.canManageColors(i);return{loading:!1,barrel:n,barrelUser:i,barrelId:t,userRole:u,moveResourcesPopup:o,scrolledSection:s,highlightScrolledSection:a,styleguidesData:f,colorsData:m,suggestedColors:g,highlightedColors:l,sidebarWidth:d,canManageColors:b}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}renderSuggestedColors(){const{suggestedColors:e}=this.state;return e.length?i.h(v.default,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelUser:o,moveResourcesPopup:r,canManageColors:l}=this.state,c=r&&r.resourceType===C.RESOURCE_TYPE.COLORS,d=e!==n.id?i.h("a",{href:Object(a.urlResolve)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(_.IconGoTo,null)):null,u=Object(O.default)(n,o),p=[u&&i.h(h.default.Item,{key:"Move colors to styleguide",onClick:this.handleMoveColorsToClick},"Move colors to styleguide…"),u&&l&&i.h(h.default.ItemDivider,{key:"warningDivider"}),l&&i.h(h.default.Item,{warning:!0,key:"Delete all colors",onClick:this.handleDeleteAllMenuItemClick},"Delete all colors")].filter(Boolean),f=e===n.id&&p.length>0?i.h(S.ContextMenuButton,{baseRef:Object(s.default)(this,"contextMenuButton"),keepActive:c,menuItems:p}):null;return d||f?i.h("div",null,f,d):null}renderColorPalettes(){const{barrelId:e,userRole:t,colorsData:n,styleguideToShowColorEditHintBox:o,scrolledSection:s,highlightScrolledSection:r,suggestedColors:a,highlightedColors:l,canManageColors:c}=this.state,{onLinkStyleguide:u}=this.props;return n&&n.length?n.map(({id:n,name:a,colors:u})=>{const p=n===e,h=o===n&&!p;return i.h(i.Fragment,{key:"fragmentColorPalette-"+n},i.h(S.default,{key:"styleguideHeader-"+n,scroll:s===n,highlight:s===n&&r,onScroll:d.default.sectionScrolled},a,this.renderStyleguideHeaderEnd({id:n,name:a})),h&&i.h(y.default,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:a,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),p&&this.renderSuggestedColors(),i.h(g.default,{key:"colorPalette-"+n,colors:u,highlightedColors:l,userRole:t,readOnly:!c,onHover:d.default.unhighlightColor,onAttemptToChange:p?null:this.setStyleguideForColorEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete}))}):i.h(m.default,{type:m.default.TYPE.COLORS,before:!!a.length&&i.h("div",{class:"emptyStateSuggestedColors"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:u})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(b.default,{minWidth:280,initialWidth:t,onClick:r.stopPropagation,onRelease:d.default.changeRightSidebarWidth},i.h(f.default,{type:"color",source:"Color",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent colorPaletteContent",ref:Object(s.default)(this,"colors")},this.renderColorPalettes()),this.renderSidebar())}}t.default=T()(j)},function(e,t,n){"use strict";n.r(t);var i=n(1945);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(681),a=n(582),l=n.n(a),c=n(1506),d=n(723),u=n(1855),p=n(556),h=n(560),f=n(605),g=n(1867);n(1946);function m(e,t,n){return e[`styleguide${Object(h.uppercaseFirst)(t)}s`](n).then(e=>g.CodeSnippet.fromUnknown(e,t)).catch(e=>{}).then(n=>{let i=[];return n&&(n.exportable=function(e,t){return e.hasMethod(`exportStyleguide${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod(`export${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod("export"+Object(h.uppercaseFirst)(t))}(e,t),i=[n]),{[e.id]:{snippets:i,title:e.name}}})}function b({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.h("div",{class:"emptyStyleguideCodePanel"},t?[i.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Manage and enable the ones that fit your workflow."),i.h(d.default,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.h("h2",{key:"emptyStyleguideHeader"},"No extensions ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Browse and pick the ones that fit your workflow."),i.h("a",{key:"emptyStyleguideButton",href:Object(p.getExtensionWebsiteUrl)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class S extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.h(u.default,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t})}}class y extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,styleguidesData:i,styleguides:o,type:s,source:r,extensions:a,onExportClick:l}=this.props,c=Object(f.transformBarrelToObject)(t,n,i,o),d=a.find(t=>t.id===e);d&&d[`exportStyleguide${Object(h.uppercaseFirst)(s)}s`](c).then(t=>l(s,r,t,e))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,styleguidesData:o,styleguides:s}=this.props,r=Object(f.transformBarrelToObject)(n,i,o,s);Promise.all(e.map(e=>m(e,t,r))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:o}=t.codeSnippets[e];return!(!o&&!i)&&(!o||!i||(i.length!==o.length||i.some((e,t)=>o[t].language!==e.language||o[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:o}=this.props,{codeSnippets:s}=this.state;if(!s)return;const r=e.map(e=>{const{snippets:t,title:o}=s[e.id];return t.length?i.h(S,{key:e.id,snippets:t,title:o,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&r.length?i.h("div",{class:"styleguideCodePanel"},r):i.h(b,{hasExtensions:t,organizationId:o,onManageExtensionsClick:n})}}class v extends i.Component{static calculateState(){const{loading:e,barrelType:t,organizationId:n}=l.a.BarrelStore.getState();if(e)return{loading:e};const i=r.default.getBarrel(),o=r.default.getStyleguidesData({barrelStore:l.a.BarrelStore,styleguidesDataStore:l.a.StyleguidesDataStore,projectsDataStore:l.a.ProjectsDataStore}),{styleguides:s}=l.a.StyleguidesDataStore.getState(),{loading:a,extensions:c,enabledExtensions:d}=l.a.ExtensionsStore.getState(),u=c.filter(e=>e.loaded&&d.includes(e.id));return{loading:e,barrel:i,barrelType:t,styleguidesData:o,styleguides:s,loadingExtensions:a,hasExtensions:c.length>0,extensions:u,organizationId:n}}static getStores(){return[l.a.BarrelStore,l.a.ExtensionsStore,l.a.ProjectsDataStore,l.a.StyleguidesDataStore]}render(){const{type:e,source:t,title:n,onExportClick:o}=this.props,{loading:s,barrel:r,barrelType:a,styleguidesData:l,styleguides:d,loadingExtensions:u,hasExtensions:p,extensions:h,organizationId:f}=this.state;if(!s&&!u)return i.h(y,{type:e,source:t,title:n,barrel:r,styleguidesData:l,barrelType:a,styleguides:d,hasExtensions:p,extensions:h,organizationId:f,onExportClick:o,onManageExtensions:c.default.openSettings})}}t.default=s()(v)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1948);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(1949);n(1954);function s(e){const{colors:t,highlightedColors:n,readOnly:s,userRole:r,onHover:a,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.h("div",{class:"colorPalette"},t.map(e=>{const t=n[0]===e.id,p=t||n.includes(e.id);return i.h(o.default,{color:e,key:e.id,readOnly:s,userRole:r,scrollIntoView:t,highlight:p,onHover:a,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1950);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(564),s=n(555),r=n(1951),a=n(1755),l=n.n(a),c=n(1092),d=n(771),u=n(1096),p=(n(1953),n(737)),h=n(718),f=n.n(h);function g(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function m(e){return/[A-Fa-f0-9]{6}/.test(e)}class b extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():s.create({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:s,b:r}=o.default.fromHex("#"+e);n(t,{r:i,g:s,b:r})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:o,onAttemptToChange:s}=this.props,a=e.name,h=e.hexBase(),b=Math.round(100*e.a),S=e.toRGBString(),y=e.toRGBAString(),v=f()("colorCell",{highlight:o});let C=i.h("div",{class:v,ref:Object(p.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"colorPreview",style:{backgroundColor:y}},!n&&i.h("button",{type:"button",onClick:this.handleDelete},i.h(d.IconDelete,null))),i.h("div",{class:"colorInformation"},i.h("div",{class:"colorNameContainer",title:a},i.h(l.a,{textInputProps:{class:"colorName",spellCheck:"false",prefix:"#",maxLength:100,withMirror:!0,readonly:n,blurOnEnter:!0},initialValue:a,onAttemptToChange:s,onBlur:this.handleNameChange})),i.h("div",{class:"colorValueContainer"},i.h(r.default,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:m,initialValue:h,disabled:n,blurOnEnter:!0,onAttemptToChange:s,onBlur:this.handleHexChange}),i.h(r.default,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:g,initialValue:b,disabled:n,blurOnEnter:!0,onAttemptToChange:s,onBlur:this.handleOpacityChange})),i.h("div",{class:"colorRGB"},S)));return n&&(C=i.h(c.default,{content:Object(u.default)(t,"edit colors")},C)),C}}t.default=b},function(e,t,n){"use strict";n.r(t);var i=n(1952);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1430),s=n(737);class r extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:o,value:s}=this.state,r=e.target.value;if(o===s||!r||n&&!n(r))return this.setState({value:o,focusWithin:!1,selectionStart:null,selectionEnd:null}),void(o===s&&s!==r&&(this.nodeRefs.input.value=s));this.setState({value:r,oldValue:s,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==r&&i(r)}handleFocus(){this.setState(e=>({oldValue:e.value,focusWithin:!0}))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:o,selectionEnd:s}=e.target;const r=i;t&&(i=i.replace(t,""));const a=r.length-i.length;a>0&&(o-=a,s-=a),e.target.value=i,this.setState({selectionStart:o,selectionEnd:s,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.h(o.default,Object.assign({},t,{inputRef:Object(s.default)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1956);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o);n(1957);t.default=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:o,styleguideSectionToEdit:r}=e;return i.h(s.a,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:o,hideButtonText:"Got it!"},"Go to “",t,"” to edit ",r,", since it’s a linked styleguide.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1959);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1960),a=n(564);n(1962);function l({name:e,color:t,onClick:n}){const o=e.substr(0,e.length/2).replace(/ /g," "),s=e.substr(e.length/2).replace(/ /g," ");return i.h("button",{title:e,class:"colorItem",onClick:n},i.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.h("span",{class:"name ellipsis"},o),i.h("span",{class:"name secondHalf"},s))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,colors:s}=e,a=s.length>1;return i.h(r.default,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:a?"Add All Colors":"Add Color",hideButtonText:a?"Ignore these colors!":"Ignore the color!",emoji:"👩‍🎨",title:`Found ${a?s.length+" colors":"a color"} during the last export, want to add ${a?"them":"it"}?`,description:a?"Click to add them individually or select “Add All Colors”.":"Click the color below or select “Add Color” to add it."},i.h("div",{class:"colorsContainer"},s.map(e=>{const t=e.toHexString();return i.h(l,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})})))}c.propTypes={colors:s.a.arrayOf(s.a.instanceOf(a.default)).isRequired,onHideClick:s.a.func.isRequired,onAdd:s.a.func.isRequired,onAddAll:s.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(901),a=n.n(r),l=n(723),c=n(718),d=n.n(c);n(1961);function u(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:o,actionButtonText:s,emoji:r,title:c,description:u,children:p,class:h}=e,f=d()("genericStyleguideHintBox",h);return i.h(a.a,{class:f,onHideClick:t,hideButtonText:o,hideEmoji:!0},i.h("div",{class:"hintBoxContainer"},i.h("span",{class:"emoji"},r),i.h("div",{class:"text"},i.h("h5",null,c),i.h("p",null,u)),n&&i.h(l.default,{class:"actionButton",onClick:n,primary:!0},s)),p)}u.propTypes={onHideClick:s.a.func.isRequired,hideButtonText:s.a.string.isRequired,onActionButtonClick:s.a.func,actionButtonText:s.a.string,emoji:s.a.string.isRequired,title:s.a.string.isRequired,description:s.a.string.isRequired},t.default=u},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(559);function o(e,t){if(Object(i.isOrganizationProject)(e))return i.permissions.canMoveResources(t);const n=e.users.find(e=>"owner"===e.role);return"free"===n.user.paymentPlan?t.user._id===n.user._id:i.permissions.canMoveResources(t)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1966);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(555),s=n(737),r=n(559),a=n(556),l=n(1963),c=n(1365),d=n(696),u=n(681),p=n(705),h=n(582),f=n.n(h),g=n(1050),m=n(1923),b=n(1507),S=n(1929),y=n(1967),v=n(1944),C=n(1955),O=n(1972),E=n(543),T=n(845),_=n.n(T),P=n(771),D=n(684),I=n.n(D);n(1975);function j(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R extends i.Component{constructor(...e){super(...e),k(this,"state",{styleguideToShowTextStyleEditHintBox:null}),k(this,"unsetStyleguideForTextStyleEditHintBox",()=>{this.setState({styleguideToShowTextStyleEditHintBox:null})}),k(this,"goToStyleguideToEdit",()=>{const{styleguideToShowTextStyleEditHintBox:e}=this.state;I.a.history.push(Object(a.urlResolve)("styleguide-textstyles",{url:{bid:e}}))}),k(this,"goToTop",()=>{if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0}),k(this,"handleColorDelete",e=>{d.default.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})}),k(this,"handleDelete",e=>{d.default.removeTextStyle({tsid:e,syncWithApi:!0})}),k(this,"handleHideSuggestedTextStyles",()=>{const{barrelId:e,suggestedTextStyles:t}=this.state;p.default.hideSuggestedTextStyles(e,t)}),k(this,"handleNameChange",(e,t)=>{const{textStylesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return o.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.default.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),k(this,"handleAddTextStyle",e=>{d.default.addTextStyle({textStyle:e,syncWithApi:!0})}),k(this,"handleAddAllTextStyles",()=>{const{suggestedTextStyles:e}=this.state;d.default.addMultipleTextStyles({textStyles:e,syncWithApi:!0})}),k(this,"handleMoveTextStylesToClick",e=>{e.stopPropagation();const{textStylesData:[{textStyles:t}]}=this.state;p.default.openMoveResourcesPopup({resourceType:E.RESOURCE_TYPE.TEXT_STYLES,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),k(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),o.create({title:"Delete all text styles?",message:"Deleted text styles cannot be restored",done:{name:"DELETE",cb(){d.default.removeAllTextStyles({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguideStore,f.a.ProjectsDataStore,f.a.StyleguidesDataStore,f.a.VersionImportsStore,f.a.UserStore]}static calculateState(){const{loading:e,barrelId:t}=f.a.BarrelStore.getState();if(e)return{loading:!0};const n=u.default.getBarrel(),i=u.default.findUser(),{rightSidebarWidth:o,highlightedTextStyles:s,scrolledSection:a,highlightScrolledSection:l,moveResourcesPopup:d}=f.a.StyleguideStore.getState(),{suggestedResourcesByBarrel:p}=f.a.VersionImportsStore.getState(),{textStyles:h=[]}=p[t]||{},{role:g}=i,m=new c.default(n),b=u.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore});let S=b.filter(({textStyles:{length:e}=[]})=>e).map(e=>{let{componentSections:t}=e;return j(e,["componentSections"])});!S.some(e=>e.id===t)&&h.length&&(S=[{id:t,name:"Local Styleguide",textStyles:[],colors:[]},...S]);const y=r.permissions.canManageTextStyles(i);return{barrel:n,barrelId:t,barrelUser:i,userRole:g,sidebarWidth:o,highlightedTextStyles:s,scrolledSection:a,highlightScrolledSection:l,moveResourcesPopup:d,suggestedTextStyles:h,formatter:m,styleguidesData:b,textStylesData:S,canManageTextStyles:y}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}renderSuggestedTextStyles(){const{suggestedTextStyles:e,formatter:t}=this.state;return e.length?i.h(O.default,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelId:o,barrelUser:r,moveResourcesPopup:c,canManageTextStyles:d}=this.state,u=c&&c.resourceType===E.RESOURCE_TYPE.TEXT_STYLES,p=e!==o?i.h("a",{href:Object(a.urlResolve)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(P.IconGoTo,null)):null,h=Object(l.default)(n,r),f=[h&&i.h(g.default.Item,{key:"Move text styles to styleguide",onClick:this.handleMoveTextStylesToClick},"Move text styles to styleguide…"),h&&d&&i.h(g.default.ItemDivider,{key:"warningDivider"}),d&&i.h(g.default.Item,{warning:!0,key:"Delete all text styles",onClick:this.handleDeleteAllMenuItemClick},"Delete all text styles")].filter(Boolean),m=e===o&&f.length>0?i.h(S.ContextMenuButton,{baseRef:Object(s.default)(this,"contextMenuButton"),keepActive:u,menuItems:f}):null;return p||m?i.h("div",null,m,p):null}renderTextStyleCatalogs(){const{barrelId:e,userRole:t,styleguidesData:n,textStylesData:o,scrolledSection:s,highlightScrolledSection:r,highlightedTextStyles:a,suggestedTextStyles:l,formatter:c,styleguideToShowTextStyleEditHintBox:d,canManageTextStyles:u}=this.state,{onLinkStyleguide:h}=this.props;return o&&o.length?o.map(({id:o,name:l,type:h,densityScale:f,remPreferences:g,textStyles:m})=>{const b=o===e,v=d===o&&!b;return i.h(i.Fragment,{key:"textStyleCatalog-"+o},i.h(S.default,{scroll:s===o,highlight:s===o&&r,onScroll:p.default.sectionScrolled},l,this.renderStyleguideHeaderEnd({id:o,name:l})),v&&i.h(C.default,{styleguideSectionToEdit:"text styles",styleguideName:l,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),b&&this.renderSuggestedTextStyles(),i.h(y.default,{platform:h,densityScale:f,remPreferences:g,textStyles:m,styleguidesData:n,highlightedTextStyles:a,userRole:t,readOnly:!u,formatter:c,onHover:p.default.unhighlightTextStyle,onAttemptToChange:!b&&this.setStyleguideForTextStyleEditHintBox.bind(this,o),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete}))}):i.h(m.default,{type:m.default.TYPE.TEXT_STYLES,before:!!l.length&&i.h("div",{class:"emptyStateSuggestedTextStyles"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:h})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(b.default,{minWidth:280,initialWidth:t,onClick:r.stopPropagation,onRelease:p.default.changeRightSidebarWidth},i.h(v.default,{type:"textStyle",source:"Text style",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent textStyleCatalogContent",ref:Object(s.default)(this,"textStyles")},this.renderTextStyleCatalogs()),this.renderSidebar())}}t.default=_()(R)},function(e,t,n){"use strict";n.r(t);var i=n(1968);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(1969),s=n(1742);function r(e){const{platform:t,densityScale:n,remPreferences:r,formatter:a,textStyles:l,styleguidesData:c,highlightedTextStyles:d,readOnly:u,userRole:p,onHover:h,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b}=e;return i.h("div",{class:"textStyleCatalog"},l.map((e,l)=>{const{id:S,color:y}=e,v=d[0]===S,C=v||d.includes(S),O=y&&Object(s.transformColor)(y,a,c);return i.h(o.default,{key:e.id,platform:t,densityScale:n,remPreferences:r,readOnly:u,userRole:p,formatter:a,textStyle:e,textStyleColor:O,tabIndex:l+1,scrollIntoView:v,highlight:C,onHover:h,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1970);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737),a=n(1096),l=n(555),c=n(771),d=n(723),u=n(1182),p=n(1092),h=n(1351),f=n(614);n(1971);class g extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:e+"px",fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():l.create({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():l.create({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{platform:e,densityScale:t,remPreferences:n,formatter:o,textStyle:s}=this.props,{content:r,fontSize:a}=Object(h.getMainInfo)(s),l="web"===e&&"enabled"===n.status&&n.useForFontSizes;return[i.h("span",{key:r,title:r,class:"ellipsis"},r),", "+(l?Object(f.toRemSize)(a/t,n.remRootFontSize):o.textLength(a))]}renderColor(){const{textStyleColor:e}=this.props;return e?i.h("div",{class:"colorContainer"},i.h("span",{class:"colorPreview",style:{backgroundColor:e.colorStyle}}),i.h("span",{class:"color ellipsis"},e.added?"#"+e.name:e.colorString),i.h(d.default,{class:"deleteColor",onClick:this.handleColorDelete},i.h(c.IconDelete,null))):null}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:o,tabIndex:l,highlight:f,onAttemptToChange:g}=this.props;let m=i.h(u.default,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:g,value:o.name,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:l,ellipsized:!0});e&&(m=i.h(p.default,{content:Object(a.default)(t,"edit text styles")},m));const b=s()("textStyleRow",{readOnly:e,highlight:f});return i.h("div",{class:b,ref:Object(r.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"nameContainer"},m),i.h("div",{class:"info"},i.h("div",{class:"mainInfo"},i.h("div",{class:"style"},this.renderMainInfo()),this.renderColor()),i.h("div",{class:"extraInfo ellipsis"},Object(h.getExtraInfo)(n,o))),i.h(d.default,{class:"deleteTextStyle",onClick:this.handleDelete},i.h(c.IconDelete,null)))}}t.default=g},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1973);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1960),a=n(1351);n(1974);function l({name:e,info:t,subInfo:n,color:o,onClick:s}){return i.h("button",{class:"textStyleItem",onClick:s},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"infoContainer"},i.h("div",{class:"mainInfo"},i.h("div",{class:"info ellipsis"},t),o&&i.h("span",{class:"colorPreview",style:{backgroundColor:o}})),n&&i.h("div",{class:"subInfo ellipsis"},n)))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:o,textStyles:s,formatter:c}=e,d=s.length>1;return i.h(r.default,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:o,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"👩‍🏫",title:`Found ${d?s.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select “Add All Text Styles”.":"Click the text style below or select “Add Text Style” to add it."},i.h("div",{class:"textStylesContainer"},s.map(e=>{const t=e.name,{content:o,fontSize:s}=Object(a.getMainInfo)(e),r=[o,c.textLength(s)].join(", "),d=e.color&&e.color.toHexString(),u=Object(a.getExtraInfo)(c,e);return i.h(l,{key:e.id,id:t,name:t,info:r,subInfo:u,color:d,onClick:()=>n(e)})})))}c.propTypes={textStyles:s.a.array.isRequired,onHideClick:s.a.func.isRequired,onAdd:s.a.func.isRequired,onAddAll:s.a.func},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1977);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(845),a=n.n(r),l=n(555),c=n(737),d=n(559),u=n(556),p=n(696),h=n(681),f=n(705),g=n(582),m=n.n(g),b=n(946),S=n(1978),y=n(1979),v=n(1507),C=n(1980),O=n(1944),E=n(1929),T=n(1988),_=n(771);n(2e3);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),I(this,"goToTop",()=>{this.nodeRefs&&(this.nodeRefs.spacingSections.scrollTop=0)}),I(this,"handleCreateSection",()=>{p.default.addSpacingSection({spacingSection:{name:"Layout",description:"Add your spacing documentation here, _using markdown_."},syncWithApi:!0})}),I(this,"handleUpdateSection",e=>{p.default.updateSpacingSection(D(D({},e),{},{syncWithApi:!0})),e.updatedSpacingSection.hasOwnProperty("description")&&b.default.stopPromotingSpacingSectionDescriptionEditButton()}),I(this,"handleDeleteSection",e=>{p.default.removeSpacingSection({ssid:e,syncWithApi:!0})}),I(this,"handleCreateToken",e=>{const t=this.localStyleguideSpacingSections.find(({_id:t})=>t===e),n=t.spacingTokens.find(({_id:e})=>e===t.baseTokenId),i=this.localStyleguideSpacingTokens.map(({token:e})=>e),o=D({_id:y.CANDIDATE_SPACING_TOKEN},Object(S.generateInitialPayloadForSpacingToken)(t.spacingTokens,i,n&&n.value));p.default.addSpacingToken({ssid:e,spacingToken:o})}),I(this,"handleUpdateToken",(e,t)=>{const{ssid:n,sptid:i,updatedSpacingToken:o}=e,{token:s,value:r}=o,{spacingSectionsData:a}=this.props,{barrel:c}=this.state,d=a.find(({id:e})=>e===c.id).spacingSections.find(({_id:e})=>e===n),u=this.localStyleguideSpacingTokens.some(e=>e.token===s&&e._id!==i),h=d.spacingTokens.some(e=>e.value===r);let f=d.spacingTokens.find(({_id:e})=>e===i),g=!0;if(f){if(""===s||""===r?g=!1:u?(g=!1,l.create({title:s+" already exists",message:"Please enter another name for the spacing token.",done:{name:"GOT IT"}})):h&&(g=!1,l.create({title:`${r}${t} already exists`,message:"Please enter another value for the spacing token.",done:{name:"GOT IT"}})),i===y.CANDIDATE_SPACING_TOKEN){this.handleDeleteToken({ssid:n,sptid:i});let e=f;return delete e._id,g&&(e=D(D({},e),{},{token:s})),void p.default.addSpacingToken({ssid:n,spacingToken:e,syncWithApi:!0})}g&&p.default.updateSpacingToken(D(D({},e),{},{syncWithApi:!0}))}}),I(this,"handleDeleteToken",e=>{p.default.removeSpacingToken(D(D({},e),{},{syncWithApi:e.sptid!==y.CANDIDATE_SPACING_TOKEN}))}),I(this,"handleRemPreferencesUpdate",e=>{p.default.updateRemPreferences(D(D({},e),{},{syncWithApi:!0}))})}static calculateState(){const{loading:e}=m.a.BarrelStore.getState();if(e)return{loading:!0};const t=h.default.getBarrel(),n=h.default.findUser(),{scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:s,rightSidebarWidth:r}=m.a.StyleguideStore.getState(),{shouldPromoteSpacingSectionDescriptionEditButton:a}=m.a.UserStore.getState();return{loading:!1,barrel:t,barrelUser:n,scrolledSection:i,highlightScrolledSection:o,highlightedSpacingTokens:s,sidebarWidth:r,shouldPromoteSpacingSectionDescriptionEditButton:a}}static getStores(){return[m.a.BarrelStore,m.a.StyleguideStore,m.a.ProjectsDataStore,m.a.StyleguidesDataStore,m.a.UserStore]}get localStyleguideSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t}=this.state;return e.find(({id:e})=>e===t.id).spacingSections}get localStyleguideSpacingTokens(){return this.localStyleguideSpacingSections.flatMap(e=>e.spacingTokens)}renderSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t,barrelUser:n,scrolledSection:o,highlightScrolledSection:s,highlightedSpacingTokens:r,shouldPromoteSpacingSectionDescriptionEditButton:a}=this.state;return e.map(({id:e,name:l,spacingSections:c,dimensionSuffix:d})=>{const p=e===t.id;return i.h(i.Fragment,{key:"spacingTokens-"+e},i.h(E.default,{scroll:o===e,highlight:o===e&&s,onScroll:f.default.sectionScrolled},l,!p&&i.h("a",{href:Object(u.urlResolve)("styleguide-spacing",{url:{bid:e}}),class:"headerButton",title:"Go to "+l,"data-link-type":"inApp","data-back":t.name},i.h(_.IconGoTo,null))),c.map(e=>i.h(T.default,{key:"spacingSection-"+e._id,section:e,highlightedSpacingTokens:r,barrelUser:n,shouldDisplayDeleteButton:c.length>1,shouldDisplayCreateButton:!c.some(e=>0===e.spacingTokens.length),isLocalStyleguide:p,shouldPromoteDescriptionEditButton:a,dimensionSuffix:d,onSpacingTokenRowHover:f.default.unhighlightSpacingToken,onCreateSection:this.handleCreateSection,onUpdateSection:this.handleUpdateSection,onDeleteSection:this.handleDeleteSection,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken})))})}renderSidebar(){const{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onExportClick:n}=this.props,{barrel:{type:o},sidebarWidth:s}=this.state;return i.h(v.default,{class:"spacingsSidebar",minWidth:280,initialWidth:s,onClick:d.stopPropagation,onRelease:f.default.changeRightSidebarWidth},"web"===o&&i.h(C.default,{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onUpdate:this.handleRemPreferencesUpdate}),i.h(O.default,{type:"spacing",source:"Spacing",onExportClick:n}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent spacingsContent",ref:Object(c.default)(this,"spacingSections")},this.renderSpacingSections()),this.renderSidebar())}}j.propTypes={remPreferences:s.a.object.isRequired,parentStyleguideToInheritRemPreferences:s.a.object.isRequired,spacingSectionsData:s.a.array.isRequired,onExportClick:s.a.func.isRequired},t.default=a()(j,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"generateInitialPayloadForSpacingToken",(function(){return r}));const i=/\d+$/,o=/\w+$/,s={SHORT:["xxs","xs","s","m","l","xl","xxl"],LONG:["xxsmall","xsmall","small","medium","large","xlarge","xxlarge"]};function r(e,t,n){const r=e.length,a=e[r-1],l=n||4,c={token:"spacing-xxs",value:4,color:{r:153,g:102,b:204,a:.2}};if(r){const t=e[0].value?0:1;let n,i,o=0,s=0;for(let a=1;a<r;a++){let t=e[a].value-e[a-1].value;o!==a-1||n&&n!==t||(n=t,o++),a>=2&&t===e[a-2].value&&s++}i=1===r?a.value||4:o===r-1?n:s===r-2-t?e[r-2].value:l-a.value%l,c.value=a.value+i}if(t.length){const e=a?a.token:c.token,n=e.match(o);let r,l=!1;if(n){const i=e.slice(0,n.index),o=n[0];let a;if(s.SHORT.includes(o)?a="SHORT":s.LONG.includes(o)&&(a="LONG"),a){let e=s[a].indexOf(o);for(;!l&&e+1<s[a].length;)e++,r=`${i}${s[a][e]}`,l=!t.includes(r)}}if(!l){const n=e.match(i);let o,s;for(n?(o=e.slice(0,n.index),s=parseInt(n[0],10)):(o=e,s=1);!l;)s++,r=o.endsWith("-")?o:o+"-",r+=s,l=!t.includes(r)}c.token=r}return c}},function(e,t,n){"use strict";n.r(t),n.d(t,"CANDIDATE_SPACING_TOKEN",(function(){return i}));const i="CANDIDATE_SPACING_TOKEN"},function(e,t,n){"use strict";n.r(t);var i=n(1981);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(555),a=n(718),l=n.n(a),c=n(846),d=n(1855),u=n(719),p=n.n(u),h=n(901),f=n.n(h),g=n(1982);n(1987);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),S(this,"handleEnableStatusChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=n||i;t({updatedRemPreferences:{status:o?"disabled":"enabled",useForFontSizes:!o,useForMeasurements:!o}})}),S(this,"handleUseForFontSizeChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!n;t({updatedRemPreferences:{status:o||i?"enabled":"disabled",useForFontSizes:o}})}),S(this,"handleUseForMeasurementsChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,o=!i;t({updatedRemPreferences:{status:n||o?"enabled":"disabled",useForMeasurements:o}})}),S(this,"handleRootFontSizeChange",e=>{const{remPreferences:t,onUpdate:n}=this.props,{status:i,remRootFontSize:o}=t;if(""!==e)if(0===e)r.create({title:"Invalid root font size",message:"Since rem is a relative unit, root font size should be greater than 0.",done:{name:"GOT IT"}});else if(e!==o){n({updatedRemPreferences:{status:i,remRootFontSize:e}})}}),S(this,"handleRevertClick",()=>{const{parentStyleguideToInheritRemPreferences:e,onUpdate:t}=this.props;t({updatedRemPreferences:b(b({},e.remPreferences),{},{status:"linked"}),isRevert:!0})})}render(){const{permissions:{canManageRemSettings:e}}=this.context,{remPreferences:t,parentStyleguideToInheritRemPreferences:n}=this.props,{remRootFontSize:o,useForFontSizes:s,useForMeasurements:r}=t,a=s||r,u=!e||!a,h=n&&Object(c.default)(n.remPreferences,t),m=l()("styleguideRemSettings codePanel",{enabled:a,permitted:e});return i.h("div",{class:m},i.h(d.Gutter,null),i.h("div",{class:"title"},i.h("h3",null,"rem")),i.h("label",{class:"label mainCheckboxLabel"},i.h(p.a,{class:l()({enabled:a}),checked:a,disabled:!e,onChange:this.handleEnableStatusChange}),i.h("span",{class:"checkboxText"},"Use “rem” unit")),i.h("label",{class:"label"},i.h(p.a,{class:l()({enabled:s}),checked:s,disabled:u,onChange:this.handleUseForFontSizeChange}),i.h("span",{class:"checkboxText"},"Use for font size")),i.h("label",{class:"label"},i.h(p.a,{class:l()({enabled:r}),checked:r,disabled:u,onChange:this.handleUseForMeasurementsChange}),i.h("span",{class:"checkboxText"},"Use for measurements")),i.h("label",{class:"label rootFontSizeLabel"},i.h("span",null,"Root font size:"),i.h(g.default,{value:o,onBlur:this.handleRootFontSizeChange,suffix:"px",isDisabled:u})),h&&e&&i.h("div",{class:"hintBoxContainer"},i.h(f.a,{actionContent:"Revert",onActionClick:this.handleRevertClick},`This styleguide has overridden the rem settings from the parent styleguide "${n.name}".`)))}}y.propTypes={remPreferences:s.a.object.isRequired,parentStyleguideToInheritRemPreferences:s.a.object,onUpdate:s.a.func.isRequired},t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1983);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(1984);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=/^-?\d*[.]?\d*$/,c=/^0+/;class d extends i.Component{constructor(...e){super(...e),a(this,"normalizeValue",(e,t)=>{let n=e;return""!==n&&(n=l.test(e)?e.replace(c,""):t,(!n||n<0)&&(n=0)),n}),a(this,"handleKeyDown",(e,t)=>{if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();return(""===t?0:parseFloat(t))+1}if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const n=t-1;return n<0?0:n}return t}),a(this,"handleBlur",e=>{const{onBlur:t}=this.props;t(""===e?e:parseFloat(e))})}render(){const{value:e,placeholder:t,suffix:n,isDisabled:o}=this.props;return i.h(r.default,{value:e,suffix:n,placeholder:t,isDisabled:o,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,normalizeValue:this.normalizeValue})}}d.propTypes={value:s.a.number,onBlur:s.a.func.isRequired,placeholder:s.a.string,suffix:s.a.string,isDisabled:s.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1985);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(737),a=n(558);n(1986);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{value:this.props.value,isFocused:!1}),l(this,"highlight",()=>{Object(a.highlightInput)(this.nodeRefs.input)}),l(this,"setValueToStateFromProps",()=>{this.setState({value:this.props.value})}),l(this,"handleKeyDown",e=>{const{onKeyDown:t,onEscape:n}=this.props;if(e.keyCode===Zeplin.KEY_CODE.ESC){if(e.preventDefault(),n)return void n();this.setValueToStateFromProps(),e.target.blur()}else e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.preventDefault(),e.target.blur());t&&this.setState({value:t(e,this.state.value)})}),l(this,"handleBlur",()=>{const{onBlur:e}=this.props;e(this.state.value),this.setState({isFocused:!1})}),l(this,"handleFocus",()=>{this.setState({isFocused:!0})}),l(this,"handleInput",e=>{const{normalizeValue:t}=this.props,{value:n}=this.state,{value:i}=e.target;this.setState({value:t?t(i,n):i})})}componentDidUpdate(){const{value:e,isFocused:t}=this.state;t||e===this.props.value||this.setValueToStateFromProps()}render(){const{placeholder:e,suffix:t,isDisabled:n}=this.props,{value:o}=this.state;return i.h("label",{class:"styleguideFormInputContainer ellipsis"},i.h("div",{class:"styleguideFormInputContent"},i.h("span",{class:"mirror ellipsis"},o),i.h("input",{ref:Object(r.default)(this,"input"),class:"styleguideFormInput ellipsis",placeholder:e,type:"text",minlength:"1",maxlength:"100",value:o,disabled:n,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus})),t)}}c.propTypes={value:s.a.oneOfType([s.a.string,s.a.number]),onBlur:s.a.func.isRequired,onEscape:s.a.oneOfType([s.a.func,s.a.bool]),normalizeValue:s.a.func,onKeyDown:s.a.func,placeholder:s.a.string,suffix:s.a.string,isDisabled:s.a.bool},t.default=c},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1989);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(737),a=n(718),l=n.n(a),c=n(1182),d=n(1195),u=n(1990),p=n(723),h=n(1050),f=n(771);n(1999);class g extends i.Component{constructor(e){super(e),this.handleUpdateName=this.handleUpdateName.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleUpdateBaseToken=this.handleUpdateBaseToken.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleCreateToken=this.handleCreateToken.bind(this),this.handleUpdateToken=this.handleUpdateToken.bind(this),this.handleDeleteToken=this.handleDeleteToken.bind(this),this.handleContextMenuButtonClick=this.handleContextMenuButtonClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.state={isEditingDescription:!1,isContextMenuOpen:!1,shouldFocusOnTokenName:!1}}get isEditable(){const{isLocalStyleguide:e}=this.props,{permissions:{canManageSpacings:t}}=this.context;return e&&t}handleUpdateName({discard:e,value:t}){const{section:n,onUpdateSection:i}=this.props,{_id:o,name:s}=n;e||t===s||i({ssid:o,updatedSpacingSection:{name:t}})}handleEditDescription(){this.setState({isEditingDescription:!0})}handleUpdateDescription(e){const{section:t,onUpdateSection:n}=this.props,{_id:i,description:o}=t;this.setState({isEditingDescription:!1}),e!==o&&n({ssid:i,updatedSpacingSection:{description:e}})}handleCancelDescription(){this.setState({isEditingDescription:!1})}handleUpdateBaseToken(e){const{section:t,onUpdateSection:n}=this.props;n({ssid:t._id,updatedSpacingSection:{baseTokenId:e}})}handleDeleteSection(){const{onDeleteSection:e,section:t}=this.props;e(t._id)}handleCreateToken(){const{section:e,onCreateToken:t}=this.props;t(e._id)}handleUpdateToken(e,t,n=null){const{section:i,onUpdateToken:o}=this.props;o({ssid:i._id,sptid:e,updatedSpacingToken:t},n)}handleDeleteToken(e){const{section:{_id:t},onDeleteToken:n}=this.props;n({ssid:t,sptid:e})}handleContextMenuButtonClick(){this.setState({isContextMenuOpen:!0})}handleContextMenuClose(){this.setState({isContextMenuOpen:!1})}componentDidUpdate(e){const{shouldFocusOnTokenName:t}=this.state;this.props.section.spacingTokens.length>e.section.spacingTokens.length?this.setState({shouldFocusOnTokenName:this.isEditable}):t&&this.setState({shouldFocusOnTokenName:!1})}renderContextMenu(){const{contextMenuButtonContainer:e}=this.nodeRefs,{shouldDisplayDeleteButton:t,shouldDisplayCreateButton:n,onCreateSection:o}=this.props,s=e.getBoundingClientRect(),r=[];return n&&(r.push(i.h(h.default.Item,{key:"create",onClick:o},"Create new section")),t&&r.push(i.h(h.default.ItemDivider,{key:"warningDivider"}))),t&&r.push(i.h(h.default.Item,{key:"remove",onClick:this.handleDeleteSection,warning:!0},"Delete section")),i.h(h.default.withAutoPosition,{autoPosition:{limitingElement:".spacingsSidebar",menuContainer:e,clickOrigin:{x:s.right-s.width,y:s.top}},onClose:this.handleContextMenuClose},r)}render(){const{section:e,highlightedSpacingTokens:t,barrelUser:n,shouldDisplayDeleteButton:o,shouldDisplayCreateButton:s,isLocalStyleguide:a,shouldPromoteDescriptionEditButton:h,dimensionSuffix:g,onSpacingTokenRowHover:m}=this.props,{name:b,description:S,baseTokenId:y,spacingTokens:v}=e,{isEditingDescription:C,isContextMenuOpen:O,shouldFocusOnTokenName:E}=this.state;return i.h("div",{class:"spacingSection"},i.h("div",{class:"nameContainer"},i.h(c.default,{value:b,required:!0,readOnly:!this.isEditable,onBlur:this.handleUpdateName}),this.isEditable&&(s||o)&&i.h("div",{ref:Object(r.default)(this,"contextMenuButtonContainer"),class:"contextMenuButtonContainer"},i.h(p.default,{class:l()("contextMenuButton",{active:O}),onClick:this.handleContextMenuButtonClick},i.h(f.IconMenu,null),O&&this.renderContextMenu()))),i.h(d.default,{value:S,placeholder:"No description yet",editing:C,readOnly:!this.isEditable,shouldPromoteEditButton:h,onEdit:this.handleEditDescription,onUpdate:this.handleUpdateDescription,onCancel:this.handleCancelDescription}),i.h(u.default,{tokens:v,highlightedSpacingTokens:t,baseTokenId:y,dimensionSuffix:g,barrelUser:n,isLocalStyleguide:a,shouldFocusOnName:E,onSpacingTokenRowHover:m,onUpdateBaseToken:this.handleUpdateBaseToken,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))}}g.propTypes={section:s.a.object.isRequired,highlightedSpacingTokens:s.a.array.isRequired,barrelUser:s.a.object.isRequired,shouldDisplayDeleteButton:s.a.bool.isRequired,shouldDisplayCreateButton:s.a.bool.isRequired,isLocalStyleguide:s.a.bool.isRequired,shouldPromoteDescriptionEditButton:s.a.bool.isRequired,dimensionSuffix:s.a.string.isRequired,onSpacingTokenRowHover:s.a.func.isRequired,onCreateSection:s.a.func.isRequired,onUpdateSection:s.a.func.isRequired,onDeleteSection:s.a.func.isRequired,onCreateToken:s.a.func.isRequired,onUpdateToken:s.a.func.isRequired,onDeleteToken:s.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1991);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(718),a=n.n(r),l=n(723),c=n(1092),d=n(1992),u=n(1096);n(1998);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const h=[{token:"spacing-xs",value:4},{token:"spacing-s",value:8},{token:"spacing-m",value:12}];class f extends i.Component{get isThereAnyToken(){const{tokens:e}=this.props;return Boolean(e&&e.length)}get tokensToRender(){return this.isThereAnyToken?this.props.tokens:h}get baseToken(){const{tokens:e,baseTokenId:t}=this.props;return t&&e.find(e=>e._id===t)||h[1]}get createTokenButtonText(){return this.isThereAnyToken?"+ Add token":"+ Add first token"}renderTokens(){const{highlightedSpacingTokens:e,dimensionSuffix:t,isLocalStyleguide:n,shouldFocusOnName:o,onSpacingTokenRowHover:s,onUpdateBaseToken:r,onUpdateToken:a,onDeleteToken:l}=this.props;return this.tokensToRender.map((c,u)=>{const{_id:p,token:h,value:f}=c;return i.h(d.default,{key:`spacingTokenTableRow-${h}-${f}-${p}`,isEmpty:!this.isThereAnyToken,shouldHighlight:e.includes(p),shouldFocusOnName:o&&u===this.tokensToRender.length-1,tokenData:c,baseToken:this.baseToken,dimensionSuffix:t,isLocalStyleguide:n,onHover:s,onUpdateBaseToken:r,onUpdateToken:a,onDeleteToken:l})})}renderCreateButton(){const{isLocalStyleguide:e,onCreateToken:t}=this.props,{permissions:{canManageSpacings:n}}=this.context,o={};return this.isThereAnyToken?o.ninja=!0:(o.primary=!0,o.disabled=!n),e?i.h(l.default,p({class:"createButton",onClick:t},o),this.createTokenButtonText):null}renderCreateButtonWithOrWithoutTooltip(){const{permissions:{canManageSpacings:e}}=this.context,{isLocalStyleguide:t}=this.props;if(e)return this.renderCreateButton();const{barrelUser:n}=this.props;return t&&!this.isThereAnyToken?i.h(c.default,{targetClass:"createButtonTooltip",content:Object(u.default)(n.role,"add spacing tokens")},this.renderCreateButton()):null}render(){return i.h("div",{class:a()("spacingTokenTable",{empty:!this.isThereAnyToken})},i.h("div",{class:"header"},i.h("div",{class:"headerCell"},"Token"),i.h("div",{class:"headerCell"},"Value"),i.h("div",{class:"headerCell"},"Ratio"),i.h("div",{class:"headerCell"},"Example")),this.renderTokens(),this.renderCreateButtonWithOrWithoutTooltip())}}f.propTypes={tokens:s.a.array.isRequired,highlightedSpacingTokens:s.a.array.isRequired,baseTokenId:s.a.string,dimensionSuffix:s.a.string.isRequired,barrelUser:s.a.object.isRequired,isLocalStyleguide:s.a.bool.isRequired,shouldFocusOnName:s.a.bool.isRequired,onSpacingTokenRowHover:s.a.func.isRequired,onUpdateBaseToken:s.a.func.isRequired,onCreateToken:s.a.func.isRequired,onUpdateToken:s.a.func.isRequired,onDeleteToken:s.a.func.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(737),a=n(614),l=n(564),c=n(718),d=n.n(c),u=n(1984),p=n(1982),h=n(1993),f=n(873),g=n(723),m=n(1050),b=n(771),S=n(1979);n(1997);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends i.Component{constructor(...e){super(...e),y(this,"state",{isColorPickerPopoverOpen:!1,isContextMenuOpen:!1,colorPickerPopoverLeft:0}),y(this,"calculateRatio",e=>Object(a.round)(e/this.props.baseToken.value,3)),y(this,"handleMouseEnter",()=>{const{tokenData:{_id:e},shouldHighlight:t,onHover:n}=this.props;t&&n(e)}),y(this,"handleTokenNameInputBlur",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,token:o}=n;e===o&&i!==S.CANDIDATE_SPACING_TOKEN||t(i,{token:e})}),y(this,"handleTokenNameInputEscape",()=>{const{onDeleteToken:e,tokenData:t}=this.props,{_id:n}=t;n===S.CANDIDATE_SPACING_TOKEN&&e(n)}),y(this,"handleTokenValueInputBlur",e=>{const{onUpdateToken:t,tokenData:n,dimensionSuffix:i}=this.props,{_id:o,value:s}=n;e!==s&&t(o,{value:e},i)}),y(this,"handleTokenColorChange",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,color:o}=n;new l.default(o).equals(e)||t(i,{color:e})}),y(this,"handleColorPickerPopoverOpen",()=>{const{exampleContainer:e}=this.nodeRefs,t=e.getBoundingClientRect();this.setState({isColorPickerPopoverOpen:!0,colorPickerPopoverLeft:-t.width/2})}),y(this,"handleColorPickerPopoverClose",()=>{this.setState({isColorPickerPopoverOpen:!1})}),y(this,"handleContextMenuButtonClick",()=>{this.setState({isContextMenuOpen:!0})}),y(this,"handleContextMenuClose",()=>{this.setState({isContextMenuOpen:!1})}),y(this,"handleUpdateBaseToken",()=>{const{tokenData:e,onUpdateBaseToken:t}=this.props;t(e._id)}),y(this,"handleDeleteToken",()=>{const{onDeleteToken:e,tokenData:t}=this.props;e(t._id)})}get isEditable(){const{isEmpty:e,isLocalStyleguide:t}=this.props,{permissions:{canManageSpacings:n}}=this.context;return t&&n&&!e}componentDidUpdate(){this.props.shouldFocusOnName&&this.nodeRefs.spacingTokenTableRowNameInput.highlight()}renderExampleWithOrWithoutPopover(){if(!this.isEditable)return this.renderExample();const{isColorPickerPopoverOpen:e,colorPickerPopoverLeft:t}=this.state;return i.h(f.default,{open:e,onOpen:this.handleColorPickerPopoverOpen,onClose:this.handleColorPickerPopoverClose,content:this.renderColorPickerPopoverContent(),contentClass:"spacingTokenTableRowColorPickerPopoverContent",left:t,centerY:!0,faceTop:!0,stickToEdge:!0},this.renderExample())}renderColorPickerPopoverContent(){const{tokenData:e}=this.props;return i.h(h.default,{selected:e.color,onChange:this.handleTokenColorChange})}renderExample(){const{tokenData:e}=this.props,{value:t,color:n}=e,o={width:t+"px",height:t+"px",backgroundColor:n&&new l.default(n).toRGBAString()};return i.h("div",{class:"exampleContainer",ref:Object(r.default)(this,"exampleContainer")},i.h("div",{class:"example",style:o},t>180&&i.h("a",{class:"oversizeExampleWarningText",target:"_blank",href:"https://zpl.io/notactualsize"},"*Not actual size")))}renderContextMenu(e){const{baseToken:t}=this.props,{contextMenuButton:n}=this.nodeRefs,o=n.getBoundingClientRect();return i.h(m.default.withAutoPosition,{autoPosition:{limitingElement:".spacingsSidebar",menuContainer:n,clickOrigin:{x:o.left+24,y:o.top-24}},onClose:this.handleContextMenuClose},e!==t._id&&[i.h(m.default.Item,{key:"chooseAsBaseToken",onClick:this.handleUpdateBaseToken},'Choose as "base"'),i.h(m.default.ItemDivider,{key:"warningDivider"})],i.h(m.default.Item,{key:"remove",onClick:this.handleDeleteToken,warning:!0},"Delete token"))}render(){const{isEmpty:e,shouldHighlight:t,tokenData:n,dimensionSuffix:o}=this.props,{isColorPickerPopoverOpen:s,isContextMenuOpen:a}=this.state,{_id:l,token:c,value:h}=n,f=this.calculateRatio(h),m=d()("spacingTokenTableRow",{empty:e,highlight:t,readOnly:!this.isEditable,colorPickerPopoverOpen:s,contextMenuOpen:a});return i.h("div",{class:m,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"cell inputCell"},i.h(u.default,{ref:Object(r.default)(this,"spacingTokenTableRowNameInput"),value:c,onBlur:this.handleTokenNameInputBlur,onEscape:l===S.CANDIDATE_SPACING_TOKEN&&this.handleTokenNameInputEscape,isDisabled:!this.isEditable})),i.h("div",{class:"cell inputCell"},i.h(p.default,{value:h,onBlur:this.handleTokenValueInputBlur,suffix:o,isDisabled:!this.isEditable})),i.h("div",{class:"cell ratioCell ellipsis"},f&&f!==1/0?f:"-"),i.h("div",{class:"cell exampleCell"},h?this.renderExampleWithOrWithoutPopover():"👻"),this.isEditable&&i.h(g.default,{baseRef:Object(r.default)(this,"contextMenuButton"),class:"contextMenuButton",onClick:this.handleContextMenuButtonClick},i.h(b.IconMenu,null),a&&this.renderContextMenu(l)))}}v.propTypes={isEmpty:s.a.bool.isRequired,shouldHighlight:s.a.bool.isRequired,shouldFocusOnName:s.a.bool.isRequired,isLocalStyleguide:s.a.bool.isRequired,tokenData:s.a.object.isRequired,baseToken:s.a.object.isRequired,dimensionSuffix:s.a.string.isRequired,onHover:s.a.func.isRequired,onUpdateBaseToken:s.a.func.isRequired,onUpdateToken:s.a.func.isRequired,onDeleteToken:s.a.func.isRequired},t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1994);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(564),a=n(718),l=n.n(a),c=n(1995);n(1996);class d extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusedColorIndex:null}}handleKeyDown(e){const{onChange:t}=this.props,{focusedColorIndex:n}=this.state;let i=n||0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n>=6&&(i=n-6);break;case Zeplin.KEY_CODE.ArrowRight:e.preventDefault(),n%6<5&&n<c.colorOptions.length-1&&(i=n+1);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n<c.colorOptions.length-6&&(i=n+6);break;case Zeplin.KEY_CODE.ArrowLeft:e.preventDefault(),n%6>0&&(i=n-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),t(c.colorOptions[i])}this.setState({focusedColorIndex:i})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderColorCells(){const{selected:e,onChange:t}=this.props,{focusedColorIndex:n}=this.state;return c.colorOptions.map((o,s)=>{const a=l()("colorPickerCell",{selected:new r.default(e).equals(o),focused:n===s}),c=new r.default(o).toRGBAString();return i.h("div",{key:c,class:a,style:{backgroundColor:c},onClick:()=>t(o)})})}render(){return i.h("div",{class:"spacingTokenTableRowColorPicker"},i.h("p",{class:"description"},"Select a color to use while displaying the spacing tokens on the layer detail. Overlays will be transparent."),i.h("div",{class:"colorPickerContainer"},this.renderColorCells()))}}d.propTypes={selected:s.a.string,onChange:s.a.func.isRequired},t.default=d},function(e,t,n){"use strict";n.r(t),n.d(t,"colorOptions",(function(){return i}));const i=[{r:255,g:128,b:128,a:.2},{r:255,g:179,b:102,a:.2},{r:230,g:230,b:46,a:.2},{r:149,g:230,b:69,a:.2},{r:102,g:204,b:102,a:.2},{r:36,g:179,b:107,a:.2},{r:71,g:179,b:179,a:.2},{r:82,g:143,b:204,a:.2},{r:89,g:89,b:179,a:.2},{r:153,g:102,b:204,a:.2},{r:204,g:143,b:204,a:.2},{r:255,g:179,b:217,a:.2}]},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2002);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(574),s=n.n(o),r=n(559),a=n(737),l=n(556),c=n(540),d=n(703),u=n(718),p=n.n(u),h=n(560),f=n(568),g=n(1365),m=n(1633),b=n(1963),S=n(571),y=n(543),v=n(705),C=n(691),O=n.n(C),E=n(696),T=n(1739),_=n.n(T),P=n(681),D=n(582),I=n.n(D),j=n(845),k=n.n(j),R=n(2003),A=n(2006),w=n(2039),N=n(1923),L=n(1448),M=n(1929),x=n(1955),U=n(771),B=n(684),V=n.n(B);n(2059);function z(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W={project:S.project,styleguide:S.styleguide};const G=r.sortBy.date.bind(null,["latestVersion","created"]);function H(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=Object(r.getTimeSlot)(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:Object(h.uppercaseFirst)(e),components:t[e].sort(G),componentSections:[]}))}function $(e,t){switch(t){case y.SortTypes.UPDATED:return H(e);case y.SortTypes.NAME:return function(e){return[{_id:"sortedByName",name:"sortedByName",components:Object(r.collectComponents)(e).sort(r.sortBy.name),componentSections:[]}]}(e);case y.SortTypes.SECTIONS:default:return e}}class q extends i.Component{constructor(...e){super(...e),F(this,"state",{componentContextMenu:{},styleguideToShowComponentEditHintBox:null}),F(this,"visibleComponents",new Set),F(this,"openComponentContextMenu",(e,t,n)=>{const{canManageStyleguide:i,barrelId:o}=this.state;i&&(n.preventDefault(),o!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))}),F(this,"closeComponentContextMenu",()=>{this.setState({componentContextMenu:{}})}),F(this,"setAndFocusToStyleguideForEditHintBox",e=>{this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs["styleguideHeader-"+e];setTimeout(()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"}))}),F(this,"unsetStyleguideForComponentEditHintBox",()=>{this.setState({styleguideToShowComponentEditHintBox:null})}),F(this,"deselectComponent",()=>{const{selection:e}=this.state;e&&this.handleComponentSelect(null,null)}),F(this,"goToTop",()=>{if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0}),F(this,"goToStyleguideToEdit",()=>{const{styleguideToShowComponentEditHintBox:e}=this.state;V.a.history.push(Object(l.urlResolve)("styleguide-components",{url:{bid:e}}))}),F(this,"handleMoveSectionClick",({section:e,targetNode:t})=>{v.default.openMoveResourcesPopup({resourceType:y.RESOURCE_TYPE.COMPONENTS,resources:[e],targetNode:t})}),F(this,"handleComponentDrop",({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:o,targetIdPath:s,targetIndex:a})=>{const{barrelId:l}=this.state,c=s[s.length-1],d=this.getComponentRef(c).getBoundingClientRect(),u=e.left>d.left+d.width/2;let p=a;if(n.slice(0,-1).join()===s.slice(0,-1).join()){if(i>a&&u?p=a+1:i<a&&!u&&(p=a-1),i===p)return}else u&&(p=a+1);if(t===o&&Object(r.arrayEqual)(n,s,(e,t)=>e===t)&&i===p)return;if(l!==t||l!==o)return void this.setAndFocusToStyleguideForEditHintBox(t);const h=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:s.slice(0,-1),sourceIndex:i,to:p}];E.default.updateComponentsOrder({components:h,syncWithApi:!0})}),F(this,"handleSectionOrGroupDrop",({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:n,sourceStyleguideId:i,targetStyleguideId:o,to:s})=>{const{barrelId:r}=this.state;if(r!==i||r!==o)return void this.setAndFocusToStyleguideForEditHintBox(i);const a={csid:t,sourceIndex:e,to:s};n&&(a.tcsid=n),E.default.updateComponentSectionsOrder({componentSections:[a],syncWithApi:!0})}),F(this,"handleComponentToSectionOrGroupDrop",({sourceIdPath:e,sourceIndex:t,targetIdPath:n,to:i,sourceStyleguideId:o,targetStyleguideId:s})=>{const{barrelId:r}=this.state;if(r!==o||r!==s)return void this.setAndFocusToStyleguideForEditHintBox(o);const a=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:n,sourceIndex:t,to:i}];E.default.updateComponentsOrder({components:a,syncWithApi:!0})}),F(this,"handleComponentSelect",(e,t)=>{const{barrel:{id:n},selection:i}=this.state,o=e?t:null;if(!i&&!o||i&&o&&i._id===o._id)return;let s;v.default.changeSelection({selectionComponentId:e,selection:o}),e&&(s={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(l.urlResolve)(this.slugPrefix()+"-components",{url:{bid:n},query:s}))}),F(this,"handleComponentsVisible",e=>{const{barrel:t,barrelType:n,barrelUser:i,styleguidesData:o}=this.state;if("pawn"===i.role)return e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),void v.default.componentSnapshotsReady();Promise.all(e.filter(e=>!e.latestVersion.snapshot.layers).map(async e=>{const i=await Object(S.fetchSnapshot)(e.latestVersion.fullSnapshotUrl);Object(m.preprocessLayers)(i.layers),e.latestVersion.snapshot=i;const r=e.idPath.slice(0,-1),{barrelId:a}=Object(d.findComponentById)(o,e._id),{url:l}=await W[a===t.id?n:s.a.STYLEGUIDE].getComponentVersionAssets(a,r,e._id,e.latestVersion._id);if(l){const n=await Object(S.fetchAssets)(l);await Promise.all(n.map(n=>Object(m.addAssetStats)(t.id,e._id,i,n))),_.a.setComponentAssets({coid:e._id,assets:n})}return i.assets.map(n=>Object(m.addAssetStats)(t.id,e._id,i,n))})).then(e=>{v.default.componentSnapshotsReady()})}),F(this,"handleSort",e=>{const{sortType:t}=this.state;t!==e&&v.default.changeSortType(e)}),F(this,"handleExpandSectionOrGroup",e=>{v.default.expandSections([e])}),F(this,"handleCollapseSectionOrGroup",e=>{v.default.collapseSections([e])}),F(this,"handleExpandAllSections",()=>{const e=O.a.getCollapsedSectionIds();e.length>0&&v.default.expandSections(e)}),F(this,"handleKeyDown",e=>{Object(c.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),e.stopPropagation(),v.default.collapseAllSections()):Object(c.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this.handleExpandAllSections())}),F(this,"observeComponent",e=>{this.getIntersectionObserver().observe(e)}),F(this,"unobserveComponent",e=>{this.getIntersectionObserver().unobserve(e)}),F(this,"getComponentRef",e=>this.nodeRefs&&this.nodeRefs["styleguideComponent-"+e]),F(this,"handleComponentRef",(e,t)=>{t&&Object(a.default)(this,"styleguideComponent-"+e)(t)}),F(this,"handleBaseRef",e=>{Object(a.default)(this,"components")(e),this.props.baseRef(e)})}static getStores(){return[I.a.BarrelStore,I.a.StyleguideStore,I.a.StyleguidesDataStore,I.a.ProjectsDataStore,I.a.UserStore]}static calculateState(){const e=I.a.BarrelStore.getState(),{loading:t}=e,n=z(e,["loading"]);if(t)return{loading:!0};const{barrelId:i,barrelType:o}=n,{moveResourcesPopup:s,scrolledSection:a,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:u,selection:p,sortType:h,filterValue:f,rightSidebarWidth:m,convertedAnySectionIntoVariant:b}=I.a.StyleguideStore.getState(),S=P.default.getBarrel(),y=P.default.findUser(),v=new g.default(S),C=P.default.getStyleguidesData({barrelStore:I.a.BarrelStore,styleguidesDataStore:I.a.StyleguidesDataStore,projectsDataStore:I.a.ProjectsDataStore}),{barrelId:O,component:E}=Object(d.findComponentById)(C,u)||{};let T=p;return!T&&E&&(T=E),{loading:!1,barrel:S,barrelId:i,barrelUser:y,barrelType:o,moveResourcesPopup:s,scrolledSection:a,collapsedSections:l,highlightScrolledSection:c,selectionComponentId:u,sidebarWidth:m,sortType:h,filterValue:f,canManageStyleguide:r.permissions.canUpdateStyleguide(y),selection:T,selectionStyleguideId:O,selectionComponent:E,formatter:v,styleguidesData:C,convertedAnySectionIntoVariant:b}}get componentCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+Object(r.collectComponents)(t).length,0)}get sectionCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+t.length-1,0)}get variantSectionCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+t.reduce((e,{variant:t})=>e+(t?1:0),0),0)}processComponents(e){const{sortType:t,filterValue:n}=this.state;return n?function(e,t){const n=Object(r.collectComponents)(e),i=new WeakMap(n.map(e=>[e,Object(f.calculateMatchingScore)(t,e.name)])),o=n.filter(e=>i.get(e));return o.length?[{_id:"filtered",name:"filtered",components:o.sort((e,t)=>i.get(t)-i.get(e)||r.sortBy.name(e,t)),componentSections:[]}]:[]}(e,n):$(e,t)}getIntersectionObserver(){return this.observer||(this.observer=new IntersectionObserver(e=>{const{styleguidesData:t}=this.state;e.forEach(e=>{const n=e.target.dataset.id,{component:i,ancestors:o}=Object(d.findComponentById)(t,n)||{};if(i)if(e.isIntersecting){let e=[i];if(i.variant){const t=o.find(e=>!!e.variant);e=Object(r.collectComponents)([t])}e.forEach(e=>{this.visibleComponents.add(e)})}else this.visibleComponents.delete(i)}),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(e=>{this.handleComponentsVisible([...this.visibleComponents])},80)},{root:this.nodeRefs.components})),this.observer}slugPrefix(){const{barrelType:e}=this.state;return e===s.a.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{selectionComponent:e}=this.state;e&&setTimeout(()=>{document.addEventListener("click",this.deselectComponent)},4),document.addEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(){const{selectionComponent:e}=this.state;e?document.addEventListener("click",this.deselectComponent):document.removeEventListener("click",this.deselectComponent)}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent),document.removeEventListener("keydown",this.handleKeyDown,!0)}renderComponents(){const{barrel:e,barrelId:t,barrelUser:n,moveResourcesPopup:o,scrolledSection:s,collapsedSections:c,highlightScrolledSection:d,selection:u,selectionComponent:p,sortType:h,filterValue:f,styleguidesData:g,styleguideToShowComponentEditHintBox:m,componentContextMenu:S}=this.state,{hasDraggingElement:C,onLinkStyleguide:O}=this.props;if(!this.componentCount)return i.h(N.default,{type:N.default.TYPE.COMPONENTS,onButtonClick:O});const E=g.map(({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:Object(r.collectComponents)(i).length,componentSections:i}}),T=E.reduce((e,{componentCount:t})=>e+t,0),_=h===y.SortTypes.UPDATED,P=h!==y.SortTypes.SECTIONS,D=h!==y.SortTypes.UPDATED||!!f,I=p&&p._id;return i.h("div",{class:"componentsDragDropItems"},i.h(R.default,{selectedSortType:h,filterValue:f,onSort:this.handleSort,onFilter:v.default.changeComponentFilterValue}),T?E.map(({id:r,name:p,componentCount:h,componentSections:g})=>{if(!h)return null;const y=r===t,O=y?null:i.h("a",{href:Object(l.urlResolve)("styleguide-components",{url:{bid:r}}),class:"headerButton",title:"Go to "+p,"data-link-type":"inApp","data-back":e.name},i.h(U.IconGoTo,null));return[i.h(M.default,{ref:Object(a.default)(this,"styleguideHeader-"+r),key:"styleguideHeader-"+r,scroll:s===r,highlight:s===r&&d,onScroll:v.default.sectionScrolled},p,O),m===r&&!y&&i.h(x.default,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:p,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.h("div",{key:"components-"+r,class:"componentSections"},g.map((a,l)=>{const p=a.componentSections.length+a.components.length===0,h=o&&o.data&&o.data._id===a._id;return i.h(A.default,{key:a.key||a._id,styleguideId:r,index:l,data:a,hasDraggingElement:C,variantSectionCount:this.variantSectionCount,collapsedSections:c,collapsed:!p&&c[a._id],handleComponentRef:this.handleComponentRef,getComponentRef:this.getComponentRef,barrelThumbnail:e.thumbnail,scrolledSection:s,highlightScrolledSection:d,actionsDisabled:_,selectionComponentId:I,selection:u,visibleComponents:this.visibleComponents,defaultSection:!l&&D,readOnly:P,filterValue:f,onSelect:this.handleComponentSelect,componentContextMenu:S,optionsActive:h,showMoveSectionAction:r===t&&Object(b.default)(e,n),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionOrGroupDrop:this.handleSectionOrGroupDrop,onComponentToSectionOrGroupDrop:this.handleComponentToSectionOrGroupDrop,onOpenGoToStyleguideToEditHint:this.setAndFocusToStyleguideForEditHintBox,onExpandSectionOrGroup:this.handleExpandSectionOrGroup,onCollapseSectionOrGroup:this.handleCollapseSectionOrGroup})}))]}):i.h(L.default,{text:"No components with this name 🤷‍♀️"}))}renderSidebar(){const{loading:e}=this.state;if(e)return null;const{sidebarWidth:t,formatter:n,selectionStyleguideId:o,selectionComponent:s,selection:r,styleguidesData:a,convertedAnySectionIntoVariant:l}=this.state,{onExportClick:c}=this.props;return i.h(w.default,{componentCount:this.componentCount,sectionCount:this.sectionCount,variantSectionCount:this.variantSectionCount,convertedAnySectionIntoVariant:l,selectionStyleguideId:o,selectionComponent:s,selection:r,formatter:n,width:t,styleguidesData:a,onCloseClick:this.deselectComponent,onExportClick:c})}render(){const{loading:e,componentContextMenu:t}=this.state;if(e)return null;const n=p()("styleguideContainerContent","componentsContent",{componentContextMenuOpen:!!t.coid});return i.h(i.Fragment,null,i.h("div",{class:n,ref:this.handleBaseRef},this.renderComponents()),this.renderSidebar())}}t.default=k()(q)},function(e,t,n){"use strict";n.r(t);var i=n(2004);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1054),s=n(849),r=n(543);n(2005);const a=[{label:"Sort by Sections",dropdownLabel:"Sections",value:r.SortTypes.SECTIONS},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:r.SortTypes.UPDATED},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:r.SortTypes.NAME}];function l({onSort:e,selectedSortType:t}){return i.h(s.default,{class:"componentsSortDropdown",onChange:e,optionsClass:"componentsSortOptions"},a.map(({label:e,dropdownLabel:n,value:o,class:r})=>i.h(s.default.Item,{class:r,key:o,value:o,label:e,dropdownLabel:n,selected:o===t})))}t.default=function({onFilter:e,onSort:t,selectedSortType:n,filterValue:s}){return i.h(o.default,{class:"componentsFilterSortView",onFilter:e,filterValue:s,searchPlaceholder:"Search for a component",searchPlaceholderWidth:160,leftContent:i.h(l,{onSort:t,selectedSortType:n})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2007);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1175),s=n(1178),r=n(2008),a=n(2010),l=n(2018),c=n(2032),d=n.n(c),u=n(1219),p=n(735),h=n(2035),f=n.n(h),g=n(1212),m=n(696),b=n(681),S=n(582),y=n.n(S),v=n(705),C=n(555),O=n(737),E=n(560),T=n(628),_=n(703),P=n(845),D=n.n(P);n(2038);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w="addProperty",N="removeVariants";class L extends i.Component{constructor(...e){super(...e),A(this,"state",{addingDescription:!1,loadingVariants:null,variantOptionsMenuOpen:!1,variantOnboardingDialogOpen:!1,variantFilter:{}}),A(this,"variantOptionsButtonRef",i.createRef()),A(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),A(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),A(this,"closeVariantOptions",()=>{this.setState({variantOptionsMenuOpen:!1})}),A(this,"handleAddDescriptionClick",()=>{this.setState({addingDescription:!0})}),A(this,"handleGroupNameChange",(e,t)=>{m.default.updateComponentSection({csids:e,componentSectionData:{name:t},isComponentGroup:!0,syncWithApi:!0})}),A(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==T.TEMPORARY_COMPONENT_SECTION_ID?m.default.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())}),A(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||m.default.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})}),A(this,"handleCopyWebLink",()=>{const{data:{_id:e}}=this.props;m.default.copyComponentSectionWebLink({seid:e}),mixpanel.master.track("Copied web link",{Target:"Component section"})}),A(this,"handleCopyAppURI",()=>{const{data:{_id:e}}=this.props;m.default.copyComponentSectionAppURI({cseid:e}),mixpanel.master.track("Copied app URI",{Target:"Component section"})}),A(this,"handleCreateSection",(e,t)=>{const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};m.default.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})}),A(this,"handleCreateGroup",(e,t,n)=>{const i={index:n||0,name:"Untitled Group",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]},o=e.slice(0,1);m.default.addComponentSection({csids:o,componentSection:i,isCreateGroup:!0,syncWithApi:!0})}),A(this,"handleSetAsThumbnail",e=>{m.default.updateThumbnail({thumbnail:e,syncWithApi:!0})}),A(this,"handleDeleteSection",()=>{const{data:{_id:e},index:t}=this.props;m.default.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})}),A(this,"handleComponentContextMenu",(e,t)=>{const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)}),A(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),A(this,"handleVariantOptionsMenuClick",(e,t)=>{const{data:{_id:n}}=this.props;switch(t){case w:v.default.createComponentVariantProperty({csid:n,syncWithApi:!0});break;case N:C.create({message:"Unset as variant section?",done:{name:"CONVERT",cb:()=>{this.setState({loadingVariants:"toRegular"}),v.default.convertVariantSectionToSection({csid:n,syncWithApi:!0})}},cancel:!0})}}),A(this,"handleVariantsOnboardingDialogClose",()=>{this.setState({variantOnboardingDialogOpen:!1}),v.default.hideComponentVariantsOnboardingDialog()}),A(this,"handleConvertSectionToVariantSection",()=>{const{data:{_id:e}}=this.props;this.setState({loadingVariants:"toVariant"}),v.default.convertSectionToVariantSection({csid:e,syncWithApi:!0}),this.handleVariantsOnboardingDialogClose()}),A(this,"handleVariantOptionsButtonClick",()=>{const{styleguideId:e,data:{variant:t},onOpenGoToStyleguideToEditHint:n}=this.props,{barrelId:i,componentVariantsOnboardingDialogSeen:o}=this.state;if(e===i)return t?void this.setState({variantOptionsMenuOpen:!0}):o?void this.handleConvertSectionToVariantSection():void this.setState({variantOnboardingDialogOpen:!0});n(e)}),A(this,"handleVariantOptionsPortalDidRender",e=>{const t=this.variantOptionsButtonRef.current.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom,o=t.right-n.width;let s,r;r=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,s=o+n.width+12>window.innerWidth?window.innerWidth-n.width-12:o,e.style.transform=`translate3d(${s}px, ${r}px, 0)`}),A(this,"handleVariantPropertValueClick",(e,t)=>{const{variantFilter:n}=this.state;if(n[e]!==t)this.setState({variantFilter:j(j({},n),{},{[e]:t})});else{const{[e]:t}=n,i=k(n,[e].map(R));this.setState({variantFilter:i})}}),A(this,"handleComponentGroupCopyWebLink",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.copyComponentSectionWebLink({bid:t,barrelType:n,seid:e})}),A(this,"handleComponentGroupCopyAppURI",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.copyComponentSectionAppURI({bid:t,barrelType:n,cseid:e})}),A(this,"handleOptionsMenuOpen",()=>{const{data:{_id:e}}=this.props,{barrelId:t,barrelType:n}=this.state;m.default.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})}),A(this,"handleGroupOptionsMenuOpen",e=>{const{barrelId:t,barrelType:n}=this.state;m.default.fetchComponentSectionShortLink({bid:t,barrelType:n,seid:e})})}static getStores(){return[y.a.BarrelStore,y.a.StyleguideStore,y.a.StyleguidesDataStore,y.a.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=y.a.BarrelStore.getState(),{componentVariantsOnboardingDialogSeen:i}=y.a.StyleguideStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:b.default.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore,projectsDataStore:y.a.ProjectsDataStore}),componentVariantsOnboardingDialogSeen:i}}handleDeleteComponent(e){const{_id:t,idPath:n}=e;m.default.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){const{hasDraggingElement:n}=e,{addingDescription:i}=t,{data:{variant:o},hasDraggingElement:s}=this.props,{loadingVariants:r,addingDescription:a,variantOptionsMenuOpen:l}=this.state;!i&&a&&this.highlightDescription(),r&&("toVariant"===r&&o||"toRegular"===r&&!o)&&this.setState({loadingVariants:null}),!n&&s&&l&&this.closeVariantOptions()}renderComponentGroups(){const{data:{componentSections:e,variant:t},styleguideId:n,selectionComponentId:o,selection:s,visibleComponents:a,filterValue:l,barrelThumbnail:c,scrolledSection:d,highlightScrolledSection:u,handleComponentRef:p,getComponentRef:h,collapsedSections:f,collapsed:g,onSelect:b,componentContextMenu:S,onComponentDidMount:y,onComponentDidUnmount:C,onCloseComponentContextMenu:O,onComponentDrop:E,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:D}=this.props,{styleguidesData:I,variantFilter:j}=this.state;return!g&&e&&e.length?i.h("div",{class:"componentGroups"},e.map((e,g)=>i.h(r.default,{key:e.key||e._id,styleguideId:n,index:g,data:e,collapsed:!!e.components.length&&f[e._id],styleguidesData:I,sectionVariant:t,barrelThumbnail:c,onComponentDidMount:y,onComponentDidUnmount:C,visibleComponents:a,filterValue:l,variantFilter:j,selectionComponentId:o,selection:s,scroll:d===e._id,highlight:d===e._id&&u,handleComponentRef:p,getComponentRef:h,onNameChange:this.handleGroupNameChange,onSelect:b,onScroll:v.default.sectionScrolled,componentContextMenu:S,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDeleteComponent:this.handleDeleteComponent,onDeleteGroup:m.default.mergeComponentSection,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:O,onComponentDrop:E,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onCopyWebLink:this.handleComponentGroupCopyWebLink,onCopyAppURI:this.handleComponentGroupCopyAppURI,onOptionsMenuOpen:this.handleGroupOptionsMenuOpen,onExpand:P,onCollapse:D}))):null}renderComponents(){const{data:{components:e,variant:t},styleguideId:n,selectionComponentId:o,selection:s,visibleComponents:r,filterValue:l,barrelThumbnail:c,defaultSection:d,handleComponentRef:u,getComponentRef:p,collapsed:h,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onComponentDidMount:b,onComponentDidUnmount:S,onCloseComponentContextMenu:y,onComponentDrop:v}=this.props,{styleguidesData:C,variantFilter:O}=this.state;if(h||!e||!e.length)return null;const E=Boolean(Object.keys(O).length),T=e.filter(e=>{const{variant:t}=e;return!t||!E||Object.entries(O).every(([e,n])=>{const i=t.values.find(({propertyId:t})=>t===e);return i&&i.value===n})});if(E&&!T.length)return null;const P=Object(_.findOmittedVariantProperties)(e),D=T.map((h,O)=>{const E=e[O-1],T=e[O+1];return i.h(a.default,{styleguideId:n,key:h._id,leftComponentId:E&&E._id,rightComponentId:T&&T._id,index:O,data:h,sectionVariant:t,omittedProperties:P,styleguidesData:C,barrelThumbnail:c,visible:r.has(h),filterValue:l,selection:s,containsSelection:s&&o===h._id,inDefaultSection:d,handleComponentRef:u,getComponentRef:p,onMount:b,onUnmount:S,onSelect:f,contextMenu:g===h._id?m:null,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDelete:this.handleDeleteComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:y,onDrop:v})});return i.h("div",{class:"components"},D)}renderContent(){return i.h("div",{class:"componentSectionContent"},this.renderVariantProperties(),this.renderComponents(),this.renderComponentGroups())}renderVariantOptionsButton(){const{permissions:{canManageStyleguide:e}}=this.context;if(!e)return null;const{data:{variant:t},variantSectionCount:n}=this.props,{loadingVariants:o,variantOptionsMenuOpen:s}=this.state;return i.h(i.Fragment,null,i.h(d.a,{baseRef:this.variantOptionsButtonRef,loadingVariants:o,variant:t,variantSectionCount:n,variantOptionsMenuOpen:s,onClick:this.handleVariantOptionsButtonClick}),s&&this.renderVariantOptionsMenu())}renderVariantProperties(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state;if(t)return i.h(l.default,{csid:e,variant:t,variantFilter:n,onValueClick:this.handleVariantPropertValueClick})}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,s=t?i.h(o.default.Item,{onClick:this.highlightDescription},"Edit description"):i.h(o.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(o.default,{onOpen:this.handleOptionsMenuOpen},!e&&[s,i.h(o.default.Item,{onClick:this.highlightName},"Rename section"),i.h(o.default.ItemDivider,null)],i.h(o.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(o.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(o.default.ItemDivider,null),!e&&[n&&i.h(o.default.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide…"),i.h(o.default.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}renderVariantOptionsMenu(){const{data:{_id:e,variant:t}}=this.props,{variantFilter:n}=this.state,o=this;function s(s){return t.properties.map(({_id:t,name:r,values:a})=>{const l=`${s}:${t}`,c="group"===s&&0===a.length;return i.h(u.default.Button,{key:l,name:l,disabled:c,onClick:function(){if("group"===s)v.default.createComponentSectionVariantGroups({csid:e,vpid:t});else if("remove"===s){const i=Object.fromEntries(Object.entries(n).filter(([e])=>e!==t));o.setState({variantFilter:i}),C.create({message:`Remove “${r}” property?`,done:{name:"REMOVE",cb(){v.default.removeComponentVariantProperty({csid:e,vpid:t,syncWithApi:!0})}},cancel:!0})}o.closeVariantOptions()}},r)})}return i.h(p.default,{didRender:this.handleVariantOptionsPortalDidRender},i.h(u.default,{class:"variantOptionsMenu",onChange:this.handleVariantOptionsMenuClick,onClose:this.closeVariantOptions},i.h(u.default.Button,{name:w},"Add property"),t.properties.length>0&&i.h(i.Fragment,null,i.h(u.default.Submenu,{name:"removeProperty",content:"Remove property"},s("remove")),i.h(u.default.Divider,null),i.h(u.default.Submenu,{name:"createGroup",content:"Create groups by property"},s("group"))),i.h(u.default.Divider,null),i.h(u.default.Button,{name:N,warning:!0},"Unset as variant section")))}render(){const{loading:e,addingDescription:t,variantOnboardingDialogOpen:n}=this.state;if(e)return null;const{data:{componentSections:o,components:r,name:a,description:l,_id:c},index:d,collapsed:u,styleguideId:p,defaultSection:h,readOnly:m,actionsDisabled:b,scrolledSection:S,highlightScrolledSection:y,optionsActive:C,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_,onExpandSectionOrGroup:P,onCollapseSectionOrGroup:D}=this.props,I=o.reduce((e,t)=>e+t.components.length,r.length),j=Object(E.pluralize)(I,"component")+" collapsed",k=this.renderContent(),R=this.renderOptionsMenu(),A=t?g.DEFAULT_DESCRIPTION:l,w=S===c,N=w&&y;return i.h(i.Fragment,null,i.h(s.DragDropComponentSection,{type:g.STYLEGUIDE_COMPONENT_SECTION,id:c,optionsButtonRef:Object(O.default)(this,"sectionOptionsButton"),index:d,styleguideId:p,componentRef:Object(O.default)(this,"section","componentRefs"),collapsed:u,empty:0===I,componentCount:I,componentGroupsCount:o.length,name:a,headerClass:"componentSectionHeader",description:A,countInfoText:j,optionsMenu:R,defaultSection:h,actionsDisabled:b,readOnly:m,topPadding:136,scroll:w,highlight:N,optionsActive:C,variantOptionsButton:this.renderVariantOptionsButton(),draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:v.default.sectionScrolled,onExpand:P,onCollapse:D,onSectionOrGroupDrop:T,onComponentToSectionOrGroupDrop:_},k),n&&i.h(f.a,{onSetAsVariantSection:this.handleConvertSectionToVariantSection,onClose:this.handleVariantsOnboardingDialogClose}))}}t.default=D()(L)},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1062),s=n(737),r=n(2009);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="GroupHeader",d="StyleguideComponent",u=Object(o.DropTarget)({acceptsItemType:c,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(r.default);class p extends i.Component{constructor(...e){super(...e),l(this,"state",{targetPosition:"",groupHeaderHover:!1}),l(this,"calculateMoveIndex",(e,t,n)=>{const{index:i}=this.props,{targetPosition:o}=this.state,s="bottom"===o;if(t!==n)return s?i+1:i;let r=i;return e>i&&s?r=i+1:e<i&&!s&&(r=i-1),r}),l(this,"setTargetPosition",e=>{const{targetPosition:t}=this.state,{base:n}=this.nodeRefs,i=function(e,t,n){const i=n?43:0,o=e.top+(e.height-i)/2;return t.top>=o}(n.getBoundingClientRect(),e,t)?"bottom":"top";t!==i&&this.setState({targetPosition:i})}),l(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),l(this,"dropGroupHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{data:{idPath:i},styleguideId:o,onSectionOrGroupDrop:s}=this.props,r=t[0],a=i[0],l=this.calculateMoveIndex(e,r,a);o===n&&r===a&&e===l||s({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:i.slice(0,-1),sourceStyleguideId:n,targetStyleguideId:o,to:l})}),l(this,"dropComponent",(e,t,n)=>{const{data:{idPath:i,components:o},styleguideId:s,onComponentToSectionOrGroupDrop:r}=this.props;r({sourceIdPath:t,sourceIndex:e,targetIdPath:i,sourceStyleguideId:n,targetStyleguideId:s,to:o.length})}),l(this,"handleDragHover",(e,t)=>{t!==c?this.state.groupHeaderHover||this.setState({groupHeaderHover:!0}):this.setTargetPosition(e)}),l(this,"handleDragHoverOut",e=>{e!==c?this.state.groupHeaderHover&&this.setState({groupHeaderHover:!1}):this.unsetTargetPosition()}),l(this,"handleDrop",({sourceIndex:e,sourceIdPath:t,sourceStyleguideId:n},i)=>{i===c?this.dropGroupHeader(e,t,n):i===d&&this.dropComponent(e,t,n)})}render(){const{groupHeaderHover:e,targetPosition:t}=this.state,{dragDisabled:n}=this.context;return i.h(u,a({},this.props,{baseRef:Object(s.default)(this,"base"),groupHeaderHover:e,targetPosition:t,draggable:!n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(703),a=n(737),l=n(2010),c=n(2016);n(2017);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{menuShown:!1}),d(this,"hideOptionsMenu",()=>{this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}),d(this,"handleBaseRef",e=>{Object(a.default)(this,"base")(e),this.props.baseRef(e)}),d(this,"handleShowOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}),d(this,"handleCollapseOrExpand",()=>{const{collapsed:e,data:{_id:t},onCollapse:n,onExpand:i}=this.props;e?i(t):n(t)}),d(this,"handleStartDrag",()=>{const{data:{_id:e},collapsed:t,onCollapse:n}=this.props;t||n(e),this.setState({hidden:!0,menuShown:!1})}),d(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),d(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{idPath:n,name:i},onNameChange:o}=this.props;e||i===t||o(n,t)}),d(this,"handleCreateGroup",(e,t)=>{const{index:n,onCreateGroup:i}=this.props;i(e,t,n+1)}),d(this,"handleDeleteGroup",()=>{const{data:{idPath:e},index:t,onDeleteGroup:n}=this.props;n({csids:e,index:t,syncWithApi:!0})})}highlight(){const{data:{_id:e},collapsed:t,scroll:n,highlight:i,onScroll:o,onExpand:s}=this.props;n&&(t&&s(e),this.nodeRefs.base.scrollIntoView()),i&&this.nodeRefs&&this.nodeRefs.header&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),n&&o&&o()}componentDidMount(){const{data:{newSection:e}}=this.props;e&&this.componentRefs.componentName.highlight(),this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(e,t){const{styleguidesData:n,styleguideId:o,visibleComponents:s,filterValue:r,barrelThumbnail:a,selectionComponentId:c,selection:d,sectionVariant:u,handleComponentRef:p,getComponentRef:h,onSelect:f,componentContextMenu:{coid:g,clickOrigin:m},onCreateSection:b,onSetAsThumbnail:S,onDeleteComponent:y,onComponentDidMount:v,onComponentDidUnmount:C,onComponentContextMenu:O,onCloseComponentContextMenu:E,onComponentDrop:T}=this.props,_=e.map((_,P)=>{const D=e[P-1],I=e[P+1];return i.h(l.default,{key:_._id,styleguideId:o,index:P,leftComponentId:D&&D._id,rightComponentId:I&&I._id,data:_,sectionVariant:u,omittedProperties:t,styleguidesData:n,barrelThumbnail:a,visible:s.has(_),filterValue:r,selection:d,containsSelection:d&&c===_._id,handleComponentRef:p,getComponentRef:h,onSelect:f,contextMenu:g===_._id?m:null,onMount:v,onUnmount:C,onCreateSection:b,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:S,onDelete:y,onContextMenu:O,onCloseContextMenu:E,onDrop:T})});return i.h("div",{class:"components"},_)}render(){const{data:{name:e,components:t,idPath:n},index:o,collapsed:l,styleguideId:d,draggable:u,readOnly:p,actionsDisabled:h,targetPosition:f,groupHeaderHover:g,variantFilter:m,onHover:b,onHoverOut:S,onDrop:y,onCopyWebLink:v,onCopyAppURI:C,onOptionsMenuOpen:O}=this.props,{menuShown:E,hidden:T}=this.state,_=Boolean(Object.keys(m).length),P=t.filter(e=>{const{variant:t}=e;return!t||!_||Object.entries(m).every(([e,n])=>{const i=t.values.find(({propertyId:t})=>t===e);return i&&i.value===n})}),D=P.length;if(_&&!D)return null;const I=Object(r.findOmittedVariantProperties)(t);return i.h("div",{ref:this.handleBaseRef,class:s()("componentGroup",f,{menuShown:E,hidden:T})},i.h(c.DragDropComponentGroupHeader,{baseRef:Object(a.default)(this,"header"),componentNameRef:Object(a.default)(this,"componentName","componentRefs"),index:o,idPath:n,styleguideId:d,name:e,draggable:u,readOnly:p,actionsDisabled:h,collapsed:l,hasDragHover:g,componentsCount:D,menuShown:E,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,onHover:b,onHoverOut:S,onDrop:y,onNameBlur:this.handleNameBlur,onCollapseOrExpand:this.handleCollapseOrExpand,onShowOptionsMenu:this.handleShowOptionsMenu,onDeleteGroup:this.handleDeleteGroup,onCopyWebLink:v,onCopyAppURI:C,onOptionsMenuOpen:O}),!l&&this.renderComponents(P,I))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(2011);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2012),s=n(1062),r=n(1669),a=n(559),l=n(563),c=n(718),d=n.n(c),u=n(737),p=n(1163);n(2015);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const f=Object(a.pipe)(Object(s.DragSource)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const o=t.width,s=t.height,a={};o<48||s<48?(a.width=o,a.height=s):a.paddingBottom=100*s/o+"%";const l=Math.max(96,12*Math.ceil(o/12)+48);return i.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.h(r.default,{class:d()("componentContent",e),snapshot:t,style:a},i.h(r.default.Image,null)),i.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:o}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:o}}}),Object(s.DropTarget)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(o.default);class g extends i.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}calculateCubukPosition(e,t){const{getComponentRef:n}=this.props;let i=e.height;if(t){const o=n(t).getBoundingClientRect();e.top===o.top&&(i=Math.min(e.height,o.height))}const o=Math.max(80,Math.min(240,Math.round(i-24)));return{height:o,top:Math.max(0,Math.round((i-o)/2))}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(l.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const o=this.calculateCubukPosition(t,i);this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:n?p.CUBUK_POSITION.RIGHT:p.CUBUK_POSITION.LEFT,moveCubukHeight:o.height,moveCubukTop:o.top}))}handleDragHoverOut(){this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleBaseRef(e){const{data:{_id:t},handleComponentRef:n}=this.props;Object(u.default)(this,"base")(e),n(t,e)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:o}=this.state;return i.h(f,h({baseRef:this.handleBaseRef,dragBaseRef:Object(u.default)(this,"dragBase"),lightness:o,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(2013);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(718),s=n.n(o),r=n(737),a=n(559),l=n(1669),c=(n(2014),n(1050)),d=n(942),u=n(703),p=n(1633),h=n(558),f=n(1160),g=n(1163),m=n(543);class Component extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.openDeleteComponentDialog=this.openDeleteComponentDialog.bind(this),this.closeDeleteComponentDialog=this.closeDeleteComponentDialog.bind(this),this.handleSetAsThumbnail=this.handleSetAsThumbnail.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleCreateGroup=this.handleCreateGroup.bind(this),this.handleDelete=this.handleDelete.bind(this),this.resetDistances=this.resetDistances.bind(this),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(p.getLayerClickHandler)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null}}get isSetAsThumbnail(){const{barrelThumbnail:e,data:{latestVersion:{snapshot:{url:t}}}}=this.props;return e===t}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}openDeleteComponentDialog(e){e.stopPropagation(),this.setState({deleteDialogVisible:!0})}closeDeleteComponentDialog(){this.setState({deleteDialogVisible:!1})}handleImageError(){this.setState({imageRequested:!1})}handleBaseRef(e){Object(r.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e,t){const{selection:n,data:{_id:i,latestVersion:{snapshot:o}},onSelect:s}=this.props;e.stopPropagation(),this.resetDistances(),mixpanel.master.track("Inspected layer",{Source:"Component"});const r=this.nodeRefs.snapshotDetail.getBoundingClientRect();s(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:o,selectedLayer:n,snapshotDetailRect:r}))}handleContextMenu(e){const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)}handleCreateSection(e){const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleCreateGroup(e){const{onCreateGroup:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleSetAsThumbnail(e){e.stopPropagation();const{data:{latestVersion:{snapshot:{url:t}}},onSetAsThumbnail:n}=this.props;n(t)}handleDelete(){const{data:e,onDelete:t}=this.props;t(e)}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n}}=this.props;this.setState(t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id})),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e}=this.props,{imageRequested:t}=this.state;e&&!t&&this.setState({imageRequested:!0}),this.scrollIntoView&&(this.scrollIntoView=!1,this.nodeRefs.base.scrollIntoView())}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:o,y:s,width:r,height:a}}}=this.props;return i.h(l.default.Rulers,{x:o,y:s,width:r,height:a})}renderDistances(){const{visible:e}=this.props,{imageRequested:t,distances:n}=this.state;return(e||t)&&n&&n.from&&n.to?i.h(l.default.Distances.BetweenLayers,{sourceRect:n.from,destRect:n.to}):null}renderComponentLayer(){const{styleguidesData:e,data:{name:t,latestVersion:{snapshot:n}},selection:o,containsSelection:s}=this.props;if(!s)return null;const{barrelId:r,barrelType:a}=this.context,c=Object(u.findComponentLayer)(o,e),d=c?{_id:c.component._id,name:c.component.name,rect:c.layer.absoluteRect}:null,{width:p,height:h}=n;return i.h(l.default.ComponentLayer,{barrelId:r,barrelType:a,containerName:t,componentLayer:d,containerWidth:p,containerHeight:h,onTagClick:this.resetDistances})}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:o}=this.props,{imageRequested:s,hoveredId:r}=this.state;return(n||s)&&e.length?i.h(l.default.Layers,{layers:e,selectedLayerId:t?t._id:null,hoveredId:r,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:o?this.handleLayerEnter:null,onLayerLeave:o?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{styleguidesData:e,data:{latestVersion:{snapshot:t,snapshot:{width:n,height:o}}},visible:a,lightness:c}=this.props,[{type:d,remPreferences:u}]=e,p=e.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),{imageRequested:h}=this.state,f=s()("componentContent",c),g={};return n<48||o<48?(g.width=n,g.height=o):g.paddingBottom=100*o/n+"%",i.h(l.default,{class:f,snapshot:t,platform:d,spacingTokens:p,remPreferences:u,style:g,baseRef:Object(r.default)(this,"snapshotDetail")},a||h?i.h(l.default.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e,variant:t},sectionVariant:n,omittedProperties:o,filterValue:s}=this.props,{sortType:r}=this.context;if(s){const t=Object(h.highlightMatchedParts)(e,s,{caseInsensitive:!0});return i.h("span",{class:"name ellipsis noSelect",dangerouslySetInnerHTML:{__html:t}})}if(!t||r!==m.SortTypes.SECTIONS)return i.h("span",{class:"name ellipsis noSelect"},e);const a=t.values.map(({propertyId:e,value:t})=>`${e}:${t}`).filter(e=>!o.includes(e));if(!a.length)return i.h("span",{class:"name ellipsis noSelect"},e);const l=a.map(e=>{const[t,i]=e.split(":"),o=n.properties.find(({_id:e})=>e===t);if(o){const{name:e,values:t}=o;if(Object(u.isBooleanProperty)(t))return Object(u.isTruthyPropertyValue)(i)?e:null}return i}).filter(Boolean).join(", ");return i.h("span",{class:"name ellipsis noSelect"},l)}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t,inDefaultSection:n}=this.props,{permissions:{canManageStyleguide:o}}=this.context;if(!e)return;const s=[i.h(c.default.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),!n&&i.h(c.default.Item,{key:"createGroup",onClick:this.handleCreateGroup},"Create group from selection"),o&&!this.isSetAsThumbnail&&i.h(c.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnail},"Set as thumbnail"),i.h(c.default.ItemDivider,{key:"warningDivider"}),i.h(c.default.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")].filter(Boolean);return i.h(c.default.overlay,{class:"componentContextMenu",onMouseDown:a.stopPropagation,autoPosition:{clickOrigin:e},onClose:t},s)}renderDialogs(){const{deleteDialogVisible:e}=this.state,{data:{name:t}}=this.props;if(e)return i.h(d.BasicOverlayDialog,{title:`Delete “${t}”?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:o,dragging:r,moveCubukPosition:a,moveCubukTop:l,moveCubukHeight:c,contextMenu:d}=this.props,u=n&&n._id,p=s()("component",{selected:e===u,contextMenuOpen:!!d,dragging:r}),h={width:(m=t,Math.max(96,12*Math.ceil(m/12)+48)+"px")};var m;const b=i.h(f.default,{top:l,height:c});return i.h("div",{class:"componentWrapper"},i.h("div",{class:"componentPaddingArea left"},a===g.CUBUK_POSITION.LEFT&&b),i.h("div",{class:p,style:h,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:o?this.handleComponentEnter:null,onMouseLeave:o?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.h("div",{class:"componentPaddingArea right"},a===g.CUBUK_POSITION.RIGHT&&b))}}t.default=Component},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropComponentGroupHeader",(function(){return y}));var i=n(4),o=n(718),s=n.n(o),r=n(559),a=n(560),l=n(737),c=n(1182),d=n(1175),u=n(771),p=n(1062);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),b(this,"state",{hasHover:!1}),b(this,"handleBaseRef",e=>{this.props.baseRef(e)}),b(this,"handleComponentNameRef",e=>{Object(l.default)(this,"nameInput","componentRefs")(e),this.props.componentNameRef(e)}),b(this,"handleMouseEnter",()=>{this.setState({hasHover:!0})}),b(this,"handleMouseLeave",()=>{this.setState({hasHover:!1})}),b(this,"handleRenameGroupName",()=>{this.componentRefs.nameInput.highlight()}),b(this,"handleCopyWebLink",()=>{const{onCopyWebLink:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied web link",{Target:"Component group"})}),b(this,"handleCopyAppURI",()=>{const{onCopyAppURI:e,idPath:t}=this.props;e(t[t.length-1]),mixpanel.master.track("Copied app URI",{Target:"Component group"})}),b(this,"handleOptionsMenuOpen",()=>{const{onOptionsMenuOpen:e,idPath:t}=this.props;e(t[t.length-1])})}componentDidUpdate(e){if(!e.menuShown&&this.props.menuShown){const{contextMenu:e}=this.nodeRefs;!function(e){if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight;t.bottom+12>n?e.style.top=n-t.bottom-12+"px":t.top-52-12<0&&(e.style.top=64-t.top+"px")}(e)}}renderGroupInfo(){const{name:e,draggable:t,readOnly:n,actionsDisabled:o,collapsed:s,showMoveHandle:r,componentsCount:l,onNameBlur:d}=this.props,{hasHover:p}=this.state;return i.h("div",{class:"groupInfo"},t&&(p||r)&&i.h(u.IconSectionDrag,{class:"moveHandleIcon"}),i.h(c.default,{ref:this.handleComponentNameRef,value:e,required:!0,onBlur:d,readOnly:n||o}),s&&i.h("span",{class:"countInfo noSelect"},Object(a.pluralize)(l,"component")+" collapsed"))}renderGroupActions(){const{componentsCount:e,actionsDisabled:t,onCollapseOrExpand:n,onShowOptionsMenu:o}=this.props;return i.h("div",{class:s()("groupActions",{disabled:t})},e>0&&i.h("button",{class:"collapseButton",onMouseDown:r.stopPropagation,onClick:n},i.h(u.IconCollapse,{color:"var(--gandalf)"})),i.h("button",{class:"groupOptionsButton",onMouseDown:r.stopPropagation,onClick:o},i.h(u.IconMenu,{color:"var(--gandalf)"})))}renderMenu(){const{onDeleteGroup:e}=this.props;return i.h("div",{class:"groupContextMenuContainer",ref:Object(l.default)(this,"contextMenu")},i.h(d.default,{onOpen:this.handleOptionsMenuOpen},i.h(d.default.Item,{onClick:this.handleRenameGroupName},"Rename group"),i.h(d.default.ItemDivider,null),i.h(d.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(d.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(d.default.ItemDivider,null),i.h(d.default.Item,{warning:!0,onClick:e},"Delete group")))}render(){const{menuShown:e,collapsed:t,hasDragHover:n,class:o,width:r}=this.props;return i.h("div",{ref:this.handleBaseRef,class:s()("componentGroupHeader",o,{collapsed:t,dragHover:n}),style:{width:r},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h("div",{class:"mainInfo"},this.renderGroupInfo(),this.renderGroupActions(),e&&this.renderMenu()))}}const y=Object(r.pipe)(Object(p.DragSource)({itemType:"GroupHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,o=m(e,["sourceRect","class"]);return i.h(S,g({},o,{width:t.width,class:"mirror noSelect",actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>f(f({},e),{},{collapsed:!0})}),Object(p.DropTarget)({acceptsItemType:"StyleguideComponent",onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)}))(S);t.default=S},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2019),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2020));n(2031),t.default=function({csid:e,variant:t,variantFilter:n,onValueClick:i}){const r=t.properties.map(({_id:t,name:r,values:a},l)=>o.h(s.default,{key:t,csid:e,id:t,name:r,index:l,values:a,variantFilter:n,onValueClick:i}));return o.h("div",{class:"componentVariantProperties"},r)}},function(e,t,n){"use strict";n.r(t);var i=n(2021),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(705)),a=n(559),l=n(560),c=n(543),d=n(1062),u=n(771),p=i(n(2022));const h=a.pipe(d.DragSource({itemType:"VariantProperty",allowX:!1,mirrorComponent:function({name:e,values:t,sourceRect:{width:n}}){const i=t.length?t.map(e=>o.h("div",{key:e,class:"variantPropertyValue ellipsis"},e)):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:"variantProperty mirror",style:{width:n}},o.h(u.IconSectionDrag,{class:"sectionDragIcon"}),o.h("span",{class:"variantPropertyName"},l.uppercaseFirst(e)),o.h("span",{class:"colon"},":"),i)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),d.DropTarget({acceptsItemType:"VariantProperty",onHover:({onHover:e},t)=>e(t),onHoverOut:({onHoverOut:e})=>e(),onDrop:({onDrop:e},t)=>e(t)}))(p.default);t.default=function(e){const t=s.useRef(),[n,i]=s.useState(!1),[a,l]=s.useState(null);return o.h(h,Object.assign({baseRef:t,dragging:n,movePosition:a,onStartDrag:function(){i(!0)},onEndDrag:function(){i(!1)},onHover:function({mirrorPosition:n,dragData:{csid:i}}){var o;const{csid:s}=e;if(s!==i)return void l(null);const r=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect();if(!r)return;const a=r.top+r.height/2;l(n.top>a?c.DragDropTargetPosition.BOTTOM:c.DragDropTargetPosition.TOP)},onHoverOut:function(){l(null)},onDrop:function({dragData:{id:t,index:n}}){const{csid:i,index:o}=e;let s=o;n>o&&a===c.DragDropTargetPosition.BOTTOM?s+=1:n<o&&a===c.DragDropTargetPosition.TOP&&(s-=1),n!==s&&r.default.updateComponentVariantPropertiesOrder({csid:i,properties:[{_id:t,to:s}],syncWithApi:!0})}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2023)),r=i(n(2026)),a=n(771),l=n(560),c=i(n(705)),d=n(559),u=i(n(718)),p=n(543);n(2030),t.default=function({baseRef:e,csid:t,id:n,name:i,values:h,variantFilter:f,onValueClick:g,dragging:m,movePosition:b},S){const{permissions:{canManageStyleguide:y}}=S;function v(e){g(n,e)}function C({source:e,target:i,direction:o}){const s=[...h];d.arrayRemove(s,t=>t===e);const r=s.findIndex(e=>e===i);s.splice(o===p.DragDropTargetPosition.LEFT?r:r+1,0,e),c.default.updateComponentVariantPropertyValues({csid:t,vpid:n,values:s,syncWithApi:!0})}const O=h.length?h.map(e=>o.h(r.default,{key:e,value:e,vpid:n,selected:f[n]===e,onClick:v,onValueDrop:C})):o.h("div",{class:"noPropertyValue"},"No value yet, select a component and add a new value from right panel.");return o.h("div",{class:u.default("variantPropertyWrapper noSelect",b,{hidden:m}),ref:e},o.h("div",{class:"variantProperty"},y&&o.h(a.IconSectionDrag,{class:"sectionDragIcon"}),o.h(s.default,{class:"variantPropertyName",placeholder:"Property",maxLength:100,value:l.uppercaseFirst(i),autoFocus:n.startsWith("new"),onChange:function(e){n.startsWith("new")?""===e?c.default.removeComponentVariantProperty({csid:t,vpid:n}):c.default.addComponentVariantProperty({csid:t,componentVariantProperty:{_id:n,name:e},syncWithApi:!0}):i!==e&&c.default.updateComponentVariantPropertyName({csid:t,vpid:n,name:e,syncWithApi:!0})},disabled:!y}),o.h("span",{class:"colon"},":"),O))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2024);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=n(222),a=n(543),l=o(n(718));n(2025),t.default=function(e){var{class:t,placeholder:n,value:o,autoFocus:c=!1,disabled:d=!1,onChange:u}=e,p=i(e,["class","placeholder","value","autoFocus","disabled","onChange"]);const h=r.useRef(),f=r.useRef(),[g,m]=r.useState(o),[b,S]=r.useState(c);function y(){f.current.blur()}return r.useEffect(()=>{m(o)},[o]),r.useEffect(()=>{c&&f.current.focus()},[c]),r.useEffect(()=>{if(!h.current)return void(h.current=!0);if(b)return;const{type:e,value:t,valueAsNumber:n}=f.current,i=t.trim(),s="number"===e?n:i;""===g?(m(o),u(o)):(m(i),u(s))},[b]),s.h("div",{class:l.default("expandableInputContainer",t,{disabled:d})},s.h("div",{class:"mirror"},g||n||" "),s.h("input",Object.assign({},p,{ref:f,placeholder:n,value:g,disabled:d,required:!0,spellcheck:!1,onFocus:function(){S(!0)},onInput:function(){const{type:e,value:t,min:n,max:i,validity:s}=f.current;let r;r=s.rangeUnderflow?n:s.rangeOverflow?i:s.badInput?o:s.valueMissing?"":"number"===e?String(parseInt(t,10)):t,m(r)},onKeyDown:function(e){switch(e.key){case a.Keyboard.Key.Enter:y();break;case a.Keyboard.Key.Escape:m(o),y()}},onBlur:function(){S(!1)}})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2027);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=n(559),a=n(543),l=n(1062),c=i(n(2028));n(2029);const d=r.pipe(l.DragSource({itemType:"VariantPropertyValue",mirrorComponent:function({value:e}){return o.h("div",{class:"variantPropertyValueMirror ellipsis"},e)},provideDragData:e=>e,onStartDrag:({onStartDrag:e})=>e(),onEndDrag:({onEndDrag:e})=>e()}),l.DropTarget({acceptsItemType:"VariantPropertyValue",onHover:({onHover:e},t)=>{e(t)},onHoverOut:({onHoverOut:e})=>{e()},onDrop:({onDrop:e},t)=>{e(t)}}))(c.default);t.default=function(e){const[t,n]=s.useState(null),[i,r]=s.useState(!1),l=s.useRef();return o.h(d,Object.assign({baseRef:l,movePosition:t,dragging:i,onStartDrag:function(){r(!0)},onEndDrag:function(){r(!1)},onHover:function({mirrorPosition:t,dragData:{vpid:i,value:o}}){var s;const{vpid:r,value:c}=e;if(r!==i||c===o)return void n(null);const d=null===(s=l.current)||void 0===s?void 0:s.getBoundingClientRect();if(!d)return;const u=d.left+d.width/2;n(t.left>u?a.DragDropTargetPosition.RIGHT:a.DragDropTargetPosition.LEFT)},onHoverOut:function(){n(null)},onDrop:function({dragData:{value:n}}){if(!t)return;const{onValueDrop:i,value:o}=e;i({source:n,target:o,direction:t})}},e))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718)),r=n(543),a=i(n(1160));n(2029),t.default=function({baseRef:e,value:t,selected:n,onClick:i,movePosition:l,dragging:c}){const d=s.default("variantPropertyValue",{selected:n,dragging:c});return o.h("button",{ref:e,type:"button",title:t,class:d,onClick:function(){return i(t)}},o.h("div",{class:"ellipsis"},t),l&&o.h(a.default,{top:0,left:l===r.DragDropTargetPosition.LEFT?-7:"calc(100% + 5px)",height:"100%"}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2033);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(771),r=i(n(718));n(2034);t.default=function({baseRef:e,loadingVariants:t,variant:n,variantSectionCount:i,variantOptionsMenuOpen:a,onClick:l}){const c=!t&&!n&&i<3,d=r.default("variantOptionsButton",{variantOptionsMenuOpen:a,labelDisplayed:c});let u;if(t)u=o.h(s.IconSpinner,null);else{let e="var(--cornflower-blue)";a?e="white":c||n||(e="var(--teflon)"),u=o.h(s.IconVariants,{color:e})}return o.h("button",{ref:e,type:"button",class:d,onClick:l},u,c&&o.h("span",null,"Set as variant section"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2036);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(942)),r=i(n(879)),a=n(558);function l(){a.openLink("https://blog.zeplin.io/introducing-component-variants-notifications-zapier-integration-74279790a730")}n(2037),t.default=function({onClose:e,onSetAsVariantSection:t}){return o.h(s.default,{class:"variantsOnboardingDialog",positiveButtonText:"SET AS VARIANT SECTION",negativeButtonText:"NOT NOW",fallbackButtonText:"LEARN MORE",hideNegativeButton:!1,onPositiveButtonClick:t,onFallbackButtonClick:l,onClose:e,width:720},o.h("div",{class:"variantsOnboardingDialogBody"},o.h("div",{class:"dialogHeader"},o.h(r.default,{asset:"img/variant-onboarding-dialog-title.png",alt:"Set as variant",title:"Set as variant"})),o.h("p",null,"Great to be more organized! 2 things to check before setting a section as a variant section:"),o.h("ul",null,o.h("li",null,o.h("strong",null,"1.")," Make sure this section ",o.h("strong",null,"only")," includes related components. e.g variations of buttons."),o.h("li",null,o.h("strong",null,"2.")," Zeplin uses ",o.h("code",null,"/")," to create different properties and values. Make sure that"," ",o.h("strong",null,"naming convention")," of the components aligns with this.")),o.h("div",{class:"imageWrapper"},o.h(r.default,{asset:"img/variant-onboarding-dialog-image.png"}))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2040);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(555),s=n(559),r=n(737),a=n(570),l=n(558),c=n(696),d=n(1739),u=n.n(d),p=n(681),h=n(582),f=n.n(h),g=n(1014),m=n(705),b=n(2041),S=n(1740),y=n(1507),v=n(845),C=n.n(v);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),E(this,"handleAddColorClick",e=>{c.default.addColor({color:e,syncWithApi:!0}),Object(a.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})}),E(this,"handleColorNameChange",(e,t)=>{c.default.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),E(this,"handleRemoveColorClick",e=>{c.default.removeColor({cid:e,syncWithApi:!0})}),E(this,"handleAddTextStyleClick",e=>{c.default.addTextStyle({textStyle:e,syncWithApi:!0}),Object(a.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})}),E(this,"handleTextStyleNameChange",e=>{const{styleguidesData:[{textStyles:t}]}=this.props;if(t.some(e=>e.name===name))return o.create({title:name+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();c.default.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})}),E(this,"handleCopy",e=>{Object(l.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})}),E(this,"handleCopyCode",(e,t)=>{const{projectType:n}=this.context;c.default.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:n,extensionId:t,source:"Component"})}),E(this,"handleRequestInvite",()=>{const{organizationId:e}=this.context;g.default.requestInvite(e,this.nodeRefs.sidebar)}),E(this,"handleProcessFailedAssetContents",e=>{const{selectionComponent:{_id:t,idPath:n,latestVersion:i}}=this.props,{barrelId:o,barrelType:s}=this.state;for(const r of e)u.a.processComponentVersionAssetContent({barrelType:s,bid:o,csids:n.slice(0,-1),coid:t,vid:i._id,vaid:r.assetId,vacid:r._id,ovacid:r.optimized._id})})}static getStores(){return[f.a.BarrelStore,f.a.StyleguidesDataStore,f.a.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=f.a.BarrelStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:p.default.getStyleguidesData({barrelStore:f.a.BarrelStore,styleguidesDataStore:f.a.StyleguidesDataStore,projectsDataStore:f.a.ProjectsDataStore})}}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onProcessFailedAssetContents:this.handleProcessFailedAssetContents}}handleRemoveTextStyleClick(e){c.default.removeTextStyle({tsid:e,syncWithApi:!0})}renderComponentPanel(){const{componentCount:e,sectionCount:t,variantSectionCount:n,selectionStyleguideId:o,selectionComponent:s,selection:r,formatter:a,onCloseClick:l,convertedAnySectionIntoVariant:c}=this.props;return r?s._id===r._id?i.h(b.default,O({component:r,selectionStyleguideId:o,formatter:a},this.getHandlers(),{onCloseClick:l,onRequestInvite:this.handleRequestInvite})):i.h(S.default,O({componentId:s._id,layer:r,layerContainer:s,version:s.latestVersion,formatter:a},this.getHandlers(),{onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:l})):i.h(b.default.NoSelectionState,{componentCount:e,sectionCount:t,variantSectionCount:n,convertedAnySectionIntoVariant:c})}render(){const{width:e}=this.props,{loading:t}=this.state;return t?null:i.h(y.default,{baseRef:Object(r.default)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:s.stopPropagation,onRelease:m.default.changeRightSidebarWidth},this.renderComponentPanel())}}t.default=C()(T)},function(e,t,n){"use strict";n.r(t);var i=n(2042);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(564),s=n(574),r=n.n(s),a=n(559),l=n(556),c=n(703),d=n(737),u=n(1742),p=n(614),h=n(1505),f=n(544),g=n(1881),m=n(1538),b=n(1745),S=n(1751),y=n(1875),v=n(1790),C=n(1766),O=n(2043),E=n(1783),T=n(1787),_=n(2046),P=n(2052),D=n(2055),I=n.n(D),j=n(681),k=n(696),R=n(705),A=n(582),w=n.n(A),N=n(1506),L=n(845),M=n.n(L);n(2058);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends i.Component{constructor(...e){super(...e),x(this,"state",{hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null}),x(this,"handleComponentCodeResize",e=>{requestAnimationFrame(()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}),x(this,"handleComponentVariantPropertyValueChange",(e,t)=>{const{component:{idPath:n}}=this.props,[i]=n,o=n[n.length-1];R.default.updateComponentVariantPropertyValue({csid:i,vpid:e,coid:o,value:t,syncWithApi:!0})}),x(this,"handleDescriptionSubmit",e=>{const{component:{idPath:t,description:n}}=this.props;if(e===n)return;const i=[...t],o=i.pop();k.default.updateComponent({csids:i,coid:o,componentData:{description:e},syncWithApi:!0})}),x(this,"handleAssetNameChange",(e,t)=>{const{component:{_id:n,latestVersion:{snapshot:i}}}=this.props;k.default.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t,source:"Component detail"})}),x(this,"handleDownloadAssetClick",(e,t)=>{const{component:{name:n}}=this.props,{styleguideContainerRef:i}=this.context,{assets:o}=this.state;k.default.downloadAsset({containerName:n,assets:o,assetId:e,format:t,toastContainer:i(),source:"Component detail"})}),x(this,"handleGenerateSnippet",e=>{this.setState({hasSnippet:e},e=>{this.setCodePanelHeight()})}),x(this,"handleWindowResize",Object(a.debounce)(()=>{this.state.hasSnippet&&this.setCodePanelHeight()})),x(this,"handleCopyWebUrl",e=>{this.props.onCopy(e),mixpanel.master.track("Copied web link",{Target:"Component",Source:"Inspector"})}),x(this,"handleCopyAppUri",e=>{this.props.onCopy(e),mixpanel.master.track("Copied app URI",{Target:"Component",Source:"Inspector"})})}static getStores(){return[w.a.BarrelStore,w.a.StyleguidesDataStore,w.a.ProjectsDataStore,w.a.AssetsStore]}static calculateState(e,t,n){const{component:{_id:i,name:o,sourceId:s,latestVersion:{snapshot:d,snapshot:{density:u,densityScale:p=Object(a.getDensityScale)(u)}}},selectionStyleguideId:h}=t,{userRole:g,permissions:{canManageScreens:m}}=n,{loading:b,barrelType:S,barrelId:y,assetDensityScalePrefs:v,assetExportTarget:C,assetNamingConvention:O,densityMismatchWarningHidden:E,noVectorAssetInfoHidden:T,showOptimizedSVG:_,showOptimizedPNG:P,showOptimizedJPG:D,connectedComponentsDevModeEnabled:I,connectedComponentsLocalWorkspace:k,connectedComponentsEditorInfo:R,connectedComponentsOnboardingDialogSeen:A,numberOfHighlightedConnectToCodeButtonViews:N}=w.a.BarrelStore.getState();if(b)return{loading:!0};const{type:L,densityScale:M,screens:x=[]}=j.default.getBarrel(),U=S===r.a.PROJECT?"pid":"stid",B=`${f.ZPL_PROTOCOL}//components?${U}=${y}&coid=${i}`,V=S===r.a.PROJECT?"project-styleguide-components":"styleguide-components",z=Object(l.urlResolve)(V,{url:{bid:y},query:{coid:i}}),F=!m||y!==h,W="pawn"===g,G=p!==M&&!E,H=Object(c.findUsedScreens)(x,o,s),$=j.default.getStyleguidesData({barrelStore:w.a.BarrelStore,styleguidesDataStore:w.a.StyleguidesDataStore,projectsDataStore:w.a.ProjectsDataStore}),{ancestors:q}=Object(c.findComponentById)($,i)||{};let Z;q&&(Z=q.find(e=>!!e.variant));const K=!A&&N<c.HIGHLIGHTED_CONNECT_TO_CODE_VIEW_LIMIT,{componentsAssets:Y}=w.a.AssetsStore.getState(),J=Y[i];return{loading:!1,platform:L,readOnly:F,userRestricted:W,assetDensityScalePrefs:v,assetExportTarget:C,assetNamingConvention:O,showDensityMismatchWarning:G,noVectorAssetInfoHidden:T,showOptimizedSVG:_,showOptimizedPNG:P,showOptimizedJPG:D,appUri:B,webUrl:z,usedScreens:H,connectedComponentsDevModeEnabled:I,connectedComponentsLocalWorkspace:k,connectedComponentsEditorInfo:R,styleguidesData:$,variantSection:Z,shouldHighlightConnnectToCodeButton:K,assets:J&&J.length?J:d.assets||[]}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+89>=i?this.setState({codeGap:0,codeHeight:89,codeMaxHeight:89,componentDetailHeight:i-89,componentDetailBottomPadding:36}):this.setState({codeGap:52,codeHeight:null,codeMaxHeight:i-n-36,componentDetailHeight:null,componentDetailBottomPadding:36})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{loading:e}=this.state;if(e)return null;const{component:t,formatter:n,onAddColorClick:s,onColorNameChange:r,onRemoveColorClick:a,onCopyCode:l,onCloseClick:f,onRequestInvite:D,onProcessFailedAssetContents:I}=this.props,{platform:j,readOnly:R,userRestricted:A,assetDensityScalePrefs:w,assetExportTarget:L,assetNamingConvention:M,showDensityMismatchWarning:x,noVectorAssetInfoHidden:U,showOptimizedSVG:B,showOptimizedPNG:V,showOptimizedJPG:z,appUri:F,webUrl:W,usedScreens:G,connectedComponentsDevModeEnabled:H,connectedComponentsLocalWorkspace:$,connectedComponentsEditorInfo:q,codeGap:Z,codeMaxHeight:K,componentDetailHeight:Y,componentDetailBottomPadding:J,codeHeight:X,styleguidesData:Q,variantSection:ee,shouldHighlightConnnectToCodeButton:te,assets:ne}=this.state,{_id:ie,name:oe,latestVersion:se,description:re,variant:ae}=t,{snapshot:{width:le,height:ce,backgroundColor:de}}=se,[{densityScale:ue,remPreferences:pe}]=Q,{status:he,useForMeasurements:fe,remRootFontSize:ge}=pe,me="web"===j&&"enabled"===he&&fe,be=me?Object(p.toRemSize)(le/ue,ge):n.length(le),Se=me?Object(p.toRemSize)(ce/ue,ge):n.length(ce),[ye]=Object(u.transformAuthors)([se]),ve=ne.find(e=>"snapshot"===e.layerId);let Ce;ve&&(Ce=Object(u.transformAsset)(ve,n,j));const Oe=Object(c.findConnectedComponentByIdOrName)(ie,oe,Q,H);return i.h("div",{class:"componentDetailWrapper",ref:Object(d.default)(this,"base")},i.h("div",{class:"componentDetailContentWrapper",style:{height:Y,paddingBottom:J}},i.h("div",{class:"componentDetail",ref:Object(d.default)(this,"componentDetail")},i.h("div",{class:"withPadding"},i.h(T.default,{onCloseClick:f},oe)),i.h("div",{class:"withPadding"},i.h(b.default,null,i.h(g.default,{key:ye.username,id:ye.id,avatar:ye.avatar,username:ye.username,versionCount:ye.versions,authorCount:1,lastUpdated:ye.lastUpdated})),ee&&ae&&i.h(_.default,{coid:ie,sectionVariant:ee.variant,variant:ae,onChange:this.handleComponentVariantPropertyValueChange}),i.h(b.default,{title:"Description",showSeparator:!0},i.h(m.default,{class:"descriptionInput",formatter:h.formatTextArea,value:re,placeholder:R?"No description yet":"Got any notes?",color:"cornflowerBlue",readOnly:R,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.h(b.default,{title:"Share",showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(y.default,{webUrl:W,appUri:F,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri})))),i.h(v.default,{connectedComponentsDevModeEnabled:H,connectedComponentsLocalWorkspace:$,connectedComponentsEditorInfo:q,shouldHighlightConnnectToCodeButton:te,componentId:ie,componentName:oe,connectedComponent:Oe,showLayerComponent:!1,userRestricted:A,onRequestInvite:D}),Ce&&i.h("div",{class:"withPadding"},i.h(C.default,{showSeparator:!u.transformAsset,asset:Ce,projectType:j,showDensityMismatchWarning:x,noVectorAssetInfoHidden:U,assetDensityScalePrefs:w,namingConvention:M,showOptimizedSVG:B,showOptimizedPNG:V,showOptimizedJPG:z,assetExportTarget:L,onOpenExportTargetClick:k.default.openExportTarget,onChangeExportTargetClick:k.default.changeExportTarget,onDownloadClick:this.handleDownloadAssetClick,onNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:k.default.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:k.default.hideNoVectorAssetInfo,onAssetDensityOptionChange:k.default.changeAssetDensityScalePref,onNamingConventionChange:k.default.changeAssetNamingConvention,onShowOptimizedSVGChange:k.default.toggleSVGOptimization,onShowOptimizedPNGChange:k.default.togglePNGOptimization,onShowOptimizedJPGChange:k.default.toggleJPGOptimization,onProcessFailedAssetContents:I})),!Ce&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Size",showSeparator:!!Ce},i.h(E.default.Group,null,i.h(E.default,{name:"Width"},be),i.h(E.default,{name:"Height"},Se)))),de&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Background color",showSeparator:!0},i.h(S.default,{color:Object(u.transformColor)(new o.default(de),n,Q),onNameChange:r,onAddClick:s,onRemoveClick:a}))),!!G.length&&i.h("div",{class:"withPadding"},i.h(b.default,{title:"Used in",showSeparator:!0},i.h(P.default,{componentName:oe,screens:G}))))),i.h(O.default,{component:t,version:se,variantSection:ee,codeGap:Z,height:X,maxHeight:K,minHeight:89,maxResizeHeight:window.innerHeight-60-146,minResizeHeight:89,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:l,onSettingsClick:N.default.openSettings}))}}U.NoSelectionState=I.a,t.default=M()(U,{withProps:!0,withContext:!0})},function(e,t,n){"use strict";n.r(t);var i=n(2044);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1850),s=n(1867);n(2045);class r extends i.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i,variantSection:o}=this.props;return e.component(t,i,n,o).then(e=>s.CodeSnippet.fromUnknown(e,"component"))}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:s,maxHeight:r,maxResizeHeight:a,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.h(o.ResizableExtensionCode,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:s,maxHeight:r,maxResizeHeight:a,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.h(o.default,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2047),o=n.n(i);n.d(t,"default",(function(){return o.a}))},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1745)),r=i(n(2048));n(2051),t.default=function({coid:e,sectionVariant:t,variant:n,onChange:i},a){const{permissions:{canManageStyleguide:l}}=a;return o.h(s.default,{class:"componentVariantProperties",title:"Properties",showSeparator:!0},t.properties.map(({_id:t,name:s,values:a})=>{const c=n.values.find(({propertyId:e})=>e===t);return o.h("div",{class:"componentVariantProperty",key:`${e}:${t}`},o.h("span",{class:"propertyName ellipsis",title:s},s,":"),o.h(r.default,{placeholder:"No value",value:null==c?void 0:c.value,maxLength:100,options:a,onChange:function(e){i(t,e)},disabled:!l}))}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2049);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=o(n(849)),a=o(n(718)),l=n(543);n(2050);class c extends s.Component{constructor(){super(...arguments),this.state={value:this.props.value,dropdownOpen:!1},this.inputRef=s.createRef(),this.handleBlur=e=>{const{value:t,onChange:n}=this.props,{type:i,value:o,valueAsNumber:s}=e.target,r=o.trim();if(t===r||t===s)return;const a="number"===i?s:r;""===o?this.setState({value:t}):(this.setState({value:r}),n(a))},this.handleKeyDown=e=>{switch(e.key){case l.Keyboard.Key.Enter:e.target.blur();break;case l.Keyboard.Key.Escape:this.setState({value:this.props.value},()=>{e.target.blur()})}},this.handleInput=e=>{const{value:t}=this.state,n=e.target,{type:i,value:o,min:s,max:r,validity:a}=n;let l;l=a.rangeUnderflow?s:a.rangeOverflow?r:a.badInput?t:a.valueMissing?"":"number"===i?String(parseInt(o,10)):o,this.setState({value:l})},this.handleChange=e=>{const{value:t,onChange:n}=this.props;t!==e&&(this.setState({value:e}),n(e))},this.handleDropdownVisibilityChange=e=>{this.setState({dropdownOpen:e})}}componentDidUpdate(e,t){const{value:n,disabled:i,autoFocus:o}=this.props,{value:s}=this.state;(e.value!==n||s!==n&&s===t.value)&&this.setState({value:n}),e.disabled&&!i&&o&&this.inputRef.current.focus()}render(){const e=this.props,{class:t,placeholder:n,disabled:o,dropdownTop:l,options:c,onChange:d}=e,u=i(e,["class","placeholder","disabled","dropdownTop","options","onChange"]),{value:p,dropdownOpen:h}=this.state;return s.h("div",{class:a.default("inputWithDropdownContainer",t,{disabled:o,dropdownOpen:h})},s.h("div",{class:"inputContainer"},s.h("div",{class:"mirror"},p||n||" "),s.h("input",Object.assign({},u,{ref:this.inputRef,class:"inputWithDropdownInput",placeholder:n,value:p,disabled:o,required:!0,spellcheck:!1,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur}))),s.h(r.default,{top:l,showCheck:!1,showLabel:!1,disabled:o,class:"inputWithDropdownDropdown",optionsClass:"inputWithDropdownOptions",onChange:this.handleChange,onDropdownStateChange:this.handleDropdownVisibilityChange},c.map(e=>s.h(r.default.Item,{selected:e===p,label:e,value:e,key:e}))))}}t.default=c,c.defaultProps={type:"text",min:0,dropdownTop:0}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2053);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(556),s=n(563),r=n(564),a=n(737);n(2054);class l extends i.Component{componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:l,height:c,backgroundColor:d=r.default.NAMED_COLORS.white,componentName:u,visible:p}=this.props,{projectId:h}=this.context,{src:f,srcset:g}=Object(s.getResizedImageSources)(n,{width:132}),m=132*c/l,b=new r.default(d).toCSS(),S=Object(o.urlResolve)("project-screen",{url:{pid:h,sid:e}});return i.h("a",{ref:Object(a.default)(this,"base"),href:S,class:"usedInScreen","data-id":e,"data-link-type":"inApp","data-back":u},i.h("div",{class:"imageWrapper",style:{height:m,backgroundColor:b}},p&&i.h("img",{width:132,height:m,src:f,srcset:g,crossOrigin:"anonymous"}),i.h("div",{class:"imageFrame"})),i.h("div",{class:"screenName"},t))}}class c extends i.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentName:t}=this.props,{visibleScreens:n}=this.state;return i.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:o,width:s,height:r,backgroundColor:a}}]}=e;return i.h(l,{key:e._id,screenId:e._id,name:e.name,url:o,width:s,height:r,backgroundColor:a,componentName:t,visible:n.has(e._id),observer:this.observer})}))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2056);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(879)),r=n(560);n(2057);t.default=function(e){const{componentCount:t,sectionCount:n,variantSectionCount:i,convertedAnySectionIntoVariant:a}=e;if(!t)return null;function l(){return o.h(o.Fragment,null,o.h("h3",null,"Manage your component variants"),o.h("p",null,"Collect your components under variant sections for developers to access them during development."," ",o.h("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"Learn more"),"."),o.h(s.default,{asset:"img/manage-variants-onboarding-image.png",alt:"Set as variant section",title:"Set as variant section"}))}let c;return c=i>0&&a?o.h(o.Fragment,null,o.h("h3",null,"Updating properties and values"),o.h("p",null,"Select components to update their properties from the right panel."),o.h(s.default,{asset:"img/update-properties.png",alt:"Update properties",title:"Update properties"}),o.h("h3",null,"Grouping components by properties"),o.h("p",null,"After setting variant sections, you can create groups under sections ",o.h("strong",null,"by Properties")," from the variant menu."),o.h(s.default,{asset:"img/group-by-properties.png",alt:"Group by properties",title:"Group by properties"})):n<3?o.h(o.Fragment,null,o.h("h3",null,"Organize your components"),o.h("p",null,o.h("strong",null,"Right click")," to organize your components by creating sections or groups."),o.h(s.default,{asset:"img/organize-components-onboarding-image.png",alt:"Organize your components",title:"Organize your components"}),l()):l(),o.h("div",{class:"componentsSidebarNoSelectionState"},o.h("h2",null,r.pluralize(t,"Component")," ",o.h(s.default,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),c)}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2061);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1050),s=n(942),r=n(2062),a=n(771),l=n(737),c=n(556);n(2065);class d extends i.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{linkedStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.h(o.default.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.h(o.default.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{linkedStyleguide:{name:t="styleguide"}}=this.props;return i.h(s.BasicOverlayDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}renderWarning(){const{linkStatus:e}=this.props;if("active"===e)return null;const t="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",n="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.h(r.default,{articleURL:n},"This project can not access the linked styleguide since ",t)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{barrelName:t,linkedStyleguide:{_id:n,name:o="a styleguide"}}=this.props,s=Object(c.urlResolve)("styleguide",{url:{bid:n}});return i.h("div",{class:"infoContainer"},i.h("div",{title:o,class:"infoLabel noSelect ellipsis"},"Linked to ",i.h("a",{href:s,"data-link-type":"inApp","data-back":t},o)),e&&i.h("button",{type:"button",onClick:this.handleContextMenuClick,ref:Object(l.default)(this,"button")},i.h(a.IconSettings,null)))}render(){return i.h("div",{class:"linkedStyleguideInfo",ref:Object(l.default)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(2063);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(901),s=n.n(o);n(2064);t.default=function({articleURL:e,children:t}){return i.h(s.a,{class:"warningHintBox noSelect",type:"warning",emoji:"🚸"},i.h("p",null,t),i.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2067);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1292)),a=i(n(723)),l=i(n(2068)),c=n(771);n(2071),t.default=function({barrelId:e,barrelName:t,barrelType:n,shouldPromote:i,shouldDisplayHintBox:d,shouldDisplayIncludeParentsOption:u,onStopPromoting:p}){const[h,f]=s.useState(!1);function g(){i&&p(),f(!0),mixpanel.master.track("Clicked export design tokens")}function m(){f(!1)}return o.h(o.Fragment,null,d?o.h(r.default,{class:"exportDesignTokensHintBox",hideButtonText:"Got it!",onHideClick:p},"Introducing Design Tokens: Extend your styleguide in Zeplin to the developer world.",o.h(a.default,{class:"exportDesignTokensHintBoxButton ellipsis",onClick:g,primary:!0},"Export Design Tokens")):o.h("div",{class:"exportDesignTokensButtonContainer noSelect"},o.h("span",{class:"exportDesignTokensButtonLabel"},"Export Design Tokens"),o.h(a.default,{class:"exportDesignTokensButton",onClick:g},o.h(c.IconToken,null))),h?o.h(l.default,{barrelId:e,barrelName:t,barrelType:n,shouldDisplayIncludeParentsOption:u,onClose:m}):null)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2069);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(4),c=n(222),d=a(n(942)),u=a(n(719)),p=a(n(723)),h=a(n(1092)),f=a(n(1792)),g=a(n(718)),m=n(544),b=n(1198),S=n(771),y=n(558),v=s(n(575)),C=n(571);n(2070);const O={project:C.project,styleguide:C.styleguide};t.default=function({barrelId:e,barrelName:t,barrelType:n,shouldDisplayIncludeParentsOption:i,onClose:o}){const s=c.useRef(),[a,C]=c.useState(i),[E,T]=c.useState(!1),[_,P]=c.useState(!1),[D,I]=c.useState(null),j=`/v1/${n}s/${e}/design_tokens${a?"?include_linked_styleguides=true":""}`;return l.h(d.default,{baseRef:s,class:g.default("exportDesignTokensDialog",{tokensView:Boolean(D)}),width:720,onClose:o,negativeButtonText:"BACK",hideNegativeButton:!1,hideFooter:!D,onNegativeButtonClick:function(){I(null)}},l.h("div",{class:"exportDesignTokensDialogHeader"},l.h("h2",null,"Export Design Tokens")),l.h("div",{class:"exportDesignTokensDialogBody"},D?l.h(l.Fragment,null,l.h("p",{class:"exportDesignTokensDialogDescription"},"Check out the ",l.h("a",{target:"_blank",rel:"noopener",href:"https://zpl.io/api/design-tokens",onClick:function(){mixpanel.master.track("Clicked API documentation link")}},"documentation")," to learn more about fetching design tokens using the Zeplin API."),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",{class:"exportDesignTokensDialogCurlCommand"},"GET ",j),l.h(h.default,{content:"Copy as cURL command"},l.h(p.default,{class:"exportDesignTokensDialogCurlCommandButton",onClick:function(){y.copyContent({content:["curl --request GET \\",`    --url '${m.PUBLIC_API_URL}${j}' \\`,"    --header 'Accept: application/json' \\","    --header 'Authorization: Bearer {PERSONAL_ACCESS_TOKEN}'"].join("\n"),toastContainer:s.current}),mixpanel.master.track("Copied curl command",{"Include Linked Styleguides":a})}},l.h(S.IconCopy,null)))),l.h("div",{class:"exportDesignTokensDialogCodeContainer"},l.h(f.default,{lang:"json",content:JSON.stringify(D,null,2)}))):l.h(l.Fragment,null,l.h("p",{class:"exportDesignTokensDialogDescription"},"Design Tokens are JSON representations of colors, text styles and spacing tokens in your styleguide. Using these tokens, you can propagate changes in your design system to your development environment."),l.h("p",{class:g.default("exportDesignTokensDialogDescription",{noLinkedStyleguide:!i})},"You can export Design Tokens in two ways:"),i&&l.h("label",{class:"exportDesignTokensDialogCheckboxLabel"},l.h(u.default,{checked:a,onChange:function(){C(!a)}}),l.h("p",null,"Include linked styleguides")),l.h("div",{class:"exportDesignTokensDialogBodyOptionOne"},l.h("p",{class:"exportDesignTokensDialogBodyOptionOneText"},l.h("strong",null,"1.")," Fetch Design Tokens using the Zeplin API"),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",{class:"exportDesignTokensDialogCurlCommand"},"GET ",j),l.h(p.default,{class:"exportDesignTokensDialogFetchButton",disabled:E||_,primary:!0,onClick:function(){return r(this,void 0,void 0,(function*(){try{T(!0);const t=yield O[n].getDesignTokens(e,a);I(t),mixpanel.master.track("Fetched design tokens",{"Include Linked Styleguides":a})}catch(t){v.handleError(t)}finally{T(!1)}}))}},E?l.h(S.IconDotSpinner,{width:16,color:"#fff"}):"Fetch"))),l.h("div",{class:"exportDesignTokensDialogRow"},l.h("p",null,l.h("strong",null,"2.")," Download Design Tokens as a .zip package"),l.h(p.default,{class:"exportDesignTokensDialogDownloadButton",disabled:_||E,primary:!0,onClick:function(){return r(this,void 0,void 0,(function*(){try{P(!0);const i=yield O[n].getDesignTokensFile(e,a);let o=i.name;if(!o){const e=new Date,n=`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`;o=`${t}_designTokens_${n}.zip`}b.triggerDownload({data:URL.createObjectURL(i.blob),name:o}),mixpanel.master.track("Downloaded design tokens",{"Include Linked Styleguides":a})}catch(i){v.handleError(i)}finally{P(!1)}}))}},_?l.h(S.IconDotSpinner,{width:16,color:"#fff"}):"Download")))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2073);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(582),a=n.n(r),l=n(2074),c=n(1318),d=n(873),u=n(543),p=n(705),h=n(942),f=n(696),g=n(681),m=n(682);const b={[u.RESOURCE_TYPE.TEXT_STYLES]:"Text Styles",[u.RESOURCE_TYPE.COLORS]:"Colors",[u.RESOURCE_TYPE.COMPONENTS]:"Components"};function S(e){return b[e]}const y=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});class v extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[a.a.StyleguideStore,a.a.ProjectsDataStore,a.a.StyleguidesDataStore,a.a.BarrelStore,a.a.UserStore]}static calculateState(){const{moveResourcesPopup:e}=a.a.StyleguideStore.getState(),{organizationId:t,barrelType:n,movingResourcesToStyleguide:i}=a.a.BarrelStore.getState(),{userId:o}=a.a.UserStore.getState(),s=m.default.getOrganizationStyleguides(t),r=g.default.getBarrel(),l=function(e,t,n,i){if(!t||!i)return[];const o=t.users.find(e=>"owner"===e.role);return e.filter(e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===u.RESOURCE_TYPE.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){const t=e.users.find(e=>"owner"===e.role);return o&&t&&o.user._id===t.user._id}return!0})}(s,r,t,e);return{moveResourcesPopup:e,movingResourcesToStyleguide:i,barrel:r,moveableStyleguides:l,organizationId:t,currentUserId:o,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return y.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return y.NONE;const o=e.type!==i.type;return n===u.RESOURCE_TYPE.COMPONENTS&&o?y.COMPONENT:y.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==y.BASIC_DIALOG&&p.default.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&p.default.closeMoveResourcesPopup()}handleStyleguideSelect(e){p.default.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,resources:t,targetStyleguide:n}}=this.state;f.default.moveResourcesRequest({resourceType:e,resources:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:o,barrel:s,moveResourcesPopup:r,barrelType:a}=this.state;if(!e.length){if("user"!==n)return i.h(c.NoStyleguideToMoveInOrganization,{oid:n});return o!==s.findOwner().user._id?i.h(c.NoStyleguideToMoveNonOwner,{resourceType:b[r.resourceType],barrelType:a,barrelOwnerName:s.username}):i.h(c.NoStyleguideToMove,{resourceType:b[r.resourceType]})}return i.h(c.default,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:o}=this.state,{targetNode:s,targetStyleguide:r}=e;let a;return a=this.getWarningDialogType()===y.COMPONENT?i.h(l.default,{loading:!!o,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:r.type}):this.renderSelectStyleguides(),i.h(d.default,{targetNode:s,content:a,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!e||!t)return null;const{resourceType:n,targetStyleguide:o}=t;return i.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===y.BASIC_DIALOG&&i.h(h.BasicOverlayDialog,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:p.default.deselectMoveResourcesTargetStyleguide,message:`Move ${S(n)} from "${e.name}" to "${o.name}"?`}))}}t.default=s()(v)},function(e,t,n){"use strict";n.r(t);var i=n(2075);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(723),s=n(771),r=n(574),a=n.n(r),l=n(559);n(2076);t.default=function(e){const{onMove:t,barrelType:n,currentType:r,targetType:c,loading:d}=e;return i.h("div",{class:"moveComponentWarning"},i.h("h4",null,"☝️✂️"),i.h("p",null,"Your current ",n===a.a.PROJECT&&"local ","styleguide’s type is ",i.h("strong",null,Object(l.getPlatformString)(r)),", some of the assets"," ",i.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(l.getPlatformString)(c)," type.",i.h("br",null),i.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.h(o.default,{onClick:!d&&t,primary:!0},d?i.h(s.IconSpinner,{class:"iconSpinner",color:"#fff"}):"Move Anyway"))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2079);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(1343);n(2080);t.default=function(e){const{styleguide:t={},loading:n,loadingJoin:s,onJoin:r}=e,{_id:a,name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,componentSections:[{components:f}]=[{}]}=t;return i.h("div",{class:"styleguidePreviewPage"},n?i.h(o.StyleguidePreviewLoading,null):i.h(o.default,{showJoinButton:!0,headerSticky:!0,onJoin:function(){r({bid:a,source:"Preview"})},loadingJoin:s,name:l,type:c,densityScale:d,users:u,colors:p,textStyles:h,components:f}))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2082);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(2083),a=n(681),l=n(1506),c=n(582),d=n.n(c),u=n(556),p=n(559);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"handleAddLocal",async e=>{await e.load(),l.default.add({extension:e,local:!0})}),m(this,"handleEnable",e=>{l.default.enable({eid:e})}),m(this,"handleDisable",e=>{l.default.disable({eid:e})}),m(this,"handleRemove",(e,{local:t=!1}={})=>{l.default.remove({eid:e,local:t,syncWithApi:!0})})}static calculateState(){const{extensionId:e,extensions:t,enabledExtensions:n}=d.a.ExtensionsStore.getState(),i=t.map(e=>({id:e.id,default:e.default,enabled:n.includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(u.getExtensionWebsiteUrl)({eid:e.id}),repository:e.repository,options:e.optionsSchema.map(t=>g(g({},t),{},{value:e.getOption(t.id)})),local:e.local})),{barrelId:o,barrelType:s,organizationId:r}=d.a.BarrelStore.getState(),c=a.default.findUser();return{barrelId:o,barrelType:s,organizationId:r,selectedExtensionId:e,canRemoveExtensions:p.permissions.canRemoveExtensions(c),extensions:i,visible:!0,onUpdateOption:l.default.updateOption}}static getStores(){return[d.a.BarrelStore,d.a.ExtensionsStore,d.a.UserStore]}render(){return i.h(r.default,h({},this.state,{onAddLocal:this.handleAddLocal,onEnable:this.handleEnable,onDisable:this.handleDisable,onRemove:this.handleRemove}))}}t.default=s()(b)},function(e,t,n){"use strict";n.r(t);var i=n(2084);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(4),o=n(942),s=n(723),r=n(771),a=n(2085),l=n(2092),c=n(2095),d=n(2098),u=n(737),p=n(556),h=n(555),f=n(602),g=n(1506);n(2101);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(e){super(e),b(this,"handleAddLocal",e=>{const{extensions:t,onAddLocal:n}=this.props;f.WebappExtension.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}),b(this,"handleUpdateOption",(e,t)=>{this.props.onUpdateOption(this.state.selectedExtensionId,e,t)}),b(this,"handleRemove",()=>{const e=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{barrelType:t,onRemove:n}=this.props;if(e.local)return void n(e.id,{local:!0});const i=Object(p.getExtensionWebsiteUrl)({eid:e.id});h.create({title:`Remove “${e.name}” from ${t}?`,message:`Extension will be removed for all members of this ${t}. You can add it back from <a href="${i}" target="_blank">extension page</a>.`,done:{name:"REMOVE",cb(){n(e.id)}},cancel:{name:"KEEP"}},{contentType:"html"})}),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}close(){g.default.closeSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}showAddLocalExtensionPopup(){f.WebappExtension.createLocal("http://127.0.0.1:7070").then(e=>{const t={localExtensionPopupVisible:!0};this.props.extensions.some(t=>t.id===e.id)||Object.assign(t,{localExtensionUrl:"http://127.0.0.1:7070",localExtension:e}),this.setState(t)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleDocumentKeyDown(e){e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){if(e)return i.h(l.default,m({onChange:this.handleUpdateOption},e));const{extensions:t,onEnable:n,onDisable:o}=this.props;return t.length?i.h(a.default,{extensions:t,onEnable:n,onDisable:o,onSettingsClick:this.showSettings}):i.h(c.default,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,canRemoveExtensions:t,organizationId:n}=this.props,{localExtension:a,localExtensionUrl:l,localExtensionPopupVisible:c,selectedExtensionId:h,altPressed:f}=this.state,g=a&&e.some(e=>e.id===a.id),m=e.find(e=>e.id===h);return i.h(o.default,{baseRef:Object(u.default)(this,"extensionDialog"),width:640,height:640,onClose:this.close,showBackdrop:!1,fallbackButtonText:m&&(m.local||t)&&"REMOVE",onFallbackButtonClick:this.handleRemove,hideNegativeButton:!0},i.h("div",{class:"extensionDialogHeader"},m&&i.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"extensionDialogBackLink"},i.h(r.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",null,"Extensions")),i.h("h2",null,m?m.name:"Extensions"),f||c?i.h(s.default,{class:"addLocalExtension",disabled:c,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.h("a",{href:Object(p.getExtensionWebsiteUrl)({organizationId:n}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.h("div",{class:"extensionDialogMain"},this.renderContent(m),c&&i.h(d.default,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:l,alreadyAdded:g,onAdd:this.handleAddLocal,onClose:this.hideLocalExtensionPopup,extension:a})))}}},function(e,t,n){"use strict";n.r(t);var i=n(2086);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2087),s=n(723),r=n(719),a=n.n(r),l=n(1792),c=n(771),d=n(718),u=n.n(d),p=n(563),h=n(556);n(2091);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return i.h("div",{class:"extensionPreview"},i.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.h("a",{href:Object(h.getExtensionWebsiteUrl)(),target:"_blank",rel:"noopener"},"Learn more…")),i.h("div",{class:"snippetExample"},i.h("div",{class:"sampleButtonWithArrow"},i.h("img",{src:Object(p.imageUrl)("img/icCurvedArrow.svg")}),i.h("div",{class:"sampleButton"},"Button")),i.h(l.default,{lang:"css",class:"sampleCode",content:".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}",style:{fontSize:"12px",lineHeight:"14px"}})))}class m extends i.Component{constructor(...e){super(...e),f(this,"handleEnabledChange",e=>{(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}),f(this,"handleSettingsClick",()=>{this.props.onSettingsClick(this.props.id)})}render(){const{name:e,author:t,repository:n,description:r,url:l,local:d,loaded:h,enabled:f}=this.props,g=[t.url,n];return i.h("div",{class:"extensionListItem"},d&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(p.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(p.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(p.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("label",null,i.h(a.a,{onChange:this.handleEnabledChange,checked:f}),i.h("div",{class:"extensionInfo"},i.h("div",null,i.h("span",{class:"name"},e),i.h("span",{class:"author"},t.displayName)),h?i.h("span",{class:"description"},r):i.h("span",{class:"error"},"Fetching extension failed"),i.h(o.default,{links:g}))),i.h("a",{class:u()("readmeLink",{invisible:d}),href:l,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null)),i.h(s.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,null)))}}t.default=function({extensions:e,onEnable:t,onDisable:n,onSettingsClick:o}){const s=e.map(e=>{const{id:s,name:r,description:a,author:l,url:c,repository:d,enabled:u,loaded:p,local:h}=e;return i.h(m,{onEnable:t,onDisable:n,onSettingsClick:o,key:s,id:s,name:r,description:a,author:l,url:c,repository:d,enabled:u,loaded:p,local:h})});return i.h("div",{class:"barrelExtensions"},i.h(g,null),s)}},function(e,t,n){"use strict";n.r(t);var i=n(2088);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(4),o=n(2089);n(2090);function s({links:e}){const t=e.map(o.default).filter(Boolean).map(({text:e,url:t},n)=>[!!n&&" • ",i.h("a",{key:e,href:t,target:"_blank",rel:"noopener"},e)]);return i.h("span",{class:"extensionLinks"},t)}},function(e,t,n){"use strict";function i(e){try{const t=new URL(e);let n;switch(t.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":{const e=t.hostname.split(".");n=e[e.length-2];break}case"www.twitter.com":case"twitter.com":n=t.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:n=e.replace(/https?:\/\//,"")}return{url:e,text:n}}catch(t){return null}}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2093);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(4),o=n(2087),s=n(849),r=n(719),a=n.n(r),l=n(1430),c=n(771),d=n(563);n(2094);class u extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.h("div",{class:"option"},i.h("span",{class:"name"},t),i.h(s.default,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.h(s.default.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(e,n)))}}class p extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(a.a,{name:t,onChange:this.handleChange,checked:n}))}}class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(l.default,{onBlur:this.handleChange,value:t,placeholder:"Let’s find a placeholder"}))}}function f(e){const{author:t,repository:n,description:s,url:r,local:a,options:l,onChange:f}=e,g=l.map(e=>{let t;switch(e.type){case"picker":t=u;break;case"switch":t=p;break;case"text":t=h;break;default:return null}return i.h(t,Object.assign(e,{onChange:f}))}).filter(Boolean),m=[t.url,n];return i.h("div",{class:"extensionSettings"},i.h("div",{class:"extensionInfo"},i.h("div",null,a&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(d.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("div",{class:"author"},t.displayName),i.h("div",{class:"description"},s),i.h(o.default,{links:m})),!a&&i.h("a",{class:"readmeLink",href:r,target:"_blank",rel:"noopener"},i.h(c.IconReadme,null))),g.length>0&&i.h("h3",null,"Settings"),g)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2096);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(4),o=n(879),s=n(556);n(2097);function r({organizationId:e}){return i.h("div",{class:"noExtensions"},i.h("h2",null,"No added extensions yet ",i.h(o.default,{asset:"img/emjAlembic.png"})),i.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.h("br",null),i.h("br",null),"Pick the ones that fit your workflow."),i.h("a",{href:Object(s.getExtensionWebsiteUrl)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2099);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(4),o=n(723),s=n(1430),r=n(559),a=n(718),l=n.n(a),c=n(737),d=n(558);n(2100);class u extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:o}=this.nodeRefs;i||(n&&!e||t?Object(d.highlightInput)(o):o.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(d.wiggle)(e),Object(d.highlightInput)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t="http://"+t),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:o,invalidUrl:s}=this.state,r=n&&!e,a=o&&!s,c=r||t||s;let d;return s?d="Enter a valid URL.":t?d=`“${e.name}” is already added.`:e?d=`Found “${e.name}”.`:r&&(d="No extension found."),i.h("p",{class:l()("info",{warning:c,invisible:a})},d)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:a}=this.props,{urlChanged:l,invalidUrl:d}=this.state,u=d||!l&&(n&&!e||t);return i.h("div",{ref:Object(c.default)(this,"base"),class:"localExtensionPopup",onClick:r.stopPropagation},i.h("div",null,i.h("p",null,"Enter extension URL:"),i.h(s.default,{inputRef:Object(c.default)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.h("div",{class:"footer"},i.h(o.default,{class:"cancel",onClick:a},"CANCEL"),i.h(o.default,{class:"done",onClick:this.handleAddClick,disabled:u},"ADD")))}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2103);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(582)),r=i(n(681)),a=i(n(687)),l=i(n(702)),c=i(n(845)),d=i(n(2104));class u extends o.Component{constructor(){super(...arguments),this.handleTagOperation=(e,t)=>{const{screenIds:n}=this.state;l.default.updateTags({updates:n.map(n=>({_id:n,operation:t,tags:[e]})),isScreen:!0,syncWithApi:!0})},this.handleAdd=e=>{this.handleTagOperation(e,"add")},this.handleRemove=e=>{this.handleTagOperation(e,"remove")},this.handleDocumentClick=e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&l.default.closeTagManager()},this.handleKeyDown=e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&l.default.closeTagManager()}}static getStores(){return[s.default.BarrelStore,s.default.ScreenStore,s.default.ProjectsDataStore]}static calculateState(){const{tagManagerScreenIds:e}=s.default.ScreenStore.getState();if(0===e.length)return{};const t=r.default.getBarrel(),n=a.default.getScreens({sids:e,bid:null==t?void 0:t.id}),i=new Set;return n.forEach(({tags:e})=>{e.forEach(e=>i.add(e))}),{screenIds:e,tags:[...i],barrelTags:t.tags}}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenIds:e,tags:t,barrelTags:n}=this.state;return 0===e.length?null:o.h(d.default,{tags:t,barrelTags:n,onAdd:this.handleAdd,onRemove:this.handleRemove,onClose:l.default.closeTagManager})}}t.default=c.default(u)},function(e,t,n){"use strict";n.r(t);var i=n(2105);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(5),s=n.n(o),r=n(559),a=n(737),l=n(2106);n(2115);class c extends i.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleAdd=this.handleAdd.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleAdd(e){const{onAdd:t}=this.props;this.setState({filter:""}),t(e)}componentDidMount(){this.nodeRefs.input.focus()}render(){const{tags:e,barrelTags:t,onRemove:n,onClose:o}=this.props,{filter:s}=this.state,c=s.trim(),d=t.filter(t=>!e.includes(t)).reduce((e,t)=>(t.toLowerCase().includes(s.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===c&&(e.shouldCreateNewTag=!1),e),{shouldCreateNewTag:!0,suggestionList:[]});return d.shouldCreateNewTag&&c&&!e.includes(c)&&d.suggestionList.push({name:c,isNew:!0}),i.h("div",{class:"tagManagerOverlay",onClick:o},i.h("div",{class:"tagManagerPopup",onClick:r.stopPropagation},i.h("input",{ref:Object(a.default)(this,"input"),value:s,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange}),i.h(l.default,{tagList:e,suggestionList:d.suggestionList,onAddTag:this.handleAdd,onRemoveTag:n}),i.h("div",{class:"tagManagerCommands"},i.h("button",{class:"tagManagerDoneButton",onClick:o},"DONE"))))}}c.propTypes={tags:s.a.arrayOf(s.a.string).isRequired,barrelTags:s.a.arrayOf(s.a.string).isRequired,onAdd:s.a.func.isRequired,onRemove:s.a.func.isRequired,onClose:s.a.func.isRequired},c.defaultProps={tags:[],barrelTags:[]},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(2107);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(2108),s=n(2111),r=n(563),a=n(559),l=n(737),c=n(558);n(2114);class d extends i.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(a.arrayEqual)(e.suggestionList,this.props.suggestionList,(e,t)=>e.name===t.name&&e.isNew===t.isNew)||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.scrollIfNecessary)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.h("div",{class:"screenTags"},e.map(e=>i.h(s.default,{key:e,tag:e,onRemove:t})))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:s}=this.state;return i.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map((e,t)=>{let r;return s===t&&(r=Object(l.default)(this,"selectedSuggestion")),i.h(o.default,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:s===t,isNew:e.isNew,ref:r,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}renderProjectWithNoTags(){return i.h("div",{class:"tagList"},i.h("div",{class:"noTagsOrSuggestions"},i.h("img",{class:"noTagsTagIcon",src:Object(r.imageUrl)("img/icTag.svg")}),i.h("p",null,"No tag defined yet."),i.h("div",{class:"textAndIcon"},i.h("p",null,"Go ahead, add your first tag!"),i.h("img",{src:Object(r.imageUrl)("img/icDart.png"),srcset:Object(r.srcset)(Object(r.imageUrl)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(2109);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(723),r=n(718),a=n.n(r),l=n(563);n(2110);class c extends o.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.h(s.default,{class:a()("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.h("div",{class:"createNewTag"},i.h("img",{src:Object(l.imageUrl)("img/icCreateNewTag.svg")}),i.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.h("span",{class:"suggestionText ellipsis"},t))}}t.default=c},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2112);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(563),s=n(723);n(2113);class r extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.h("div",{class:"manageTagsTag noSelect"},i.h("span",{class:"tagButtonText ellipsis"},e),i.h(s.default,{onClick:this.handleClick,class:"removeTagButton"},i.h("img",{src:Object(o.imageUrl)("img/icGuidelineRemove.svg")})))}}t.default=r},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2117);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(4),l=r(n(845)),c=r(n(582)),d=r(n(1533)),u=r(n(2118)),p=s(n(656));class h extends a.Component{static calculateState(){const{open:e,inid:t,channelName:n,eventGroupsByInid:i,loading:o}=c.default.SlackPreferencesStore.getState(),{barrelType:s}=c.default.BarrelStore.getState(),r=i[t],a=p.eventGroupsByBarrelType[s];return{open:e,channelName:n,preferenceGroups:Object.entries(a).map(([e,t])=>{var n;return{title:t.name,description:t.info,loading:o.includes(e),checked:(null===(n=null==r?void 0:r[e])||void 0===n?void 0:n.length)===t.events.length,eventGroup:e}})}}static getStores(){return[c.default.SlackPreferencesStore,c.default.BarrelStore]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&a.h(u.default,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:d.default.updateEventGroup,onClose:d.default.close})}}t.default=l.default(h)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2119);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(2120)),a=i(n(942));n(2123),t.default=function({channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:i}){const l=s.useRef();return s.useEffect(()=>{l.current.scrollTop=1,l.current.scrollTop=0}),o.h(a.default,{width:400,onClose:i,showBackdrop:!1,hideNegativeButton:!0},o.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",o.h("span",{title:e},e)),o.h("div",{ref:l,class:"slackPreferenceGroupsContainer"},t.map(({title:e,description:t,loading:i,checked:s,eventGroup:a})=>o.h(r.default,{key:a,title:e,description:t,loading:i,checked:s,onChange:n,eventGroup:a}))))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2121);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718)),r=i(n(719));n(2122),t.default=function({title:e,description:t,loading:n,checked:i,onChange:a,eventGroup:l}){return o.h("label",{className:s.default("slackPreferenceGroup",{loading:n})},o.h("div",{className:"slackPreferenceGroupInfo"},o.h("div",{className:"slackPreferenceGroupName",title:e},e),o.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),o.h(r.default,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:i,onChange:function(e){a(l,e.target.checked)}}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2126);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1033)),r=i(n(582)),a=i(n(845)),l=i(n(2127)),c=i(n(2130)),d=i(n(2170)),u=i(n(2190)),p=i(n(2211)),h=i(n(585)),f=i(n(1034)),g=i(n(2212)),m=i(n(2218)),b=i(n(2221)),S=i(n(574)),y=i(n(1646)),v=i(n(682)),C=i(n(1294)),O=i(n(2224)),E=i(n(681)),T=i(n(696)),_=n(688),P=n(543),D=i(n(702)),I=i(n(718)),j=n(559),k=n(614),R=i(n(1507)),A=n(677),w=i(n(2225)),N=i(n(946));n(2226);class L extends o.Component{constructor(){super(...arguments),this.toggleMuteStatus=(e,t,n)=>{if(t===S.default.PROJECT){(e?N.default.unmuteProjectNotifications:N.default.muteProjectNotifications)({pid:n,syncWithApi:!0})}else{(e?N.default.unmuteStyleguideNotifications:N.default.muteStyleguideNotifications)({stid:n,syncWithApi:!0})}},this.setAllAsRead=()=>{const{activities:e}=this.state,t=e.filter(e=>!f.default.isActivityRead(e));s.default.markAllAsRead(t)},this.toggleReadStatus=(e,t)=>{const n=e.events.filter(e=>t.includes(e._id)),i=f.default.areEventsRead(n);s.default.setEventReadStatus(e,n.map(({_id:e})=>e),!i)},this.toggleDotStatus=()=>{const{selectedEvents:[{project:e,screen:t}],selectedDot:n}=this.state,{_id:i,status:o}=n,{_id:s}=e,{_id:r}=t,a=o===y.default.OPEN?y.default.RESOLVED:y.default.OPEN;D.default.updateDotStatus({pid:s,sid:r,did:i,status:a,syncWithApi:!0,source:"Notification"})},this.addDotComment=e=>{const t=e.trim();if(!t)return;const{selectedEvents:[{project:n,screen:i}],selectedDot:o}=this.state,{_id:s}=o,{_id:r}=n,{_id:a}=i;D.default.createComment({pid:r,sid:a,did:s,note:t,syncWithApi:!0,source:"Notification"})},this.trackActivitiesNavigation=()=>{f.default.trackEventWithFilterDetails("Navigated to notification destination")},this.setContentWidth=()=>{this.state.ready&&this.setState({contentWidth:window.innerWidth-this.state.sidebarWidth})},this.handleSidebarResize=e=>{this.setState({contentWidth:window.innerWidth-e})},this.handleMembersOpen=()=>{const{allBarrelsSelected:e}=this.state;if(e){const{selectedOrganizationId:e}=r.default.ActivitiesViewStore.getState();p.default.requestRelatedUsers(e)}},this.handleSectionsOpen=()=>{var e;const{projectId:t}=this.state;(null===(e=E.default.getProject({pid:t}))||void 0===e?void 0:e.sections)||C.default.requestProject(t)},this.handleJoinStyleguide=()=>{const{styleguideId:e}=this.state;T.default.join({barrelType:S.default.STYLEGUIDE,bid:e,shouldLoadBarrel:!1})}}static calculateState(){var e,t,n,i,o,s,a,l,c,d,u,p;const{notifications:g,loading:m}=r.default.NotificationsStore.getState(),{loadingOrganization:b,loadingBarrels:y,focusedBarrels:C}=r.default.OrganizationStore.getState(),{loading:T,selectedId:D,selectedEventIds:I,dotsLoaded:k,category:R,barrelSelection:w,projectsWithUpdatesOnly:N,sectionId:L,noteStatusFilter:M,color:x,memberId:U,selectedOrganizationId:B,sidebarWidth:V,listScrollData:z,autoSelect:F}=r.default.ActivitiesViewStore.getState(),W=v.default.getOrganization(B),G=!(0!==(null==W?void 0:W.sections.length));if(T||b||y||m||G||!B)return{ready:!1};const H=r.default.UserStore.getState().userId,$=g.filter(({actionName:e})=>f.default.isTypeValid(e)),q=(v.default.getOrganizationProjects(B)||[]).filter(e=>e.users.some(({user:e})=>e._id===H)),{dotStatesToLoad:Z,dotStatesReady:K}=f.default.getDotStatesRequirement($,q);if(Z||!K)return{ready:!1,dotStatesToLoad:Z};const Y="all"===w.type,J=w.type===S.default.PROJECT?w.id:void 0,X=J?E.default.getProject({pid:J}):void 0;let Q,ee,te=!1;if(Y){const n=v.default.getOrganizationProfile(B);if("user"===B||n.restricted){const{acquaintancesLoading:e,acquaintancesError:t}=r.default.UserStore.getState();te=e,ee=null==t?void 0:t.message,Q=O.default.getUserAndAcquaintances()}else te=!!W.membersLoading,ee=null===(e=W.membersError)||void 0===e?void 0:e.message,Q=null===(t=W.members)||void 0===t?void 0:t.map(({user:e})=>e)}else X&&(Q=X.users.map(({user:e})=>e));Q=null!==(n=null==Q?void 0:Q.filter(({username:e})=>e))&&void 0!==n?n:[];const{error:ne,loadingProject:ie}=r.default.ProjectsDataStore.getState(),oe=null!==(o=null===(i=null==X?void 0:X.sections)||void 0===i?void 0:i.slice(1))&&void 0!==o?o:[],se=!oe.length&&ie,re=(null===(s=null==X?void 0:X.sections)||void 0===s?void 0:s.length)||null==ne?void 0:ne.message,ae=w.type===S.default.PROJECT?w.isPinned:void 0,le=w.type===S.default.STYLEGUIDE?w.id:void 0;let ce=f.default.updatedDotStates($);if(ce=ce.filter(e=>f.default.isInCategory(e,R)),M&&(ce=ce.map(e=>f.default.filterEventsByNoteStatus(e,M)).filter(A.exists)),x&&(ce=ce.map(e=>f.default.filterEventsByDotColor(e,x)).filter(A.exists)),U&&(ce=ce.map(e=>f.default.filterEventsByUser(e,U)).filter(A.exists)),L){const e=null===(a=oe.find(({_id:e})=>e===L))||void 0===a?void 0:a.screens;ce=ce.filter(({events:[{screen:t}]})=>t&&(null==e?void 0:e.includes(t._id)))}const de=new Set,ue={},pe=new Set;for(const r of $.filter(e=>!f.default.isActivityRead(e)))f.default.getRelatedProjects(r).forEach(e=>{var t;de.add(e),f.default.hasMention(r)&&(ue[e]=(null!==(t=ue[e])&&void 0!==t?t:0)+1)}),f.default.getRelatedStyleguides(r).forEach(e=>pe.add(e));const he=r.default.UserStore.getState().notificationSettings,{mutedProjects:fe,mutedStyleguides:ge}=he,me=!!J&&fe.includes(J),be=q.map(e=>{var t;return Object.assign(Object.assign({},e),{muted:fe.includes(e.id),hasUpdate:de.has(e.id),mentionCount:null!==(t=ue[e.id])&&void 0!==t?t:0})}).filter(({_id:e,hasUpdate:t,status:n})=>(!N||t)&&"archived"!==n||e===J);let Se;if(W){const[e,...t]=W.sections;e.name="Individual Projects",Se=[...t,e]}else be.sort(j.sortBy.name).sort((e,t)=>Number(t.hasUpdate)-Number(e.hasUpdate)),Se=[{_id:"personalProjectDefaultSection",name:"Personal Projects",projects:be.map(e=>e._id)}];const ye=_.filterSortProjectSections({sections:Se,projects:be,projectsLookup:be.reduce((e,t)=>Object.assign(Object.assign({},e),{[t._id]:t}),{}),sortType:P.SortTypes.SECTIONS,shouldPutResultsToDefaultSection:!W}),ve=null===(l=C[B])||void 0===l?void 0:l.map(e=>e.barrelId),Ce=(v.default.getOrganizationStyleguides(B)||[]).map(e=>Object.assign(Object.assign({},e),{muted:ge.includes(e.id),hasUpdate:pe.has(e.id)})),Oe=Ce.filter(e=>e.users.some(({user:e})=>e._id===H)),Ee=Oe.filter(({_id:e,status:t})=>"archived"!==t||e===le),Te=Ee.reduce((e,t)=>new Set([...e,...t.ancestors,t.id]),new Set);const _e=Ce.filter(({_id:e})=>Te.has(e));Y?ce=ce.map(e=>f.default.filterEventsByMutedStatus(e,B,q.map(({_id:e})=>e),Oe.map(({_id:e})=>e),he)).filter(A.exists):J?ce=ce.map(e=>f.default.filterEventsByProject(e,J)).filter(A.exists):le&&(ce=ce.map(e=>f.default.filterEventsByStyleguide(e,le)).filter(A.exists));const Pe=ce.find(({_id:e})=>e===D),De=null!==(c=null==Pe?void 0:Pe.events.filter(({_id:e})=>I.includes(e)))&&void 0!==c?c:[],Ie=De.length?De[0]:void 0,je=!!Pe&&f.default.getCategory(Pe)===h.default.Note,ke=je?q.find(({id:e})=>e===Ie.project._id):void 0,Re=null===(d=null==ke?void 0:ke.screens)||void 0===d?void 0:d.find(({_id:e})=>e===Ie.screen._id),Ae=null===(u=null==Re?void 0:Re.versions)||void 0===u?void 0:u[0].snapshot,we=null===(p=null==Re?void 0:Re.dots)||void 0===p?void 0:p.find(({_id:e})=>{var t;return e===(null===(t=Ie.dot)||void 0===t?void 0:t._id)});return{ready:!0,userId:H,activities:ce,selectedOrganizationId:B,selectedItem:Pe,selectedEvents:De,selectedDot:we,selectedDotSnapshot:Ae,dotError:je&&(k&&!we||!Ae&&!ie),category:R,allBarrelsSelected:Y,mutedProjectSelected:me,projectId:J,isSelectedProjectPinned:ae,styleguideId:le,projectsWithUpdatesOnly:N,styleguides:_e,workspaceSections:ye,pinnedProjectIds:ve,noteStatusFilter:M,color:x,usersLoading:te,usersError:ee,users:Q,projectMemberId:U,loadingScreenSections:se,screenSectionsError:re,screenSections:oe,screenSectionId:L,selectedBarrelType:w.type,sidebarWidth:V,listScrollData:z,autoSelect:F}}static getStores(){return[r.default.NotificationsStore,r.default.ActivitiesViewStore,r.default.DotStatesStore,r.default.OrganizationStore,r.default.ProjectsDataStore,r.default.StyleguidesDataStore,r.default.UserStore,r.default.BarrelStore]}componentDidMount(){s.default.updateNotificationLastReadTime(),window.addEventListener("resize",this.setContentWidth)}componentDidUpdate(e,t){t.ready||t.dotStatesToLoad||this.state.ready||!this.state.dotStatesToLoad||w.default.requestDotStates(this.state.dotStatesToLoad),!t.ready&&this.state.ready&&this.setContentWidth()}componentWillUnmount(){s.default.updateNotificationLastReadTime(),window.removeEventListener("resize",this.setContentWidth)}render(){var e;if(!this.state.ready)return o.h(m.default,null);const{activities:t,userId:n,selectedOrganizationId:i,selectedItem:s,selectedEvents:r,selectedDot:a,selectedDotSnapshot:f,dotError:S,category:y,allBarrelsSelected:v,mutedProjectSelected:C,projectId:O,isSelectedProjectPinned:E,styleguideId:T,projectsWithUpdatesOnly:_,styleguides:P,workspaceSections:D,pinnedProjectIds:j,noteStatusFilter:A,color:w,usersLoading:N,usersError:L,users:M,projectMemberId:x,loadingScreenSections:U,screenSectionsError:B,screenSections:V,screenSectionId:z,selectedBarrelType:F,sidebarWidth:W,listScrollData:G,autoSelect:H}=this.state,$=y===h.default.Note,q=t.length>0;let Z=!1;if(T){const e=P.find(e=>e.id===T);(null==e?void 0:e.users.find(e=>e.user._id===n))||(Z=!0)}const K=!q||Z,Y=null!==(e=this.state.contentWidth)&&void 0!==e?e:window.innerWidth-W,J=k.clamp(Y,940,1148),X=J-108,Q=Math.round(.38461538461538464*X),ee=X-Q,te=Math.max(0,(Y-J)/2),ne=!!G,ie=ne?{height:"0px",overflow:"hidden"}:void 0;return o.h(o.Fragment,null,ne&&o.h(m.default,null),o.h("div",{class:"activitiesContainer",style:ie},o.h(R.default,{class:"activitiesSidebar",initialWidth:W,minWidth:260,collapsible:!1,onResize:this.handleSidebarResize,onRelease:p.default.setSidebarWidth,resizingSide:"right"},o.h(l.default,{category:y,onSelect:p.default.selectCategory}),o.h("div",{class:"activitiesSidebarSeparator"}),o.h(g.default,{allSelected:v,projectId:O,isSelectedProjectPinned:E,styleguideId:T,projectsWithUpdatesOnly:_,sections:D,pinnedProjectIds:j,styleguides:P,selectedOrganizationId:i,selectAll:p.default.selectAllBarrels,selectBarrel:p.default.selectBarrel,onProjectsWithUpdatesOnlyChange:p.default.setProjectsWithUpdatesOnly,onToggleMuteStatusClick:this.toggleMuteStatus})),o.h("div",{class:"activitiesContent",style:{paddingLeft:te,paddingRight:te}},Y&&$&&!T&&o.h(c.default,{loadingMembers:N,membersError:L,members:M,showSectionFilter:!v,loadingSections:U,sectionsError:B,sections:V,selectedNoteStatus:A,selectedColor:w,selectedMemberId:x,selectedSectionId:z,onNoteStatusFilterChange:p.default.selectNoteStatusFilter,onColorChange:p.default.selectColor,requestMembers:this.handleMembersOpen,onMemberFilterChange:p.default.selectMember,requestSections:this.handleSectionsOpen,onSectionFilterChange:p.default.selectSection}),Y&&K&&o.h(b.default,{barrelType:F,category:y,notInvitedToStyleguide:Z,onJoinStyleguide:this.handleJoinStyleguide}),Y&&q&&!K&&o.h("div",{class:I.default("activityListAndDetails",{noteCategorySelected:$})},o.h(d.default,{width:Q,scrollData:G,activities:t,selectedItemId:null==s?void 0:s._id,selectedEventIds:r.map(({_id:e})=>e),onSetAllAsReadClick:this.setAllAsRead,onSelect:p.default.select,onSaveScrollData:p.default.saveListScrollData,autoSelect:H,onToggleReadStatusClick:this.toggleReadStatus,allSelected:v,mutedProjectSelected:C}),s&&o.h(u.default,{width:ee,activity:s,events:r,dot:a,dotSnapshot:f,dotError:S,onActivitiesNavigationClick:this.trackActivitiesNavigation,onToggleReadStatusClick:this.toggleReadStatus,onToggleDotStatusClick:this.toggleDotStatus,onAddDotCommentClick:this.addDotComment})))))}}t.default=a.default(L)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2128);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(585)),r=i(n(718)),a=n(771);n(2129);const l={[s.default.All]:{description:"All",Icon:a.IconComponent,customIconClass:"activityCategoryAllIcon",customWidth:16,customHeight:16},[s.default.Note]:{description:"Notes",Icon:a.IconReadme},[s.default.Screen]:{description:"Screens",Icon:a.IconCopy},[s.default.Styleguide]:{description:"Styleguide",Icon:a.IconLayerStyle,customIconClass:"activityCategoryStyleguideIcon",customHeight:26},[s.default.Other]:{description:"Others",Icon:a.IconMenu}},c=Object.keys(s.default);t.default=function({category:e,onSelect:t}){const n=Object.fromEntries(c.map(e=>[e,()=>t(e)]));return o.h("div",{class:"activityCategories"},c.map((function(t){const i=t===e,{description:s,Icon:a,customIconClass:c,customWidth:d,customHeight:u}=l[t];return o.h("div",{key:t,class:r.default("activityCategory",{selected:i}),onClick:n[t]},o.h(a,{width:null!=d?d:24,height:null!=u?u:24,color:i?"#fff":"var(--gandalf)",class:r.default("activityCategoryIcon",c)}),s)})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2131);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2132)),r=i(n(2153)),a=i(n(2163)),l=i(n(2166)),c=i(n(1722)),d=n(640),u=n(677);function p(e){var t,n;return null!==(n=null!==(t=null==e?void 0:e.fullName)&&void 0!==t?t:null==e?void 0:e.username)&&void 0!==n?n:null==e?void 0:e.email}n(2169),t.default=function({loadingMembers:e,membersError:t,members:n,showSectionFilter:i,loadingSections:h,sectionsError:f,sections:g,selectedColor:m,selectedNoteStatus:b,selectedMemberId:S,selectedSectionId:y,onNoteStatusFilterChange:v,onColorChange:C,onMemberFilterChange:O,onSectionFilterChange:E,requestMembers:T,requestSections:_}){const P=new Map;P.set("section",g.map(({_id:e,name:t})=>({id:e,name:t}))),P.set("member",n.map(e=>({id:e._id,name:p(e)}))),P.set("color",d.colorNames.map(e=>({id:e,name:e}))),P.set("type",u.entriesOf(c.default).map(([e,t])=>({id:e,name:t})));const D=n.find(({_id:e})=>e===S),I=g.find(({_id:e})=>e===y);return o.h("div",{class:"activitiesNoteFilterView"},o.h(r.default,{elementMap:P,width:322,loadingSections:h,loadingMembers:e,members:n,membersError:t,sectionsError:f,selectedColor:m,selectedType:b?c.default[b]:void 0,selectedMember:p(D),selectedSection:null==I?void 0:I.name,requestMembers:T,requestSections:_,onColorChange:C,onMemberFilterChange:O,onSectionFilterChange:E,onNoteStatusFilterTypeChange:v,sectionDataEnabled:i}),o.h(a.default,{dropdownTop:42,dropdownLeft:-6,selectedColor:m,selectedNoteStatus:b,onNoteStatusFilterChange:v,onColorChange:C}),o.h(s.default,{dropdownTop:42,dropdownLeft:-93,loading:e,error:t,members:n,selectedMemberId:S,requestMembers:T,onFilterChange:O}),i&&o.h(l.default,{dropdownTop:42,dropdownLeft:-203,loading:h,error:f,sections:g,requestSections:_,selectedSectionId:y,onFilterChange:E}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2133);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2134)),r=i(n(2137)),a=i(n(849)),l=i(n(855)),c=i(n(718)),d=n(558),u=n(568);n(2152);function p({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(a.default.Item,{selected:!e},o.h("div",{class:"membersDropdownItem"},o.h("div",{class:"allMembersAvatar"},"👨‍👩‍👧‍👧"),o.h("span",null,t.length>1?"All members":"History members"))),o.h(s.default,null)),t.map(t=>{const{_id:n,fullName:i,username:s}=t,{src:r,srcset:c}=d.getUserAvatar(t,{size:24}),u=i||s,p=e===n;return o.h(a.default.Item,{key:n,value:n,selected:p},o.h("div",{class:"membersDropdownItem"},o.h(l.default,{class:"memberRowAvatar",src:r,srcset:c,size:24}),o.h("span",null,u)))}))}t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedMemberId:s,members:a,requestMembers:l,onFilterChange:d}){return o.h(r.default,{dropdownProps:{class:"membersDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Members",showSelectedAsLabel:!1,onChange:d,labelClass:c.default({membersDropdownModifiedLabel:!!s}),optionsClass:"membersDropdownOptions"},filterInputProps:{placeholder:"Search for a member",placeholderWidth:140,class:"membersFilterInput"},itemTypeName:"member",loading:n,error:i,items:a,selectedId:s,requestItems:l,matchItem:u.matchUserWithFilterValue,renderItems:p})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2135);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2136),t.default=function(){return i.h("div",{class:"dropdownItemSeparator"})}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2138);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(2139)),a=i(n(2142)),l=i(n(849)),c=i(n(1056)),d=i(n(2145)),u=i(n(2148));n(2151),t.default=function({dropdownProps:e,filterInputProps:t,itemTypeName:n,emptyText:i,loading:p,error:h,items:f,selectedId:g,requestItems:m,renderItems:b,matchItem:S}){const[y,v]=s.useState(""),C=f.filter(e=>S(e,y));return o.h(l.default,Object.assign({onDropdownStateChange:function(e){e?null==m||m():v("")}},e),p?o.h(u.default,null):h?o.h(d.default,{type:n,message:h,onRetryClick:m}):o.h(o.Fragment,null,f.length>1&&o.h("div",{class:"filterInputWrapper"},o.h(c.default,Object.assign({value:y,onFilter:v},t))),0===f.length&&i&&o.h(r.default,{emptyText:i}),f.length?C.length?b({items:C,selectedId:g,filterValue:y}):o.h(a.default,{type:n}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2140);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2141),t.default=function({emptyText:e}){return i.h("div",{class:"dropdownWithFilterItemsEmpty"},e)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2143);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2144),t.default=function({type:e="item"}){return i.h("div",{class:"filterSearchEmptyView"},"No ",e," with this name 🤷‍♀️")}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2146);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(723));n(2147),t.default=function({type:e="item",message:t,onRetryClick:n}){return o.h("div",{class:"dropdownWithFilterItemsError"},o.h("span",{class:"title"},"Fetching ",e,"s failed"),o.h("span",{class:"message"},t),o.h(s.default,{secondary:!0,onClick:function(e){e.stopPropagation(),n()}},"Retry"))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2149);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(771);n(2150),t.default=function(){return i.h("div",{class:"dropdownWithFilterItemsLoading"},i.h(o.IconDotSpinner,{width:24}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2154);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(718)),a=i(n(2155)),l=i(n(2159)),c=i(n(1145)),d=n(215),u=n(220),p=i(n(2148)),h=i(n(2158)),f=i(n(735));function g(e,t){return t.toLowerCase().includes(e.toLowerCase())}n(2162);const m=[{type:"container",children:[{text:""}]}];t.default=function({elementMap:e,width:t,loadingSections:n,loadingMembers:i,members:b,sectionDataEnabled:S,membersError:y,sectionsError:v,selectedColor:C,selectedType:O,selectedMember:E,selectedSection:T,requestMembers:_,requestSections:P,onColorChange:D,onMemberFilterChange:I,onSectionFilterChange:j,onNoteStatusFilterTypeChange:k}){const[R,A]=s.useState(""),[w,N]=s.useState(!1),[L,M]=s.useState(m),x=s.useRef(),U=s.useRef(),B=s.useMemo(()=>function(e){const{isVoid:t,isInline:n}=e;return e.isVoid=e=>"queryElement"===e.type||t(e),e.isInline=e=>"queryElement"===e.type||n(e),e}(u.withReact(d.createEditor())),[]),V=s.useRef(!1),z=s.useRef(!1);function F(){const e=te();return e?e.text:""}function W(e){var t;return null===(t=null==e?void 0:e.split(":")[1])||void 0===t?void 0:t.trim()}function G(e){e.preventDefault()}function H(e){switch(e){case h.default.COLOR:return!!C;case h.default.TYPE:return!!O;case h.default.MEMBER:return!!E;case h.default.SECTION:return!!T;default:return!1}}function $(e,t){switch(e){case h.default.COLOR:D(t);break;case h.default.TYPE:k(t);break;case h.default.MEMBER:I(t);break;case h.default.SECTION:j(t)}}function q(e,t,n){return e.filter(e=>g(t,e.name)).map(({id:e,name:t})=>({key:n,value:e,label:t}))}function Z(e){const[t,n]=J(e);$(t,n)}function K(e,t){const n=ee(),i=B.children[0].children;if(t){const o=[{type:"queryElement",label:e,value:t,children:[{text:""}]}];if(i.some(t=>t.label===e)){const n=i.findIndex(({label:t})=>t===e);-1!==n&&(d.Transforms.setNodes(B,{label:e,value:t},{at:[0,n]}),setTimeout(()=>{d.Transforms.select(B,[0,n+1])}))}else if(-1!==n){void 0!==i[n].text&&(d.Transforms.deselect(B),d.Transforms.delete(B,{at:[0,n]}),d.Transforms.insertNodes(B,o,{at:[0,n]}),setTimeout(()=>{d.Transforms.select(B,[0,n+2])}))}else{const e=B.children[0].children.length;d.Transforms.insertNodes(B,o,{at:[0,e-1]})}}else{const t=i.findIndex(({label:t})=>t===e);-1!==t&&(d.Transforms.deselect(B),d.Transforms.delete(B,{at:[0,t]}),setTimeout(()=>{d.Transforms.select(B,[0,t-1])}))}}function Y(e){const[t]=J(e),n=te(),i=ee();n&&void 0!==n.text&&(d.Transforms.insertText(B,t+": ",{at:[0,i]}),setTimeout(()=>{d.Transforms.select(B,[0,i]),d.Transforms.collapse(B,{edge:"end"})}))}function J(e){const t=e.split(/(color:|type:|member:|section:)/);return t.shift(),[t[0].slice(0,-1),t[1]]}function X(e,t){return o.h("div",{class:r.default("hint",{selected:t})},e.hint.key,": ",o.h("span",{class:"description"},e.hint.label))}function Q(e){const t=e||"You can quickly filter notifications by typing:";var n;const i=(n=S,[{key:h.default.TYPE,value:"type:",label:"open / mentioned / resolved"},{key:h.default.COLOR,value:"color:",label:"note dot colors"},{key:h.default.MEMBER,value:"member:",label:"username or full name"},...n?[{key:h.default.SECTION,value:"section:",label:"section name on project dashboard"}]:[]]).filter(({key:e})=>!H(e));return 0===i.length?e?o.h("div",{class:"smartFilterHint"},o.h("div",{class:"hintMessage"},t)):void 0:o.h("div",{class:"smartFilterHint"},o.h("div",{class:"hintMessage"},t),o.h("div",{onMouseDown:w?G:void 0},o.h(c.default,{class:"smartFilterOptions hints",onSelect:Y},i.map(e=>o.h(c.default.ListItem,{key:e.key,class:"selectableListItem",value:`${e.value}${e.label}`,item:{hint:e},renderItem:X})))))}function ee(){var e,t;return null!==(t=null===(e=B.selection)||void 0===e?void 0:e.anchor.path[1])&&void 0!==t?t:-1}function te(){const e=ee();if(-1!==e){return B.children[0].children[e]}return null}return s.useEffect(()=>{F()&&(b.length||V.current||(V.current=!0,_()),S&&!z.current&&(z.current=!0,P()))},[L,w]),s.useEffect(()=>{K(h.default.COLOR,C)},[C]),s.useEffect(()=>{K(h.default.TYPE,O)},[O]),s.useEffect(()=>{K(h.default.MEMBER,E)},[E]),s.useEffect(()=>{K(h.default.SECTION,T)},[T]),o.h("div",{class:"activitiesSmartFilter",style:{width:t},ref:x},o.h(a.default,{onFocus:function(){N(!0)},onBlur:function(){N(!1)},focused:w,editor:B,value:L,onQueryBlockRemove:function(e){u.ReactEditor.focus(B),$(e)},onChange:function(e){const t=te();if(t&&u.ReactEditor.isFocused(B)&&N("queryElement"!==t.type),e!==L){M(e);const t=F();A(t)}}}),w&&o.h(f.default,{didRender:function(){const e=x.current.getBoundingClientRect(),t=e.bottom+14,n=e.left-6;U.current&&(U.current.style.maxHeight=window.innerHeight-t-12+"px",U.current.style.overflowY="auto",U.current.style.transform=`translate3d(${n}px, ${t}px, 0)`)}},o.h("div",{class:"smartFilterPopover zplMenu",ref:U},function(){if(((i||0===b.length)&&!y||S&&n&&!v)&&R)return o.h("div",{class:"smartFilterLoading"},o.h(p.default,null));const t=function(t){if(!t)return[];const n=function(e){var t;return null===(t=null==e?void 0:e.split(":")[0])||void 0===t?void 0:t.trim()}(t),i=W(t),o=":"===t.slice(-1);if(i||o){if(H(n))return[];const t=e.get(n);return t?q(t,i,n):[]}return Array.from(e.keys()).reduce((t,i)=>{if(H(i))return t;const o=e.get(i);if(!o)return t;if(g(n,i))return t.concat(o.map(({id:e,name:t})=>({key:i,value:e,label:t})));const s=q(o,n,i);return t.concat(s)},[])}(R);if(t.length){let e=W(R);return e=e?R.split(":")[1].trim():R.trim(),o.h(l.default,{queryValue:e,onMouseDown:w?G:void 0,onOptionSelect:Z,options:t})}return d.Node.string(L[0])?o.h("div",{onMouseDown:w?G:void 0},Q("No results. You can try typing keywords related to the categories below.")):o.h("div",{onMouseDown:w?G:void 0},Q())}())))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718)),r=i(n(2156)),a=i(n(2157));t.default=function({focused:e,editor:t,value:n,onFocus:i,onBlur:l,onChange:c,onQueryBlockRemove:d}){return o.h("div",{class:s.default("filterInput",{focusWithin:e})},o.h(r.default,{class:"sortIcon"}),o.h(a.default,{editor:t,value:n,onFocus:i,onBlur:l,onChange:c,onQueryBlockRemove:d}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);function o({color:e,width:t,height:n,class:o}){return i.h("svg",{class:o,xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:"#554D56","fill-rule":"evenodd"},i.h("path",{fill:e,d:"M10.667 12c.736 0 1.333.597 1.333 1.333 0 .737-.597 1.334-1.333 1.334H5.333C4.597 14.667 4 14.07 4 13.333 4 12.597 4.597 12 5.333 12h5.334zM12 6.667c.736 0 1.333.597 1.333 1.333S12.736 9.333 12 9.333H4c-.736 0-1.333-.597-1.333-1.333S3.264 6.667 4 6.667h8zm2.667-5.334c.736 0 1.333.597 1.333 1.334C16 3.403 15.403 4 14.667 4H1.333C.597 4 0 3.403 0 2.667c0-.737.597-1.334 1.333-1.334h13.334z",transform:"translate(-82 -471) translate(64 459) translate(6 6) translate(12 6)"})))}o.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=o},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getColorLabel=void 0;const o=n(4),s=n(221),r=n(215),a=n(220),l=i(n(718)),c=i(n(1084)),d=i(n(1230)),u=n(560),p=i(n(2158)),h={karl:"Karl",clooney:"Clooney",yellow:"Yellow",orange:"Orange",peach:"Peach",green:"Green",turquoise:"Turquoise",cornflowerBlue:"Cornflower blue",deepPurple:"Purple"};function f(e){const t=h[e]||e.replace(/([A-Z]+)/g,"$1").replace(/([A-Z][a-z])/g," $1");return u.uppercaseFirst(t)}t.getColorLabel=f;const g="function"==typeof InputEvent.prototype.getTargetRanges;function m(e){var t;e.preventDefault(),e.stopPropagation(),null===(t=e.currentTarget)||void 0===t||t.dispatchEvent(new InputEvent("beforeinput",{bubbles:!0,cancelable:!0,data:e.key}))}function b({attributes:e,children:t}){return o.h("div",Object.assign({class:"leaf"},e),t)}function S(e){const{attributes:t,children:n,element:i}=e;switch(i.type){case"queryElement":return o.h(y,Object.assign({},e),n);default:return o.h("div",Object.assign({class:"container"},t),n)}}function y({attributes:e,children:t,element:n,onQueryBlockRemove:i}){const s=n.label,r=n.value,u=s===p.default.COLOR,h=a.useSelected(),g=a.useFocused();return o.h("div",Object.assign({class:l.default("queryBlock",{selected:g&&h})},e),o.h("div",{class:"queryLabel",contentEditable:!1},o.h("div",{class:"queryDisplayLabel"},u&&o.h(o.Fragment,null,o.h(c.default,{class:"colorDot",key:r+"-colorDot",color:r}),f(r)),!u&&o.h(o.Fragment,null,o.h("span",{class:"key"},s,":"),r))),o.h("button",{class:"removeButton",onClick:function(e){return e.stopPropagation(),i(s)}},o.h(d.default,{class:"removeIcon",width:6,color:"var(--clooney)"})),t)}const v=s.memo((function({editor:e,value:t,onFocus:n,onBlur:i,onChange:l,onQueryBlockRemove:c}){const d=s.useCallback(e=>o.h(b,Object.assign({},e)),[]);function u(){var t,n;return null!==(n=null===(t=e.selection)||void 0===t?void 0:t.anchor.path[1])&&void 0!==n?n:-1}function p(){const t=u();if(-1!==t){return e.children[0].children[t]}return null}if(e.selection){const t=u();if(-1!==t){const n=p(),i=null==n?void 0:n.text;void 0!==i&&1===i.length&&(a.ReactEditor.deselect(e),r.Transforms.select(e,[0,t]),r.Transforms.collapse(e,{edge:"end"}))}}return o.h(a.Slate,{editor:e,value:t,onChange:l},o.h(a.Editable,{renderElement:function(e){return o.h(S,Object.assign({onQueryBlockRemove:c},e))},renderLeaf:d,placeholder:o.h("span",{class:"placeholder"},"all notes; all colors; all members; all sections"),onFocus:n,onBlur:i,onKeyDown:function(t){if(t.keyCode===Zeplin.KEY_CODE.ENTER)t.preventDefault();else if(t.keyCode===Zeplin.KEY_CODE.BACKSPACE){const n=e.children[0].children,i=u(),o=p(),s=n[i-1];"queryElement"===(null==o?void 0:o.type)?(t.preventDefault(),c(o.label)):s&&"queryElement"===s.type&&""===(null==o?void 0:o.text)&&(t.preventDefault(),c(s.label))}},onKeyPress:g?void 0:m}))}),(e,t)=>e.value===t.value);t.default=v},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COLOR="color",e.TYPE="type",e.MEMBER="member",e.SECTION="section"}(i||(i={})),t.default=i},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2160);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718)),r=n(2157),a=i(n(1145)),l=i(n(1084)),c=i(n(2158));n(2161);class d extends o.Component{constructor(){super(...arguments),this.getHighlightedLabel=e=>{const{queryValue:t}=this.props;return e.replace(new RegExp(t.toLowerCase(),"gi"),e=>`<strong style="color:var(--teflon);">${e}</strong>`)},this.renderOptionItem=(e,t)=>o.h("div",{class:s.default("listItem",{selected:t})},o.h("span",{class:"key"},e.option.key+":"),e.option.key===c.default.COLOR?o.h("div",{class:"value"},o.h("div",{class:"color"},o.h(l.default,{class:"noteStatusDropdownColorDot",key:e.option.value+"-colorDot",color:e.option.label}),o.h("span",{class:"colorLabel",dangerouslySetInnerHTML:{__html:this.getHighlightedLabel(r.getColorLabel(e.option.label))}}))):o.h("span",{class:"value",dangerouslySetInnerHTML:{__html:this.getHighlightedLabel(e.option.label)}}))}render(){const{onMouseDown:e,onOptionSelect:t,options:n}=this.props;return o.h("div",{onMouseDown:e},o.h(a.default,{class:"smartFilterOptions",onSelect:t},n.map(e=>o.h(a.default.ListItem,{key:e.value,class:"selectableListItem",value:`${e.key}:${e.value}`,item:{option:e},renderItem:this.renderOptionItem}))))}}t.default=d},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2164);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2134)),r=i(n(849)),a=i(n(1084)),l=i(n(1722)),c=i(n(718)),d=n(640),u=n(677);n(2165),t.default=function({dropdownTop:e,dropdownLeft:t,selectedNoteStatus:n,selectedColor:i,onNoteStatusFilterChange:p,onColorChange:h}){function f(e,t){h(i===t?void 0:t)}return o.h(r.default,{class:"noteStatusDropdown",top:e,left:t,onChange:p,defaultLabel:"Types",showSelectedAsLabel:!1,labelClass:c.default({noteStatusDropdownModifiedLabel:!!n||!!i}),optionsClass:"noteStatusDropdownOptions"},o.h(r.default.Item,{selected:!n},"All Notes"),o.h(s.default,null),u.entriesOf(l.default).map(([e,t])=>o.h(r.default.Item,{key:e,value:e,selected:n===e},t)),o.h(s.default,null),o.h("div",{class:"noteStatusDropdownColorDots"},d.colorNames.map(e=>o.h(a.default,{class:"noteStatusDropdownColorDot",key:e+"-colorDot",color:e,selected:e===i,onClick:f}))))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2167);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2134)),r=i(n(2137)),a=i(n(849)),l=i(n(718));function c({selectedId:e,items:t,filterValue:n}){return o.h(o.Fragment,null,!n&&o.h(o.Fragment,null,o.h(a.default.Item,{selected:!e},"All sections"),o.h(s.default,null)),t.map(({_id:t,name:n})=>o.h(a.default.Item,{key:t,value:t,selected:e===t},o.h("span",null,n))))}function d(e,t){return e.name.toLowerCase().includes(t.toLocaleLowerCase())}n(2168),t.default=function({dropdownTop:e,dropdownLeft:t,loading:n,error:i,selectedSectionId:s,sections:a,requestSections:u,onFilterChange:p}){return o.h(r.default,{dropdownProps:{class:"sectionsDropdown",top:e,left:t,fixedTop:!0,autoScroll:!0,defaultLabel:"Sections",showSelectedAsLabel:!1,onChange:p,labelClass:l.default({sectionsDropdownModifiedLabel:!!s}),optionsClass:"sectionsDropdownOptions"},filterInputProps:{placeholder:"Search for a section",placeholderWidth:134,class:"sectionsFilterInput"},itemTypeName:"section",emptyText:"No section in this project yet 🤷‍♀️",loading:n,error:i,items:a,selectedId:s,requestItems:u,matchItem:d,renderItems:c})}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2171);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),r=n(222),a=o(n(723)),l=o(n(2172)),c=n(560),d=o(n(2184)),u=o(n(718)),p=n(677),h=o(n(1034));n(2189);var f;!function(e){e.NEXT="next",e.PREVIOUS="previous"}(f||(f={}));const g={[f.NEXT]:1,[f.PREVIOUS]:-1};function m(e){return p.exists(e)&&-1!==e?e:0}t.default=function({width:e,scrollData:t,activities:n,selectedItemId:o,selectedEventIds:p,onSetAllAsReadClick:b,onSelect:S,onSaveScrollData:y,onToggleReadStatusClick:v,allSelected:C,mutedProjectSelected:O,autoSelect:E}){const T=r.useRef(),[_,P]=r.useState(20),[D,I]=r.useState(null),[j,k]=r.useState(!1),R=r.useMemo(()=>n.map(e=>{const t=l.default(e,{onClick:w,onToggleReadStatusClick:v,selectedActivitiyId:o,selectedEventIds:p,noFilterApplied:C}),{eventIds:n}=t;return{activity:e,eventIds:n,props:i(t,["eventIds"])}}),[n]),A=o?R.slice(0,_):[];function w(e,t){var n;o&&(null===(n=null==T?void 0:T.current)||void 0===n||n.focus()),S(e,t)}function N(e){const t=A.findIndex(({activity:{_id:e}})=>e===o),{activity:n,props:{subItemsProps:i}}=A[t],s=null==i?void 0:i.findIndex(({eventIds:e})=>p.every(t=>e.includes(t))&&e.length===p.length),{activity:r,props:a}=A[t+g[e]]||{},{subItemsProps:l}=a||{},{eventIds:c}=A[t+g[e]]||{};i&&i.length>1?i[s+g[e]]?S(n,i[s+g[e]].eventIds):r&&(c&&c.length>1?S(r,e!==f.NEXT&&l?c[c.length-1]:c[0]):S(r,r.events.map(({_id:e})=>e))):r&&(!c||c.length<=1)?S(r,r.events.map(({_id:e})=>e)):r&&c&&c.length>1&&S(r,l?e===f.NEXT?c[0]:c[c.length-1]:r.events.map(({_id:e})=>e))}function L(){k(!0)}function M(){k(!1)}function x(e){let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:N(f.NEXT);break;case Zeplin.KEY_CODE.ArrowUp:N(f.PREVIOUS);break;default:t=!1}t&&e.preventDefault()}r.useLayoutEffect(()=>{if(!o&&R.length){P(20),T.current.scrollTop=0;const e=m(O?R.findIndex(({activity:e})=>!h.default.isActivityRead(e)):0);0!==e&&I(e);const{props:{subItemsProps:t,onClick:n}}=R[e];let i=null;t&&(i=m(O?t.findIndex(({unread:e})=>e):0)),null!==i?t[i].onClick():n()}},[o]),r.useEffect(()=>{var e;if(o&&_<n.length)P(_+20);else if(t){const{firstActivityId:n,offsetFromFirstActivity:i}=t,o=null!==(e=B(n))&&void 0!==e?e:0;T.current.scrollTop=i+o,y(void 0)}if(D&&D<_){const{activity:{_id:e}}=R[D];T.current.scrollTop=B(e)-2,I(null)}},[o,_,n.length,D]),r.useEffect(()=>(j?document.addEventListener("keydown",x,!0):document.removeEventListener("keydown",x,!0),()=>{document.removeEventListener("keydown",x,!0)}),[j,o,JSON.stringify(p)]),r.useEffect(()=>{var e,t;E?null===(e=null==T?void 0:T.current)||void 0===e||e.blur():o&&(null===(t=null==T?void 0:T.current)||void 0===t||t.focus())},[E,o,JSON.stringify(p)]),r.useEffect(()=>{E?M():L()},[E]);let U=0;for(const i of R)i.props.subItemsProps?U+=i.props.subItemsProps.filter(({unread:e})=>e).length:h.default.isActivityRead(i.activity)||U++;function B(e){const t=n.findIndex(({_id:t})=>t===e);if(t<0)return null;const i=U?t+1:t,{children:o}=T.current;return o[i].offsetTop-o[0].offsetTop}return r.useEffect(()=>()=>{const{scrollTop:e}=T.current;if(e){const t=R[0].activity._id,n=e-B(t);y({offsetFromFirstActivity:n,firstActivityId:t})}},[]),s.h("div",{ref:T,class:u.default("activityList",{noUpdate:0===U}),tabIndex:0,onFocus:L,onBlur:M,style:{width:e+60}},U>0&&s.h("div",{class:"updateBar",style:{width:e}},s.h("span",{class:"emoji"},"🐝"),s.h("span",{class:"infoText ellipsis"},"You got ",c.pluralize(U,"new update"),"."),s.h(a.default,{class:"markAsReadButton",ninja:!0,onClick:b},"Mark as read")),A.map(({activity:t,props:n})=>{var i;return s.h(d.default,Object.assign({key:t._id,width:e,autoSelect:E,subItemSelected:null===(i=n.subItemsProps)||void 0===i?void 0:i.some(({selected:e})=>e)},n))}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(2173)),r=i(n(2177)),a=n(559),l=i(n(574)),c=n(2180),d=i(n(1036)),u=n(560),p=n(640),h=i(n(1084)),f=i(n(879)),g=i(n(2181)),m=i(n(1034));t.default=function(e,t){var n,i,b,S,y,v;const{events:C,actionName:O,updated:E}=e,[T]=C,{selectedActivitiyId:_,selectedEventIds:P,onClick:D,onToggleReadStatusClick:I,noFilterApplied:j}=t;let k,R,A,w,N,L,M=()=>W([T._id]);const x=C.length>1,U=T.project?l.default.PROJECT:l.default.STYLEGUIDE,B=null!==(n=T.project)&&void 0!==n?n:T.styleguide,V=[d.default.UpdateOrganizationMemberRole,d.default.InviteMember];if(B&&!V.includes(O)){const e=a.getPlatformString(B.type);A={barrelName:B.name,platform:e}}let z=[];for(const{source:o}of C)(null==o?void 0:o._id)&&z.every(({_id:e})=>e!==(null==o?void 0:o._id))&&z.push(o);function F(){return o.h(g.default,{users:z})}function W(t){D(e,t)}function G(e){return t=>{null==t||t.stopPropagation(),W(e)}}function H(t){return()=>I(e,t)}function $({getSubItemContent:e,getSingleItemContent:t}){return x?{subItemsProps:C.map(t=>function({markedAsRead:e,_id:t},n){return{eventIds:[t],unread:!e,selected:t===P[0],onClick:G([t]),onToggleReadStatusClick:H([t]),children:n}}(t,e(t)))}:{content:null==t?void 0:t()}}function q(e,t){var n,i,s;const r=null===(n=T.variantGroup)||void 0===n?void 0:n.name,a=null===(s=null===(i=T.variantGroup)||void 0===i?void 0:i.screens[0])||void 0===s?void 0:s.variantName;k=r&&a?o.h(o.Fragment,null,F()," ",e," ",Q(a)," variant of ",Q(r)):o.h(o.Fragment,null,F()," ",e," ",Q(t))}function Z(e,t,n){x?k=o.h(o.Fragment,null,F()," ",e," ",C.length," ",t,"s"):q(`${e} ${t}`,n)}function K(e,t,n){Z(e,t,n(T)),Y(n)}function Y(e){({subItemsProps:w}=$({getSubItemContent:t=>o.h("span",{class:"activitySubItemContent"},e(t))}))}function J(e){k=o.h(o.Fragment,null,F()," ",e,o.h("div",{class:"noteInfo"},o.h(h.default,{class:"noteColor",color:p.getColorName(T.dot.color)}),Q("Note "+T.dot.name)),Q(" - "+T.screen.name))}function X(e){x?k=o.h(o.Fragment,null,F()," ",e," ",C.length," notes on screen ",Q(T.screen.name)):J(e)}function Q(e){return o.h("span",{class:"bold"},e)}switch(O){case d.default.AddProjectExtension:case d.default.AddStyleguideExtension:K("added","extension",({extension:e})=>e.name);break;case d.default.ActivateProject:case d.default.ActivateStyleguide:q("activated "+U,T[U].name);break;case d.default.ArchiveProject:case d.default.ArchiveStyleguide:q("archived "+U,T[U].name);break;case d.default.AuthProjectSlack:case d.default.AuthStyleguideSlack:q(`connected ${T[U].name} to Slack channel`,e.content);break;case d.default.CreateProjectComponent:case d.default.CreateStyleguideComponent:K("added","component",({component:e})=>e.name);break;case d.default.CreateProjectComponentVersion:case d.default.CreateStyleguideComponentVersion:K("updated","component",({component:e})=>e.name);break;case d.default.CreateProjectColor:case d.default.CreateStyleguideColor:Z("added","color","#"+T.color.name);break;case d.default.CreateDot:{X("added");const e=e=>{const{name:t,color:n,note:i}=Object.assign({},e.dot);return o.h(s.default,{color:n,title:"Note "+t,description:i})},t=()=>o.h(s.default,{description:T.dot.note});({subItemsProps:w,content:R}=$({getSubItemContent:e,getSingleItemContent:t}));break}case d.default.CreateDotMention:J("mentioned you on"),R=o.h(s.default,{description:T.dot.note});break;case d.default.CreateDotCommentMention:J("mentioned you on"),R=o.h(s.default,{description:T.comment.note});break;case d.default.CreateDotComment:{const e=C.map(({_id:e})=>e);N=()=>W(e),z.length>1?J("had a conversation on"):x?J(`added ${C.length} replies to`):(J("replied to"),R=o.h(s.default,{description:T.comment.note}));break}case d.default.CreateScreen:K("added","screen",({screen:e})=>e.name);break;case d.default.CreateScreenVersion:{const e=new Set(C.map(({screen:e})=>e._id));k=x?o.h(o.Fragment,null,F()," added versions to ",u.pluralize(e.size,"screen",{one:"a"})):o.h(o.Fragment,null,F()," added a version to screen ",Q(T.screen.name)),Y(({screen:e})=>e.name);break}case d.default.CreateProjectTextStyle:case d.default.CreateStyleguideTextStyle:Z("added","text style",T.textStyle.name);break;case d.default.DeleteProjectColor:case d.default.DeleteStyleguideColor:Z("removed","color","#"+T.color.name);break;case d.default.DeleteProjectComponent:case d.default.DeleteStyleguideComponent:K("removed","component",({component:e})=>e.name);break;case d.default.DeleteScreen:K("removed","screen",({screen:e})=>e.name);break;case d.default.DeleteProject:case d.default.DeleteStyleguide:q("deleted "+U,T[U].name);break;case d.default.DeleteProjectTextStyle:case d.default.DeleteStyleguideTextStyle:Z("removed","text style",T.textStyle.name);break;case d.default.RemoveExtensionFromProject:case d.default.RemoveExtensionFromStyleguide:Z("removed","extension",T.extension.name);break;case d.default.ResolveDot:{X("resolved");const e=e=>{const{name:t,color:n}=Object.assign({},e.dot);return o.h(s.default,{color:n,title:"Note "+t})};({subItemsProps:w}=$({getSubItemContent:e}));break}case d.default.UpdateOrganizationMemberRole:{const e=C[C.length-1],{name:t,icon:n}=c.roleMap[e.user.role];z=[e.source],q(o.h(o.Fragment,null,"assigned you as ",t," ",o.h(f.default,{class:"roleIcon",asset:n})," on organization"),T.organization.name);break}case d.default.UpdateProjectColor:case d.default.UpdateStyleguideColor:Z("updated","color","#"+T.color.name);break;case d.default.UpdateProjectUserRole:case d.default.UpdateStyleguideUserRole:K("assigned you as an admin on",U,({[U]:e})=>e.name);break;case d.default.UpdateProjectTextStyle:case d.default.UpdateStyleguideTextStyle:Z("updated","text style",T.textStyle.name);break;case d.default.UserJoined:case d.default.ProjectUserJoined:case d.default.StyleguideUserJoined:q("joined "+U,T[U].name);break;case d.default.RemoveUserFromProject:case d.default.RemoveUserFromStyleguide:q("removed you from "+U,T[U].name);break;case d.default.InviteMember:q("invited you to organization",T.organization.name);break;case d.default.InviteProjectUser:case d.default.InviteStyleguideUser:K("invited you to",U,({[U]:e})=>e.name);break;case d.default.TransferProjectOwnership:case d.default.TransferStyleguideOwnership:k=x?o.h(o.Fragment,null,F()," transfered ",C.length," ownerships to you"):o.h(o.Fragment,null,F()," transfered ownership of ",U," ",Q(T[U].name)," to you"),Y(({[U]:e})=>e.name);break;case d.default.CreateProjectSpacingToken:case d.default.CreateStyleguideSpacingToken:Z("added","spacing token",T.spacingToken.token);break;case d.default.UpdateProjectSpacingToken:case d.default.UpdateStyleguideSpacingToken:Z("updated","spacing token",T.spacingToken.token);break;case d.default.DeleteProjectSpacingToken:case d.default.DeleteStyleguideSpacingToken:Z("removed","spacing token",T.spacingToken.token);break;case d.default.AttachProjectToJiraIssue:case d.default.AttachSectionToJiraIssue:case d.default.AttachScreenToJiraIssue:case d.default.RemoveProjectJiraIssueAttachment:case d.default.RemoveSectionJiraIssueAttachment:case d.default.RemoveScreenJiraIssueAttachment:{const e=[d.default.AttachProjectToJiraIssue,d.default.AttachSectionToJiraIssue,d.default.AttachScreenToJiraIssue];let t;L=[],t=e.includes(O)?{name:"attached",preposition:"to"}:{name:"removed",preposition:"from"};const n=new Map;if(C.forEach(e=>{const{jiraAttachment:t,_id:i,markedAsRead:o}=e;n.get(t.itemName)||n.set(t.itemName,[]);const s=n.get(t.itemName);s.push({eventId:i,markedAsRead:o,text:t.issueKey,link:`${t.deploymentUrl}/browse/${t.issueKey}`}),n.set(t.itemName,s)}),n.size>1){w=[];let e=0;n.forEach(t=>{e+=t.length}),M=()=>W(n.values().next().value.map(({eventId:e})=>e)),n.forEach((e,n)=>{const i=e.every(({markedAsRead:e})=>e),s=e.map(({eventId:e})=>e),a=s.length===P.length&&P.every(e=>s.includes(e));L.push(s),w.push({eventIds:s,unread:!i,selected:a,onClick:G(s),onToggleReadStatusClick:H(s),children:o.h(r.default,{item:n,actionText:`is ${t.name} ${t.preposition}`,jiraIssues:e})})}),k=o.h(o.Fragment,null,F()," ",t.name," ",n.size," ",T.jiraAttachment.type,"s with ",e," Jira issues.")}else{const e=n.get(T.jiraAttachment.itemName),s=e.map(({eventId:e})=>e);L.push(s);const r=null!==(S=null===(b=null===(i=T.variantGroup)||void 0===i?void 0:i.screens[0])||void 0===b?void 0:b.variantName)&&void 0!==S?S:T.jiraAttachment.itemName,a=null===(y=T.variantGroup)||void 0===y?void 0:y.name;k=o.h("div",{class:"jiraIssueTitle"},F()," ",t.name," Jira Issue ",e.map(({link:e,text:t},n)=>o.h(o.Fragment,null,n>0&&o.h("span",null,", "),o.h("a",{href:e,class:"jiraIssueLink",target:"_blank",rel:"noopener"},t)))," ",t.preposition," ",Q(r),a&&o.h(o.Fragment,null," variant of ",Q(a)))}break}default:throw new Error("Unknown activity type")}return{eventIds:L||(null===(v=e.events)||void 0===v?void 0:v.map(({_id:e})=>[e])),unread:!m.default.isActivityRead(e),title:k,content:R,updated:E,onClick:N||function(){D(e,e.events.map(({_id:e})=>e))},onAutoSubItemSelect:w&&M,onToggleReadStatusClick:H(e.events.map(({_id:e})=>e)),users:z,barrelInfo:A,subItemsProps:w,withBarrelInfo:j,selected:_===e._id&&!w}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2174);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1084)),r=n(640),a=i(n(1117)),l=n(1119),c=n(677),d=n(2175);n(2176);const u=[l.CustomRules.SPOTIFY,l.CustomRules.YOUTUBE,l.MarkdownRules.IMAGE,l.MarkdownRules.CHECKBOX,l.MarkdownRules.TABLE,l.MarkdownRules.HEADING];t.default=function({color:e,title:t,description:n}){const i=d.startsWithBlockMarkdown(n)?":\n":": ",l=[d.boldenMarkdown(t),n].filter(c.exists).join(i);return o.h("div",{class:"activityItemInfo"},e&&o.h(s.default,{color:r.getColorName(e)}),l&&o.h("span",{class:"activityItemInfoText ellipsis"},o.h(a.default,{disabledFeatures:u},l)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boldenMarkdown=t.startsWithBlockMarkdown=void 0;const[i]=["**","__"],o=[">","```"];t.startsWithBlockMarkdown=function(e){return o.some(t=>null==e?void 0:e.startsWith(t))},t.boldenMarkdown=function(e){return function(e){return null!=e&&!!e.length}(e)?`${i}${e}${i}`:e}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2178);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2179),t.default=function({item:e,actionText:t,jiraIssues:n}){return i.h("div",{class:"activityJiraIntegrationInfo"},i.h("span",{class:"bold"},e),i.h("span",{class:"action"},t),n.map(({text:e,link:t},n)=>i.h(i.Fragment,null,n>0&&i.h("span",null,", "),i.h("a",{href:t,class:"jiraIssueLink",target:"_blank",rel:"noopener"},e))))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.roleMap=void 0,t.roleMap={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Developer",icon:"img/icKnight.png"},pawn:{name:"Reviewer",icon:"img/icPawn.png"}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2182);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(1113)),r=n(549),a=n(643);n(2183);function l({user:e}){return o.h(s.default,{class:"activityUsernamesUserProfileCardPopoverContainer",member:{user:e}},e.username)}t.default=function({users:e}){const t=e.length,n=t>4,i=n?3:4,s=e.slice(0,i);let c;if(n){const t=e.slice(i),n=t.length+" members",s=t.map(r.getUserDisplayName).join("\n");c=o.h("span",{title:s},n)}else if(t>1){const e=s.pop();c=o.h(l,{key:e._id,user:e})}return o.h("span",null,a.joinDOMElements(s.map(e=>o.h(l,{key:e._id,user:e})),", "),c&&o.h(o.Fragment,null," and ",c))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2185);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1421)),a=i(n(718)),l=i(n(1111)),c=n(558),d=i(n(2186)),u=i(n(1050));n(2188),t.default=function({width:e,unread:t,title:n,content:i,barrelInfo:p,users:h,subItemsProps:f,updated:g,onClick:m,onAutoSubItemSelect:b,onToggleReadStatusClick:S,selected:y,withBarrelInfo:v,subItemSelected:C,autoSelect:O}){const E=a.default("activityItem",{selected:y,selectable:!f}),T=s.useRef(),[_,P]=s.useState(null),{barrelName:D,platform:I}=Object.assign({},p);function j(){var e;(null===(e=null==T?void 0:T.current)||void 0===e?void 0:e.parentElement)&&!c.isElementVisible(T.current,T.current.parentElement)&&T.current.clientHeight<=T.current.parentElement.clientHeight&&c.scrollIfNecessary(T.current,{offset:4})}function k(){P(null)}s.useEffect(()=>{y&&!O&&j()},[y,O]),s.useEffect(()=>{C&&j()},[C]);const R=!!T.current&&!!T.current.parentElement&&T.current.clientHeight>T.current.parentElement.clientHeight;return o.h("button",{class:E,style:{width:e},ref:T,onClick:function(){f&&b?b():m()},onContextMenu:function(e){e.preventDefault(),P({x:e.clientX,y:e.clientY})}},t&&!f&&o.h("div",{class:"unreadActivityIndicator"}),o.h("div",{class:"activityItemTitle"},n),!!i&&o.h("div",{class:"activityContent"},i),o.h("div",{class:"activityItemFooter"},o.h(l.default,{currentMemberRole:"user",members:null==h?void 0:h.map(e=>({user:e})),memberLimit:4,class:"activityMembers",remainingMembersClass:"activityRemainingMembers",avatarSize:24,stacked:!0,showCardOnHover:!0}),v&&p&&o.h("div",{class:"activityBarrelInfo ellipsis"},o.h("div",{class:"barrelName ellipsis",title:D},D),o.h("span",{class:"dotSeparator"}),o.h("div",{class:"platform"},I)),o.h(r.default,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:g})),f&&o.h("div",{class:"activitySubItems"},f.map(({eventIds:e,unread:t,selected:n,onClick:i,onToggleReadStatusClick:s,children:r})=>{var a;return o.h(d.default,{key:e[0],unread:t,selected:n,onClick:i,onToggleReadStatusClick:s,listContainer:null===(a=null==T?void 0:T.current)||void 0===a?void 0:a.parentElement,parentItemOverflow:R},r)})),function(){if(T.current&&_)return o.h(u.default.overlay,{onClose:k,autoPosition:{menuContainer:T.current,clickOrigin:_}},o.h(u.default.Item,{onClick:S},"Mark as "+(t?"read":"unread")))}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(718)),a=i(n(1050)),l=n(558);n(2187),t.default=function({children:e,selected:t,onClick:n,onToggleReadStatusClick:i,unread:c,nonSelectable:d,parentItemOverflow:u,listContainer:p}){const h=s.useRef(),[f,g]=s.useState(null);function m(){g(null)}return s.useEffect(()=>{var e;t&&u&&!l.isElementVisible(h.current,p)&&(null===(e=null==h?void 0:h.current)||void 0===e||e.scrollIntoView())},[t]),o.h("button",{ref:h,class:r.default("activitySubItem",{selected:t,nonSelectable:d}),onClick:n,onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),g({x:e.clientX,y:e.clientY})}},o.h(o.Fragment,null,c&&o.h("div",{class:"unreadActivityIndicator"}),e,function(){if(h.current&&f)return o.h(a.default.overlay,{onClose:m,autoPosition:{menuContainer:h.current,clickOrigin:f}},o.h(a.default.Item,{onClick:i},c?"Mark as read":"Mark as unread"))}()))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2191);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1646)),a=i(n(1034)),l=i(n(585)),c=n(771),d=i(n(2192)),u=i(n(2194)),p=i(n(2197)),h=i(n(2198)),f=i(n(2201)),g=i(n(570));n(2210);t.default=function({width:e,activity:t,events:n,dot:i,dotSnapshot:m,dotError:b,onToggleReadStatusClick:S,onToggleDotStatusClick:y,onAddDotCommentClick:v,onActivitiesNavigationClick:C}){const O=.5*e,E=s.useRef(),T=p.default.getDetails(t,n[0]),_=a.default.getCategory(t),P=_===l.default.Note?m:null==T?void 0:T.snapshot,D=(null==T?void 0:T.title)&&(_!==l.default.Note||!b),I=a.default.areEventsRead(n);function j(){const{status:e}=i;g.default({text:e===r.default.RESOLVED?"Note reopened":"Note resolved",container:E.current,source:"dotStatus"}),y()}function k(){g.default({text:I?"Marked as unread":"Marked as read",container:E.current,source:"readStatus"}),S(t,n.map(({_id:e})=>e))}return o.h("div",{ref:E,class:"activityDetailsContainer",style:{width:e+12}},o.h("div",{class:"activityDetails",style:{width:e+36}},function(){if(!(null==T?void 0:T.title))return null;const{title:e,typeName:t,link:n}=T;return o.h("div",{class:"activityHeader"},o.h("span",{class:"title ellipsis"},e),o.h("a",{class:"link",onClick:C,"data-back":"Notifications","data-link-type":"inApp",href:n},"Go to ",t,o.h(c.IconSlimArrowRight,{class:"arrow"})))}(),D?o.h(h.default,{width:e,height:O,snapshot:P,category:_,dot:i}):null,(null==T?void 0:T.title)&&_!==l.default.Screen&&!b?null:o.h(u.default,{width:e,height:O,activity:t,markedAsRead:I,details:T,category:_,onToggleReadStatusClick:k}),_===l.default.Note&&i?o.h(f.default,{activity:t,event:n[0],markedAsRead:I,dot:i,onToggleDotStatusClick:j,onToggleReadStatusClick:k,onAddCommentClick:v}):null,_===l.default.Styleguide&&D?o.h(d.default,{class:"toggleReadStatusButtonForComponents",markedAsRead:I,onClick:k}):null))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2193);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718));t.default=function({class:e,markedAsRead:t,onClick:n}){return o.h("button",{type:"button",class:s.default("button","primary",e),onClick:n},t?"Mark as Unread":"Mark as Read")}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2195);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(585)),r=i(n(718)),a=i(n(2192));n(2196),t.default=function({width:e,height:t,activity:n,markedAsRead:i,details:l,category:c,onToggleReadStatusClick:d}){let u,p,h,f,g,m={width:e,height:t};if(c===s.default.Screen&&l){const{content:e}=n;u="commitInfo",p=!e,h="Commit message",g=e||"No commit message",m={}}else c===s.default.Note?(u="otherActivityInfo",p=!1,h="Note not available anymore",g="It was probably deleted, please contact the author."):(u="otherActivityInfo",p=!1,h="No preview",f=null==l?void 0:l.link,g=(null==l?void 0:l.typeName)?`Head to the styleguide to view the new ${l.typeName}${n.events.length>1?"s":""}.`:"This notification does not have a preview.");return o.h("div",{class:"activityDetailsInfo "+u,style:m},o.h("span",{class:"title"},h),o.h("span",{class:r.default("description",{grayedOut:p})},g),o.h("div",{class:"buttons"},f&&o.h("a",{class:"button secondary inlineLink","data-back":"Notifications","data-link-type":"inApp",href:f},"Go to Styleguide"),o.h(a.default,{markedAsRead:i,onClick:d})))}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(556);function o({project:e,styleguide:t},n,o,s){const r=e?n:o,{_id:a}=null!=e?e:t;return{typeName:s,link:i.urlResolve(r,{url:{bid:a}})}}function s(e,t){var n,o;const{project:s,screen:r,dot:a,comment:l}=e,{_id:c}=s,{_id:d,name:u}=r,p=t?null==a?void 0:a._id:void 0,h=(null==t?void 0:t.showComment)?null==l?void 0:l._id:void 0;return{title:u,typeName:"screen",link:i.urlResolve("project-screen",{url:{pid:c,sid:d},query:{did:p,cmid:h}}),snapshot:null===(o=null===(n=e.screen)||void 0===n?void 0:n.latestVersion)||void 0===o?void 0:o.snapshotFragment}}t.default={getDetails:function(e,t){switch(e.actionName){case"CreateProjectComponent":case"CreateStyleguideComponent":case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const{project:e,styleguide:n}=t,o=e?"project-styleguide-components":"styleguide-components",{_id:s}=null!=e?e:n,{_id:r,name:a,latestVersion:l}=t.component;return{title:a,typeName:"component",link:i.urlResolve(o,{url:{bid:s},query:{coid:r}}),snapshot:null==l?void 0:l.snapshotFragment}}case"CreateProjectColor":case"CreateStyleguideColor":case"UpdateProjectColor":case"UpdateStyleguideColor":return o(t,"project-styleguide-colors","styleguide-colors","color");case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":return o(t,"project-styleguide-textstyles","styleguide-textstyles","text style");case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":return o(t,"project-styleguide-spacing","styleguide-spacing","spacing token");case"CreateDot":case"ResolveDot":case"CreateDot-Mention":return s(t,{showComment:!1});case"CreateDotComment-Mention":case"CreateDotComment":return s(t,{showComment:!0});case"CreateScreen":case"CreateScreenVersion":return s(t);default:return}}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2199);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(585)),r=n(1087),a=i(n(718)),l=i(n(1669)),c=i(n(1646));n(2200);t.default=function({width:e,height:t,snapshot:n,category:i,dot:d}){const u=i!==s.default.Note&&!n,{url:p,width:h,height:f}=Object.assign({},n),g=(e-2)/638,m={};if(n&&i===s.default.Note&&d){let e=h,t=f;(e>638||t>318)&&(e*=.8,t*=.8);const n=319-Math.round(d.x*e),i=159-Math.round(d.y*t);m.left=Math.round(n*g),m.top=Math.round(i*g),m.width=Math.round(e*g),m.height=Math.round(t*g)}else if(n&&i===s.default.Styleguide)m.maxHeight=Math.min(f,Math.round(218*g)),m.maxWidth=Math.min(h,Math.round(508*g));else if(n&&i===s.default.Screen){f*(Math.min(h,508)/h)>268*g&&(m.top=Math.round(50*g)),m.maxWidth=Math.min(h,Math.round(508*g))}const b=!function(e){return 0===Object.keys(e).length}(m);return o.h("div",{class:a.default("activityPreview",{noPreview:u}),style:{width:e,height:t}},n&&b&&o.h(l.default.Image,{key:p,class:"image",url:p,style:m}),u&&o.h("span",{class:"noPreviewLabel"},"No preview"),d&&n&&b&&o.h("div",{class:a.default("staticDot",{resolved:d.status===c.default.RESOLVED}),style:{backgroundColor:new r.Color(d.color).toCSS()}},d.name))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2202);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=i(n(1646)),a=i(n(1538)),l=n(2203),c=n(2204),d=n(2205),u=i(n(2192)),p=i(n(1036)),h=i(n(2206));n(2209);t.default=function({activity:e,event:t,markedAsRead:n,dot:i,onToggleDotStatusClick:f,onToggleReadStatusClick:g,onAddCommentClick:m}){var b;const[S,y]=s.useState(!1),[v,C]=s.useState([]),[O,E]=s.useState(!1),T=s.useRef(),_=s.useRef(),P=s.useRef(),D=d.usePrevious([...i.comments]);function I(){if(_.current){const e=_.current,t=T.current,n=t.parentElement;let i=0;const o=n.offsetHeight-t.offsetTop;Array.from(t.children).forEach(t=>{t!==e&&(i+=t.scrollHeight)});const s=i+87,r=i+e.scrollHeight;y(s<o&&r>o)}}s.useEffect(()=>{var e;D&&i.comments.length-D.length==1&&D.every((e,t)=>e===i.comments[t])&&(C([]),null===(e=_.current)||void 0===e||e.children[i.comments.length-1].scrollIntoView())},[i.comments.length]),c.useResize(null===(b=P.current)||void 0===b?void 0:b.base,I),l.useWindowEventListener("resize",I),s.useEffect(I),s.useEffect(()=>{switch(e.actionName){case p.default.CreateDotComment:C(e.events.map(({comment:e})=>e._id));break;case p.default.CreateDotCommentMention:case p.default.CreateDotMention:case p.default.CreateDot:C([t.comment._id]);break;default:C([])}E(!0)},[t]),s.useEffect(()=>{var e;if(O){const t=i.comments.findIndex(({_id:e})=>v.includes(e)),n=-1!==t?t:0;null===(e=_.current)||void 0===e||e.children[n].scrollIntoView(),E(!1)}},[O]);const{_id:j,comments:k,status:R}=i,A=R===r.default.OPEN;s.useEffect(()=>{var e;return null===(e=P.current)||void 0===e?void 0:e.cancelEdit()},[j,R]);const w=S?{flex:"1 1 87px","border-bottom":"1px solid var(--karl)"}:{};function N(e){C(v.filter(t=>t!==e))}return o.h("div",{ref:T,class:"noteDetails"},o.h("div",{ref:_,class:"comments",style:w},k.map(e=>o.h(h.default,{key:e._id,comment:e,highlighted:v.includes(e._id),onHover:N}))),A&&o.h(a.default,{ref:P,containerClass:"newCommentContainer",class:"newComment",placeholder:"Reply",maxLength:1024,color:"cornflowerBlue",readOnly:!A,onSubmit:m,resetOnSubmit:!0,autoEdit:!0,showEmojiAutoComplete:!0,showUserAutoComplete:!0,markdownEditor:!0,barrelId:t.project._id}),o.h("div",{class:"buttons"},o.h("button",{type:"button",class:"button secondary resolve",onClick:f},A?"Resolve":"Reopen"),o.h(u.default,{markedAsRead:n,onClick:g})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWindowEventListener=void 0;const i=n(222);t.useWindowEventListener=function(e,t){i.useEffect(()=>(window.addEventListener(e,t),()=>window.removeEventListener(e,t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResize=void 0;const i=n(222);t.useResize=function(e,t){const n=i.useRef(null);i.useEffect(()=>{var i;return null===(i=n.current)||void 0===i||i.disconnect(),n.current=new ResizeObserver(t),e&&n.current.observe(e),()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.disconnect()}},[e])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePrevious=void 0;const i=n(222);t.usePrevious=function(e){const t=i.useRef();return i.useEffect(()=>{t.current=e}),t.current}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2207);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(718)),r=n(558),a=i(n(855)),l=i(n(1421)),c=i(n(1117)),d=i(n(1113)),u=n(1119);n(2208);const p=[u.CustomRules.SPOTIFY,u.CustomRules.YOUTUBE,u.MarkdownRules.CHECKBOX,u.MarkdownRules.TABLE,u.MarkdownRules.HEADING];t.default=function({comment:{_id:e,author:t,created:n,note:i},highlighted:u,onHover:h}){var f;return o.h("div",{key:e,class:s.default("comment",{highlighted:u}),onMouseEnter:function(){h(e)}},o.h("div",{class:"commentHeader"},o.h(d.default,{member:{user:t}},o.h(a.default,{class:"memberRowAvatar",src:r.getUserAvatar(t).src,size:24})),o.h("span",{class:"authorName ellipsis"},null!==(f=t.fullName)&&void 0!==f?f:t.username),o.h(l.default,{type:"time-ago",format:"micro",class:"date",datetime:n}))," ",o.h(c.default,{disabledFeatures:p},i))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(584)),s=i(n(582)),r=i(n(574)),a={select(e,t){const{selectedId:n,selectedEventIds:i}=s.default.ActivitiesViewStore.getState(),r=!n,a=n===e._id&&i.every(e=>t.includes(e))&&t.length===i.length;s.default.dispatcher.dispatch({type:o.default.Select,activity:e,eventIds:t,options:{reselect:a,autoSelect:r}})},setDotsLoaded(e){s.default.dispatcher.dispatch({type:o.default.SetDotsLoaded,activity:e})},selectCategory(e){s.default.ActivitiesViewStore.getState().category!==e&&s.default.dispatcher.dispatch({type:o.default.SelectCategory,category:e})},selectAllBarrels(){"all"!==s.default.ActivitiesViewStore.getState().barrelSelection.type&&s.default.dispatcher.dispatch({type:o.default.SelectAllBarrels})},selectBarrel(e,t,n){const{barrelSelection:i}=s.default.ActivitiesViewStore.getState();(i.type!==t||i.id!==e||i.type!==r.default.STYLEGUIDE&&i.isPinned!==n)&&s.default.dispatcher.dispatch({type:o.default.SelectBarrel,id:e,isPinned:n,barrelType:t})},setProjectsWithUpdatesOnly(e){s.default.dispatcher.dispatch({type:o.default.SetProjectsWithUpdatesOnly,projectsWithUpdatesOnly:e})},load(e){s.default.dispatcher.dispatch({type:o.default.Load,data:e})},selectNoteStatusFilter(e){s.default.ActivitiesViewStore.getState().noteStatusFilter!==e&&s.default.dispatcher.dispatch({type:o.default.SelectNoteStatusFilter,noteStatusFilter:e})},selectColor(e){s.default.ActivitiesViewStore.getState().color!==e&&s.default.dispatcher.dispatch({type:o.default.SelectColor,color:e})},selectMember(e){s.default.ActivitiesViewStore.getState().memberId!==e&&s.default.dispatcher.dispatch({type:o.default.SelectMember,memberId:e})},selectSection(e){s.default.ActivitiesViewStore.getState().sectionId!==e&&s.default.dispatcher.dispatch({type:o.default.SelectSection,sectionId:e})},requestRelatedUsers(e){s.default.dispatcher.dispatch({type:o.default.RequestRelatedUsers,oid:e})},setSidebarWidth(e){s.default.dispatcher.dispatch({type:o.default.SetSidebarWidth,sidebarWidth:e})},saveListScrollData(e){e&&"activities"===s.default.AppStore.getState().page||s.default.dispatcher.dispatch({type:o.default.SaveListScrollData,listScrollData:e})}};t.default=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2213);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(574)),r=i(n(718)),a=i(n(719)),l=i(n(1322)),c=i(n(2214));function d(e,t,n){return o.h(c.default,{name:t.name,bid:t.id,barrelType:e,type:t.type,muted:t.muted,hasUpdate:t.hasUpdate,mentionCount:e===s.default.PROJECT?t.mentionCount:0,onToggleMuteStatusClick:n})}function u(e,t){return e.projects.map(e=>({id:e._id,title:e.name,nodePadding:-24,children:[],content:d(s.default.PROJECT,e,t)}))}function p(e){return e.replace("pinned-","")}function h(e,t){return!!t&&p(t)===p(e)}n(2217),t.default=function({allSelected:e,projectsWithUpdatesOnly:t,sections:n,styleguides:i,selectAll:f,selectBarrel:g,onProjectsWithUpdatesOnlyChange:m,projectId:b,isSelectedProjectPinned:S,styleguideId:y,pinnedProjectIds:v,selectedOrganizationId:C,onToggleMuteStatusClick:O}){function E(e){g(e,s.default.STYLEGUIDE)}function T(e){e.match(/pinned-/g)?g(p(e),s.default.PROJECT,!0):g(e,s.default.PROJECT)}return o.h("div",{class:"activityBarrels"},o.h("span",{class:r.default("allBarrelsItem",{selected:e}),title:"All Projects and Styleguides",onClick:f},"All Projects and Styleguides"),function(){let t;e||(t=S?"pinned-"+b:b);const i=function(e,t,n,i){const r={id:"pinnedProjects",class:"projectSection",title:"Pinned Projects",children:[],nonSelectable:!0,expandOnClick:!0,content:o.h(c.default,{name:"Pinned Projects"})},a="user"===n?"Projects":"Joined Projects",l={id:"joinedProjects",class:"joinedProjects",title:a,nonSelectable:!0,expandOnClick:!0,content:o.h(c.default,{name:a,root:!0}),children:"user"===n?u(e[0],i):e.map(e=>({id:e._id,class:"projectSection",title:e.name,nonSelectable:!0,expandOnClick:!0,content:o.h(c.default,{name:e.name}),children:u(e,i)})).filter(e=>e.children.length>0)};if(null==e||e.forEach(e=>{var n;null===(n=null==e?void 0:e.projects)||void 0===n||n.forEach(e=>{if(null==t?void 0:t.includes(e._id)){const t={id:"pinned-"+e._id,nodePadding:-24,title:e.name,children:[],content:d(s.default.PROJECT,e,i)};r.children.push(t)}})}),r.children.length>0&&(l.children=[r,...l.children]),0!==l.children.length)return l}(n,v,C,O);return i&&o.h(l.default,{class:"projectsTree",nodeClass:"barrelTreeNode",nodePadding:-12,tree:[i],selectedNodeId:t,compareIdsForHighlight:h,onNodeSelect:T,allowScrollOnMount:!1})}(),o.h("label",{class:"showProjectsWithUpdatesOnly"},o.h(a.default,{checked:t,onChange:function(e){m(e.target.checked)}}),o.h("span",{class:"label ellipsis",title:"Only show Projects with updates"},"Only show Projects with updates")),function(){const e=function(e,t,n){if(0===e.length)return;const i={},r="user"===t?"Styleguides":"Joined Styleguides";return i.root={id:"joinedStyleguides",class:"joinedStyleguides",title:r,children:[],nonSelectable:!0,content:o.h(c.default,{name:r,root:!0})},e.forEach(e=>{const t={id:e.id,title:e.name,children:[],content:d(s.default.STYLEGUIDE,e,n)};i[t.id]=t}),e.forEach(e=>{var t;if(e.parent&&i[e.parent]){const n=i[e.id],o=i[e.parent];null===(t=null==o?void 0:o.children)||void 0===t||t.push(n)}else i.root.children.push(i[e.id])}),i.root}(i,C,O);return e&&o.h(l.default,{class:"styleguidesTree",nodeClass:"barrelTreeNode",nodePadding:-12,tree:[e],selectedNodeId:y,onNodeSelect:E,allowScrollOnMount:!1})}())}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2215);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=n(222),r=n(543),a=i(n(574)),l=i(n(718)),c=i(n(723)),d=i(n(1050)),u=n(771);n(2216),t.default=function({name:e,barrelType:t,bid:n,type:i,muted:p,hasUpdate:h,mentionCount:f,root:g,onToggleMuteStatusClick:m}){const b=s.useRef(),[S,y]=s.useState(!1),[v,C]=s.useState(!1);function O(e){t&&(e.preventDefault(),e.stopPropagation(),y(!0))}function E(){y(!1),C(!1)}function T(){m(p,t,n)}const _=v||S,P=l.default("nodeItem",{muted:p,hasUpdate:h,root:g,active:_});return o.h("div",{ref:b,class:P,onMouseEnter:function(){C(!0)},onMouseLeave:function(){C(!1)},onContextMenu:O},o.h("div",{class:"activityNodeName"},p&&o.h(u.IconMuted,{class:"muteIcon",color:"var(--clooney)",width:15,height:18}),o.h("span",{class:"name ellipsis"},e),i&&o.h("span",{class:"separatorAndType"},", ",o.h("span",{class:"type"},r.PlatformString[i])),!!f&&o.h("span",{class:"mentionCount",title:f+" unread mentions"},f),t&&_&&o.h(c.default,{class:"activityBarrelOptionsButton",onClick:O},o.h(u.IconMenu,null),S&&o.h(d.default,{class:"activityBarrelOptionsContextMenu",onClose:E},o.h(d.default.Item,{onClick:T},`${p?"Unmute":"Mute"} ${t===a.default.PROJECT?"Project":"Styleguide"}`)))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2219);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);n(2220);t.default=function(){const e=(window.innerHeight||0)-52-36,t=Math.ceil(Math.max(0,e)/112),n=new Array(t);return n.fill(i.h("div",{class:"dummyItem"}),0),i.h("div",{class:"activitiesLoadingPage"},i.h("div",{class:"leftPanel"}),i.h("div",{class:"middlePanel"},n),i.h("div",{class:"rightPanel"},i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"}),i.h("div",{class:"dummyItem"})))}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(2222);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),s=i(n(585)),r=i(n(574)),a=i(n(723));n(2223),t.default=function(e){const{emoji:t,info:n}=function({barrelType:e,category:t,notInvitedToStyleguide:n,onJoinStyleguide:i}){const l=t===s.default.All,c=l?"":" under ",d=l?"":o.h("span",{class:"category"},t,"s"),u=o.h("div",{class:"warning"},"There are no notifications",c,d,".");return e===r.default.STYLEGUIDE&&n?{emoji:"🚪",info:o.h("div",{class:"warning"},"Looks like you are not a member of this styleguide yet—you'll start receiving notifications when you join.",o.h(a.default,{class:"joinStyleguide",ninja:!0,onClick:i},"Join now."))}:{emoji:"🌬",info:u}}(e);return o.h("div",{class:"activitiesWarning"},o.h("span",{class:"emoji"},t),n)}},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582));t.default={getUserAndAcquaintances:function(){const{acquaintances:e,userId:t,email:n,username:i,fullName:s,avatar:r,emotar:a}=o.default.UserStore.getState();return t&&e?[{_id:t,email:n,username:i,fullName:s,avatar:r,emotar:a},...e]:[]}}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(676)),s=i(n(582)),r={requestDotStates(e){s.default.dispatcher.dispatch({type:o.default.RequestDotStates,parameters:e})},addDotStates(e,t){s.default.dispatcher.dispatch({type:o.default.AddDotStates,parameters:e,response:t})},dotStatesError(e){s.default.dispatcher.dispatch({type:o.default.DotStatesError,parameters:e})}};t.default=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2228);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(845),s=n.n(o),r=n(2229),a=n(582),l=n.n(a),c=n(574),d=n.n(c),u=n(1010),p=n(543);class h extends i.Component{static calculateState(){const{overridingCategory:e}=l.a.SupportButtonStore.getState(),{barrelId:t,barrelType:n,selectedView:i}=l.a.BarrelStore.getState(),{selectedOrganizationId:o,selectedTab:s}=l.a.SpaceStore.getState();if(e)return{category:e};if(!t)return{category:"projects"===s&&"user"!==o?u.default.ORGANIZATION_PROJECTS:s};let r;if(n===d.a.STYLEGUIDE)r=u.default.STYLEGUIDE;else switch(i){case p.ProjectViewTypes.DASHBOARD:r=u.default.PROJECT_DASHBOARD;break;case p.ProjectViewTypes.STYLEGUIDE:r=u.default.PROJECT_STYLEGUIDE;break;case p.ProjectViewTypes.SCREEN:r=u.default.PROJECT_SCREEN;break;default:r=u.default.DEFAULT}return{category:r}}static getStores(){return[l.a.SupportButtonStore,l.a.SpaceStore,l.a.BarrelStore]}render(){const{category:e}=this.state;return i.h(r.default,{category:e})}}t.default=s()(h,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(2230);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(4),o=n(886),s=n(718),r=n.n(s),a=n(563),l=n(1010);n(2231);const c={[l.default.DEFAULT]:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/en/articles/244698-downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/en/articles/367379-exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/en/articles/1067453-exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"}],[l.default.PRICING]:[{text:"Pricing & Plans",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"},{text:"Creating an account",url:"https://support.zeplin.io/en/articles/1067135-creating-an-account"},{text:"Collaborating with your team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Choosing a subscription plan",url:"https://support.zeplin.io/en/articles/1166181-choosing-a-subscription-plan"}],[l.default.PROJECTS]:[{text:"Adding a user to a project",url:"https://support.zeplin.io/en/articles/1988444-adding-a-user-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/en/collections/48616-profile"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"}],[l.default.PROJECT_DASHBOARD]:[{text:"Adding a project to Slack",url:"https://support.zeplin.io/en/articles/246424-adding-a-project-to-slack"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Downloading screens as images",url:"https://support.zeplin.io/en/articles/774216-downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/en/articles/1396666-organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"}],[l.default.PROJECT_STYLEGUIDE]:[{text:"Organizing styleguide colors",url:"https://support.zeplin.io/en/articles/1444421-organizing-styleguide-colors"},{text:"Organizing styleguide text styles",url:"https://support.zeplin.io/en/articles/1504520-organizing-styleguide-text-styles"},{text:"Exporting colors from Sketch",url:"https://support.zeplin.io/en/articles/1444521-exporting-colors-from-sketch"},{text:"Exporting text styles from Sketch",url:"https://support.zeplin.io/en/articles/367382-exporting-text-styles-from-sketch"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[l.default.PROJECT_SCREEN]:[{text:"Updating a screen",url:"https://support.zeplin.io/en/articles/1090335-updating-a-screen"},{text:"Exporting assets",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/en/articles/1437093-comparing-app-website-with-designs-using-pop-out"},{text:"Changing units",url:"https://support.zeplin.io/en/articles/377715-changing-units"}],[l.default.STYLEGUIDES]:[{text:"Creating a styleguide",url:"https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"},{text:"Choosing a styleguide type",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[l.default.STYLEGUIDE]:[{text:"Learning styleguide types",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Adding a user to a styleguide",url:"https://support.zeplin.io/en/articles/3074305-adding-a-user-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[l.default.ORGANIZATION_DASHBOARD]:[{text:"Assigning roles to workspace members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Managing access level of workspace members",url:"https://support.zeplin.io/en/articles/4629006-managing-access-level-of-organization-members"},{text:"Grouping workspace members by tags",url:"https://support.zeplin.io/en/articles/419850-grouping-organization-members-by-tags"},{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Transfer workspace ownership",url:"https://support.zeplin.io/en/articles/1374947-transferring-an-organization"}],[l.default.ORGANIZATION_PROJECTS]:[{text:"Transferring personal projects to workspace",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Assigning roles to workspace members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/en/articles/867652-archiving-a-project"}],[l.default.ORGANIZATION_PROFILE]:[{text:"Updating workspace profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/en/articles/481582-updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/en/articles/479220-sending-invoices"}],[l.default.PROFILE]:[{text:"Setting your profile picture",url:"https://support.zeplin.io/en/articles/246033-setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/en/articles/980050-transferring-a-subscription"}]};class d extends o.default{constructor(){var e,t,n;super(),n=()=>{mixpanel.master.track("Life saver popover",{"Clicked On":"All articles"})},(t="handleSupportLinkClick")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){mixpanel.master.track("Life saver popover",{"Clicked On":"Intercom"}),Intercom("showMessages")}handleLinkClick(e){mixpanel.master.track("Life saver popover",{"Clicked On":e.target.closest("a").href})}buttonClickHandler(e){e.stopPropagation(),this.setState(e=>({popupOpen:!e.popupOpen}))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentDidUpdate(){this.state.popupOpen?(document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler)):(document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler))}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{category:e}=this.props,t=c[e].map(e=>i.h("li",{key:e.url},i.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.h("span",null,e.text))));return i.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.h("h3",null,"Handy articles:"),i.h("ul",null,t),i.h("hr",null),i.h("a",{href:"https://support.zeplin.io",onClick:this.handleSupportLinkClick,target:"_blank"},"Got another question? ☝️"),i.h("hr",null),i.h("button",{type:"button",onClick:this.showMessages},i.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=r()("supportButton",{popupOpen:e,intercomOpen:t});return i.h("div",{class:n,onClick:this.buttonClickHandler},i.h("img",{src:a.imageUrl("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}d.defaultProps={category:l.default.DEFAULT},t.default=d},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2233);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(4),o=n(542),s=n(222),r=n(879),a=n(723),l=n(558),c=n(544),d=n(540),u=n(718),p=n.n(u);n(2234);const h="fallback",f="initial",g="downloading",m="ready";function b(){const[e,t]=Object(s.useState)(0);Object(s.useEffect)(()=>{const n=setInterval(()=>{t((e+1)%3)},1e3);return()=>clearInterval(n)});const n=""+".".repeat(e+1);return i.h(a.default,{class:"downloadingUpdates",primary:!0,disabled:!0},"Downloading",n)}function S(){const[e,t]=Object(s.useState)(function(){const e=Object(d.getAppVersion)();return!("unknown"!==e&&!e.startsWith("0")&&!e.startsWith("1"))}()?h:f);function n(){Object(l.openLink)("https://zpl.io/download-windows-64")}function u(){t(g),location.assign(c.ZPL_PROTOCOL+"//update")}function S(){t(m)}function y(){o.default.ipcRenderer.send("restart-app")}return Object(s.useEffect)(()=>(o.default.ipcRenderer.on("app-update-downloaded",S),()=>o.default.ipcRenderer.removeAllListeners("app-update-downloaded"))),i.h("main",{class:p()("windowsAppForceUpdateNotifier",e)},e===m?i.h(r.default,{asset:"/img/imgUpdatedApp.png"}):i.h(r.default,{asset:"/img/imgUpdateApp.png"}),e===m?i.h("h1",null,"Update complete"):e===h?i.h("h1",null,"Download the new Windows app"):i.h("h1",null,"Unbox the new Windows app"),e===m?i.h("p",null,"Congratulations—you can now take advantage of the new, faster Windows app."):e===h?i.h("p",null,"We've built a better and faster Windows app, please download to continue."):i.h("p",null,"We've built a better and faster Windows app, please install the update to continue."),function(){switch(e){case f:return i.h(a.default,{primary:!0,onClick:u},"Install update");case g:return i.h(b,null);case m:return i.h(a.default,{primary:!0,onClick:y},"Relaunch app");default:return i.h(a.default,{primary:!0,onClick:n},"Download new Windows app")}}(),i.h("p",null,"Ping us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io")," if you have any questions."))}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2236);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(4);n(2237);t.default=function({onLogin:e,onLogout:t,frequency:n}){return i.h("div",{class:"loginRequiredDialogContainer"},i.h("div",{class:"loginRequiredDialog"},i.h("span",null,"🗝"),i.h("h2",null,document.hasFocus()?"Please login again.":"Welcome back, please login again."),i.h("p",null,"Your organization requires you to login again ",i.h("strong",null,"every ",n),"."),i.h("div",{class:"buttonsContainer"},i.h("button",{onClick:t,class:"logout"},"LOG OUT"),i.h("button",{onClick:e,class:"login"},"LOGIN WITH SSO"))))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trackVisitiedAppEvent=t.setMixpanelGroupProperties=void 0;const o=i(n(681)),s=i(n(682)),r=i(n(582)),a=i(n(574)),l=n(540),c=n(541),d=n(543),u=n(556);function p(){const{selectedOrganizationId:e}=r.default.SpaceStore.getState(),t=Zeplin.user&&Zeplin.user._id,n=t&&s.default.getOrganizationMember(e,t),i={};return e&&"user"!==e&&(i.workspace_id=e),n&&(i["User Role"]=n.role),i}function h(){mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("project_id"),mixpanel.master.unregister("styleguide_id"),mixpanel.master.unregister("User Role")}t.setMixpanelGroupProperties=function(){h(),r.default.SpaceStore.addListener(()=>{mixpanel.master.unregister("workspace_id"),mixpanel.master.unregister("User Role"),mixpanel.master.register(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},p()))}),r.default.BarrelStore.addListener(()=>{h(),mixpanel.master.register(Object.assign(Object.assign({Client:c.isWindowsApp?"Windows":"Web","Client Version":l.getAppVersion()},p()),function(){const{organizationId:e,barrelType:t,barrelId:n}=r.default.BarrelStore.getState(),i={};if(t&&n){const s=o.default.findUser();t===a.default.PROJECT?i.project_id=n:i.styleguide_id=n,e&&"user"!==e&&(i.workspace_id=e),s&&(i["User Role"]=s.role)}return i}()))})},t.trackVisitiedAppEvent=function(e){const t=u.getAppRouteFromPathname(e);if(!t)return;let n;switch(t){case d.AppRoutes.Workspace:n="Workspace";break;case d.AppRoutes.Project:n="Project";break;case d.AppRoutes.Styleguide:n="Styleguide";break;case d.AppRoutes.ProjectStyleguide:n="Project styleguide";break;case d.AppRoutes.Screen:n="Screen";break;case d.AppRoutes.ScreenVersion:n="Screen version";break;case d.AppRoutes.Notifications:n="Notifications"}n&&mixpanel.master.track("Visited app",{Location:n})}},function(e,t,n){"use strict";n.r(t),n.d(t,"goToLastOrganizationWorkspace",(function(){return M})),n.d(t,"registerWorkspaceRouteHandlers",(function(){return x}));n(554),n(947);var i=n(571),o=n(575),s=n(547),r=n(684),a=n.n(r),l=n(582),c=n.n(l),d=n(586),u=n.n(d),p=n(701),h=n.n(p),f=n(624),g=n.n(f),m=n(1014),b=n(621),S=n.n(b),y=n(682),v=(n(2241),n(2246)),C=n(709),O=n(556),E=n(555),T=n(2242),_=n(760),P=n(543);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){const n=y.default.getOrganization(e);if(n&&n.members)return{};const{restricted:o}=t;return o?Promise.resolve({_id:e,members:[]}):i.getOrganizationMembers(e)}function R(e){const{focusedBarrels:t}=c.a.OrganizationStore.getState();return t&&t[e]?t[e]:i.getOrganizationMemberFocusedBarrels(e,Zeplin.user._id)}function A(e,t){const n=[Object(v.getOrganization)(e),Object(v.getOrganizationSections)(e),R(e),k(e,t),s.organizationPrefs.get(e,"dialogDismissStates"),Object(v.getProjects)(e),Object(v.getStyleguides)(e)];return Promise.all(n).then(([t,n,i,o,s,r,a])=>({oid:e,organization:I(I(I({},t),o),{},{sections:n}),focusedBarrels:i,dialogDismissParams:s,projects:r,styleguides:a}))}const w={onChangeSelectedOrganization({oid:e}){const{selectedTab:t}=c.a.SpaceStore.getState(),n="user"===e?t:"workspace-"+t,i=Object(O.urlResolve)(n,{url:{oid:e}});setTimeout(()=>{a.a.history.push(i)},4),s.userPrefs.set("lastOrganization",e),Object(C.sendGAPageView)({title:"Space - Zeplin"})},onChangeTab({tab:e}){const{selectedOrganizationId:t}=c.a.SpaceStore.getState(),n="user"===t?e:"workspace-"+e,i=Object(O.urlResolve)(n,{url:{oid:t}});setTimeout(()=>{a.a.history.push(i)},4),mixpanel.master.track(`Opened ${t?"organization":"all"} ${e}`),Object(C.sendGAPageView)({title:"Space - Zeplin"})},onChangeFilterValue({filterValue:e}){const{selectedOrganizationId:t,selectedTab:n}=c.a.SpaceStore.getState(),i=new URLSearchParams(location.search);e?i.set("q",e):i.delete("q");const o=Object.fromEntries(i),s="user"===t?n:"workspace-"+n;let r;r="user"===t?{query:o}:{url:{oid:t},query:o},setTimeout(()=>{history.replaceState(r,"Zeplin - Workspace",Object(O.urlResolve)(s,r))},4)},onChangeProjectSelectedSortType({oid:e,sortType:t}){"user"===e?s.userPrefs.set("projectSortType",t):s.organizationPrefs.set(e,"projectSortType",t)},onSetStyleguidesTabVisited(){s.userPrefs.set("styleguidesTabVisited",!0)},onToggleSectionState({oid:e,oseids:t},{shouldCollapse:n}){s.organizationPrefs.get(e,"collapsedSections").then(i=>{t.forEach(e=>{i[e]=n}),s.organizationPrefs.set(e,"collapsedSections",i)})},onTrackBarrelClick({oid:e,isFromPinArea:t}){e&&"user"!==e&&mixpanel.master.track("Navigated to project",{Source:t?"Pinned":void 0})},onPostponeOfferReminder({nextDate:e}){s.userPrefs.set("offerReminderNextDate",e)}},N={onGetOrganizations({organizations:e}){e&&e.forEach(e=>{Object(T.subscribeToOrganizationChannel)(e._id)})},onAddOrganization({organization:e}){Object(T.subscribeToOrganizationChannel)(e._id),i.getOrganizationMemberProfile(e._id,Zeplin.user._id).then(t=>{m.default.addOrganizationProfile(t,e._id)}).catch(o.handleError)},resetSortTypeAndFilters(e){if(!e.syncWithApi)return;new URLSearchParams(location.search).get("q")&&w.onChangeFilterValue({filterValue:""}),s.organizationPrefs.get(e.oid,"projectSortType").then(t=>{t!==P.SortTypes.SECTIONS&&s.organizationPrefs.set(e.oid,"projectSortType",P.SortTypes.SECTIONS)})}};const L=/^(?:\/workspace\/([\da-f]{24}))?\/(projects|styleguides)?$/i;async function M(){const e=new URL(location.href);if(L.test(e.pathname)){const[,t="user",n=P.WorkspaceTabs.PROJECTS]=e.pathname.match(L),i=await s.userPrefs.get("lastOrganization");if(i&&"user"!==i&&"user"===t){const t=Object.fromEntries(e.searchParams),o=Object(O.urlResolve)("workspace-"+n,{url:{oid:i},query:t});history.replaceState(null,null,o)}}}function x(){c.a.dispatcher.register(e=>{switch(e.type){case g.a.CHANGE_SELECTED_TAB:w.onChangeTab(e);break;case g.a.CHANGE_FILTER_VALUE:w.onChangeFilterValue(e);break;case g.a.CHANGE_PROJECT_SELECTED_SORT_TYPE:w.onChangeProjectSelectedSortType(e);break;case g.a.CHANGE_SELECTED_ORGANIZATION:w.onChangeSelectedOrganization(e);break;case g.a.SET_STYLEGUIDES_TAB_VISITED:w.onSetStyleguidesTabVisited();break;case g.a.TRACK_BARREL_CLICK:w.onTrackBarrelClick(e);break;case g.a.EXPAND_SECTIONS:w.onToggleSectionState(e,{shouldCollapse:!1});break;case g.a.COLLAPSE_SECTIONS:w.onToggleSectionState(e,{shouldCollapse:!0});break;case g.a.POSTPONE_OFFER_REMINDER:w.onPostponeOfferReminder(e)}}),c.a.dispatcher.register(e=>{switch(e.type){case u.a.LOAD_WORKSPACE_DATA:N.onGetOrganizations(e);break;case S.a.ADD_ORGANIZATION:N.onAddOrganization(e);break;case S.a.ADD_PROJECT_SECTION:case S.a.UPDATE_PROJECT_ORDER:N.resetSortTypeAndFilters(e)}})}a.a.route(L,(async function(e){Object(C.sendGAPageView)({title:"Space - Zeplin"});const{match:[t="user",n=P.WorkspaceTabs.PROJECTS],query:{q:[r=""]=[],pid:l=[],stid:d=[],oseid:[u]=[],seid:[p]=[u],newProject:f,newStyleguide:g}}=e,m=[...l,...d],{styleguidesTabVisited:b,pinnedBarrelOnce:S,offerReminderNextDate:y}=await s.userPrefs.getAll(),T="user"===t?await s.userPrefs.get("projectSortType"):await s.organizationPrefs.get(t,"projectSortType"),D="user"===t?{}:await s.organizationPrefs.get(t,"collapsedSections");let j;D[p]&&(D[p]=!1,s.organizationPrefs.set(t,"collapsedSections",D)),n===P.WorkspaceTabs.PROJECTS&&f?j=P.DialogTypes.CREATE_PROJECT:n===P.WorkspaceTabs.STYLEGUIDES&&g&&(j=P.DialogTypes.CREATE_STYLEGUIDE),h.a.updatePageState({selectedOrganizationId:t,selectedTab:n,filterValue:r,selectedWorkflowStatusFilter:"All",highlightedBarrels:m,scrollToHighlightedBarrel:!!m.length,highlightedSection:p,collapsedSections:D,selectedProjectSortType:p?P.SortTypes.SECTIONS:T,styleguidesTabVisited:b,pinnedBarrelOnce:S,visibleDialogType:j,offerReminderNextDate:y}),_.default.setPage("workspace");const k=await Object(v.getOrganizations)(),R=await async function(e,t){const{organizationProfiles:n}=c.a.OrganizationStore.getState();if(e.every(({_id:e})=>n[e]))return n;const s=e.map(({_id:e})=>n[e]||i.getOrganizationMemberProfile(e,t));try{return(await Promise.all(s)).reduce((t,n,i)=>(t[e[i]._id]=n,t),{})}catch(r){o.handleError(r)}}(k,Zeplin.user._id),w=await function(e,t,n,i){return e.find(e=>e._id===n)||"user"===n?("user"===n?v.fetchPersonalWorkspaceData:A)(n,t[n]).catch(e=>{o.handleError(e,{dialogCallback(){a.a.history.replace(Object(O.urlResolve)(i))}})}):(E.create({title:"You’re not invited to this workspace",message:"Please contact workspace admins."}),void h.a.changeSelectedOrganization("user"))}(k,R,t,n);_.default.loadWorkspaceData(I({organizations:k,organizationProfiles:R},w))}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var i=n(571),o=n(575),s=n(1500),r=n(555),a=n(542),l=n(574),c=n.n(l),d=n(2242),u=n(1294),p=n(622),h=n.n(p),f=n(582),g=n.n(f),m=n(1385),b=n(623),S=n(696),y=n(701),v=n.n(y),C=n(586),O=n.n(C),E=n(543),T=n(541),_=n(559),P=n(556),D=n(684),I=n.n(D),j=n(947);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const N=T.supports.webviews;const L={project:{create:i.createProject,get:i.getProject,inviteUser:i.inviteProjectUser,transferOwnership:i.transferProjectOwnership},styleguide:{create:i.createStyleguide,get:i.getStyleguide,inviteUser:i.inviteStyleguideUser,transferOwnership:i.transferStyleguideOwnership}},M={project:{getRequest:u.default.getProjectRequest,getSuccess:u.default.getProjectSuccess,getFailed:u.default.getProjectFailed,transferOwnership:u.default.transferOwnership},styleguide:{getRequest:m.default.getStyleguideRequest,getSuccess:m.default.getStyleguideSuccess,getFailed:m.default.getStyleguideFailed,transferOwnership:m.default.transferOwnership}},x=e=>{const t=e+"s";return{onGetBarrels(n){const i=n[t];i&&(i.forEach(({_id:t})=>Object(d.subscribeToBarrelChannel)(e,t)),N&&i.length&&function(e,t){a.default.ipcRenderer.sendToHost("preload-"+e,Object(P.urlResolve)(e,{url:{bid:t.slice().sort(_.sortBy.updated)[0]._id}}))}(e,i))},onCreateBarrel(t){let{type:n}=t,i=w(t,["type"]);const{oid:s,oseid:r,platform:a}=i;L[e].create(i).then(({_id:t})=>(mixpanel.master.track("Created "+e,{Type:Object(_.getPlatformString)(a),[e+"_id"]:t}),L[e].get(t).then(n=>{v.a.hideLoading(),v.a.closeDialog(),S.default.add({barrel:n,oid:s,oseid:r,barrelType:e}),I.a.history.push(Object(P.urlResolve)(e,{url:{bid:t}}))}))).catch(t=>{v.a.hideLoading(),v.a.closeDialog(),o.handleError(t,{clientErrorHandler:{402:()=>v.a.openDialog(E.DialogTypes.UPGRADE_PLAN,{barrelType:e}),default:o.handleError}})})},onInviteUser({container:t,bid:n,users:i,oid:o}){s.show({popupContainer:t,bid:n,bt:e,members:i,oid:o,onInvite(t){S.default.addMembers({bid:n,barrelType:e,members:t})}})},onTransferOwnership(t){const{bid:n,fromUserId:i,targetId:s,toOrganization:a,oid:l,canChangePlanAtTarget:d}=t;L[e].transferOwnership(n,s,a).then(()=>{M[e].transferOwnership({bid:n,fromUserId:i,targetId:s,toOrganization:a,oid:l})}).catch(t=>{o.handleError(t,{clientErrorHandler:{402(){d?Object(j.showPlanChooserOverlay)({source:`Workspace, Reached ${e} limit`,oid:!!a&&s,upgradeTrigger:e===c.a.PROJECT?E.PlanUpgradeTrigger.PROJECT_LIMIT:E.PlanUpgradeTrigger.STYLEGUIDE_LIMIT}):a?r.create({title:"Transferring ownership failed",message:`Your workspace reached the ${e} limit. Contact the workspace Admins to upgrade your plan.`,done:{name:"OK"}}):o.handleError(t)},default:o.handleError}})})}}},U={onParentSelect({stid:e,parent:t,oldParent:n}){i.updateStyleguideParent(e,t).then(e=>{mixpanel.master.track((n?"Changed":"Added")+" styleguide parent")}).catch(t=>{m.default.removeParent({stid:e,parent:n}),o.handleError(t)})},onParentRemove({stid:e,oldParent:t}){i.removeStyleguideParent(e).then(e=>{mixpanel.master.track("Removed styleguide parent")}).catch(n=>{m.default.selectParent({stid:e,parent:t}),o.handleError(n)})}};function B(){g.a.dispatcher.register(e=>{const t=x(c.a.PROJECT),{type:n,pid:i,syncWithApi:o}=e,s=R({bid:i},w(e,["type","pid","syncWithApi"]));switch(n){case h.a.INVITE_USER:t.onInviteUser(s);break;case h.a.GET_PROJECTS_SUCCESS:case O.a.LOAD_WORKSPACE_DATA:t.onGetBarrels(s)}if(o)switch(n){case h.a.CREATE_PROJECT:t.onCreateBarrel(s);break;case h.a.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(s)}}),g.a.dispatcher.register(e=>{const t=x(c.a.STYLEGUIDE),{type:n,stid:i,syncWithApi:o}=e,s=R({bid:i},w(e,["type","stid","syncWithApi"]));switch(n){case b.default.INVITE_USER:t.onInviteUser(s);break;case b.default.GET_STYLEGUIDES_SUCCESS:case O.a.LOAD_WORKSPACE_DATA:t.onGetBarrels(s)}if(o)switch(n){case b.default.CREATE_STYLEGUIDE:t.onCreateBarrel(s);break;case b.default.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(s);break;case b.default.SELECT_PARENT:U.onParentSelect(e);break;case b.default.REMOVE_PARENT:U.onParentRemove(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToOrganizationChannel",(function(){return l})),n.d(t,"unsubscribeFromOrganizationChannel",(function(){return c})),n.d(t,"subscribeToStyleguideChannel",(function(){return d})),n.d(t,"unsubscribeFromStyleguideChannel",(function(){return u})),n.d(t,"subscribeToProjectChannel",(function(){return p})),n.d(t,"unsubscribeFromProjectChannel",(function(){return h})),n.d(t,"subscribeToBarrelChannel",(function(){return f})),n.d(t,"unsubscribeFromBarrelChannel",(function(){return g}));var i=n(2243),o=n(574),s=n.n(o),r=n(544);function a(e,t){if(!e||!t)return;const n=e+t;return i.default.channel(n)||i.default.subscribe(n)}function l(e){return a(r.ORGANIZATION_CHANNEL_PREFIX,e)}function c(e){i.default.unsubscribe(r.ORGANIZATION_CHANNEL_PREFIX+e)}function d(e){return a(r.STYLEGUIDE_CHANNEL_PREFIX,e)}function u(e){i.default.unsubscribe(r.STYLEGUIDE_CHANNEL_PREFIX+e)}function p(e){return a(r.PROJECT_CHANNEL_PREFIX,e)}function h(e){i.default.unsubscribe(r.PROJECT_CHANNEL_PREFIX+e)}function f(e,t){e===s.a.PROJECT?p(t):d(t)}function g(e,t){e===s.a.PROJECT?h(t):u(t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"userChannel",(function(){return f}));var i=n(27),o=n.n(i),s=n(28),r=n.n(s),a=n(2244),l=n(545),c=n(708),d=n(544);let u;function p(){u||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(u=setTimeout(()=>{c.show({contentType:"html",group:"socket",content:'Real-time updates are disabled due to a connectivity issue. <a href="https://support.zeplin.io/en/articles/377685-fixing-connectivity-issues" target="_blank">Learn more.</a>',closeCallback(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},3e4))}const h=l.default.get("userToken");let f,g;if(h){const e={cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:d.FLAG_NEW_PUSHER_AUTH?d.PUSHER_URL_V2:d.PUSHER_URL,auth:{headers:{"Zeplin-Token":h}}};d.FLAG_NEW_PUSHER_AUTH&&Object.assign(e,{authorizer:a.default,authDelay:2e3}),g=new o.a(d.PUSHER_ACCESS_KEY,e),g.connection.bind("failed",p),g.connection.bind("unavailable",p),g.connection.bind("connected",()=>{Zeplin.headers.set("Zeplin-Socket-Id",g.connection.socket_id),clearTimeout(u),c.closeBanner("socket")});const{sub:t}=r()(h);f=g.subscribe(`${d.USER_CHANNEL_PREFIX}${t}`)}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(27),o=n.n(i),s=n(2245),r=n.n(s);function a(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function l(e,t,n,i,s){var r=o.a.Runtime.createXHR();for(var a in r.open("POST",i,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.headers)r.setRequestHeader(a,n.headers[a]);r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var e,t=!1;try{e=JSON.parse(r.responseText),t=!0}catch(n){s(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+r.responseText)}t&&s(!1,e)}else s(!0,r.status)},r.send(function(e,t,n){var i=0,o="&socket_id="+encodeURIComponent(t);for(var s in e)o+="&channel_name["+i+"]="+encodeURIComponent(s),i++;for(var r in n.params)o+="&"+encodeURIComponent(r)+"="+encodeURIComponent(n.params[r]);return o}(e,t,n))}var c=function(e){this.options=e,this.authOptions=e.authOptions||{},this.requests={},this.setRequestTimeout()};c.prototype.add=function(e,t){this.requests[e]=t,this.requestTimeout||this.setRequestTimeout()},c.prototype.setRequestTimeout=function(){clearTimeout(this.requestTimeout),this.requestTimeout=setTimeout(function(){Object.keys(this.requests).length?(this.executeRequests(),this.setRequestTimeout()):this.requestTimeout=null}.bind(this),this.options.authDelay||0)},c.prototype.executeRequests=function(){var e=this.requests;this.requests={},r()(e).forEach(e=>{l(e,this.options.socketId,this.authOptions,this.options.authEndpoint,(function(t,n){a(e,t?function(e){e(!0,n)}:function(e,t){n[t]?n[t].status&&200!==n[t].status?e(!0,n[t].status):e(null,n[t].data):e(!0,404)})}))})};var d={};t.default=function(e,t){return{authorize:function(n,i){var o=t.authEndpoint,s=n+":"+o,r=d[s];r||(r=d[s]=new c({socketId:n,authEndpoint:o,authDelay:t.authDelay,authOptions:t.auth})),r.add(e.name,i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){const{batches:t}=Object.keys(e).reduce((t,n)=>200===t.lastBatchKeysLength?(t.batches.push({[n]:e[n]}),t.lastBatchKeysLength=1,t):(t.lastBatchKeysLength++,t.batches[t.batches.length-1][n]=e[n],t),{lastBatchKeysLength:0,batches:[{}]});return t}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPersonalWorkspaceData=t.getOrganizationSections=t.getStyleguides=t.getProjects=t.getFocusedBarrels=t.getOrganization=t.getOrganizations=void 0,n(2241);const l=s(n(571)),c=a(n(682)),d=a(n(582));function u(e){return e.map(e=>Object.assign(Object.assign({},e),{complete:!1}))}function p(e){const t=c.default.getOrganizationProjects(e);return t?Promise.resolve(t):l.getProjects("user"===e?null:e).then(u)}function h(e){const t=c.default.getOrganizationStyleguides(e);return t?Promise.resolve(t):l.getStyleguides("user"===e?null:e).then(u)}t.getOrganizations=function(){const{organizations:e}=d.default.OrganizationStore.getState();return e.length?Promise.resolve(e):l.getOrganizations()},t.getOrganization=function(e){const t=c.default.getOrganization(e);return t&&t.complete?Promise.resolve(t):l.getOrganization(e).then(e=>Object.assign(Object.assign({},e),{complete:!0}))},t.getFocusedBarrels=function(e,t){const{focusedBarrels:n}=d.default.OrganizationStore.getState();return n&&n[e]?Promise.resolve(n[e]):l.getOrganizationMemberFocusedBarrels(e,t)},t.getProjects=p,t.getStyleguides=h,t.getOrganizationSections=function(e){const t=c.default.getOrganization(e);return t&&t.complete&&t.sections?Promise.resolve(t.sections):l.getOrganizationSections(e)},t.fetchPersonalWorkspaceData=function(){return r(this,void 0,void 0,(function*(){return{oid:"user",organization:null,focusedBarrels:null,dialogDismissParams:null,projects:yield p("user"),styleguides:yield h("user")}}))}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2248)),s=i(n(2254)),r=i(n(2258)),a=i(n(2241)),l=i(n(2263)),c=i(n(2267)),d=i(n(2268)),u=i(n(2273)),p=i(n(2277)),h=i(n(2280)),f=i(n(2284)),g=i(n(2288)),m=i(n(2289)),b=i(n(2291)),S=i(n(2292)),y=i(n(2298)),v=i(n(2299)),C=i(n(2302)),O=i(n(2308)),E=i(n(2311)),T=i(n(2314)),_=i(n(2317)),P=i(n(2321));t.default=function(){o.default(),s.default(),r.default(),a.default(),l.default(),c.default(),d.default(),u.default(),p.default(),h.default(),f.default(),g.default(),m.default(),b.default(),S.default(),y.default(),v.default(),C.default(),O.default(),E.default(),T.default(),_.default(),P.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2249)),s=i(n(2252)),r=i(n(2253));t.default=function(){o.default(),s.default(),r.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(n(584)),c=a(n(1034)),d=a(n(585)),u=s(n(571)),p=a(n(702)),h=a(n(687)),f=a(n(2211)),g=a(n(682)),m=a(n(582)),b=a(n(1294)),S=a(n(681)),y=n(2250),v=n(2251),C={selected({activity:e,options:{reselect:t}}){var n;return r(this,void 0,void 0,(function*(){if(t||c.default.getCategory(e)!==d.default.Note)return;const i=e.events[0].project._id;if(!(null===(n=S.default.getProject({pid:i}))||void 0===n?void 0:n.complete)){setTimeout(b.default.getProjectRequest);try{yield u.getProject(i).then(e=>b.default.getProjectSuccess({project:e}))}catch(r){return void b.default.getProjectFailed(r)}}const o=e.events[0].screen._id,s=h.default.getScreen({bid:i,sid:o});(null==s?void 0:s.dots)?setTimeout(()=>f.default.setDotsLoaded(e)):u.getDots(i,o).then(({dots:e=[]})=>{p.default.setDots({pid:i,sid:o,dots:e})}).finally(()=>f.default.setDotsLoaded(e))}))},requestRelatedUsers(e){"user"===e||g.default.getOrganizationProfile(e).restricted?m.default.UserStore.getState().acquaintances||setTimeout(v.fetchAcquaintances):g.default.getOrganizationMembers(e)||setTimeout(()=>y.fetchOrganizationMembers(e))}};t.default=function(){m.default.dispatcher.register(e=>{switch(e.type){case l.default.Select:C.selected(e);break;case l.default.RequestRelatedUsers:C.requestRelatedUsers(e.oid)}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOrganizationMembers=void 0;const a=s(n(571)),l=r(n(1014));t.fetchOrganizationMembers=function(e){return l.default.organizationMembersRequested(e),a.getOrganizationMembers(e).then(l.default.getOrganizationMembersSuccess).catch(t=>l.default.getOrganizationMembersFailed(e,t))}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAcquaintances=void 0;const a=s(n(571)),l=r(n(946));t.fetchAcquaintances=function(){return l.default.acquaintancesRequested(),a.getUserAcquaintances().then(({acquaintances:e})=>l.default.setAcquaintances(e)).catch(l.default.getAcquaintancesFailed)}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582)),s=i(n(584)),r=n(556),a=i(n(684)),l=i(n(574)),c=i(n(585)),d=i(n(1034)),u={selected({activity:e,options:{reselect:t,autoSelect:n}}){n||t||u.trackItemClick(e)},updateUrl(){const{selectedOrganizationId:e,category:t,barrelSelection:n,projectsWithUpdatesOnly:i,noteStatusFilter:s,color:d,memberId:u,sectionId:p}=o.default.ActivitiesViewStore.getState(),h="user"!==e?e:null,f=h?"workspace-activities":"activities",g=t!==c.default.All?t:null,m=n.type===l.default.PROJECT?n.id:null,b=n.type===l.default.STYLEGUIDE?n.id:null,S=i?null:"false";a.default.history.replace(r.urlResolve(f,{url:{oid:h},query:{category:g,pid:m,stid:b,updatedOnly:S,status:s,color:d,member:u,section:p}}))},trackItemClick(e){d.default.trackEventWithFilterDetails("Clicked notification",{Mention:d.default.hasMention(e),Source:"Notifications page"})},trackFilteredNotificationsChange(){d.default.trackEventWithFilterDetails("Filtered notifications")}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case s.default.Select:u.selected(e);break;case s.default.SelectColor:case s.default.SelectNoteStatusFilter:case s.default.SelectMember:case s.default.SelectSection:u.trackFilteredNotificationsChange(),u.updateUrl();break;case s.default.SelectAllBarrels:case s.default.SelectBarrel:case s.default.SetProjectsWithUpdatesOnly:case s.default.SelectCategory:case s.default.Load:u.updateUrl()}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(584)),s=n(547),r=i(n(582)),a={setSidebarWidth(e){s.userPrefs.set("activitiesSidebarWidth",e)}};t.default=function(){r.default.dispatcher.register(e=>{switch(e.type){case o.default.SetSidebarWidth:a.setSidebarWidth(e.sidebarWidth)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2255),o=n(2257);function s(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(582),o=n.n(i),s=n(593),r=n(2256),a=n(595),l=n(571),c=n(575),d=n(556),u=n(559),p=n(573),h=n.n(p);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={handleFetchConnectedAppsData(){Promise.all([Object(l.getAuthorizedApplications)(),...a.OFFICIAL_APPS.map(({_id:e})=>Object(l.getAppStatus)(e))]).then(([e,...t])=>{const n=e.slice().sort(u.sortBy.authorized);r.default.getConnectedAppsDataSuccess({authorizedApplications:n,officialApps:a.OFFICIAL_APPS.reduce((e,n,i)=>g(g({},e),{},{[n._id]:g(g({},n),{},{token:null,status:t[i]?a.appStatus.CONNECTED:a.appStatus.UNCONNECTED})}),{})})}).catch(e=>{if(e.status===h.a.STATUS.PRECONDITION_FAILED)return r.default.getConnectedAppsDataSuccess({authorizedApplications:[],zeplinCLIConnected:!1,zemConnected:!1});c.handleError(e)})},handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){const{_id:n}=e;(a.OFFICIAL_APPS.some(e=>e._id===n)?l.revokeAppToken:l.revokeAuthorizedApplication)(n).then(()=>{r.default.revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t})}).catch(e=>{r.default.revokeAuthorizedApplicationFailure(),c.handleError(e)})},handleFetchDeveloperData(){Promise.all([Object(l.getOwnedApplications)(),Object(l.getPersonalAccessTokens)()]).then(([e,t])=>{const n=e.slice().sort(u.sortBy.updated),i=t.slice().sort(u.sortBy.created);r.default.getDeveloperDataSuccess({ownedApplications:n,personalAccessTokens:i})}).catch(e=>{if(e.status===h.a.STATUS.PRECONDITION_FAILED)return r.default.getDeveloperDataSuccess({ownedApplications:[],personalAccessTokens:[]});c.handleError(e)})},handleFetchApplication({appId:e}){const{fetchedApplicationIds:t,ownedApplications:n}=o.a.AppsStore.getState(),i=n.find(t=>t._id===e);if(t.includes(e))return setTimeout(()=>{r.default.getApplicationSuccess(i)});Object(l.getOwnedApplication)(e).then(r.default.getApplicationSuccess).catch(c.handleError)},handleCreateApplication({application:e}){Object(l.createApplication)(e).then(r.default.createApplicationSuccess).catch(e=>{r.default.createApplicationFailure(),c.handleError(e)})},handleUpdateApplication({appId:e,application:t}){Object(l.updateApplication)(e,t).then(()=>r.default.updateApplicationSuccess({appId:e,application:t})).catch(e=>{r.default.updateApplicationFailure(),c.handleError(e)})},handleDeleteApplication({application:e,toastContainer:t}){Object(l.deleteApplication)(e._id).then(()=>r.default.deleteApplicationSuccess({application:e,toastContainer:t})).catch(e=>{r.default.deleteApplicationFailure(),c.handleError(e)})},handleCreatePersonalAccessToken(){Object(l.createPersonalAccessToken)().then(r.default.createPersonalAccessTokenSuccess).catch(e=>{r.default.createPersonalAccessTokenFailure(),c.handleError(e)})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(l.deletePersonalAccessToken)(e._id).then(()=>{r.default.deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t})}).catch(e=>{r.default.deletePersonalAccessTokenFailure(),c.handleError(e)})},handleRenamePersonalAccessToken({tokenId:e,name:t,oldName:n}){Object(l.renamePersonalAccessToken)(e,t).catch(t=>{r.default.renamePersonalAccessToken({tokenId:e,name:n}),c.handleError(t)})},handleConnectOfficialApp({appId:e}){const t={client_id:e,response_type:"token",redirect_uri:Object(d.urlResolve)("profile-connected-apps"),scope:"read write delete"},n="/oauth/authorize?"+Object(d.joinUrlParams)(t),i="/oauthRedirectUrl?authUrl="+encodeURIComponent(n);fetch(i).then(e=>e.text()).then(t=>{const n=new URL(t).searchParams.get("access_token");n&&r.default.connectOfficialAppSuccess({appId:e,token:n})}).catch(t=>{r.default.connectOfficialAppFailure({appId:e}),c.handleError(t)})}};function S(){o.a.dispatcher.register(e=>{switch(e.type){case s.default.GET_CONNECTED_APPS_DATA_REQUEST:b.handleFetchConnectedAppsData(e);break;case s.default.GET_DEVELOPER_DATA_REQUEST:b.handleFetchDeveloperData(e);break;case s.default.GET_APPLICATION_REQUEST:b.handleFetchApplication(e);break;case s.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleCreatePersonalAccessToken(e);break;case s.default.CREATE_APPLICATION_REQUEST:b.handleCreateApplication(e);break;case s.default.UPDATE_APPLICATION_REQUEST:b.handleUpdateApplication(e);break;case s.default.DELETE_APPLICATION_REQUEST:b.handleDeleteApplication(e);break;case s.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST:b.handleDeletePersonalAccessToken(e);break;case s.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST:b.handleRevokeAuthorizedApplication(e);break;case s.default.RENAME_PERSONAL_ACCESS_TOKEN:b.handleRenamePersonalAccessToken(e);break;case s.default.CONNECT_OFFICIAL_APP_REQUEST:b.handleConnectOfficialApp(e)}})}},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(593);const r={getConnectedAppsData(){o.a.dispatcher.dispatch({type:s.default.GET_CONNECTED_APPS_DATA_REQUEST})},getConnectedAppsDataSuccess({authorizedApplications:e,officialApps:t}){o.a.dispatcher.dispatch({type:s.default.GET_CONNECTED_APPS_DATA_SUCCESS,authorizedApplications:e,officialApps:t})},getDeveloperData(){o.a.dispatcher.dispatch({type:s.default.GET_DEVELOPER_DATA_REQUEST})},getDeveloperDataSuccess({ownedApplications:e,personalAccessTokens:t}){o.a.dispatcher.dispatch({type:s.default.GET_DEVELOPER_DATA_SUCCESS,ownedApplications:e,personalAccessTokens:t})},getApplication(e){o.a.dispatcher.dispatch({type:s.default.GET_APPLICATION_REQUEST,appId:e})},getApplicationSuccess(e){o.a.dispatcher.dispatch({type:s.default.GET_APPLICATION_SUCCESS,application:e})},revokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.REVOKE_AUTHORIZED_APPLICATION_REQUEST,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationSuccess({authorizedApplication:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS,authorizedApplication:e,toastContainer:t})},revokeAuthorizedApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.REVOKE_AUTHORIZED_APPLICATION_FAILURE})},deletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_PERSONAL_ACCESS_TOKEN_REQUEST,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenSuccess({personalAccessToken:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e,toastContainer:t})},deletePersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:s.default.DELETE_PERSONAL_ACCESS_TOKEN_FAILURE})},createPersonalAccessToken(){o.a.dispatcher.dispatch({type:s.default.CREATE_PERSONAL_ACCESS_TOKEN_REQUEST})},createPersonalAccessTokenSuccess(e){o.a.dispatcher.dispatch({type:s.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS,personalAccessToken:e})},createPersonalAccessTokenFailure(){o.a.dispatcher.dispatch({type:s.default.CREATE_PERSONAL_ACCESS_TOKEN_FAILURE})},createApplication(e){o.a.dispatcher.dispatch({type:s.default.CREATE_APPLICATION_REQUEST,application:e})},createApplicationSuccess(e){o.a.dispatcher.dispatch({type:s.default.CREATE_APPLICATION_SUCCESS,application:e})},createApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.CREATE_APPLICATION_FAILURE})},updateApplication({appId:e,application:t}){o.a.dispatcher.dispatch({type:s.default.UPDATE_APPLICATION_REQUEST,appId:e,application:t})},updateApplicationSuccess({appId:e,application:t}){o.a.dispatcher.dispatch({type:s.default.UPDATE_APPLICATION_SUCCESS,appId:e,application:t})},updateApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.UPDATE_APPLICATION_FAILURE})},deleteApplication({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_APPLICATION_REQUEST,application:e,toastContainer:t})},deleteApplicationSuccess({application:e,toastContainer:t}){o.a.dispatcher.dispatch({type:s.default.DELETE_APPLICATION_SUCCESS,application:e,toastContainer:t})},deleteApplicationFailure(){o.a.dispatcher.dispatch({type:s.default.DELETE_APPLICATION_FAILURE})},renamePersonalAccessToken({tokenId:e,name:t,oldName:n}){o.a.dispatcher.dispatch({type:s.default.RENAME_PERSONAL_ACCESS_TOKEN,tokenId:e,name:t,oldName:n})},connectOfficialApp({appId:e}){o.a.dispatcher.dispatch({type:s.default.CONNECT_OFFICIAL_APP_REQUEST,appId:e})},connectOfficialAppSuccess({appId:e,token:t}){o.a.dispatcher.dispatch({type:s.default.CONNECT_OFFICIAL_APP_SUCCESS,appId:e,token:t})},connectOfficialAppFailure({appId:e}){o.a.dispatcher.dispatch({type:s.default.CONNECT_OFFICIAL_APP_FAILURE,appId:e})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(582),o=n.n(i),s=n(593),r=n(570);const a={handleRevokeAuthorizedApplication({authorizedApplication:e,toastContainer:t}){Object(r.default)({text:`App “${e.name}” revoked`,container:t,source:"connectedAppsTab"}),mixpanel.master.track("Revoked access to Zeplin app",{"App ID":e._id})},handleDeletePersonalAccessToken({personalAccessToken:e,toastContainer:t}){Object(r.default)({text:`Token “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted personal access token")},handleDeleteApplication({application:e,toastContainer:t}){Object(r.default)({text:`App “${e.name}” deleted`,container:t,source:"developerTab"}),mixpanel.master.track("Deleted Zeplin app")},handleCreateApplication(){mixpanel.master.track("Created Zeplin app")},handleCreatePersonalAccessToken(){mixpanel.master.track("Created personal access token")}};function l(){o.a.dispatcher.register(e=>{switch(e.type){case s.default.REVOKE_AUTHORIZED_APPLICATION_SUCCESS:a.handleRevokeAuthorizedApplication(e);break;case s.default.DELETE_PERSONAL_ACCESS_TOKEN_SUCCESS:a.handleDeletePersonalAccessToken(e);break;case s.default.CREATE_APPLICATION_SUCCESS:a.handleCreateApplication(e);break;case s.default.CREATE_PERSONAL_ACCESS_TOKEN_SUCCESS:a.handleCreatePersonalAccessToken(e);break;case s.default.DELETE_APPLICATION_SUCCESS:a.handleDeleteApplication(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2259),o=n(2260),s=n(2261),r=n(2262);function a(){Object(i.default)(),Object(r.default)(),Object(s.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var i=n(582),o=n.n(i),s=n(590),r=n.n(s),a=n(696),l=n(701),c=n.n(l),d=n(705),u=n(559),p=n(628),h=n(574),f=n.n(h),g=n(543),m=n(575),b=n(576),S=n(577),y=n(571);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={project:y.project,styleguide:y.styleguide},T={[g.RESOURCE_TYPE.COLORS]:"updateColorsStyleguide",[g.RESOURCE_TYPE.TEXT_STYLES]:"updateTextStylesStyleguide",[g.RESOURCE_TYPE.COMPONENTS]:"updateComponentSectionsStyleguide"},_={[g.RESOURCE_TYPE.COLORS]:"Moved colors to styleguide",[g.RESOURCE_TYPE.TEXT_STYLES]:"Moved text styles to styleguide",[g.RESOURCE_TYPE.COMPONENTS]:"Moved components to styleguide"},P={handleActivate({bid:e,barrelType:t}){E[t].activate(e).catch(t=>{Object(m.handleError)(t),a.default.archive({bid:e})})},handleArchive({bid:e,barrelType:t}){E[t].archive(e).catch(t=>{Object(m.handleError)(t),a.default.activate({bid:e})})},handleRemove({bid:e,oid:t,oseid:n,barrelType:i,oldBarrel:o}){E[i].delete(e).catch(e=>{Object(m.handleError)(e),a.default.add({barrel:o,oid:t,oseid:n,barrelType:i})})},handleCopy({bid:e,oid:t,barrelName:n,barrelType:i,options:o}){const s={withUsers:o.users};i===f.a.PROJECT&&(s.withDots=o.notes,s.withVersions=o.versions),E[i].copy(e,s).then(({async:e,barrel:o,order:{sectionId:s,index:r}={}})=>{e?c.a.openDialog(g.DialogTypes.ASYNC_COPY_BARREL,{barrelName:n}):a.default.add({barrel:o,barrelType:i,oid:t,oseid:s,index:r,addedWithCopy:!0})}).catch(e=>{c.a.closeDialog(),Object(m.handleError)(e)})},handleUpdateName({bid:e,barrelType:t,name:n,oldName:i}){E[t].updateName(e,n).catch(t=>{Object(m.handleError)(t),a.default.updateName({bid:e,name:i})})},handleUpdateDescription({bid:e,barrelType:t,description:n,oldDescription:i}){E[t].updateDescription(e,n).catch(t=>{Object(m.handleError)(t),a.default.updateDescription({bid:e,description:i})})},handleUpdateDensityScale({bid:e,barrelType:t,densityScale:n,oldDensityScale:i}){E[t].updateDensityScale(e,n).catch(t=>{Object(m.handleError)(t),a.default.updateDensityScale({bid:e,densityScale:i})})},handleUpdateThumbnail({bid:e,barrelType:t,thumbnail:n,oldThumbnail:i}){E[t].updateThumbnail(e,n).catch(t=>{Object(m.handleError)(t),a.default.updateThumbnail({bid:e,thumbnail:i})})},handleRemoveIntegration({bid:e,barrelType:t,intype:n,inid:i,removedIntegration:o}){E[t].deleteIntegration(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.addIntegration({bid:e,intype:n,integration:o})})},handleToggleScene({bid:e,barrelType:t,accessibility:n,oldAccessibility:i}){E[t].updateAccessibility(e,n).catch(t=>{Object(m.handleError)(t),a.default.toggleScene({bid:e,accessibility:i})})},handleAddMembers({members:e}){},handleJoin({bid:e,barrelType:t,shouldLoadBarrel:n}){E[t].inviteUser(e).then(i=>{a.default.addMembers({bid:e,barrelType:t,shouldLoadBarrel:n,members:[i]})}).catch(e=>{Object(m.handleError)(e)}).finally(()=>{a.default.stopLoadingJoin()})},handleUpdateUserRole({bid:e,barrelType:t,uid:n,role:i,oldRole:o}){E[t].updateUserRole(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.updateUserRole({bid:e,uid:n,role:o})})},handleTransferOwnership({bid:e,barrelType:t,uid:n}){E[t].transferOwnership(e,n).then(()=>{a.default.ownershipTransferred({bid:e,barrelType:t,uid:n})}).catch(m.handleError)},handleRemoveMember({oid:e,bid:t,barrelType:n,mid:i,shouldRemoveBarrel:o,removedBarrel:s,removedMember:r}){E[n].removeUser(t,i).catch(i=>{Object(m.handleError)(i),o?a.default.add({oid:e,barrelType:n,barrel:s}):a.default.addMembers({bid:t,barrelType:n,members:[r]})})},handleAddColor({bid:e,barrelType:t,color:n}){const i=n._id,o=C({},n);delete o._id,delete o.id,E[t].createColor(e,o).then(({_id:t})=>{const n=C(C({},o),{},{_id:t});a.default.updateColor({bid:e,cid:i,colorData:n})}).catch(t=>{Object(m.handleError)(t),a.default.removeColor({bid:e,cid:i})})},handleAddMultipleColors({bid:e,barrelType:t,colors:n}){const i=[],o=n.map(n=>{const o=C({},n);return delete o._id,delete o.id,i.push(o),E[t].createColor(e,o)}).map(e=>e.catch(e=>e));Promise.all(o).then(t=>{t.forEach((t,o)=>{const s=i[o],r=n[o]._id;if(t instanceof b.default||t instanceof S.default)return Object(m.handleError)(t),void a.default.removeColor({bid:e,cid:r});const{_id:l}=t,c=C(C({},s),{},{_id:l});a.default.updateColor({bid:e,cid:r,colorData:c})})})},handleUpdateColor({bid:e,barrelType:t,cid:n,colorData:i,oldColorData:o}){E[t].updateColor(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.updateColor({bid:e,cid:n,colorData:o})})},handleRemoveColor({bid:e,barrelType:t,cid:n,removedColor:i}){E[t].deleteColor(e,n).catch(t=>{Object(m.handleError)(t),a.default.addColor({bid:e,color:i})})},handleRemoveAllColors({bid:e,barrelType:t,colorsToRemove:n}){const i=n.map(({id:e})=>e);E[t].deleteAllColors(e,{colors:i}).catch(t=>{Object(m.handleError)(t),a.default.addMultipleColors({bid:e,colors:n})})},handleMigrateColors({bid:e,barrelType:t,colorsToUpdate:n,oldDataOfColorsToUpdate:i,colorsToAdd:o}){Object.keys(n).forEach(o=>{const s=n[o];this.handleUpdateColor({bid:e,barrelType:t,cid:o,colorData:{sourceId:s.sourceId,name:s.name,r:s.r,g:s.g,b:s.b,a:s.a},oldColorData:i[o]})}),this.handleAddMultipleColors({bid:e,barrelType:t,colors:o})},handleAddTextStyle({bid:e,barrelType:t,textStyle:n}){const i=n._id,o=C({},n);delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,delete o.weightText,E[t].createTextStyle(e,o).then(({_id:t})=>{a.default.removeTextStyle({bid:e,tsid:i});const n=C(C({},o),{},{_id:t});a.default.addTextStyle({bid:e,textStyle:n})}).catch(t=>{Object(m.handleError)(t),a.default.removeTextStyle({bid:e,tsid:i})})},handleAddMultipleTextStyles({bid:e,barrelType:t,textStyles:n}){const i=[],o=n.map(n=>{const o=C({},n);return delete o._id,delete o.id,delete o.fontFamily,delete o.fontStretch,delete o.fontStyle,delete o.fontWeight,delete o.weightText,i.push(o),E[t].createTextStyle(e,o)}).map(e=>e.catch(e=>e));Promise.all(o).then(t=>{t.forEach((t,o)=>{const s=i[o],r=n[o]._id;if(t instanceof b.default||t instanceof S.default)return Object(m.handleError)(t),void a.default.removeTextStyle({bid:e,tsid:r});const{_id:l}=t,c=C(C({},s),{},{_id:l});a.default.updateTextStyle({bid:e,tsid:r,textStyleData:c})})})},handleUpdateTextStyle({bid:e,barrelType:t,tsid:n,textStyleData:i,oldTextStyleData:o}){E[t].updateTextStyle(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.updateTextStyle({bid:e,tsid:n,textStyleData:o})})},handleRemoveTextStyle({bid:e,barrelType:t,tsid:n,removedTextStyle:i}){E[t].deleteTextStyle(e,n).catch(t=>{Object(m.handleError)(t),a.default.addTextStyle({bid:e,textStyle:i})})},handleRemoveAllTextStyles({bid:e,barrelType:t,textStylesToRemove:n}){const i=n.map(({id:e})=>e);E[t].deleteAllTextStyles(e,{textStyles:i}).catch(t=>{Object(m.handleError)(t),a.default.addMultipleTextStyles({bid:e,textStyles:n})})},handleAddSpacingSection({bid:e,barrelType:t,spacingSection:n}){const i=n._id,o=C({},n);delete o._id,E[t].createSpacingSection(e,o).then(({_id:t})=>{a.default.updateSpacingSection({bid:e,ssid:i,updatedSpacingSection:C(C({},o),{},{_id:t})})}).catch(t=>{Object(m.handleError)(t),a.default.removeSpacingSection({bid:e,ssid:i})})},handleUpdateSpacingSection({bid:e,barrelType:t,ssid:n,updatedSpacingSection:i,oldSpacingSection:o}){E[t].updateSpacingSection(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.updateSpacingSection({bid:e,ssid:n,updatedSpacingSection:o})})},handleRemoveSpacingSection({bid:e,barrelType:t,ssid:n,removedSpacingSection:i}){E[t].deleteSpacingSection(e,n).catch(t=>{Object(m.handleError)(t),a.default.addSpacingSection({bid:e,spacingSection:i})})},handleAddSpacingToken({bid:e,barrelType:t,ssid:n,spacingToken:i}){const o=i._id,s=C({},i);delete s._id,E[t].createSpacingToken(e,n,s).then(({_id:t})=>{a.default.updateSpacingToken({bid:e,ssid:n,sptid:o,updatedSpacingToken:C(C({},s),{},{_id:t})})}).catch(t=>{Object(m.handleError)(t),a.default.removeSpacingToken({bid:e,ssid:n,sptid:o})})},handleUpdateSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,updatedSpacingToken:o,oldSpacingToken:s}){E[t].updateSpacingToken(e,n,i,o).catch(t=>{Object(m.handleError)(t),a.default.updateSpacingToken({bid:e,ssid:n,sptid:i,updatedSpacingToken:s})})},handleRemoveSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,isBaseToken:o,removedSpacingToken:s}){E[t].deleteSpacingToken(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.addSpacingToken({bid:e,ssid:n,isBaseToken:o,spacingToken:s})})},handleUpdateRemPreferences({bid:e,barrelType:t,updatedRemPreferences:n,oldRemPreferences:i}){E[t].updateRemPreferences(e,n).catch(t=>{Object(m.handleError)(t),a.default.updateRemPreferences({bid:e,updatedRemPreferences:i})})},handleUpdateComponent({bid:e,barrelType:t,csids:n,coid:i,componentData:o,oldComponentData:s}){E[t].updateComponent(e,n,i,o).catch(t=>{Object(m.handleError)(t),a.default.updateComponent({bid:e,csids:n,coid:i,componentData:s})})},handleRemoveComponent({bid:e,barrelType:t,csids:n,coid:i,oldComponent:o}){E[t].deleteComponent(e,n,i).then(({variantSection:n})=>{if(n){const{_id:i,variant:o}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,sectionVariant:o})}}).catch(t=>{Object(m.handleError)(t),a.default.addComponent({bid:e,csids:n,component:o})})},handleUpdateComponentSection({bid:e,barrelType:t,csids:n,componentSectionData:i,oldComponentSectionData:o}){E[t].updateComponentSection(e,n,i).catch(t=>{Object(m.handleError)(t),a.default.updateComponentSection({bid:e,csids:n,componentSectionData:o})})},handleMergeComponentSection({bid:e,barrelType:t,csids:n,tcsids:i,index:o,flatten:s,oldComponentSection:r}){E[t].mergeComponentSection(e,n,i,s).catch(t=>{Object(m.handleError)(t),s||r.componentSections.forEach(t=>{a.default.removeComponentSection({bid:e,csids:t.idPath})});(s?Object(u.collectComponents)([r]):r.components).forEach(t=>{a.default.removeComponent({bid:e,csids:i,coid:t._id})}),a.default.addComponentSection({bid:e,csids:n,componentSection:r,index:o})})},handleMoveResourcesRequest(e){const{bid:t,barrelType:n,densityScale:i,resourceType:o,resources:s,targetStyleguideId:r}=e;let l=Promise.resolve();o===g.RESOURCE_TYPE.COMPONENTS&&i&&(l=E[f.a.STYLEGUIDE].updateDensityScale(r,i));const c=T[o],d=s.map(e=>e._id);l.then(()=>E[n][c](t,r,d)).then(()=>{mixpanel.master.track(_[o]),a.default.moveResourcesSuccess({resourceType:o,resources:s,bid:t,barrelType:n,targetStyleguideId:r})}).catch(e=>{Object(m.handleError)(e),a.default.moveResourcesFail()})},updateComponentsOrder({bid:e,barrelType:t,components:n}){const i={components:n.map(e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to}))};E[t].updateComponentsOrder(e,i).then(({variantSections:n})=>{n&&n.forEach(n=>{const{_id:i,name:o,variant:s,components:r}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:s,components:r})})}).catch(t=>{Object(m.handleError)(t);const i=n.map(e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex}));a.default.updateComponentsOrder({bid:e,components:i})})},addComponentSection({bid:e,barrelType:t,csids:n,componentSection:i}){const o={index:i.index,name:i.name,components:i.components.map(e=>({coid:e.coid,csid:e.csid.join("/")}))};E[t].addComponentSection(e,n,o).then(({_id:i,variantSections:o})=>{a.default.updateComponentSection({bid:e,csids:n.concat(p.TEMPORARY_COMPONENT_SECTION_ID),componentSectionData:{_id:i,csids:n.concat(i),newSection:!1}}),o&&o.forEach(n=>{const{_id:i,name:o,variant:s,components:r}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:s,components:r})})}).catch(t=>{Object(m.handleError)(t);const o=i.components.map(e=>({coid:e.coid,csid:n.concat(p.TEMPORARY_COMPONENT_SECTION_ID),tcsid:e.csid,to:e.index}));a.default.updateComponentsOrder({bid:e,components:o}),a.default.removeComponentSection({bid:e,csids:n.concat(p.TEMPORARY_COMPONENT_SECTION_ID)})})},handleUpdateComponentSectionsOrder({bid:e,barrelType:t,componentSections:n}){const i={componentSections:n.map(e=>{const t={csid:e.csid.join("/"),to:e.to};return e.tcsid&&(t.tcsid=e.tcsid.join("/")),t})};E[t].updateComponentSectionsOrder(e,i).then(({variantSections:n})=>{n&&n.forEach(n=>{const{_id:i,name:o,variant:s,components:r}=n;d.default.setComponentVariantData({bid:e,barrelType:t,csid:i,name:o,sectionVariant:s,components:r})})}).catch(t=>{Object(m.handleError)(t);const i=n.map(e=>({csid:e.csid,to:e.sourceIndex}));a.default.updateComponentSectionsOrder({bid:e,componentSections:i})})},handleUpdateWorkflowStatus({barrelType:e,bid:t,workflowStatus:{_id:n},oldWorkflowStatusData:i}){E[e].updateWorkflowStatus([t],n).catch(e=>{Object(m.handleError)(e),a.default.updateWorkflowStatus({bid:t,workflowStatus:i})})},handleUpdateWorkflowStatuses({statusUpdatedBarrels:e,workflowStatus:{_id:t}}){e.forEach(({barrelType:e,bid:n,oldWorkflowStatusData:i})=>{E[e].updateWorkflowStatus([n],t).catch(e=>{Object(m.handleError)(e),a.default.updateWorkflowStatus({bid:n,workflowStatus:i})})})},handleDeleteWorkflowStatus({barrelType:e,bid:t,oldWorkflowStatusData:n}){E[e].deleteWorkflowStatus([t]).catch(e=>{Object(m.handleError)(e),a.default.updateWorkflowStatus({bid:t,workflowStatus:n})})},handleDeleteWorkflowStatuses(e){e.statusDeletedBarrels.forEach(({barrelType:e,bid:t,oldWorkflowStatusData:n})=>{E[e].deleteWorkflowStatus([t]).catch(e=>{Object(m.handleError)(e),a.default.updateWorkflowStatus({bid:t,workflowStatus:n})})})}};function D(){o.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case r.a.ACTIVATE:P.handleActivate(e);break;case r.a.ARCHIVE:P.handleArchive(e);break;case r.a.REMOVE:P.handleRemove(e);break;case r.a.COPY:P.handleCopy(e);break;case r.a.UPDATE_NAME:P.handleUpdateName(e);break;case r.a.UPDATE_DESCRIPTION:P.handleUpdateDescription(e);break;case r.a.UPDATE_DENSITY_SCALE:P.handleUpdateDensityScale(e);break;case r.a.UPDATE_THUMBNAIL:P.handleUpdateThumbnail(e);break;case r.a.REMOVE_INTEGRATION:P.handleRemoveIntegration(e);break;case r.a.TOGGLE_SCENE:P.handleToggleScene(e);break;case r.a.ADD_MEMBERS:P.handleAddMembers(e);break;case r.a.UPDATE_USER_ROLE:P.handleUpdateUserRole(e);break;case r.a.TRANSFER_OWNERSHIP:P.handleTransferOwnership(e);break;case r.a.REMOVE_MEMBER:P.handleRemoveMember(e);break;case r.a.ADD_COLOR:P.handleAddColor(e);break;case r.a.ADD_MULTIPLE_COLORS:P.handleAddMultipleColors(e);break;case r.a.UPDATE_COLOR:P.handleUpdateColor(e);break;case r.a.REMOVE_COLOR:P.handleRemoveColor(e);break;case r.a.REMOVE_ALL_COLORS:P.handleRemoveAllColors(e);break;case r.a.MIGRATE_COLORS:P.handleMigrateColors(e);break;case r.a.ADD_TEXT_STYLE:P.handleAddTextStyle(e);break;case r.a.ADD_MULTIPLE_TEXT_STYLES:P.handleAddMultipleTextStyles(e);break;case r.a.UPDATE_TEXT_STYLE:P.handleUpdateTextStyle(e);break;case r.a.REMOVE_TEXT_STYLE:P.handleRemoveTextStyle(e);break;case r.a.REMOVE_ALL_TEXT_STYLES:P.handleRemoveAllTextStyles(e);break;case r.a.ADD_SPACING_SECTION:P.handleAddSpacingSection(e);break;case r.a.UPDATE_SPACING_SECTION:P.handleUpdateSpacingSection(e);break;case r.a.REMOVE_SPACING_SECTION:P.handleRemoveSpacingSection(e);break;case r.a.ADD_SPACING_TOKEN:P.handleAddSpacingToken(e);break;case r.a.UPDATE_SPACING_TOKEN:P.handleUpdateSpacingToken(e);break;case r.a.REMOVE_SPACING_TOKEN:P.handleRemoveSpacingToken(e);break;case r.a.UPDATE_REM_PREFERENCES:P.handleUpdateRemPreferences(e);break;case r.a.UPDATE_COMPONENT_SECTION:P.handleUpdateComponentSection(e);break;case r.a.MERGE_COMPONENT_SECTION:P.handleMergeComponentSection(e);break;case r.a.UPDATE_COMPONENT:P.handleUpdateComponent(e);break;case r.a.REMOVE_COMPONENT:P.handleRemoveComponent(e);break;case r.a.JOIN:P.handleJoin(e);break;case r.a.MOVE_RESOURCES_REQUEST:P.handleMoveResourcesRequest(e);break;case r.a.UPDATE_COMPONENTS_ORDER:P.updateComponentsOrder(e);break;case r.a.ADD_COMPONENT_SECTION:P.addComponentSection(e);break;case r.a.UPDATE_COMPONENT_SECTIONS_ORDER:P.handleUpdateComponentSectionsOrder(e);break;case r.a.UPDATE_WORKFLOW_STATUS:P.handleUpdateWorkflowStatus(e);break;case r.a.UPDATE_WORKFLOW_STATUSES:P.handleUpdateWorkflowStatuses(e);break;case r.a.DELETE_WORKFLOW_STATUS:P.handleDeleteWorkflowStatus(e);break;case r.a.DELETE_WORKFLOW_STATUSES:P.handleDeleteWorkflowStatuses(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var i=n(590),o=n.n(i),s=n(696),r=n(582),a=n.n(r),l=n(542),c=n(555),d=n(541),u=n(544),p=n(560),h=n(557),f=n(558),g=n(574),m=n.n(g),b=n(571),S=n(575);function y(e){const t=e+"-workspace-path";l.default.ipcRenderer.removeAllListeners(t),l.default.ipcRenderer.once(t,(e,t)=>{s.default.setConnectedComponentsWorkspacePath(t)})}const v={addToSlackNewFlow({bid:e,barrelType:t}){const n=Object(p.getRandomString)(),i=Object(h.urlResolve)("redeemSlackCode",{query:t===m.a.PROJECT?{pid:e}:{stid:e}}),o={scope:u.SLACK_SCOPE,client_id:u.SLACK_CLIENT_ID,redirect_uri:i,state:n},r=new URL(u.SLACK_AUTH_URL);r.search=new URLSearchParams(o),l.default.ipcRenderer.once("redeem-slack-code",async(o,r,a)=>{if(n===a)try{s.default.authenticateSlackIntegration(e);const n=await(t===m.a.PROJECT?Object(b.authProjectSlack)(e,r,i):Object(b.authStyleguideSlack)(e,r,i));await Object(b.checkResponseError)(n);const{integration:o}=await n.json(),[a]=o.slacks;if(!a)return void s.default.authenticatingSlackIntegrationFailed(e);const{events:l}=await(t===m.a.PROJECT?Object(b.getProjectIntegrationEvents)(e,a._id):Object(b.getStyleguideIntegrationEvents)(e,a._id));s.default.authenticatedSlackIntegration({bid:e,barrelType:t,integration:a,events:l})}catch(l){s.default.authenticatingSlackIntegrationFailed(e),Object(S.handleError)(l)}else c.create({title:"Could not connect project to Slack",message:"State mismatch, please try again later or let us know: support@zeplin.io"})}),Object(f.openLink)(r.toString())},addToSlack({bid:e,barrelType:t,name:n}){l.default.ipcRenderer.send("add-to-slack",{id:e,barrelType:t,name:n})},getConnectedComponentsEditorInfo({bid:e}){l.default.ipcRenderer.removeAllListeners("editor-info"),l.default.ipcRenderer.once("editor-info",(e,t)=>{s.default.setConnectedComponentsEditorInfo(t)}),l.default.ipcRenderer.send("query-editor-info",{bid:e})},setConnectedComponentsEditorPreference({extension:e,editor:t}){l.default.ipcRenderer.send("set-default-editor",{extension:e,editor:t})},selectConnectedComponentsWorkspaceFolder({bid:e}){y(e),l.default.ipcRenderer.send("select-connected-components-workspace-folder",{bid:e})},openComponentFileInEditor({bid:e,filePath:t,editor:n}){y(e),l.default.ipcRenderer.send("open-file-in-editor",{bid:e,filePath:t,editor:n})}};function C(){d.isWindowsApp&&a.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_TO_SLACK:d.supports.newSlackIntegrationFlow?v.addToSlackNewFlow(e):v.addToSlack(e);break;case o.a.GET_CONNECTED_COMPONENTS_EDITOR_INFO:v.getConnectedComponentsEditorInfo(e);break;case o.a.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:v.setConnectedComponentsEditorPreference(e);break;case o.a.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:v.selectConnectedComponentsWorkspaceFolder(e);break;case o.a.OPEN_COMPONENT_FILE_IN_EDITOR:v.openComponentFileInEditor(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n(590),o=n.n(i),s=n(696),r=n(681),a=n(582),l=n.n(a),c=n(559),d=n(556),u=n(560),p=n(1198),h=n(558),f=n(2242),g=n(555),m=n(1200),b=n(574),S=n.n(b),y=n(541),v=n(564),C=n(684),O=n.n(C),E=n(544),T=n(571),_=n(1164);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j={handleGoToDashboard({bid:e,tagFilter:t}){const n=Object(d.getTagQueryParams)(t),i=Object(d.urlResolve)("project-dashboard",{url:{pid:e},query:n});O.a.history.push(i)},handleGoToStyleguide({bid:e}){const t=Object(d.urlResolve)("project-styleguide",{url:{bid:e}});O.a.history.push(t)},handleAdd({barrel:e,barrelType:t}){Object(f.subscribeToBarrelChannel)(t,e._id)},handleArchive({barrelType:e,bid:t,currentBid:n,affectedIds:i,name:o,uid:s,currentUserId:a,user:l,syncWithApi:c}){if(c&&mixpanel.master.track("Archived "+e,{[e+"_id"]:t}),i.includes(n)){if(!c&&s!==a){const e=l&&l.user.username,t=l?`${e} archived “${o}”.`:`“${o}” is archived.`,n="You won’t be able to access its resources from now on."+(l?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:t,message:n})}r.default.navigateToWorkspace()}},handleRemove({bid:e,currentBid:t,barrelType:n,oldBarrel:i,uid:o,currentUserId:s,user:a,syncWithApi:l}){if(Object(f.unsubscribeFromBarrelChannel)(n,e),l&&mixpanel.master.track("Deleted "+n,{[n+"_id"]:e}),e===t){if(!l&&o!==s){const e=a&&a.user.username,{name:t}=i,n=a?`${e} deleted “${t}”.`:`“${t}” is deleted.`,o="You won’t be able to access its resources from now on."+(a?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:o})}r.default.navigateToWorkspace()}},handleAddMembers({shouldLoadBarrel:e}){if(e){const{href:e}=window.location;setTimeout(()=>{O.a.history.push(e)},4)}},handleRemoveMember({bid:e,uid:t,barrelType:n,currentBid:i,currentUserId:o,removingUser:s,shouldRemoveBarrel:a,removedBarrel:l,syncWithApi:c}){if(a){if(Object(f.unsubscribeFromBarrelChannel)(n,e),!c&&t!==o&&e===i){const e=s&&s.user.username,{name:t}=l,n=s?`${e} removed you from “${t}”.`:`You’re removed from “${t}”.`,i="You won’t be able to access its resources from now on."+(s?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:i})}e===i&&r.default.navigateToWorkspace()}},handleDownloadAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,platform:r,containerName:a,assets:l,assetId:d,format:u,toastContainer:h,source:f}){Object(p.downloadAsset)({barrelId:e,platform:r,containerName:a,assets:l,assetId:d,format:u,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,toastContainer:h}),Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(r)),mixpanel.master.track("Downloaded asset",{Format:u,Source:f})},handleDownloadMultipleAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,platform:r,containerName:a,assets:l,assetList:d,toastContainer:u,source:h}){Object(p.downloadMultipleAsset)({barrelId:e,platform:r,containerName:a,assets:l,assetList:d,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,toastContainer:u}),Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(r)),mixpanel.master.track("Downloaded asset",{Source:h,Count:d.length})},handleExportCode({barrelName:e,platform:t,resourceType:n,source:i,exportObjects:o,extensionId:s}){Object(p.exportCode)({resourceType:n,barrelName:e,exportObjects:o});const{extensions:r}=l.a.ExtensionsStore.getState(),a=r.find(({_id:e})=>e===s);Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(t)),mixpanel.master.track("Downloaded code snippet",{Source:i,"Extension ID":a._id,"Extension Name":a.name})},handleCopyCode({code:e,toastContainer:t,platform:n,extensionId:i,source:o}){Object(h.copyContent)({content:e,toastContainer:t});const{extensions:s}=l.a.ExtensionsStore.getState(),r=s.find(({_id:e})=>e===i);mixpanel.master.track("Copied code snippet",{Source:o,"Extension ID":r._id,"Extension Name":r.name}),Object(T.createIntercomUserTag)(Object(c.getDeveloperString)(n))},handleOpenExportTarget(){m.openExportTarget()},handleChangeExportTarget(){m.changeExportTarget()},handleCopyComponentSectionWebLink({bid:e,barrelType:t,seid:n}){const i=t===S.a.PROJECT?"project-styleguide-components":"styleguide-components",o=document.querySelector("."+t),s=Object(d.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(h.copyContent)({content:Object(_.getShortlink)(s),toastContainer:o})},handleCopyComponentSectionAppURI({bid:e,barrelType:t,cseid:n}){const i=t===S.a.PROJECT?"pid":"stid",o=document.querySelector("."+t),s=`${E.ZPL_PROTOCOL}//components?${i}=${e}&cseid=${n}`;Object(h.copyContent)({content:s,toastContainer:o})},fetchComponentSectionShortLink({bid:e,barrelType:t,seid:n}){const i=t===S.a.PROJECT?"project-styleguide-components":"styleguide-components",o=Object(d.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(_.fetchShortlink)(o)},addToSlack({bid:e,barrelType:t}){if(y.isWindowsApp)return;const n=Object(u.getRandomString)();localStorage.setItem("slackState",n);const i=t===S.a.PROJECT?{pid:e}:{stid:e},o={scope:E.SLACK_SCOPE,client_id:E.SLACK_CLIENT_ID,redirect_uri:Object(d.urlResolve)("huggingSlack",{query:i}),state:n},s=new URL(E.SLACK_AUTH_URL);s.search=new URLSearchParams(o),Object(h.openLink)(s.toString(),{inNewTab:!1})},trackEnableLocalConfiguration(){mixpanel.master.track("Enabled local configuration for connected components")},fetchLocalConnectedComponents({bid:e,barrelType:t,styleguideLink:n,ancestors:i}){if(t===S.a.PROJECT){if(Object(T.getProjectLocalConnectedComponents)(e).then(t=>{s.default.setLocalConnectedComponents(D({bid:e},t))}),!n)return;const{status:t,styleguide:i}=n;if("active"===!t)return;const o=[i._id,...i.ancestors];return void Promise.all(o.map(e=>Object(T.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{s.default.setLocalConnectedComponents(D({bid:o[t]},e))})})}const o=[e,...i];Promise.all(o.map(e=>Object(T.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{s.default.setLocalConnectedComponents(D({bid:o[t]},e))})})},handleAddSpacingSection(){mixpanel.master.track("Created spacing section")},handleUpdateSpacingSection({updatedSpacingSection:e}){e.name&&mixpanel.master.track("Changed spacing section name",{Name:e.name}),e.hasOwnProperty("description")&&mixpanel.master.track("Changed spacing section description")},handleAddSpacingToken(){mixpanel.master.track("Created spacing token")},handleUpdateSpacingToken({isBaseToken:e,updatedSpacingToken:t}){const{token:n,value:i,color:o}=t;e&&mixpanel.master.track("Changed base token"),n&&mixpanel.master.track("Changed spacing token name"),t.hasOwnProperty("value")&&mixpanel.master.track("Changed spacing token value",{Value:i}),o&&mixpanel.master.track("Changed spacing token color",{Color:new v.default(o).toHexString()})},handleUpdateRemPreferences({updatedRemPreferences:e,isRevert:t}){const{status:n,useForFontSizes:i,useForMeasurements:o,remRootFontSize:s}=e,r={};t&&mixpanel.master.track("Reverted rem settings"),n&&(r["Is Enabled"]="enabled"===n),e.hasOwnProperty("useForFontSizes")&&(r["Use for Font Size"]=i),e.hasOwnProperty("useForMeasurements")&&(r["Use for Measurements"]=o),s&&(r["Root Font Size"]=s),mixpanel.master.track("Changed rem settings",r)},handleUpdateWorkflowStatus({bid:e,workflowStatus:t}){mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),project_id:e})},handleUpdateWorkflowStatuses(e){const{workflowStatus:t,statusUpdatedBarrels:n}=e;n.forEach(({bid:e})=>{mixpanel.master.track("Set project status",{Name:t.name,Color:t.color.toHexString(),"Project Count":n.length,project_id:e})})},handleDeleteWorkflowStatus({bid:e}){mixpanel.master.track("Remove project status",{project_id:e})},handleDeleteWorkflowStatuses(e){const{statusDeletedBarrels:t}=e;t.forEach(({bid:e})=>{mixpanel.master.track("Remove project status",{"Project Count":t.length,project_id:e})})},handleUpdateDescription({barrelType:e}){mixpanel.master.track("Changed description",{Target:Object(u.uppercaseFirst)(e)})},handleUpdateComponent({componentData:{description:e}}){e&&mixpanel.master.track("Changed description",{Target:"Component"})},handleActivate({barrelType:e,bid:t}){mixpanel.master.track("Activated "+e,{[e+"_id"]:t})},handleChangeAssetName({source:e}){mixpanel.master.track("Changed asset name",{Source:e})},handleAddColor(){mixpanel.master.track("Created color")},handleAddComponentSection({isCreateGroup:e}){e?mixpanel.master.track("Created component group"):mixpanel.master.track("Created component section")},handleAddTextStyle(){mixpanel.master.track("Created text style")},handleRemoveColor(){mixpanel.master.track("Deleted color")},handleMergeComponentSection(){mixpanel.master.track("Deleted component section")},handleRemoveSpacingSection(){mixpanel.master.track("Deleted spacing section")},handleRemoveSpacingToken(){mixpanel.master.track("Deleted spacing token")},handleRemoveTextStyle(){mixpanel.master.track("Deleted text style")},handleToggleSVGOptimization({showOptimizedSVG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized SVGs")},handleTogglePNGOptimization({showOptimizedPNG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized PNGs")},handleToggleJPGOptimization({showOptimizedJPG:e}){mixpanel.master.track((e?"Enabled":"Disabled")+" display optimized JPGs")},handleJoin({barrelType:e,source:t}){mixpanel.master.track("Joined "+e,{Source:t})},handleUpdateComponentsOrder(){mixpanel.master.track("Reordered component")},handleUpdateComponentSection({componentSectionData:{name:e,description:t},isComponentGroup:n}){e&&(n?mixpanel.master.track("Renamed component group"):mixpanel.master.track("Renamed component section")),t&&mixpanel.master.track("Changed description",{Target:"Component section"})},handleChangeAssetNamingConvention({assetNamingConvention:e}){mixpanel.master.track("Selected asset naming convention",{Convention:e})},handleToggleScene({accessibility:e}){e?mixpanel.master.track("Shared project"):mixpanel.master.track("Unshared project")}};function k(){l.a.dispatcher.register(e=>{switch(e.type){case o.a.GO_TO_DASHBOARD:j.handleGoToDashboard(e);break;case o.a.GO_TO_STYLEGUIDE:j.handleGoToStyleguide(e);break;case o.a.ADD:j.handleAdd(e);break;case o.a.ARCHIVE:j.handleArchive(e);break;case o.a.REMOVE:j.handleRemove(e);break;case o.a.ADD_MEMBERS:j.handleAddMembers(e);break;case o.a.REMOVE_MEMBER:j.handleRemoveMember(e);break;case o.a.DOWNLOAD_ASSET:j.handleDownloadAsset(e);break;case o.a.DOWNLOAD_MULTIPLE_ASSET:j.handleDownloadMultipleAsset(e);break;case o.a.EXPORT_CODE:j.handleExportCode(e);break;case o.a.COPY_CODE:j.handleCopyCode(e);break;case o.a.OPEN_EXPORT_TARGET:j.handleOpenExportTarget();break;case o.a.CHANGE_EXPORT_TARGET:j.handleChangeExportTarget();break;case o.a.COPY_COMPONENT_SECTION_WEB_LINK:j.handleCopyComponentSectionWebLink(e);break;case o.a.COPY_COMPONENT_SECTION_APP_URI:j.handleCopyComponentSectionAppURI(e);break;case o.a.FETCH_COMPONENT_SECTION_SHORT_LINK:j.fetchComponentSectionShortLink(e);break;case o.a.ADD_TO_SLACK:j.addToSlack(e);break;case o.a.ENABLE_DEV_MODE:j.trackEnableLocalConfiguration();case o.a.RELOAD_LOCAL_CONNECTED_COMPONENTS:j.fetchLocalConnectedComponents(e);break;case o.a.ADD_SPACING_SECTION:e.syncWithApi&&j.handleAddSpacingSection();break;case o.a.UPDATE_SPACING_SECTION:e.syncWithApi&&j.handleUpdateSpacingSection(e);break;case o.a.ADD_SPACING_TOKEN:e.syncWithApi&&j.handleAddSpacingToken();break;case o.a.UPDATE_SPACING_TOKEN:e.syncWithApi&&j.handleUpdateSpacingToken(e);break;case o.a.UPDATE_REM_PREFERENCES:e.syncWithApi&&j.handleUpdateRemPreferences(e);break;case o.a.UPDATE_WORKFLOW_STATUS:e.syncWithApi&&j.handleUpdateWorkflowStatus(e);break;case o.a.UPDATE_WORKFLOW_STATUSES:e.syncWithApi&&j.handleUpdateWorkflowStatuses(e);break;case o.a.DELETE_WORKFLOW_STATUS:e.syncWithApi&&j.handleDeleteWorkflowStatus(e);break;case o.a.DELETE_WORKFLOW_STATUSES:e.syncWithApi&&j.handleDeleteWorkflowStatuses(e);break;case o.a.UPDATE_DESCRIPTION:e.syncWithApi&&j.handleUpdateDescription(e);break;case o.a.UPDATE_COMPONENT:e.syncWithApi&&j.handleUpdateComponent(e);break;case o.a.ACTIVATE:e.syncWithApi&&j.handleActivate(e);break;case o.a.CHANGE_ASSET_NAME:j.handleChangeAssetName(e);break;case o.a.ADD_COLOR:e.syncWithApi&&j.handleAddColor();break;case o.a.ADD_COMPONENT_SECTION:e.syncWithApi&&j.handleAddComponentSection(e);break;case o.a.ADD_TEXT_STYLE:e.syncWithApi&&j.handleAddTextStyle();break;case o.a.REMOVE_COLOR:e.syncWithApi&&j.handleRemoveColor();break;case o.a.MERGE_COMPONENT_SECTION:e.syncWithApi&&j.handleMergeComponentSection();break;case o.a.REMOVE_SPACING_SECTION:e.syncWithApi&&j.handleRemoveSpacingSection();break;case o.a.REMOVE_SPACING_TOKEN:e.syncWithApi&&j.handleRemoveSpacingToken();break;case o.a.REMOVE_TEXT_STYLE:e.syncWithApi&&j.handleRemoveTextStyle();break;case o.a.TOGGLE_SVG_OPTIMIZATION:j.handleToggleSVGOptimization(e);break;case o.a.TOGGLE_PNG_OPTIMIZATION:j.handleTogglePNGOptimization(e);break;case o.a.TOGGLE_JPG_OPTIMIZATION:j.handleToggleJPGOptimization(e);break;case o.a.JOIN:j.handleJoin(e);break;case o.a.UPDATE_COMPONENTS_ORDER:e.syncWithApi&&j.handleUpdateComponentsOrder();break;case o.a.UPDATE_COMPONENT_SECTION:e.syncWithApi&&j.handleUpdateComponentSection(e);break;case o.a.CHANGE_ASSET_NAMING_CONVENTION:j.handleChangeAssetNamingConvention(e);break;case o.a.TOGGLE_SCENE:e.syncWithApi&&j.handleToggleScene(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(582),o=n.n(i),s=n(590),r=n.n(s),a=n(547);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={changeAssetName({bid:e,containerId:t,snapshot:n,assetId:i,name:o}){const s=n.assets.find(e=>e._id===i);return s?(s.localName=o,a.barrelPrefs.get(e,t,"assetNames").then((n={})=>(null===o?delete n[i]:n[i]=o,a.barrelPrefs.set(e,t,"assetNames",n)))):Promise.resolve()},setAssetDensityScalePrefs:({bid:e,format:t,assetDensityScalePrefsOfFormat:n})=>a.barrelPrefs.get(e,"assetDensityScalePrefs").then(i=>a.barrelPrefs.set(e,"assetDensityScalePrefs",c(c({},i),{},{[t]:n}))),changeAssetNamingConvention:({bid:e,assetNamingConvention:t})=>a.barrelPrefs.set(e,"assetNamingConvention",t),toggleSVGOptimization:({bid:e,showOptimizedSVG:t})=>a.barrelPrefs.set(e,"showOptimizedSVG",t),togglePNGOptimization:({bid:e,showOptimizedPNG:t})=>a.barrelPrefs.set(e,"showOptimizedPNG",t),toggleJPGOptimization:({bid:e,showOptimizedJPG:t})=>a.barrelPrefs.set(e,"showOptimizedJPG",t),dismissNoResourceInfo:({bid:e})=>a.barrelPrefs.set(e,"noResourceInfoDismissed",!0),markSlackReconnectionAuntieAsSeen:({bid:e})=>a.barrelPrefs.set(e,"slackReconnectionAuntieSeen",!0),hideNoVectorAssetInfo:()=>a.userPrefs.set("noVectorAssetInfoHidden",!0),hideDensityMismatchWarning:()=>a.userPrefs.set("densityMismatchWarningHidden",!0),hideSourceFileInfo:()=>a.userPrefs.set("sourceFileInfoHidden",!0),dismissFlowLinkInfo:()=>a.userPrefs.set("flowLinkInfoDismissed",!0),enableDevMove:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","true"),disableDevMode:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","false"),setConnectedComponentsLocalWorkspace:({bid:e,workspace:t})=>a.barrelPrefs.set(e,"connectedComponentsLocalWorkspace",t),highlightedConnectToCodeButtonViewed:()=>a.userPrefs.get("numberOfHighlightedConnectToCodeButtonViews").then(e=>{a.userPrefs.set("numberOfHighlightedConnectToCodeButtonViews",e+1)}),markConnectedComponentsOnboardingDialogAsSeen:()=>a.userPrefs.set("connectedComponentsOnboardingDialogSeen",!0)};function p(){o.a.dispatcher.register(e=>{switch(e.type){case r.a.CHANGE_ASSET_NAME:u.changeAssetName(e);break;case r.a.CHANGE_ASSET_DENSITY_SCALE_PREF:u.setAssetDensityScalePrefs(e);break;case r.a.CHANGE_ASSET_NAMING_CONVENTION:u.changeAssetNamingConvention(e);break;case r.a.TOGGLE_SVG_OPTIMIZATION:u.toggleSVGOptimization(e);break;case r.a.TOGGLE_PNG_OPTIMIZATION:u.togglePNGOptimization(e);break;case r.a.TOGGLE_JPG_OPTIMIZATION:u.toggleJPGOptimization(e);break;case r.a.DISMISS_NO_RESOURCE_INFO:u.dismissNoResourceInfo(e);break;case r.a.HIDE_SLACK_RECONNECTION_AUNTIE:u.markSlackReconnectionAuntieAsSeen(e);break;case r.a.HIDE_NO_VECTOR_ASSET_INFO:u.hideNoVectorAssetInfo();break;case r.a.HIDE_DENSITY_MISMATCH_WARNING:u.hideDensityMismatchWarning();break;case r.a.HIDE_SOURCE_FILE_INFO:u.hideSourceFileInfo();break;case r.a.DISMISS_FLOW_LINK_INFO:u.dismissFlowLinkInfo();break;case r.a.ENABLE_DEV_MODE:u.enableDevMove();break;case r.a.DISABLE_DEV_MODE:u.disableDevMode();break;case r.a.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:u.setConnectedComponentsLocalWorkspace(e);break;case r.a.HIGHLIGHTED_CONNECT_TO_CODE_BUTTON_VIEWED:u.highlightedConnectToCodeButtonViewed();break;case r.a.MARK_CONNECTED_COMPONENTS_ONBOARDING_DIALOG_AS_SEEN:u.markConnectedComponentsOnboardingDialogAsSeen()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2264),o=n(2265),s=n(2266);function r(){Object(o.default)(),Object(s.default)(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(599),o=n(706),s=n(582),r=n.n(s),a=n(702),l=n(571),c=n(575),d=n(1326);const u={handleCreateSection({pid:e,section:t,index:n}){const{_id:i,name:s,screens:r}=t;l.createSection(e,{name:s,screens:r,index:n}).then(t=>{o.default.updateSection({pid:e,seid:i,sectionData:t})}).catch(t=>{Object(c.handleError)(t),o.default.removeSection({pid:e,seid:i})})},handleConvertTagToSection({pid:e,section:t,index:n,defaultSectionId:i,oldDefaultSectionScreens:s}){const{_id:r,name:d,screens:u}=t;l.createSection(e,{name:d,screens:u,index:n}).then(t=>{o.default.updateSection({pid:e,seid:r,sectionData:t,highlight:!0}),a.default.removeTag({pid:e,tag:d,syncWithApi:!0})}).catch(t=>{Object(c.handleError)(t),o.default.updateSection({pid:e,seid:i,sectionData:{screens:s}})})},handleRenameSection({pid:e,seid:t,name:n,oldName:i,onError:s}){l.updateSection(e,t,{name:n}).catch(n=>{o.default.renameSection({pid:e,seid:t,name:i}),Object(c.handleError)(n,{dialogCallback:s})})},handleUpdateSectionDescription({pid:e,seid:t,description:n,oldDescription:i,onError:s}){l.updateSection(e,t,{description:n}).catch(n=>{o.default.updateSectionDescription({pid:e,seid:t,description:i}),Object(c.handleError)(n,{dialogCallback:s})})},handleUpdateSectionOrder({pid:e,seid:t,index:n,oldIndex:i}){const s=[{_id:t,to:n}];l.updateSectionOrder(e,s).catch(n=>{Object(c.handleError)(n),o.default.updateSectionOrder({pid:e,seid:t,index:i})})},handleRemoveSection({pid:e,seid:t,index:n,removedSection:i}){l.deleteSection(e,t).catch(t=>{Object(c.handleError)(t),o.default.addSection({pid:e,section:i,index:n})})},handleUpdateScreenOrderV2({pid:e,items:t,targetIndex:n,targetSectionId:i,oldIndices:s}){l.updateSectionScreensV2({pid:e,seid:i,index:n,items:t}).catch(n=>{Object(c.handleError)(n);for(const[i,{sourceSectionId:r,sourceIndex:a}]of Object(d.default)(t,s))o.default.updateScreenOrderV2({pid:e,items:[i],targetSectionId:r,targetIndex:a})})},handleCreateVariantGroup({pid:e,vgid:t,screens:n}){const i=n.map(({id:e})=>e);l.createVariantGroup(e,i).then(n=>{o.default.updateVariantGroup({pid:e,vgid:t,variantGroupData:n})}).catch(n=>{Object(c.handleError)(n),o.default.deleteVariantGroup({pid:e,vgid:t})})},handleDeleteVariantGroup({pid:e,vgid:t,syncWithApi:n}){l.deleteVariantGroup(e,t).then(()=>{o.default.deleteVariantGroup({pid:e,vgid:t,syncWithApi:n})}).catch(c.handleError)},handleAddScreensToVariantGroup({pid:e,vgid:t,screens:n,oldVariantGroup:i}){const s=n.map(({id:e})=>e);l.addScreensToVariantGroup(e,t,s).then(n=>{o.default.updateVariantGroup({pid:e,vgid:t,variantGroupData:n})}).catch(n=>{Object(c.handleError)(n),o.default.updateVariantGroup({pid:e,vgid:t,variantGroupData:i})})},handleRenameScreenVariantGroup({pid:e,vgid:t,name:n,oldName:i}){l.updateVariantGroupName(e,t,n).catch(n=>{Object(c.handleError)(n),o.default.renameVariantGroup({pid:e,vgid:t,name:i})})}};function p(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CREATE_SECTION:u.handleCreateSection(e);break;case i.default.CONVERT_TAG_TO_SECTION:u.handleConvertTagToSection(e);break;case i.default.RENAME_SECTION:u.handleRenameSection(e);break;case i.default.UPDATE_SECTION_DESCRIPTION:u.handleUpdateSectionDescription(e);break;case i.default.UPDATE_SECTION_ORDER:u.handleUpdateSectionOrder(e);break;case i.default.REMOVE_SECTION:u.handleRemoveSection(e);break;case i.default.UPDATE_SCREEN_ORDER_V2:u.handleUpdateScreenOrderV2(e);break;case i.default.CREATE_VARIANT_GROUP:u.handleCreateVariantGroup(e);break;case i.default.ADD_SCREENS_TO_VARIANT_GROUP:u.handleAddScreensToVariantGroup(e);break;case i.default.RENAME_VARIANT_GROUP:u.handleRenameScreenVariantGroup(e);break;case i.default.DELETE_VARIANT_GROUP_REQUEST:u.handleDeleteVariantGroup(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(582),o=n.n(i),s=n(599),r=n(556),a=n(1198),l=n(543);const c={changeURL(e){const{barrelId:t,selectedView:n}=o.a.BarrelStore.getState();if(n!==l.ProjectViewTypes.DASHBOARD)return;const{tags:i,untagged:s}=e,a=s?{untagged:"true"}:{tag:i};history.replaceState({},"",Object(r.urlResolve)("project-dashboard",{url:{pid:t},query:a}))},downloadScreens(e,t){Object(a.downloadScreens)(e,t)},createSection(){mixpanel.master.track("Created screen section")},convertTagToSection(){mixpanel.master.track("Converted tag to section")},removeSection(){mixpanel.master.track("Deleted screen section")},updateScreenOrder(){mixpanel.master.track("Reordered screen")},renameSection(){mixpanel.master.track("Renamed screen section")},changeSortType({sortType:e}){mixpanel.master.track("Sorted screens",{Type:e})},createVariantGroup(){mixpanel.master.track("Created screen variants",{Type:"Create"})},addToVariantGroup(){mixpanel.master.track("Created screen variants",{Type:"Add to"})},hideScreenVariantsOnboarding(){mixpanel.master.track("Dismissed screen variants prompt")}};function d(){o.a.dispatcher.register(e=>{switch(e.type){case s.default.CHANGE_TAG_FILTER:c.changeURL(e.tagFilter);break;case s.default.DOWNLOAD_SCREENS:c.downloadScreens(e.screens,e.fileName);break;case s.default.CREATE_SECTION:c.createSection();break;case s.default.CONVERT_TAG_TO_SECTION:c.convertTagToSection();break;case s.default.REMOVE_SECTION:e.syncWithApi&&c.removeSection();break;case s.default.UPDATE_SCREEN_ORDER:e.syncWithApi&&c.updateScreenOrder();break;case s.default.RENAME_SECTION:c.renameSection();break;case s.default.CHANGE_SORT_TYPE:c.changeSortType(e);break;case s.default.CREATE_VARIANT_GROUP:c.createVariantGroup();break;case s.default.ADD_SCREENS_TO_VARIANT_GROUP:c.addToVariantGroup();break;case s.default.HIDE_SCREEN_VARIANTS_ONBOARDING:c.hideScreenVariantsOnboarding()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(547),o=n(590),s=n.n(o),r=n(599),a=n(582),l=n.n(a);const c={saveFixedThumbnailSize(){const{barrelId:e}=l.a.BarrelStore.getState(),{fixedThumbnailSize:t}=l.a.DashboardStore.getState();i.barrelPrefs.set(e,"fixedThumbnailSize",t)},saveSidebarWidth(e){const{barrelId:t}=l.a.BarrelStore.getState();i.barrelPrefs.set(t,"dashboardSidebarWidth",e)},toggleSectionState(e,{shouldCollapse:t}){if(!e)return;const{barrelId:n}=l.a.BarrelStore.getState();i.barrelPrefs.get(n,"collapsedSections").then(o=>{e.forEach(e=>{o[e]=t}),i.barrelPrefs.set(n,"collapsedSections",o)})},hideScreenVariantsOnboarding:()=>i.userPrefs.set("screenVariantsOnboardingSeen",!0)};function d(){l.a.dispatcher.register(e=>{switch(e.type){case r.default.TOGGLE_FIXED_THUMBNAIL_SIZE:c.saveFixedThumbnailSize();break;case r.default.CHANGE_SIDEBAR_WIDTH:c.saveSidebarWidth(e.sidebarWidth);break;case r.default.EXPAND_SECTIONS:c.toggleSectionState(e.seids,{shouldCollapse:!1});break;case r.default.COLLAPSE_SECTIONS:c.toggleSectionState(e.seids,{shouldCollapse:!0});break;case r.default.HIDE_SCREEN_VARIANTS_ONBOARDING:c.hideScreenVariantsOnboarding();break;case s.a.CHANGE_SELECTED_VIEW:c.toggleSectionState(e.viewUpdate.sectionsToExpand,{shouldCollapse:!1})}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(676)),l=s(n(571)),c=r(n(582)),d=r(n(2225)),u={requestDotStates({parameters:e}){l.getDotStates(e).then(t=>d.default.addDotStates(e,t)).catch(()=>d.default.dotStatesError(e))}};t.default=function(){c.default.dispatcher.register(e=>{switch(e.type){case a.default.RequestDotStates:u.requestDotStates(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(2269),o=n(2270),s=n(2271),r=n(2272);function a(){Object(i.default)(),Object(o.default)(),Object(s.default)(),Object(r.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(601),o=n(1506),s=n(582),r=n.n(s),a=n(575),l=n(571);const c={project:l.project,styleguide:l.styleguide},d={async handleRemove({bid:e,barrelType:t,eid:n,removedExtension:i,local:s}){if(!s)try{await c[t].removeExtension(e,n),mixpanel.master.track("Removed extension",{"Extension ID":n,"Extension Name":i.name})}catch(r){Object(a.handleError)(r),o.default.add({bid:e,extension:i})}}};function u(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.REMOVE:d.handleRemove(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(601),o=n(1506),s=n(582),r=n.n(s),a=n(602),l=n(575),c=n(571);const d={project:c.project,styleguide:c.styleguide},u={async handleInit({bid:e,barrelType:t,enabledExtensions:n}){try{const i=await d[t].getExtensions(e),s=await Promise.all(i.map(n=>new a.WebappExtension(n).load(e,t)));let r=n;null===r&&(r=i.filter(e=>e.default).map(e=>e._id)||[]),o.default.loadExtensions({bid:e,extensions:s,enabledExtensions:r})}catch(i){Object(l.handleError)(i)}},async handleLoad({bid:e,barrelType:t,uid:n,eid:i}){try{const s=await d[t].addExtension(e,i),r=new a.WebappExtension(s);await r.load(e,t),o.default.add({bid:e,uid:n,extension:r})}catch(s){Object(l.handleError)(s),o.default.remove({bid:e,eid:i})}}};function p(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.INIT:u.handleInit(e);break;case i.default.LOAD:u.handleLoad(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(601),o=n(582),s=n.n(o);const r={handleRemove({removedExtension:e}){e.terminate()},handleAdd({local:e}){e&&mixpanel.master.track("Added local extension")}};function a(){s.a.dispatcher.register(e=>{switch(e.type){case i.default.REMOVE:r.handleRemove(e);break;case i.default.ADD:r.handleAdd(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(601),o=n(582),s=n.n(o),r=n(547);const a={async handleEnable({bid:e,eid:t}){const n=await r.barrelPrefs.get(e,"extensions")||[];r.barrelPrefs.set(e,"extensions",n.concat(t))},async handleDisable({bid:e,eid:t}){const n=(await r.barrelPrefs.get(e,"extensions")||[]).filter(e=>e!==t);return r.barrelPrefs.set(e,"extensions",n)},handleLoadExtensions({bid:e,enabledExtensions:t}){r.barrelPrefs.set(e,"extensions",t)}};function l(){s.a.dispatcher.register(e=>{switch(e.type){case i.default.ADD:case i.default.ENABLE:a.handleEnable(e);break;case i.default.DISABLE:case i.default.REMOVE:a.handleDisable(e);break;case i.default.LOAD_EXTENSIONS:a.handleLoadExtensions(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2274),o=n(2275),s=n(2276);function r(){Object(i.default)(),Object(o.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(618),o=n(1416),s=n(681),r=n(582),a=n.n(r),l=n(555),c=n(556),d=n(947),u=n(575),p=n(571);function h(e,t,n){Object(u.handleError)(e,{clientErrorHandler:{402(){l.create({title:`Can’t move ${t} to “${n}”`,message:e.message})},default:u.handleError}})}function f(e,t,n){Object(u.handleError)(e,{clientErrorHandler:{402(){l.create({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:()=>Object(d.showPlanChooserOverlay)({source:t,oid:n})}})},default:u.handleError}})}function g({tpid:e,sourceDensityScale:t,targetDensityScale:n}){return n?Promise.resolve():p.updateProjectDensityScale(e,t)}function m(e){const{barrelId:t,resource:n,target:i,densityScale:o,platform:r}=e;switch(i.type){case"create":!async function({barrelId:e,oid:t,platform:n,densityScale:i,section:o}){const{_id:r,name:a,screens:l}=o;let d,u;try{({_id:d,densityScale:u}=await p.createProject({oid:t,platform:n,densityScale:i,name:a}))}catch(S){return void f(S,"Move section to a new project, Reached project limit",t)}const{variantGroups:m}=s.default.getBarrel({bid:e}),b=m.reduce((e,t)=>{const{_id:n,screens:i}=t;return i.length>0&&(e[i[0].id]=n),e},{});try{await g({tpid:d,sourceDensityScale:i,targetDensityScale:u});const t=l.map(e=>{const t=b[e];return t?{_id:t,type:"variantGroup"}:{_id:e,type:"screen"}});await p.moveScreen(e,d,t),await p.deleteSection(e,r),window.location.assign(Object(c.urlResolve)("project",{url:{bid:d}}))}catch(S){h(S,"section","a new project")}}({barrelId:t,oid:i.oid,platform:r,densityScale:o,section:n});break;case"project":!async function({barrelId:e,target:t,densityScale:n,section:i}){const{variantGroups:o}=s.default.getBarrel({bid:e}),r=o.reduce((e,t)=>{const{_id:n,screens:i}=t;return i.length>0&&(e[i[0].id]=n),e},{}),a=t.pid,l=n,d=t.densityScale;try{await g({tpid:a,sourceDensityScale:l,targetDensityScale:d});const{_id:t}=await p.createSection(a,i),n=i.screens.map(e=>{const t=r[e];return t?{_id:t,type:"variantGroup"}:{_id:e,type:"screen"}});await p.moveScreen(e,a,n),await p.updateSectionScreensV2({pid:a,seid:t,index:0,items:n}),await p.deleteSection(e,i._id);const o=Object(c.urlResolve)("project",{url:{bid:a},query:{seid:t}});window.location.assign(o)}catch(u){h(u,"section",t.name)}}({barrelId:t,target:i,densityScale:o,section:n})}}const b={move(e){const{resourceType:t}=e;switch(t){case"screen":case"variantGroup":!async function(e){const{barrelId:t,resource:n,resourceType:i,target:s,target:{type:r,oid:a},densityScale:l,platform:d}=e;let u,m;const b="create"===r?"a new project":`"${s.name}"`;switch(r){case"create":try{({_id:u,densityScale:m}=await p.createProject({oid:a,platform:d,densityScale:l}))}catch(S){return f(S,"Move screen to a new project, Reached project limit",a),void o.default.close()}break;case"project":({pid:u,densityScale:m}=s)}try{await g({tpid:u,sourceDensityScale:l,targetDensityScale:m});const e={_id:n._id,type:i};await p.moveScreen(t,u,[e]);const o="screen"===i?n._id:n.screens[0].id;window.location.assign(Object(c.urlResolve)("project",{url:{bid:u},query:{sid:o}}))}catch(S){h(S,"screen",b)}}(e);break;case"section":m(e)}}};function S(){a.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.MOVE:b.move(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(618),o=n(582),s=n.n(o),r=n(682),a=n(575),l=n(571),c=n(1294);const d={getProjects(e){r.default.getOrganizationProjects(e)||l.getProjects("user"===e?null:e).then(t=>{c.default.getProjectsSuccess({projects:t,oid:e})}).catch(a.handleError)},getOrganizationsProjects(){const{organizationId:e}=s.a.BarrelStore.getState(),{organizations:t}=s.a.OrganizationStore.getState();t.length&&t.filter(({_id:t})=>t!==e).forEach(({_id:e})=>this.getProjects(e))}};function u(){s.a.dispatcher.register(e=>{switch(e.type){case i.default.OPEN:d.getOrganizationsProjects()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(618),o=n(582),s=n.n(o);const r={move({resourceType:e}){"screen"===e?mixpanel.master.track("Moved screens to project"):"section"===e&&mixpanel.master.track("Moved section to project")}};function a(){s.a.dispatcher.register(e=>{switch(e.type){case i.default.MOVE:e.syncWithApi&&r.move(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2278)),s=i(n(2279));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(1033)),s=i(n(587)),r=i(n(584)),a=n(571),l=i(n(582)),c=i(n(1034)),d={onMarkAllAsRead(e){const t=e.flatMap(({events:e})=>e).map(({_id:e})=>e);a.updateNotificationEventsReadStatus(t,!0).catch(()=>o.default.restoreReadStatus(e))},onSetEventReadStatus(e,t,n){const i=e._id,s=e.events.filter(({_id:e})=>t.includes(e)),r=c.default.areEventsRead(s);a.updateNotificationEventsReadStatus(t,n).catch(()=>o.default.setEventReadStatusOffline(i,t,r))},onSelect(e,t,n){if(n)return;const i=e.events.filter(({_id:e})=>t.includes(e));c.default.areEventsRead(i)||this.onSetEventReadStatus(e,t,!0)}};t.default=function(){l.default.dispatcher.register(e=>{switch(e.type){case s.default.MarkAllAsRead:d.onMarkAllAsRead(e.notifications);break;case s.default.SetEventReadStatus:d.onSetEventReadStatus(e.notification,e.eventIds,e.markedAsRead);break;case r.default.Select:d.onSelect(e.activity,e.eventIds,e.options.autoSelect)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(587)),s=i(n(1034)),r=i(n(582)),a={onMarkAllAsRead(){s.default.trackEventWithFilterDetails("Marked all notifications as read")},onSetEventReadStatus(e){e||s.default.trackEventWithFilterDetails("Marked notification as unread")}};t.default=function(){r.default.dispatcher.register(e=>{switch(e.type){case o.default.MarkAllAsRead:a.onMarkAllAsRead();break;case o.default.SetEventReadStatus:a.onSetEventReadStatus(e.markedAsRead)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2281),o=n(2282),s=n(2283);function r(){Object(i.default)(),Object(o.default)(),Object(s.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var i=n(571),o=n(575),s=n(570),r=n(1014),a=n(621),l=n.n(a),c=n(582),d=n.n(c),u=n(1294),p=n(1385),h=n(628);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=!1;function S(e){return e.map(e=>g(g({},e),{},{complete:!1}))}const y={getBarrels(e){Promise.all([i.getProjects(e),i.getStyleguides(e)]).then(([t,n])=>{u.default.getProjectsSuccess({oid:e,projects:S(t)}),p.default.getStyleguidesSuccess({oid:e,styleguides:S(n)})}).catch(o.handleError)},requestInvitation(e,t){b?Object(s.default)({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):i.requestOrganizationInvitation(e).then(()=>{b=!0,Object(s.default)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"})}).catch(o.handleError)},addBarrelToFocus({oid:e,mid:t,bid:n,barrelType:s,poppedBarrel:a,syncWithApi:l}){l&&i.addBarrelToOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:s}).then(()=>{r.default.addBarrelToFocusSuccess({oid:e})}).catch(e=>{r.default.removeBarrelFromFocus({mid:t,bid:n,poppedBarrel:a}),o.handleError(e)})},removeBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:s,syncWithApi:a}){a&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:s}).then(()=>{r.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{r.default.addBarrelToFocus({bid:n}),o.handleError(e)})},unpinBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:s,syncWithApi:a}){a&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:s}).then(()=>{r.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{r.default.repinBarrelToFocus({bid:n}),o.handleError(e)})},addOrganizationWorkflowStatus({oid:e,workflowStatusData:{_id:t,name:n,color:s},syncWithApi:a}){a&&i.addOrganizationWorkflowStatus(e,{name:n,color:s}).then(({_id:e})=>{r.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:e,name:n,color:s}})}).catch(e=>{r.default.deleteOrganizationWorkflowStatus({workflowStatusId:t}),o.handleError(e)})},updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n,oldWorkflowStatusData:s,syncWithApi:a=!0}){a&&i.updateOrganizationWorkflowStatus(e,t,n).catch(e=>{r.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:t,name:s.name,color:s.color}}),o.handleError(e)})},deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t,oldWorkflowStatusData:n,syncWithApi:s}){s&&i.deleteOrganizationWorkflowStatus(e,t).catch(e=>{r.default.addOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:n}),o.handleError(e)})},addProjectSection({oid:e,index:t,sectionData:{name:n,description:s,projects:a},oldIndices:l=[],syncWithApi:c}){c&&i.createOrganizationSection({oid:e,index:t,name:n,description:s,projects:a}).then(({_id:t})=>{r.default.updateProjectSection({oid:e,oseid:h.TEMPORARY_PROJECT_SECTION_ID,sectionData:{_id:t,newSection:!1}})}).catch(t=>{o.handleError(t),l.forEach(({pid:t,oseid:n,index:i})=>{r.default.updateProjectOrder({oid:e,oseid:n,index:i,projects:[t],shouldCalculateActualIndex:!0})}),r.default.removeProjectSection({oid:e,oseid:h.TEMPORARY_PROJECT_SECTION_ID})})},removeProjectSection({oid:e,oseid:t,oldSectionIndex:n,oldSectionData:s,syncWithApi:a}){a&&i.deleteOrganizationSection(e,t).catch(t=>{o.handleError(t),r.default.addProjectSection({oid:e,index:n,sectionData:s,shouldCalculateActualIndex:!0})})},updateProjectSection({oid:e,oseid:t,sectionData:n,oldSectionData:s,syncWithApi:a}){a&&i.updateOrganizationSection(g({oid:e,oseid:t},n)).catch(n=>{r.default.updateProjectSection({oid:e,oseid:t,sectionData:s}),o.handleError(n)})},handleUpdateProjectSectionOrder({oid:e,oseid:t,index:n,oldSectionIndex:s,syncWithApi:a}){a&&i.updateOrganizationSectionsOrder(e,n,[t]).catch(n=>{o.handleError(n),r.default.updateProjectSectionOrder({oid:e,oseid:t,index:s,shouldCalculateActualIndex:!0})})},handleUpdateProjectOrder({oid:e,oseid:t,index:n,projects:s,oldIndices:a=[],syncWithApi:l}){l&&i.updateOrganizationSectionProjects(e,t,n,s).catch(t=>{o.handleError(t),a.forEach(({pid:t,oseid:n,index:i})=>{r.default.updateProjectOrder({oid:e,projects:[t],oseid:n,index:i,shouldCalculateActualIndex:!0})})})},addSectionLink({oid:e,oseid:t,linkData:{_id:n,title:s,url:a},syncWithApi:l}){l&&i.createOrganizationSectionLink(e,t,s,a).then(({_id:i})=>{r.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{_id:i,title:s,url:a}})}).catch(i=>{o.handleError(i),r.default.removeSectionLink({oid:e,oseid:t,oselid:n})})},updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{title:s,url:a},oldLink:l,syncWithApi:c}){c&&i.updateOrganizationSectionLink({oid:e,oseid:t,oselid:n,title:s,url:a}).catch(i=>{o.handleError(i),r.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:l})})},removeSectionLink({oid:e,oseid:t,oselid:n,oldLink:s,syncWithApi:a}){a&&i.deleteOrganizationSectionLink(e,t,n).catch(n=>{o.handleError(n),r.default.addSectionLink({oid:e,oseid:t,linkData:s})})},updateOrganizationSubscription({oid:e,plan:t,oldPlan:n,isReactivation:a,toastContainer:l,onSuccess:c,syncWithApi:d}){if(!d)return;(a?i.createOrganizationSubscription:i.updateOrganizationSubscription)(e,{plan:t}).then(()=>{Object(s.default)({text:"Plan Updated",source:"planChooserDialog",container:l}),c(e,t)}).catch(t=>{o.handleError(t),r.default.updateOrganizationSubscription(e,n)})}};function v(){d.a.dispatcher.register(e=>{switch(e.type){case l.a.GET_BARRELS:y.getBarrels(e.oid);break;case l.a.REQUEST_INVITE:y.requestInvitation(e.id,e.container);break;case l.a.ADD_BARREL_TO_FOCUS:y.addBarrelToFocus(e);break;case l.a.REMOVE_BARREL_FROM_FOCUS:y.removeBarrelFromFocus(e);break;case l.a.UNPIN_BARREL_FROM_FOCUS:y.unpinBarrelFromFocus(e);break;case l.a.ADD_ORGANIZATION_WORKFLOW_STATUS:y.addOrganizationWorkflowStatus(e);break;case l.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:y.updateOrganizationWorkflowStatus(e);break;case l.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:y.deleteOrganizationWorkflowStatus(e);break;case l.a.UPDATE_PROJECT_SECTION_ORDER:y.handleUpdateProjectSectionOrder(e);break;case l.a.UPDATE_PROJECT_ORDER:y.handleUpdateProjectOrder(e);break;case l.a.ADD_PROJECT_SECTION:y.addProjectSection(e);break;case l.a.REMOVE_PROJECT_SECTION:y.removeProjectSection(e);break;case l.a.UPDATE_PROJECT_SECTION:y.updateProjectSection(e);break;case l.a.ADD_SECTION_LINK:y.addSectionLink(e);break;case l.a.UPDATE_SECTION_LINK:y.updateSectionLink(e);break;case l.a.REMOVE_SECTION_LINK:y.removeSectionLink(e);break;case l.a.UPDATE_ORGANIZATION_SUBSCRIPTION:y.updateOrganizationSubscription(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(621),o=n.n(i),s=n(582),r=n.n(s);const a={addBarrelToFocusSuccess(){mixpanel.master.track("Pinned project")},unpinBarrelFromFocusSuccess(){mixpanel.master.track("Unpinned project")},onHitPinLimit({focusCountLimit:e,pinnedAnyway:t}){mixpanel.master.track("Hit pin limit",{"Pin Limit":e,"Pinned Anyway":t})},onAddOrganizationWorkflowStatus({workflowStatusData:e}){mixpanel.master.track("Created status",{Name:e.name,Color:e.color.toHexString()})},onUpdateOrganizationWorkflowStatus({workflowStatusData:e,oldWorkflowStatusData:t}){e.hasOwnProperty("name")?mixpanel.master.track("Changed status name",{Name:e.name,Color:t.color.toHexString(),"From Name":t.name}):e.hasOwnProperty("color")&&mixpanel.master.track("Changed status color",{Name:t.name,Color:e.color.toHexString(),"From Color":t.color.toHexString()})},onDeleteOrganizationWorkflowStatus({oldWorkflowStatusData:e}){mixpanel.master.track("Removed status",{Name:e.name,Color:e.color.toHexString()})},onAddProjectSection({sectionData:{projects:e}}){mixpanel.master.track("Created project section",{"Is Empty":0===e.length,"Project Count":e.length})},onRemoveProjectSection(){mixpanel.master.track("Disbanded project section")},onAddSectionLink(){mixpanel.master.track("Added link to project section")},onRemoveSectionLink(){mixpanel.master.track("Removed link from project section")},onUpdateProjectOrder({isDefaultSection:e,projects:t}){mixpanel.master.track(e?"Removed project from section":"Moved project to section",{"Project Count":t.length})},onUpdateProjectSection({sectionData:{name:e,description:t}}){e&&mixpanel.master.track("Renamed project section"),t&&mixpanel.master.track("Changed description",{Target:"Project section"})},onUpdateSectionLink(){mixpanel.master.track("Updated project section link")}};function l(){r.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_BARREL_TO_FOCUS_SUCCESS:a.addBarrelToFocusSuccess();break;case o.a.UNPIN_BARREL_FROM_FOCUS_SUCCESS:a.unpinBarrelFromFocusSuccess();break;case o.a.HIT_PIN_LIMIT:a.onHitPinLimit(e);break;case o.a.ADD_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onAddOrganizationWorkflowStatus(e);break;case o.a.UPDATE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onUpdateOrganizationWorkflowStatus(e);break;case o.a.DELETE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&a.onDeleteOrganizationWorkflowStatus(e);break;case o.a.ADD_PROJECT_SECTION:e.syncWithApi&&a.onAddProjectSection(e);break;case o.a.REMOVE_PROJECT_SECTION:e.syncWithApi&&a.onRemoveProjectSection();break;case o.a.ADD_SECTION_LINK:e.syncWithApi&&a.onAddSectionLink();break;case o.a.REMOVE_SECTION_LINK:e.syncWithApi&&a.onRemoveSectionLink();break;case o.a.UPDATE_PROJECT_ORDER:e.syncWithApi&&a.onUpdateProjectOrder(e);break;case o.a.UPDATE_PROJECT_SECTION:e.syncWithApi&&a.onUpdateProjectSection(e);break;case o.a.UPDATE_SECTION_LINK:e.syncWithApi&&a.onUpdateSectionLink()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(621),o=n.n(i),s=n(582),r=n.n(s),a=n(547);const l={addBarrelToFocusSuccess(){a.userPrefs.set("pinnedBarrelOnce",!0)},updateDialogDismissStates({oid:e,dialogDismissParams:t}){if(t)for(const[n,i]of Object.entries(t))a.organizationPrefs.set(e,"dialogDismissStates",n,i)}};function c(){r.a.dispatcher.register(e=>{switch(e.type){case o.a.ADD_BARREL_TO_FOCUS_SUCCESS:l.addBarrelToFocusSuccess();break;case o.a.ADD_PROJECT_SECTION:case o.a.UPDATE_PROJECT_ORDER:case o.a.UPDATE_PROJECT_SECTION_ORDER:l.updateDialogDismissStates(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2285)),s=i(n(2287));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(582)),l=r(n(630)),c=r(n(2286)),d=n(571),u=s(n(575)),p={handleUpdateSeats(e,t){d.updateOrganizationSeats(e,t).then(c.default.updateSeatsSuccess).catch(e=>{c.default.updateSeatsFailure(),u.handleError(e)})},handleCancelScheduledSeatsUpdate(e,t){d.cancelOrganizationScheduledSeatsUpdate(e).then(c.default.cancelScheduledSeatsUpdateSuccess).catch(e=>{c.default.cancelScheduledSeatsUpdateFailure(t),u.handleError(e)})}};t.default=function(){a.default.dispatcher.register(e=>{switch(e.type){case l.default.UPDATE_SEATS_REQUEST:p.handleUpdateSeats(e.oid,e.body);break;case l.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST:p.handleCancelScheduledSeatsUpdate(e.oid,e.cancelledScheduledSeatsUpdate)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(630)),s=i(n(582)),r={reset(){s.default.dispatcher.dispatch({type:o.default.RESET})},updateSeats(e,t){s.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_REQUEST,oid:e,body:t})},updateSeatsSuccess(e){s.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_SUCCESS,reservedSeatCount:e})},updateSeatsFailure(){s.default.dispatcher.dispatch({type:o.default.UPDATE_SEATS_FAILURE})},getScheduledSeatsUpdate(e){s.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e})},getScheduledSeatsUpdateSuccess(e){s.default.dispatcher.dispatch({type:o.default.GET_SCHEDULED_SEATS_UPDATE_SUCCESS,scheduledSeatsUpdate:e})},cancelScheduledSeatsUpdate(e){const{scheduledSeatsUpdate:t}=s.default.OrganizationBillingStore.getState();s.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_REQUEST,oid:e,cancelledScheduledSeatsUpdate:t})},cancelScheduledSeatsUpdateSuccess(){s.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_SUCCESS})},cancelScheduledSeatsUpdateFailure(e){s.default.dispatcher.dispatch({type:o.default.CANCEL_SCHEDULED_SEATS_UPDATE_FAILURE,cancelledScheduledSeatsUpdate:e})}};t.default=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582)),s=i(n(630)),r=i(n(2286)),a=n(571),l={handleGetScheduledSeatsUpdate(e){a.getOrganizationScheduledSeatsUpdate(e).then(r.default.getScheduledSeatsUpdateSuccess)}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case s.default.GET_SCHEDULED_SEATS_UPDATE_REQUEST:l.handleGetScheduledSeatsUpdate(e.oid)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(597),o=n(1920),s=n(582),r=n.n(s),a=n(571),l=n(575);const c={onProjectLink({project:e,styleguide:t,syncWithApi:n}){if(e.partial)return;(n?Object(a.updateProjectStyleguideLink)(e._id,t._id):Promise.resolve()).then(i=>{n&&mixpanel.master.track("Linked project to styleguide");const{styleguides:o}=r.a.StyleguidesDataStore.getState(),s=[...t.ancestors,t._id].filter(e=>!(o[e]&&o[e].complete));return Promise.all(s.map(t=>Object(a.getStyleguide)(t,{projectId:e._id})))}).then(n=>{o.default.linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n})}).catch(n=>{o.default.unlinkProjectFromStyleguide({pid:e._id,styleguide:t}),l.handleError(n)})},onProjectUnlink({pid:e,styleguide:t}){Object(a.removeProjectStyleguideLink)(e).catch(n=>{const{projects:{[e]:i}}=r.a.ProjectsDataStore.getState();o.default.linkProjectToStyleguide({project:i,styleguide:t}),l.handleError(n)})}};function d(){r.a.dispatcher.register(e=>{switch(e.type){case i.default.UNLINK_PROJECT:e.syncWithApi&&c.onProjectUnlink(e);break;case i.default.LINK_PROJECT_REQUEST:c.onProjectLink(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(622)),s=i(n(582)),r=n(2290),a={requestProject({pid:e}){setTimeout(()=>r.fetchProject(e))}};t.default=function(){s.default.dispatcher.register(e=>{switch(e.type){case o.default.REQUEST_PROJECT:a.requestProject(e)}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchProject=void 0;const a=r(n(1294)),l=s(n(571));t.fetchProject=function(e){return a.default.getProjectRequest(),l.getProject(e).then(e=>a.default.getProjectSuccess({project:e})).catch(a.default.getProjectFailed)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(760),o=n(547),s=n(541),r=n(582),a=n.n(r);const l={updatePrefs(){o.userPrefs.set("recentlyLoadedBarrels",a.a.RecentlyLoadedBarrelsStore.getState())}};async function c(){if(!s.isWindowsApp)return;const{projects:e,styleguides:t}=await o.userPrefs.get("recentlyLoadedBarrels");i.default.initRecentlyLoadedBarrels({projects:e,styleguides:t}),a.a.RecentlyLoadedBarrelsStore.addListener(()=>{l.updatePrefs()})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(2293),o=n(2294),s=n(2295),r=n(2296),a=n(2297);function l(){Object(i.default)(),Object(o.default)(),Object(s.default)(),Object(r.default)(),Object(a.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(591),o=n.n(i),s=n(702),r=n(571),a=n(575),l=n(706),c=n(582),d=n.n(c),u=n(681),p=n(687),h=n(547),f=n(640);const g={handleUpdateDescription({pid:e,sid:t,description:n,oldDescription:i}){r.updateScreen(e,t,{description:n}).catch(n=>{Object(a.handleError)(n),s.default.updateDescription({pid:e,sid:t,description:i})})},handleUpdateName({pid:e,sid:t,name:n,oldName:i,onError:o}){r.updateScreen(e,t,{name:n}).catch(n=>{s.default.updateName({pid:e,sid:t,name:i}),Object(a.handleError)(n,{dialogCallback:o})})},handleRemoveScreen:({pid:e,seid:t,index:n,sid:i,removedScreen:o})=>r.deleteScreen(e,i).catch(i=>{Object(a.handleError)(i),s.default.addScreen({pid:e,seid:t,index:n,screen:o})}),handleUpdateTags({pid:e,updates:t}){r.updateScreensTags(e,t).then(()=>{const{tagFilter:{tags:e,untagged:t},highlightedScreens:n}=d.a.DashboardStore.getState();if(t||!e.length)return;const{tags:i}=u.default.getBarrel(),o=[...new Set(n.map(e=>p.default.getScreen({sid:e})).reduce((e,{tags:t=[]})=>e.concat(t),[]))],s=e.filter(e=>i.includes(e)&&(!n.length||o.includes(e)));s.length!==e.length&&l.default.changeTagFilter({tags:s,untagged:t})}).catch(n=>{Object(a.handleError)(n);const i=t.map(({_id:e,operation:t,tags:n})=>({_id:e,tags:n,operation:"add"===t?"remove":"add"}));s.default.updateTags({pid:e,updates:i})})},handleUpdateCommitColor({pid:e,sid:t,vid:n,color:i,oldColor:o}){r.updateCommitColor(e,t,n,i).catch(i=>{Object(a.handleError)(i),s.default.updateCommitColor({pid:e,sid:t,vid:n,color:o})})},handleUpdateCommitMessage({pid:e,sid:t,vid:n,message:i,oldMessage:o}){r.updateCommitMessage(e,t,n,i).catch(i=>{Object(a.handleError)(i),s.default.updateCommitMessage({pid:e,sid:t,vid:n,message:o})})},handleRemoveVersion({pid:e,sid:t,vid:n,removedVersion:i}){r.deleteVersion(e,t,n).then(()=>{s.default.getVersions()}).catch(n=>{Object(a.handleError)(n),s.default.addVersion({pid:e,sid:t,version:i})})},handleAddDot({pid:e,sid:t,dot:n,hasMention:i,hasImage:o}){const{_id:l,x:c,y:d,color:u,comments:p}=n;r.createDot(e,t,{x:c,y:d,color:u,comments:p}).then(n=>{const r=Object(f.getColorName)(u);h.barrelPrefs.set(e,"lastNoteColorUsed",r),s.default.updateDot({pid:e,sid:t,did:l,dotData:n}),mixpanel.master.track("Added note",{"Is Reply":!1,"Is Reaction Reply":!1,"Is Reply To Mention":!1,"Has Mention":i,"Has Image":o,Source:"Screen"})}).catch(n=>{Object(a.handleError)(n),s.default.removeDot({pid:e,sid:t,did:l})})},handleUpdateDotColor({pid:e,sid:t,did:n,color:i,oldColor:o}){r.updateDot(e,t,n,{color:i}).then(()=>{const t=Object(f.getColorName)(i);h.barrelPrefs.set(e,"lastNoteColorUsed",t),mixpanel.master.track("Changed dot color")}).catch(i=>{Object(a.handleError)(i),s.default.updateDotColor({pid:e,sid:t,did:n,color:o})})},handleUpdateDotPosition({pid:e,sid:t,did:n,x:i,y:o,oldX:l,oldY:c}){r.updateDot(e,t,n,{x:i,y:o}).catch(i=>{Object(a.handleError)(i),s.default.updateDotPosition({pid:e,sid:t,did:n,x:l,y:c})})},handleUpdateDotStatus({pid:e,sid:t,did:n,status:i,oldStatus:o,source:l="Screen"}){r.updateDot(e,t,n,{status:i}).then(()=>{mixpanel.master.track(("open"===i?"Reopened":"Resolved")+" note",{Source:l})}).catch(i=>{Object(a.handleError)(i),s.default.updateDotStatus({pid:e,sid:t,did:n,status:o})})},handleRemoveDot({pid:e,sid:t,did:n,removedDot:i}){r.deleteDot(e,t,n).then(()=>{mixpanel.master.track("Deleted dot")}).catch(n=>{Object(a.handleError)(n),s.default.addDot({pid:e,sid:t,dot:i})})},handleCreateComment({pid:e,sid:t,did:n,hasReaction:i,comment:o,toMention:l,hasMention:c,hasImage:d,source:u="Screen"}){const{_id:p,note:h}=o;r.createDotComment(e,t,n,h).then(o=>{s.default.updateComment({pid:e,sid:t,did:n,cmid:p,commentData:o}),mixpanel.master.track("Added note",{"Is Reply":!0,"Is Reaction Reply":i,"Is Reply To Mention":l,"Has Mention":c,"Has Image":d,Source:u})}).catch(i=>{Object(a.handleError)(i),s.default.removeComment({pid:e,sid:t,did:n,cmid:p})})},handleUpdateComment({pid:e,sid:t,did:n,cmid:i,commentData:o,oldCommentData:l}){const{note:c}=o,{note:d}=l;c!==d&&r.updateDotCommentNote(e,t,n,i,c).then(()=>{mixpanel.master.track("Edited comment")}).catch(o=>{Object(a.handleError)(o),s.default.updateComment({pid:e,sid:t,did:n,cmid:i,commentData:l})})},handleRemoveComment({pid:e,sid:t,did:n,cmid:i,removedComment:o}){r.deleteComment(e,t,n,i).then(()=>{mixpanel.master.track("Deleted comment")}).catch(i=>{Object(a.handleError)(i),s.default.addComment({pid:e,sid:t,did:n,comment:o})})},handleRenameScreenVariant({pid:e,vgid:t,svid:n,name:i,oldName:o}){r.updateVariantGroupScreenVariantName(e,t,n,i).catch(i=>{Object(a.handleError)(i),s.default.renameScreenVariant({pid:e,vgid:t,svid:n,name:o})})},handleReorderScreenVariant({pid:e,vgid:t,svid:n,index:i,oldIndex:o}){r.updateVariantGroupScreensOrder(e,t,n,i).catch(i=>{Object(a.handleError)(i),s.default.reorderScreenVariant({pid:e,vgid:t,svid:n,index:o})})},handleRemoveScreenVariant({pid:e,vgid:t,svid:n,oldScreenVariant:i,oldIndex:o}){r.removeScreenFromVariantGroup(e,t,n).catch(n=>{Object(a.handleError)(n),s.default.addScreenVariant({pid:e,vgid:t,screenVariant:i,index:o})})}};function m(){d.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case o.a.UPDATE_DESCRIPTION:g.handleUpdateDescription(e);break;case o.a.UPDATE_NAME:g.handleUpdateName(e);break;case o.a.REMOVE_SCREEN:g.handleRemoveScreen(e);break;case o.a.UPDATE_TAGS:g.handleUpdateTags(e);break;case o.a.UPDATE_COMMIT_COLOR:g.handleUpdateCommitColor(e);break;case o.a.UPDATE_COMMIT_MESSAGE:g.handleUpdateCommitMessage(e);break;case o.a.REMOVE_VERSION:g.handleRemoveVersion(e);break;case o.a.ADD_DOT:g.handleAddDot(e);break;case o.a.UPDATE_DOT_COLOR:g.handleUpdateDotColor(e);break;case o.a.UPDATE_DOT_POSITION:g.handleUpdateDotPosition(e);break;case o.a.UPDATE_DOT_STATUS:g.handleUpdateDotStatus(e);break;case o.a.REMOVE_DOT:g.handleRemoveDot(e);break;case o.a.CREATE_COMMENT:g.handleCreateComment(e);break;case o.a.UPDATE_COMMENT:g.handleUpdateComment(e);break;case o.a.REMOVE_COMMENT:g.handleRemoveComment(e);break;case o.a.RENAME_SCREEN_VARIANT:g.handleRenameScreenVariant(e);break;case o.a.REORDER_SCREEN_VARIANT:g.handleReorderScreenVariant(e);break;case o.a.REMOVE_SCREEN_VARIANT:g.handleRemoveScreenVariant(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(542),o=n(541),s=n(702),r=n(591),a=n.n(r),l=n(582),c=n.n(l);const d={querySourceFile(e){i.default.ipcRenderer.removeAllListeners(e+":sourceFile"),i.default.ipcRenderer.once(e+":sourceFile",(t,n)=>{s.default.setSourceFile({versionId:e,sourceFile:n})}),i.default.ipcRenderer.send("query-source-file",e)},openSourceFile(e){e&&i.default.ipcRenderer.send("open-item",e)},openSourceFolder(e){e&&i.default.ipcRenderer.send("show-item-in-folder",e)},openPopout({pid:e,name:t,width:n,height:o,url:s}){i.default.ipcRenderer.send("open-popout",{name:t,width:n,height:o,url:s},e)}};function u(){c.a.dispatcher.register(e=>{if(o.isWindowsApp)switch(e.type){case a.a.OPEN_SCREEN:case a.a.SET_VERSION_ID:d.querySourceFile(e.versionId);break;case a.a.OPEN_SOURCE_FILE:d.openSourceFile(e.path);break;case a.a.OPEN_SOURCE_FOLDER:d.openSourceFolder(e.path);break;case a.a.OPEN_POPOUT:d.openPopout(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var i=n(1633),o=n(703),s=n(571),r=n(575),a=n(696),l=n(702),c=n(1739),d=n.n(c),u=n(591),p=n.n(u),h=n(687),f=n(681),g=n(582),m=n.n(g),b=n(649),S=n.n(b),y=n(574),v=n.n(y);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let T,_,P;const D={getSnapshot({barrelId:e,screenId:t,versionId:n}){clearTimeout(T);const o=h.default.getScreen();if(!o)return;const a=h.default.getVersion();f.default.isUserRestricted()||a&&a.snapshot&&a.snapshot.layers?setTimeout(()=>{const i=a&&a.snapshot||{};l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:i})},4):T=setTimeout(()=>{s.getSnapshot(e,t,n).then(e=>{const t=Object(i.createArtboardLayer)(o.name,e);return e.layers.unshift(t),Object(i.preprocessLayers)(e.layers),e}).catch(r.handleError).then((o={})=>{if(l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:o}),!o.assets)return;const r=O({},o);requestIdleCallback(async()=>{await Promise.all(r.assets.map(n=>Object(i.addAssetStats)(e,t,r,n))),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:r});const{url:o}=await s.getVersionAssets(e,t,n);if(o){const a=await s.fetchAssets(o);await Promise.all(a.map(n=>Object(i.addAssetStats)(e,t,r,n))),d.a.setVersionAssets({vid:n,assets:a})}})})},300)},async getSnapshotOfNewVersion({pid:e,sid:t,version:{_id:n,fullSnapshotUrl:o}}){const{barrelId:r}=m.a.BarrelStore.getState();if(r!==e)return;const{screenId:a}=m.a.ScreenStore.getState();if(a!==t)return;if(f.default.isUserRestricted())return;const c=h.default.getScreen();if(c)try{const u=await s.fetchSnapshot(o),p=Object(i.createArtboardLayer)(c.name,u);u.layers.unshift(p),Object(i.preprocessLayers)(u.layers),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:u});const h=O({},u);requestIdleCallback(async()=>{await Promise.all(h.assets.map(e=>Object(i.addAssetStats)(r,a,h,e))),l.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:h});const{url:o}=await s.getVersionAssets(r,a,n);if(o){const e=await s.fetchAssets(o);await Promise.all(e.map(e=>Object(i.addAssetStats)(r,a,h,e))),d.a.setVersionAssets({vid:n,assets:e})}})}catch(u){}},getDots({barrelId:e,screenId:t,dotId:n}){clearTimeout(_);const i=h.default.getScreen();if(i)if("dots"in i){const{highlightedComments:e}=m.a.DotsStore.getState();n&&setTimeout(t=>{l.default.selectDot({dotId:n,commentId:e})},4)}else _=setTimeout(()=>{s.getDots(e,t).then(({dots:n=[]})=>{l.default.setDots({pid:e,sid:t,dots:n})})},300)},getVersions({screenId:e}){clearTimeout(P);const t=h.default.getScreen();if(!t)return;const{versions:n,totalVersionCount:i=1/0,allowedVersionCount:o=1/0}=t;if(!(n.length<o&&i>=o))return;const{barrelId:a}=m.a.BarrelStore.getState();P=setTimeout(()=>{s.getVersions(a,e).then(({versions:e=[],totalVersionCount:t,allowedVersionCount:i})=>(n.forEach(t=>{if(!("layers"in t.snapshot))return;const n=e.find(e=>t._id===e._id);n&&Object.assign(n.snapshot,t.snapshot)}),{versions:e,totalVersionCount:t,allowedVersionCount:i})).catch(e=>(Object(r.handleError)(e),{versions:n,totalVersionCount:i,allowedVersionCount:o})).then(({versions:t,totalVersionCount:n,allowedVersionCount:i})=>{l.default.setVersions({pid:a,sid:e,versions:t,totalVersionCount:n,allowedVersionCount:i})})},300)},async getSnapshotOfComponentVariant({coid:e}){const t=f.default.getStyleguidesData({barrelStore:m.a.BarrelStore,styleguidesDataStore:m.a.StyleguidesDataStore,projectsDataStore:m.a.ProjectsDataStore}),n=Object(o.findComponentById)(t,e),{barrelId:r,component:l}=n||{};if(!l)return;const{latestVersion:c}=l;if(c.snapshot.layers&&c.snapshot.layers.length>0)return;const u=[...l.idPath],p=u.pop(),h=f.default.getBarrel({bid:r});try{const e=await s.fetchSnapshot(c.fullSnapshotUrl),t=Object(i.createArtboardLayer)(l.name,e);if(e.layers.unshift(t),Object(i.preprocessLayers)(e.layers),a.default.setComponentSnapshot({bid:h._id,csids:u,coid:p,vid:c._id,snapshot:e}),!e.assets)return;const n=O({},e);await Promise.all(n.assets.map(e=>Object(i.addAssetStats)(h.id,l._id,n,e))),a.default.setComponentSnapshot({bid:r,csids:u,coid:p,vid:c._id,snapshot:n});const o=f.default.getBarrel(),{url:g}=await s[o.id===r?v.a.PROJECT:v.a.STYLEGUIDE].getComponentVersionAssets(r,u,p,c._id);if(g){const e=await s.fetchAssets(g);await Promise.all(e.map(e=>Object(i.addAssetStats)(h.id,p,n,e))),d.a.setComponentAssets({coid:p,assets:e})}}catch(g){a.default.setComponentSnapshot({bid:h._id,csids:u,coid:p,vid:c._id,snapshot:{}})}}};function I(){m.a.dispatcher.register(e=>{switch(e.type){case p.a.OPEN_SCREEN:D.getVersions(e),D.getSnapshot(e),D.getDots(e);break;case p.a.GET_VERSIONS:D.getVersions(e);break;case p.a.SET_VERSION_ID:D.getSnapshot(e);break;case p.a.ADD_VERSION:D.getSnapshotOfNewVersion(e);break;case S.a.OPEN:case S.a.CHANGE_VARIANT:D.getSnapshotOfComponentVariant(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var i=n(559),o=n(556),s=n(558),r=n(570),a=n(555),l=n(684),c=n.n(l),d=n(599),u=n(591),p=n.n(u),h=n(687),f=n(649),g=n.n(f),m=n(582),b=n.n(m);const S={notify({pid:e,sid:t,uid:n,did:r,userId:a,username:l,comment:d}){if(n===a)return;const{_id:u,note:p,author:h}=d,f=Object(i.mentionRegexFn)(l);if(!h||!f.test(p))return;const g=Object(o.urlResolve)("project-screen",{url:{pid:e,sid:t},query:{did:r,cmid:u}});Object(s.notify)({title:h.username+" mentioned you",body:p,notifier:h,handler(){c.a.history.push(g)}})},selectDot({dotId:e,source:t="Note URL"}){e&&mixpanel.master.track("Opened note",{Source:t})},warnScreenNotFound({barrelId:e,screenId:t}){h.default.getScreen({sid:t})||(a.create({title:"Screen not available anymore.",message:"It was probably deleted, please contact the owner."}),c.a.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}})))},warnScreenRemoval({pid:e,syncWithApi:t,removedScreen:n,removingCurrentScreen:i,user:s}){if(t||!i)return;c.a.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}}));const{userId:r}=b.a.UserStore.getState();if(r===s.user._id)return;const l=s?s.user.username:"Anonymous";a.create({title:l+" deleted this screen",message:`You won’t be able to access "${n.name}" from now on.`})},warnVariantGroupRemoval({pid:e,removedVariantGroup:t,removingCurrentScreen:n,user:i}){if(!n)return;c.a.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}}));const{userId:s}=b.a.UserStore.getState();if(s===i.user._id)return;const r=i?i.user.username:"Anonymous";a.create({title:r+" deleted this variant group",message:`You won’t be able to access "${t.name}" from now on.`})},warnVersionRemoval({syncWithApi:e,removingCurrentVersion:t,poppedVersion:n}){if(e)return void mixpanel.master.track("Deleted version");if(!t&&!n)return;const i=t?"deleteScreenVersion":"createScreenVersion";Object(r.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:i})},changeURLForVersionRemoval({pid:e,removingCurrentVersion:t}){if(!t)return;const{screenId:n}=b.a.ScreenStore.getState();history.replaceState({},"Projects - Screen - Zeplin",Object(o.urlResolve)("project-screen",{url:{pid:e,sid:n}}))},warnVersionNotFound({versionId:e}){const{versions:t,totalVersionCount:n}=h.default.getScreen(),i=t.some(({_id:t})=>t===e);n&&!i&&a.create({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."})},updateDescription(){mixpanel.master.track("Changed description",{Target:"Screen"})},updateTags({updates:e,isScreen:t}){if("add"===e[0].operation)return void mixpanel.master.track("Tagged screen");e.some(({operation:e})=>"remove"===e)&&(t?mixpanel.master.track("Removed tag"):mixpanel.master.track("Deleted tag"))},showVersion(){mixpanel.master.track("Visited app",{Location:"Screen version panel"})},openPopout(){mixpanel.master.track("Popped screen out")},updateSectionDescription(){mixpanel.master.track("Changed description",{Target:"Screen section"})},selectLayer(){mixpanel.master.track("Inspected layer",{Source:"Screen"})},componentVariantSelectLayer(){mixpanel.master.track("Inspected layer",{Source:"Component state"})},updateDotPosition(){mixpanel.master.track("Moved dot")},updateCommitColor(){mixpanel.master.track("Updated version color")},updateCommitMessage(){mixpanel.master.track("Updated version commit message")},selectScreenVariant({pid:e,svid:t,usingKeyboardShortcut:n}){c.a.history.push(Object(o.urlResolve)("project-screen",{url:{pid:e,sid:t}})),mixpanel.master.track("Toggled between screen variants",{"Using Keyboard Shortcut":!!n})}};function y(){b.a.dispatcher.register(e=>{switch(e.type){case p.a.OPEN_SCREEN:S.warnScreenNotFound(e),S.selectDot(e);break;case p.a.REMOVE_SCREEN:S.warnScreenRemoval(e);break;case d.default.DELETE_VARIANT_GROUP:S.warnVariantGroupRemoval(e);break;case p.a.SET_VERSION_ID:S.warnVersionNotFound(e);break;case p.a.ADD_VERSION:S.warnVersionRemoval(e);break;case p.a.REMOVE_VERSION:S.warnVersionRemoval(e),S.changeURLForVersionRemoval(e);break;case p.a.ADD_DOT:{const{pid:t,sid:n,uid:i,userId:o,username:s,dot:{_id:r,comments:[a]}}=e;S.notify({pid:t,sid:n,uid:i,did:r,userId:o,username:s,comment:a});break}case p.a.SELECT_DOT:S.selectDot(e);break;case p.a.ADD_COMMENT:S.notify(e);break;case p.a.UPDATE_COMMENT:{const{pid:t,sid:n,uid:i,author:o,userId:s,username:r,did:a,cmid:l,commentData:{note:c}}=e;S.notify({pid:t,sid:n,uid:i,did:a,userId:s,username:r,comment:{_id:l,note:c,author:o}});break}case p.a.UPDATE_DESCRIPTION:e.syncWithApi&&S.updateDescription();break;case p.a.UPDATE_TAGS:e.syncWithApi&&S.updateTags(e);break;case p.a.SHOW_VERSIONS:S.showVersion();break;case p.a.OPEN_POPOUT:S.openPopout();break;case d.default.UPDATE_SECTION_DESCRIPTION:e.syncWithApi&&S.updateSectionDescription();break;case p.a.SELECT_LAYER:S.selectLayer();break;case p.a.UPDATE_DOT_POSITION:S.updateDotPosition();break;case p.a.UPDATE_COMMIT_COLOR:e.syncWithApi&&S.updateCommitColor();break;case p.a.UPDATE_COMMIT_MESSAGE:e.syncWithApi&&S.updateCommitMessage();break;case g.a.SELECT_LAYER:S.componentVariantSelectLayer();break;case p.a.SELECT_SCREEN_VARIANT:S.selectScreenVariant(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(547),o=n(582),s=n.n(o),r=n(649),a=n.n(r),l=n(591),c=n.n(l);let d,u,p,h,f;const g={saveNoteVisibility(){const{barrelId:e}=s.a.BarrelStore.getState(),{notesVisible:t}=s.a.ScreenStore.getState();clearTimeout(d),d=setTimeout(()=>i.barrelPrefs.set(e,"noteVisibility",t),1e3)},saveNoteStatusFilter(e){const{statusFilter:t}=e;if(!t)return;const{barrelId:n}=s.a.BarrelStore.getState();clearTimeout(u),u=setTimeout(async()=>{await i.barrelPrefs.set(n,"noteStatusFilter",t)},1e3)},saveNoteFilter(e){const{barrelId:t}=s.a.BarrelStore.getState(),{status:n,color:o}=e;clearTimeout(u),u=setTimeout(async()=>{await i.barrelPrefs.set(t,"noteStatusFilter",n),i.barrelPrefs.set(t,"noteColorFilter",o)},1e3)},saveZoomLevel(){const{barrelId:e}=s.a.BarrelStore.getState(),{zoomLevel:t}=s.a.ScreenStore.getState();clearTimeout(p),p=setTimeout(()=>i.barrelPrefs.set(e,"zoomLevel",t),1e3)},saveLayoutGridEnabled(){const{barrelId:e}=s.a.BarrelStore.getState(),{layoutGridEnabled:t}=s.a.ScreenStore.getState();clearTimeout(h),h=setTimeout(()=>i.barrelPrefs.set(e,"layoutGridEnabled",t),1e3)},saveVersionsTutorialSeen(){i.userPrefs.set("versionsTutorialSeen",!0)},saveVersionsLastSeen({sid:e,date:t}){if(!e)return;clearTimeout(f);const{barrelId:n}=s.a.BarrelStore.getState();f=setTimeout(()=>{i.barrelPrefs.set(n,e,"versionsLastSeen",t)},1e3)},saveScreenSidebarWidth(){const{barrelId:e}=s.a.BarrelStore.getState(),{screenSidebarWidth:t}=s.a.ScreenStore.getState();i.barrelPrefs.set(e,"screenSidebarWidth",t)},saveVersionsSidebarWidth(){const{barrelId:e}=s.a.BarrelStore.getState(),{versionsSidebarWidth:t}=s.a.ScreenStore.getState();i.barrelPrefs.set(e,"versionsSidebarWidth",t)},hideComponentVariantsOnboardingHintbox(){i.userPrefs.set("componentVariantsOnboardingHintboxSeen",!0)},setComponentVariantViewAsSeen(){i.userPrefs.set("componentVariantViewSeen",!0)},incrementNumberOfLayerComponentViews({shouldIncrementNumberOfLayerComponentViews:e,numberOfLayerComponentViews:t}){e&&i.userPrefs.set("numberOfLayerComponentViews",t+1)}};function m(){s.a.dispatcher.register(e=>{switch(e.type){case c.a.SHOW_NOTES:case c.a.HIDE_NOTES:case c.a.SELECT_DOT:case c.a.CREATE_NOTE:case c.a.ENABLE_NOTE_MODE:g.saveNoteVisibility();break;case c.a.UPDATE_DOT_STATUS:g.saveNoteStatusFilter(e);break;case c.a.CHANGE_DOT_FILTER:g.saveNoteFilter(e);break;case c.a.ZOOM_WITH_GESTURE:case c.a.ZOOM_WITH_WHEEL:case c.a.CHANGE_ZOOM_LEVEL:case c.a.ZOOM_IN:case c.a.ZOOM_OUT:case c.a.RESET_ZOOM:g.saveZoomLevel();break;case c.a.TOGGLE_LAYOUT_GRID:g.saveLayoutGridEnabled();break;case c.a.CHANGE_SCREEN_SIDEBAR_WIDTH:g.saveScreenSidebarWidth();break;case c.a.CHANGE_VERSIONS_SIDEBAR_WIDTH:g.saveVersionsSidebarWidth(e.sidebarWidth);break;case c.a.OPEN_SCREEN:case c.a.ADD_VERSION:g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case c.a.SHOW_VERSIONS:case c.a.TOGGLE_VERSIONS:g.saveVersionsTutorialSeen(),g.saveVersionsLastSeen(e.screenVersionsLastSeen);break;case c.a.HIDE_VERSIONS_AUNTIE:g.saveVersionsTutorialSeen();break;case c.a.HIDE_COMPONENT_VARIANTS_ONBOARDING_HINTBOX:g.hideComponentVariantsOnboardingHintbox();break;case c.a.SELECT_LAYER:g.incrementNumberOfLayerComponentViews(e);break;case a.a.OPEN:g.setComponentVariantViewAsSeen()}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(1533)),l=r(n(655)),c=r(n(582)),d=s(n(575)),u=s(n(656)),p=s(n(555)),h=n(571),f=r(n(681)),g={project:h.project,styleguide:h.styleguide},m={initChannel:e=>g[c.default.BarrelStore.getState().barrelType].getIntegrationEvents(f.default.getBarrel()._id,e).then(t=>a.default.load(e,t.events)),init(){f.default.getBarrel().integration.slacks.forEach(e=>{this.initChannel(e._id).catch(()=>{})})},initIfNecessary(e,t){e in c.default.SlackPreferencesStore.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){p.create({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(e).then(()=>a.default.open(e,t)).catch(()=>this.showInitializationError(e,t))}})},updateEventGroup(e,t){const n=c.default.SlackPreferencesStore.getState().inid;(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then(()=>{a.default.eventGroupUpdated(n,e)}).catch(t=>{a.default.eventGroupUpdateFailed(n,e),d.handleError(t)})},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce((t,o)=>t.then(()=>g[i].addIntegrationEvent(n,e,o)),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=c.default.BarrelStore.getState();return u.getEventsOfGroup(i,t).reduce((t,o)=>t.then(()=>g[i].deleteIntegrationEvent(n,e,o)),Promise.resolve())}};t.default=function(){c.default.dispatcher.register(e=>{switch(e.type){case l.default.INIT:m.init();break;case l.default.OPEN:m.initIfNecessary(e.inid,e.channelName);break;case l.default.UPDATE_EVENT_GROUP:m.updateEventGroup(e.eventGroup,e.checked)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2300)),s=i(n(2301));t.default=function(){o.default(),s.default()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(624),o=n.n(i),s=n(582),r=n.n(s),a=n(1294),l=n(1385),c=n(575),d=n(571),u=n(543);const p={project:{get:d.getProject},styleguide:{get:d.getStyleguide}},h={project:{getRequest:a.default.getProjectRequest,getSuccess:a.default.getProjectSuccess,getFailed:a.default.getProjectFailed},styleguide:{getRequest:l.default.getStyleguideRequest,getSuccess:l.default.getStyleguideSuccess,getFailed:l.default.getStyleguideFailed}},f={onPreview({dialogType:e,dialogParams:{previewBarrelId:t}}){const n={project:r.a.ProjectsDataStore,styleguide:r.a.StyleguidesDataStore};if(!t)return;const i=e===u.DialogTypes.PREVIEW_PROJECT?"project":"styleguide",{[i+"s"]:o}=n[i].getState(),s=o[t];if(s&&(s.screens||s.componentSections))return;const a=h[i];a.getRequest(),p[i].get(t).then(e=>{a.getSuccess({[i]:e})}).catch(e=>{a.getFailed(e),c.handleError(e)})}};function g(){r.a.dispatcher.register(e=>{switch(e.type){case o.a.OPEN_DIALOG:setTimeout(f.onPreview,0,e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(624)),s=i(n(582)),r=n(556),a={onWorkflowStatusFilterChange({workflowStatus:e}){mixpanel.master.track("Filtered by status",{Name:e.name,Color:e.color.toHexString()})},onUnhighlightBarrel(){const{selectedOrganizationId:e,selectedTab:t}=s.default.SpaceStore.getState(),n="user"===e?t:"workspace-"+t,i={url:{oid:e}};setTimeout(()=>{history.replaceState(i,"Zeplin - Workspace",r.urlResolve(n,i))},4)}};t.default=function(){s.default.dispatcher.register(e=>{switch(e.type){case o.default.CHANGE_WORKFLOW_STATUS_FILTER:return a.onWorkflowStatusFilterChange(e);case o.default.UNHIGHLIGHT_BARREL:return a.onUnhighlightBarrel()}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(2303),o=n(2304),s=n(2305),r=n(2306),a=n(2307);function l(){Object(i.default)(),Object(o.default)(),Object(s.default)(),Object(r.default)(),Object(a.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(645),o=n(705),s=n(582),r=n.n(s),a=n(571),l=n(575);const c={project:a.project,styleguide:a.styleguide},d={handleConvertSectionToVariantSection({bid:e,barrelType:t,csid:n}){c[t].convertComponentSectionToVariantSection(e,n).then(({name:i,variant:s,components:r})=>{o.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:s,components:r,userConvertedSectionIntoVariant:!0})}).catch(l.handleError)},handleConvertVariantSectionToSection({bid:e,barrelType:t,csid:n}){c[t].convertVariantSectionToComponentSection(e,n).then(()=>{o.default.removeComponentVariantData({bid:e,barrelType:t,csid:n})}).catch(l.handleError)},handleAddComponentVariantProperty({bid:e,barrelType:t,csid:n,componentVariantProperty:i}){const{_id:s,name:r}=i;c[t].createComponentSectionVariantProperty(e,n,r).then(({_id:i})=>{const a={_id:i,name:r};o.default.updateComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:s,data:a})}).catch(i=>{Object(l.handleError)(i),o.default.removeComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:s})})},handleUpdateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:s,oldName:r}){c[t].updateComponentSectionVariantProperty(e,n,i,{name:s}).catch(s=>{Object(l.handleError)(s),o.default.updateComponentVariantPropertyName({bid:e,barrelType:t,csid:n,vpid:i,name:r})})},handleUpdateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:s,oldValues:r}){c[t].updateComponentSectionVariantProperty(e,n,i,{values:s}).catch(s=>{Object(l.handleError)(s),o.default.updateComponentVariantPropertyValues({bid:e,barrelType:t,csid:n,vpid:i,values:r})})},handleUpdateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:i,oldProperties:s}){c[t].updateComponentSectionVariantPropertiesOrder(e,n,{properties:i}).catch(i=>{Object(l.handleError)(i),o.default.updateComponentVariantPropertiesOrder({bid:e,barrelType:t,csid:n,properties:s})})},handleUpdateComponentVariantPropertyValue({bid:e,barrelType:t,csid:n,vpid:i,coid:s,value:r}){c[t].updateComponentsVariantProperty(e,n,i,[s],r).then(({name:i,variant:s,components:r})=>{o.default.setComponentVariantData({bid:e,barrelType:t,csid:n,name:i,sectionVariant:s,components:r})}).catch(l.handleError)},handleRemoveComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,removedComponentVariantProperty:s}){c[t].deleteComponentSectionVariantProperty(e,n,i).catch(r=>{Object(l.handleError)(r),o.default.addComponentVariantProperty({bid:e,barrelType:t,csid:n,vpid:i,componentVariantProperty:s})})},handleCreateComponentSectionVariantGroups({bid:e,barrelType:t,csid:n,vpid:i}){c[t].createComponentSectionVariantGroups(e,n,i).then(({components:i,componentSections:s})=>{o.default.groupComponentsByVariantProperty({bid:e,barrelType:t,csid:n,components:i,componentSections:s})}).catch(l.handleError)}};function u(){r.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CONVERT_SECTION_TO_VARIANT_SECTION:d.handleConvertSectionToVariantSection(e);break;case i.default.CONVERT_VARIANT_SECTION_TO_SECTION:d.handleConvertVariantSectionToSection(e);break;case i.default.ADD_COMPONENT_VARIANT_PROPERTY:d.handleAddComponentVariantProperty(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:d.handleUpdateComponentVariantPropertyName(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:d.handleUpdateComponentVariantPropertyValues(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTIES_ORDER:d.handleUpdateComponentVariantPropertiesOrder(e);break;case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:d.handleUpdateComponentVariantPropertyValue(e);break;case i.default.REMOVE_COMPONENT_VARIANT_PROPERTY:d.handleRemoveComponentVariantProperty(e);break;case i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS:d.handleCreateComponentSectionVariantGroups(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(645),o=n(582),s=n.n(o),r=n(542),a=n(541);const l={sendHideColorsToElectron({barrelId:e,colors:t}){r.default.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){r.default.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};function c(){s.a.dispatcher.register(e=>{if(a.isWindowsApp)switch(e.type){case i.default.HIDE_SUGGESTED_COLORS:return l.sendHideColorsToElectron(e);case i.default.HIDE_SUGGESTED_TEXT_STYLES:return l.sendHideTextStylesToElectron(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var i=n(696),o=n(1739),s=n.n(o),r=n(681),a=n(590),l=n.n(a),c=n(571),d=n(1633),u=n(582),p=n.n(u);const h={project:c.project,styleguide:c.styleguide},f={async getSnapshot({bid:e,barrelType:t,csids:n,coid:o,shouldFetchSnapshot:a,componentVersion:{_id:l,fullSnapshotUrl:u}}){if(a)try{const a=await Object(c.fetchSnapshot)(u);Object(d.preprocessLayers)(a.layers),await a.assets.map(t=>Object(d.addAssetStats)(e,o,a,t)),i.default.setComponentSnapshot({bid:e,csids:n,coid:o,vid:l,snapshot:a});const p=r.default.getBarrel({bid:e}),{url:f}=await h[t].getComponentVersionAssets(e,n,o,l);if(f){const e=await Object(c.fetchAssets)(f);await Promise.all(e.map(e=>Object(d.addAssetStats)(p.id,o,a,e))),s.a.setComponentAssets({coid:o,assets:e})}}catch(p){}},getSnapshotIfNecessary(e){const{bid:t,csids:n,coid:i,shouldFetchSnapshot:o,componentData:s}=e;if(!s||!s.latestVersion)return;const{latestVersion:{_id:r,fullSnapshotUrl:a}}=s;this.getSnapshot({bid:t,csids:n,coid:i,shouldFetchSnapshot:o,componentVersion:{_id:r,fullSnapshotUrl:a}})}};function g(){p.a.dispatcher.register(e=>{switch(e.type){case l.a.ADD_COMPONENT_VERSION:f.getSnapshot(e);break;case l.a.UPDATE_COMPONENT:f.getSnapshotIfNecessary(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(645),o=n(582),s=n.n(o),r=n(649),a=n.n(r),l=n(556),c=n(574),d=n.n(c);const u={handleConvertSectionToVariantSection(){mixpanel.master.track("Set as component variant section")},handleConvertVariantSectionToSection(){mixpanel.master.track("Unset as component variant section")},handleAddComponentVariantProperty(){mixpanel.master.track("Add component variant property")},handleRemoveComponentVariantProperty(){mixpanel.master.track("Remove component variant property")},handleRenameComponentVariantProperty(){mixpanel.master.track("Rename component variant property")},handleUpdateComponentVariantPropertyValues({values:e}){mixpanel.master.track("Update component variant property value",{"Number of Components":e?e.length:1})},handleOpenComponentVariantPopup({variantPopupSource:e}){mixpanel.master.track("Opened component variant pop-up",{Source:e})},handleChangeComponentVariant({variantChangeValueSource:e,isState:t}){mixpanel.master.track("Changed variant in component variant pop-up",{Source:e,"Is State":t})},handleChangeSortType({sortType:e}){mixpanel.master.track("Sorted components",{Type:e})},collapseAllSections(){const{barrelId:e,barrelType:t}=s.a.BarrelStore.getState(),n=t===d.a.PROJECT?"project-styleguide":"styleguide";window.history.replaceState({},"Components - Styleguide - Zeplin",Object(l.urlResolve)(n+"-components",{url:{bid:e}}))}};function p(){s.a.dispatcher.register(e=>{switch(e.type){case a.a.OPEN:return u.handleOpenComponentVariantPopup(e);case a.a.CHANGE_VARIANT:return u.handleChangeComponentVariant(e);case i.default.CHANGE_SORT_TYPE:return u.handleChangeSortType(e);case i.default.COLLAPSE_ALL_SECTIONS:return u.collapseAllSections()}if(e.syncWithApi)switch(e.type){case i.default.CONVERT_SECTION_TO_VARIANT_SECTION:return u.handleConvertSectionToVariantSection();case i.default.CONVERT_VARIANT_SECTION_TO_SECTION:return u.handleConvertVariantSectionToSection();case i.default.ADD_COMPONENT_VARIANT_PROPERTY:return u.handleAddComponentVariantProperty();case i.default.REMOVE_COMPONENT_VARIANT_PROPERTY:return u.handleRemoveComponentVariantProperty();case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_NAME:return u.handleRenameComponentVariantProperty();case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUE:case i.default.UPDATE_COMPONENT_VARIANT_PROPERTY_VALUES:return u.handleUpdateComponentVariantPropertyValues(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var i=n(547),o=n(645),s=n(582),r=n.n(s),a=n(681),l=n(590),c=n.n(l);const d={changeLeftSidebarWidth(e){const{id:t}=a.default.getBarrel();i.barrelPrefs.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth(e){const{id:t}=a.default.getBarrel();i.barrelPrefs.set(t,"styleguideRightSidebarWidth",e)},hideComponentVariantsOnboardingDialog(){i.userPrefs.set("componentVariantsOnboardingDialogSeen",!0)},toggleSectionCollapsedState(e,{shouldCollapse:t}){const{id:n}=a.default.getBarrel();i.barrelPrefs.get(n,"collapsedSections").then(o=>{e.forEach(e=>{o[e]=t}),i.barrelPrefs.set(n,"collapsedSections",o)})},updateCollapsedSections(e){const{id:t}=a.default.getBarrel();i.barrelPrefs.set(t,"collapsedSections",e)}};function u(){r.a.dispatcher.register(e=>{switch(e.type){case o.default.CHANGE_LEFT_SIDEBAR_WIDTH:d.changeLeftSidebarWidth(e.leftSidebarWidth);break;case o.default.CHANGE_RIGHT_SIDEBAR_WIDTH:d.changeRightSidebarWidth(e.rightSidebarWidth);break;case o.default.HIDE_COMPONENT_VARIANTS_ONBOARDING_DIALOG:d.hideComponentVariantsOnboardingDialog();break;case o.default.EXPAND_SECTIONS:d.toggleSectionCollapsedState(e.seids,{shouldCollapse:!1});break;case o.default.COLLAPSE_SECTIONS:case o.default.COLLAPSE_ALL_SECTIONS:d.toggleSectionCollapsedState(e.seids,{shouldCollapse:!0});break;case o.default.CHANGE_SELECTION:if(!e.updateCollapsedSections||!e.collapsedSections)return;d.updateCollapsedSections(e.collapsedSections);break;case o.default.UPDATE_STATE:if(!e.update||!e.update.collapsedSections)return;d.updateCollapsedSections(e.update.collapsedSections);break;case c.a.LOAD:if(!e.styleguide||!e.styleguide.collapsedSections)return;d.updateCollapsedSections(e.styleguide.collapsedSections)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2309),o=n(2310);function s(){Object(o.default)(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(571),o=n(575),s=n(681),r=n(582),a=n.n(r),l=n(1385),c=n(623);const d={getStyleguide(e,{styleguideId:t}){const n=s.default.getBarrel({bid:e});return n&&n.complete?n:i.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))}},u={selectParentRequest({stid:e,parent:t}){i.updateStyleguideParent(e,t).then(()=>{const{styleguides:n}=a.a.StyleguidesDataStore.getState(),i=[...n[t].ancestors,t].filter(e=>!(n[e]&&n[e].complete));return d.getAncestors(e,i)}).then(n=>{l.default.selectParentSuccess({stid:e,parent:t,styleguides:n})}).catch(e=>{l.default.selectParentFailed(),o.handleError(e)})},removeParent({stid:e,oldParent:t}){i.removeStyleguideParent(e).catch(n=>{t?l.default.selectParent({stid:e,parent:t}):l.default.removeParent({stid:e}),o.handleError(n)})}};function p(){a.a.dispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case c.default.SELECT_PARENT_REQUEST:u.selectParentRequest(e);break;case c.default.REMOVE_PARENT:u.removeParent(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(547),o=n(582),s=n.n(o),r=n(623);const a={usedStyleguides(){i.userPrefs.set("styleguidesUsed",!0)}};function l(){s.a.dispatcher.register(e=>{switch(e.type){case r.default.CREATE_STYLEGUIDE:a.usedStyleguides()}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2312));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582)),s=i(n(666)),r=i(n(2313)),a=n(571),l={project:a.project,styleguide:a.styleguide},c={handleGetTeamsIntegration(e,t){l[e].getTeamsIntegration(t).then(e=>r.default.setTeamsIntegration(e.channels)).catch(()=>r.default.setTeamsIntegration([]))}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case s.default.GET_TEAMS_INTEGRATION:c.handleGetTeamsIntegration(e.barrelType,e.barrelId)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(666)),s=i(n(582)),r={getTeamsIntegration(e,t){s.default.dispatcher.dispatch({type:o.default.GET_TEAMS_INTEGRATION,barrelType:e,barrelId:t})},setTeamsIntegration(e){s.default.dispatcher.dispatch({type:o.default.SET_TEAMS_INTEGRATION,channels:e})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(2315),o=n(2316),s=n.n(o);function r(){s()(),Object(i.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(547),o=n(582),s=n.n(o),r=n(588),a=n.n(r);const l={setUserAttribute({name:e,value:t}){switch(e){case"verified":Zeplin.updateUser({status:"verified"});break;case"isEmailNotificationEnabled":Zeplin.updateUser({emailNotifications:t});break;case"isDesktopNotificationEnabled":i.userPrefs.set("notificationStatus",t);break;default:Zeplin.updateUser({[e]:t})}},markZeplinThreeZeroWhatsNewAsSeen(){i.userPrefs.set("zeplinThreeZeroWhatsNewSeen",!0)},stopPromotingSpacingSectionDescriptionEditButton(){i.userPrefs.set("shouldPromoteSpacingSectionDescriptionEditButton",!1)},hideStyleguideTutorial(){i.userPrefs.set("shouldDisplayStyleguideTutorial",!1)},stopPromotingExportDesignTokens(){i.userPrefs.set("shouldPromoteExportDesignTokens",!1)}};function c(){s.a.dispatcher.register(e=>{switch(e.type){case a.a.SET_USER_ATTRIBUTE:l.setUserAttribute(e);break;case a.a.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:l.markZeplinThreeZeroWhatsNewAsSeen();break;case a.a.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:l.stopPromotingSpacingSectionDescriptionEditButton();break;case a.a.HIDE_STYLEGUIDE_TUTORIAL:l.hideStyleguideTutorial();break;case a.a.STOP_PROMOTING_EXPORT_DESIGN_TOKENS:l.stopPromotingExportDesignTokens()}})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(588)),l=r(n(946)),c=s(n(571)),d=n(575),u=r(n(582)),p=r(n(1034)),h=n(677),f=r(n(1033)),g={muteProjectNotifications({pid:e,syncWithApi:t}){if(!t)return;const{notifications:n}=u.default.NotificationsStore.getState(),i=n.map(t=>p.default.filterEventsByProject(t,e)).filter(h.exists);setTimeout(()=>f.default.setReadStatusOfflineByNotifications(i,!0)),c.muteProjectNotifications(e).catch(t=>{d.handleError(t),l.default.unmuteProjectNotifications({pid:e}),setTimeout(()=>f.default.restoreReadStatus(i))})},muteStyleguideNotifications({stid:e,syncWithApi:t}){if(!t)return;const{notifications:n}=u.default.NotificationsStore.getState(),i=n.map(t=>p.default.filterEventsByStyleguide(t,e)).filter(h.exists);setTimeout(()=>f.default.setReadStatusOfflineByNotifications(i,!0)),c.muteStyleguideNotifications(e).catch(t=>{d.handleError(t),l.default.unmuteStyleguideNotifications({stid:e}),setTimeout(()=>f.default.restoreReadStatus(i))})},unmuteProjectNotifications({pid:e,syncWithApi:t}){t&&c.unmuteProjectNotifications(e).catch(t=>{d.handleError(t),l.default.muteProjectNotifications({pid:e})})},unmuteStyleguideNotifications({stid:e,syncWithApi:t}){t&&c.unmuteStyleguideNotifications(e).catch(t=>{d.handleError(t),l.default.muteStyleguideNotifications({stid:e})})}};t.default=function(){u.default.dispatcher.register(e=>{switch(e.type){case a.default.MUTE_PROJECT_NOTIFICATIONS:g.muteProjectNotifications(e);break;case a.default.MUTE_STYLEGUIDE_NOTIFICATIONS:g.muteStyleguideNotifications(e);break;case a.default.UNMUTE_PROJECT_NOTIFICATIONS:g.unmuteProjectNotifications(e);break;case a.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS:g.unmuteStyleguideNotifications(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(2318),o=n(2320);function s(){Object(i.default)(),Object(o.default)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(582),o=n.n(i),s=n(669),r=n(2319),a=n(571),l=n(575);const c={handleCreateWebhook({oid:e,webhook:t}){const{subscribedAllEvents:n}=t;n&&delete t.subscriptions,Object(a.createWebhook)(e,t).then(r.default.createWebhookSuccess).catch(e=>{r.default.createWebhookFailure(),l.handleError(e)})},handleUpdateWebhook({oid:e,webhook:t}){const{url:n,secret:i,status:o,subscribedAllEvents:s,subscriptions:c}=t,d={url:n,secret:i,status:o,subscribedAllEvents:s,subscriptions:c};s&&delete d.subscriptions,Object(a.updateWebhook)(e,t._id,d).then(()=>r.default.updateWebhookSuccess(t)).catch(e=>{r.default.updateWebhookFailure(),l.handleError(e)})},handleDeleteWebhook({oid:e,webhookId:t}){Object(a.deleteWebhook)(e,t).then(()=>r.default.deleteWebhookSuccess(t)).catch(e=>{r.default.deleteWebhookFailure(),l.handleError(e)})}};function d(){o.a.dispatcher.register(e=>{switch(e.type){case s.default.CREATE_WEBHOOK_REQUEST:c.handleCreateWebhook(e);break;case s.default.UPDATE_WEBHOOK_REQUEST:c.handleUpdateWebhook(e);break;case s.default.DELETE_WEBHOOK_REQUEST:c.handleDeleteWebhook(e)}})}},function(e,t,n){"use strict";n.r(t);var i=n(582),o=n.n(i),s=n(669);const r={getWebhooks(e){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOKS_REQUEST,oid:e})},getWebhooksSuccess(e){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOKS_SUCCESS,webhooks:e})},getWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOK_REQUEST,oid:e,webhookId:t})},getWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOK_SUCCESS,webhook:e})},getWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.GET_WEBHOOK_FAILURE})},createWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.CREATE_WEBHOOK_REQUEST,oid:e,webhook:t})},createWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.CREATE_WEBHOOK_SUCCESS,webhook:e})},createWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.CREATE_WEBHOOK_FAILURE})},updateWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.UPDATE_WEBHOOK_REQUEST,oid:e,webhook:t})},updateWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.UPDATE_WEBHOOK_SUCCESS,webhook:e})},updateWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.UPDATE_WEBHOOK_FAILURE})},deleteWebhook(e,t){o.a.dispatcher.dispatch({type:s.default.DELETE_WEBHOOK_REQUEST,oid:e,webhookId:t})},deleteWebhookSuccess(e){o.a.dispatcher.dispatch({type:s.default.DELETE_WEBHOOK_SUCCESS,webhookId:e})},deleteWebhookFailure(){o.a.dispatcher.dispatch({type:s.default.DELETE_WEBHOOK_FAILURE})}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(582),o=n.n(i),s=n(669),r=n(2319),a=n(571),l=n(573),c=n.n(l),d=n(575);const u={handleGetWebhooks({oid:e}){Object(a.getWebhooks)(e).then(r.default.getWebhooksSuccess).catch(e=>{if(e.status===c.a.STATUS.PRECONDITION_FAILED)return r.default.getWebhooksSuccess([]);d.handleError(e)})},handleGetWebhook({oid:e,webhookId:t}){const{webhooks:n}=o.a.WebhooksDataStore.getState(),i=n.find(e=>e._id===t)||{};if(i.complete)return setTimeout(()=>{r.default.getWebhookSuccess(i)});Object(a.getWebhook)(e,t).then(r.default.getWebhookSuccess).catch(e=>{r.default.getWebhookFailure(),d.handleError(e)})}};function p(){o.a.dispatcher.register(e=>{switch(e.type){case s.default.GET_WEBHOOKS_REQUEST:u.handleGetWebhooks(e);break;case s.default.GET_WEBHOOK_REQUEST:u.handleGetWebhook(e)}})}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(2322));t.default=function(){o.default()}},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(582)),s=i(n(674)),r=i(n(1739)),a=n(571),l={project:a.project,styleguide:a.styleguide},c={handleProcessVersionAssetContent({pid:e,sid:t,vid:n,vaid:i,vacid:o,ovacid:s}){a.processVersionAssetContent(e,t,n,i,s).catch(()=>r.default.processVersionAssetContentFailure({vid:n,vaid:i,vacid:o}))},handleProcessComponentVersionAssetContent({barrelType:e,bid:t,csids:n,coid:i,vid:o,vaid:s,vacid:a,ovacid:c}){l[e].processComponentVersionAssetContent(t,n,i,o,s,c).catch(()=>r.default.processComponentVersionAssetContentFailure({coid:i,vaid:s,vacid:a}))}};t.default=function(){o.default.dispatcher.register(e=>{switch(e.type){case s.default.PROCESS_VERSION_ASSET_CONTENT_REQUEST:c.handleProcessVersionAssetContent(e);break;case s.default.PROCESS_COMPONENT_VERSION_ASSET_CONTENT_REQUEST:c.handleProcessComponentVersionAssetContent(e)}})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(545),o=n(708),s=n(547),r=n(571),a=n(2324),l=n(946),c=n(582),d=n.n(c);function u(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}async function p(){let e=d.a.UserStore.getState(),{loading:t}=e,n=u(e,["loading"]);if(t){if(n=await function(){const e=Object(a.fetchEmbeddedData)("user",{remove:!1});return e?Promise.resolve(e):i.default.get("userToken")?Object(r.getUserProfile)():Promise.resolve(null)}(),!n)return;l.default.loadUser(n)}const{notificationBannerStatus:c,notificationStatus:p,zeplinThreeZeroWhatsNewSeen:h,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,shouldPromoteExportDesignTokens:m}=await s.userPrefs.getAll(),{config:{plans:b}}=d.a.AppStore.getState(),S=b.find(e=>e.id===n.paymentPlan);l.default.updateUser({isDesktopNotificationEnabled:p,zeplinThreeZeroWhatsNewSeen:h,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,shouldPromoteExportDesignTokens:m,paymentPlan:S}),window.Notification&&"default"===Notification.permission&&c&&o.show({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){s.userPrefs.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("notification"),Notification.requestPermission(e=>{l.default.setDesktopNotifications("granted"===e)})}}}),"registered"===n.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&o.show({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})}},function(e,t,n){"use strict";function i(e,{remove:t=!0}={}){if("apiData"in Zeplin&&e in Zeplin.apiData){const n=Zeplin.apiData[e];return t&&delete Zeplin.apiData[e],n}}n.r(t),n.d(t,"fetchEmbeddedData",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(542),o=n(559),s=n(556),r=n(564),a=n(582),l=n.n(a),c=n(696),d=n(870),u=n(661);function p(e,t){d.default.handleImports(t)}function h(){i.default.ipcRenderer.on("imports-change",Object(o.debounce)(p)),i.default.ipcRenderer.send("subscribe-to-imports")}function f(e){e.forEach((function(e){e.remove()}))}function g(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function m(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",m),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||d.default.hideImportsIndicator(),i.length&&f(i),h()}function b(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),o=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===o.length)return;i.default.ipcRenderer.removeAllListeners("imports-change");var s=o.reduce((function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e}),{hideAndRemove:[],animateAndRemove:[]});const r=s.hideAndRemove,a=s.animateAndRemove;let l=n.clientHeight,c=l,d=0;n.style.height=l+"px";var u=t.getBoundingClientRect();r.forEach((function(e){const i=e.getBoundingClientRect();l-=i.height,c-=e.height,n.style.height=l+"px";const o=i.bottom<u.top;e.classList.add("hidden"),o&&(t.scrollTop-=i.height)})),a.forEach((function(e){const t=e.getBoundingClientRect().height;c-=t,e.addEventListener("transitionend",g),e.style.transitionDelay=d+"ms",e.classList.add("clear"),d+=80}));let p=d-80;const b=c<l,S=c<t.clientHeight-52;if(b&&S){l>t.clientHeight-52&&(n.style.height=t.clientHeight-52+"px"),n.addEventListener("transitionend",m),n.classList.add("resize"),n.style.transitionDuration=p+150+200+"ms",n.style.height=c+"px"}else n.style.height="auto",f(r),a.length>0?setTimeout(h,p+200):h();i.default.ipcRenderer.send("clear-imports")}function S(){i.default&&i.default.ipcRenderer&&(i.default.ipcRenderer.on("imports-started",d.default.showImportsList),i.default.ipcRenderer.on("set-suggested-resources",(function(e,t){d.default.setSuggestedResources(t)})),i.default.ipcRenderer.on("apply-color-operations",(e,t)=>{const{barrelId:n,barrelType:i,colors:o,hasLinkedStyleguideColor:s}=t,a={},l=[];o.forEach(e=>{e.update?a[e.cid]=e:l.push(new r.default(e))}),c.default.migrateColors({bid:n,barrelType:i,colorsToUpdate:a,colorsToAdd:l,hasLinkedStyleguideColor:s,syncWithApi:!0})}),l.a.dispatcher.register(e=>{switch(e.type){case u.default.RETRY_IMPORT:n=e.id,i.default.ipcRenderer.send("retry-import",n);break;case u.default.CANCEL_IMPORT:!function(e){i.default.ipcRenderer.send("cancel-import",e)}(e.id);break;case u.default.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.default.ipcRenderer.send("retry-getting-project",e)}(e.id);break;case u.default.CLEAR_IMPORTS:b(e.ev);break;case u.default.HIDE_COMPONENT_LIMIT_HINT:t=e.barrelId,i.default.ipcRenderer.send("remove-component-limit-rejection",t);break;case u.default.SEE_PLANS:location.assign(Object(s.urlResolve)("profile-billing",{query:{period:"annual"}}))}var t,n}),h())}},function(e,t,n){"use strict";n.r(t);n(2327),n(2330),n(2336);var i=n(2338);n.d(t,"registerWorkspaceSocketBindings",(function(){return i.registerWorkspaceSocketBindings}))},function(e,t,n){"use strict";n.r(t);var i=n(2243),o=n(2328),s=n(2329),r=n(946),a=n(1014),l=n(1033),c=n.n(l);i.userChannel&&(i.userChannel.bind(o.default.UPDATE_USERNAME,({body:{username:e}})=>{r.default.setUsername(e)}),i.userChannel.bind(o.default.UPDATE_EMAIL,({body:{email:e}})=>{r.default.setEmail(e)}),i.userChannel.bind(o.default.UPDATE_USER,({body:{fullName:e,bio:t}})=>{r.default.setFullName(e),r.default.setBio(t)}),i.userChannel.bind(o.default.UPDATE_AVATAR,({body:{avatar:e}})=>{r.default.setAvatar(e)}),i.userChannel.bind(o.default.UPDATE_EMOTAR,({body:{emotar:e}})=>{r.default.setEmotar(e)}),i.userChannel.bind(o.default.UPDATE_EMAIL_NOTIFICATION,({body:{emailNotifications:e}})=>{r.default.setEmailNotifications(e)}),i.userChannel.bind(o.default.MUTE_PROJECT_NOTIFICATIONS,({params:{pid:e}})=>{r.default.muteProjectNotifications({pid:e})}),i.userChannel.bind(o.default.MUTE_STYLEGUIDE_NOTIFICATIONS,({params:{stid:e}})=>{r.default.muteStyleguideNotifications({stid:e})}),i.userChannel.bind(o.default.UNMUTE_PROJECT_NOTIFICATIONS,({params:{pid:e}})=>{r.default.unmuteProjectNotifications({pid:e})}),i.userChannel.bind(o.default.UNMUTE_STYLEGUIDE_NOTIFICATIONS,({params:{stid:e}})=>{r.default.unmuteStyleguideNotifications({stid:e})}),i.userChannel.bind(o.default.UPDATE_NOTIFICATION_EVENT,({params:{nid:e,eventId:t},body:{markedAsRead:n}})=>{c.a.setEventReadStatusOffline(e,[t],n)}),i.userChannel.bind(o.default.UPDATE_NOTIFICATIONS,({body:{nids:e,markedAsRead:t}})=>{c.a.setReadStatusOffline(e,t)}),i.userChannel.bind(o.default.DELETE_NOTIFICATION_EVENT,({params:{nid:e,eventId:t}})=>{c.a.deleteEvent(e,t)}),i.userChannel.bind(o.default.NOTIFICATION_EVENT,e=>{c.a.addNotification(e.body)}),i.userChannel.bind(o.default.UPDATE_BILLING,({body:e})=>{r.default.setBilling(e)}),i.userChannel.bind(s.default.CREATE,({body:e})=>{a.default.addOrganization(e)}),i.userChannel.bind(s.default.INVITE_MEMBERS,({body:e})=>{a.default.addOrganization(e)}),i.userChannel.bind(o.default.VERIFY,r.default.setVerified),i.userChannel.bind(o.default.DELETE,r.default.logout))},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateUser",DELETE:"DeleteUser",UPDATE_EMAIL:"UpdateEmail",UPDATE_EMAIL_NOTIFICATION:"UpdateEmailNotifications",MUTE_PROJECT_NOTIFICATIONS:"MuteProjectNotifications",MUTE_STYLEGUIDE_NOTIFICATIONS:"MuteStyleguideNotifications",UNMUTE_PROJECT_NOTIFICATIONS:"UnmuteProjectNotifications",UNMUTE_STYLEGUIDE_NOTIFICATIONS:"UnmuteStyleguideNotifications",DELETE_NOTIFICATION_EVENT:"DeleteNotificationEvent",UPDATE_NOTIFICATION_EVENT:"UpdateNotificationEvent",UPDATE_NOTIFICATIONS:"UpdateNotifications",NOTIFICATION_EVENT:"NotificationEvent",UPDATE_AVATAR:"UpdateUserAvatar",UPDATE_BILLING:"UpdateUserBilling",UPDATE_EMOTAR:"UpdateUserEmotar",UPDATE_USERNAME:"UpdateUsername",UPDATE_USER:"UpdateUser",VERIFY:"VerifyUser"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateOrganization",CREATE_PROJECT:"CreateProject",CREATE_STYLEGUIDE:"CreateStyleguide",DELETE:"DeleteOrganization",INVITE_MEMBERS:"InviteOrganizationMembers",REMOVE_USER:"RemoveMemberFromOrganization",UPDATE_BILLING:"UpdateOrganizationBilling",UPDATE_DOMAIN:"UpdateOrganizationDomain",UPDATE_LOGO:"UpdateOrganizationLogo",UPDATE_STATUS:"UpdateOrganizationStatus",UPDATE_MEMBER_ACCESSIBILITY:"UpdateOrganizationMemberAccessibility",UPDATE_MEMBER_ROLE:"UpdateOrganizationMemberRole",UPDATE_MEMBER_TAGS:"UpdateOrganizationMembersTags",UPDATE_NAME:"UpdateOrganizationName",ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS:"AddProjectToOrganizationMemberFocus",REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS:"RemoveProjectFromOrganizationMemberFocus",ADD_WORKFLOW_STATUS:"AddOrganizationWorkflowStatus",UPDATE_WORKFLOW_STATUS:"UpdateOrganizationWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteOrganizationWorkflowStatus",ADD_SECTION:"CreateOrganizationSection",UPDATE_SECTION:"UpdateOrganizationSection",DELETE_SECTION:"DeleteOrganizationSection",ADD_SECTION_LINK:"CreateOrganizationSectionLink",UPDATE_SECTION_LINK:"UpdateOrganizationSectionLink",DELETE_SECTION_LINK:"DeleteOrganizationSectionLink",UPDATE_SECTION_PROJECT:"UpdateOrganizationSectionProjects",UPDATE_SECTION_ORDER:"UpdateOrganizationSectionsOrder"}},function(e,t,n){"use strict";n.r(t);var i=n(2243),o=n(2242),s=n(2331),r=n(2332),a=n.n(r),l=n(2328),c=n(2333),d=n(2334),u=n.n(d),p=n(2335),h=n(638),f=n.n(h),g=n(1920),m=n(1294),b=n(696),S=n(681),y=n(706),v=n(705),C=n(1385),O=n(702),E=n(1739),T=n.n(E),_=n(1533),P=n.n(_),D=n(1506),I=n(582),j=n.n(I),k=n(682),R=n(1014),A=n(574),w=n.n(A),N=n(571);function L(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default&&(i.default.bind_global((e,{params:{pid:t}={}})=>{t&&(S.default.hasProject(t)||Object(o.unsubscribeFromProjectChannel)(t))}),i.default.bind(s.default.TRANSFER_OWNERSHIP,({params:{oid:e,pid:t,mid:n,uid:i},body:s,body:{users:r}})=>{if(n){const o=r.find(e=>e.user._id===Zeplin.user._id);return o&&(Zeplin.user.paymentPlan=o.paymentPlan),void m.default.transferOwnership({bid:t,fromUserId:n,targetId:i,users:r,oid:e})}if(!e)return;const{organizations:a}=j.a.OrganizationStore.getState();if(a.find(t=>t._id===e))if("_id"in s)S.default.hasProject(t)&&b.default.remove({barrelType:w.a.PROJECT,bid:t}),b.default.add({barrelType:w.a.PROJECT,barrel:s,oid:e});else{r.some(e=>e.user._id===Zeplin.user._id)||b.default.remove({barrelType:w.a.PROJECT,bid:t})}else Object(o.unsubscribeFromOrganizationChannel)(e)}),i.default.bind(s.default.UPDATE_NAME,({params:{pid:e},body:{name:t}})=>{b.default.updateName({bid:e,name:t})}),i.default.bind(s.default.UPDATE_DESCRIPTION,({params:{pid:e},body:{description:t}})=>{b.default.updateDescription({bid:e,description:t})}),i.default.bind(s.default.UPDATE_DENSITY_SCALE,({params:{pid:e},body:{densityScale:t}})=>{b.default.updateDensityScale({bid:e,densityScale:t})}),i.default.bind(s.default.UPDATE_THUMBNAIL,({params:{pid:e},body:{thumbnail:t}})=>{b.default.updateThumbnail({bid:e,thumbnail:t})}),i.default.bind(s.default.UPDATE_UPDATED,({params:{pid:e},body:{updated:t}})=>{m.default.updateProject({pid:e,data:{updated:t}})}),i.default.bind(s.default.UPDATE_ACCESSIBILITY,({params:{pid:e},body:{public:t}})=>{b.default.toggleScene({bid:e,accessibility:t})}),i.default.bind(s.default.ADD_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{P.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(s.default.DELETE_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{P.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(s.default.DELETE_INTEGRATION,({params:{pid:e,intype:t,inid:n}})=>{b.default.removeIntegration({bid:e,intype:t,inid:n})}),i.default.bind(s.default.ADD_EXTENSION,({params:{uid:e,pid:t},body:{_id:n}})=>{D.default.load({barrelType:w.a.PROJECT,bid:t,uid:e,eid:n})}),i.default.bind(s.default.REMOVE_EXTENSION,({params:{pid:e,eid:t}})=>{D.default.remove({barrelType:w.a.PROJECT,bid:e,eid:t})}),i.default.bind(s.default.ACTIVATE,({params:{pid:e}})=>{b.default.activate({bid:e,barrelType:w.a.PROJECT})}),i.default.bind(s.default.ARCHIVE,({params:{pid:e,uid:t}})=>{b.default.archive({bid:e,barrelType:w.a.PROJECT,uid:t})}),i.default.bind(s.default.DELETE,({params:{pid:e,uid:t}})=>{b.default.remove({barrelType:w.a.PROJECT,bid:e,uid:t})}),i.default.bind(l.default.CREATE,({params:{pid:e,uid:t},body:n})=>{e&&b.default.updateUserData({bid:e,uid:t,userData:x(x({},n),{},{status:"registered"})})}),i.default.bind(s.default.INVITE_USER,({params:{pid:e,oid:t="user",oseid:n},body:i})=>{const o="role"in i,s=S.default.hasProject(e);if(o&&s)b.default.addMembers({barrelType:w.a.PROJECT,bid:e,members:[i]});else if(s)m.default.updateProject({pid:e,data:i});else{if("user"!==t){let e=k.default.getOrganization(t);!e&&i.organization&&(R.default.addOrganization(i.organization),e=k.default.getOrganization(t));const{sections:o=[]}=e;if(n&&!o.some(e=>e._id===n))return void N.getOrganizationSection(t,n).then(({section:e,index:o})=>{b.default.add({barrelType:w.a.PROJECT,oid:t,oseid:n,barrel:x(x({},i),{},{complete:!1})}),R.default.addProjectSection({oid:t,index:o,sectionData:e})})}b.default.add({barrelType:w.a.PROJECT,oid:t,oseid:n,barrel:x(x({},i),{},{complete:!1})})}}),i.default.bind(s.default.UPDATE_USER_ROLE,({params:{pid:e,mid:t},body:{role:n}})=>{b.default.updateUserRole({bid:e,uid:t,role:n})}),i.default.bind(l.default.UPDATE_USER,({params:{pid:e,uid:t},body:n})=>{e&&b.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(l.default.UPDATE_USERNAME,({params:{pid:e,uid:t},body:n})=>{e&&b.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(l.default.UPDATE_EMAIL,({params:{pid:e,uid:t},body:n})=>{e&&b.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(l.default.UPDATE_AVATAR,({params:{pid:e,uid:t},body:n})=>{e&&b.default.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(l.default.UPDATE_EMOTAR,({params:{pid:e,uid:t},body:{emotar:n}})=>{e&&b.default.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),i.default.bind(l.default.DELETE,({params:{pid:e,uid:t}})=>{e&&b.default.removeMember({bid:e,uid:t})}),i.default.bind(s.default.REMOVE_USER,({params:{pid:e,uid:t,mid:n}})=>{b.default.removeMember({bid:e,uid:t,mid:n})}),i.default.bind(s.default.ATTACH_JIRA_ISSUE,({params:{pid:e},body:t})=>{const n=new f.a(t.jira);b.default.attachJiraIssue({bid:e,jira:n})}),i.default.bind(s.default.REMOVE_JIRA_ISSUE_ATTACHMENT,({params:{pid:e,aid:t}})=>{b.default.removeJiraIssueAttachment({bid:e,aid:t})}),i.default.bind(s.default.CREATE_SECTION,e=>{let{params:{pid:t},body:{index:n}}=e,i=L(e.body,["index"]);y.default.addSection({pid:t,section:i,index:n})}),i.default.bind(s.default.UPDATE_SECTION,({params:{pid:e,seid:t},body:n})=>{y.default.updateSection({pid:e,seid:t,sectionData:n})}),i.default.bind(s.default.UPDATE_SECTIONS_ORDER,({params:{pid:e},body:{sections:t}})=>{t.forEach(({_id:t,to:n})=>{y.default.updateSectionOrder({pid:e,seid:t,index:n})})}),i.default.bind(s.default.UPDATE_SECTION_SCREENS,({params:{pid:e,seid:t},body:{index:n,screens:i}})=>{y.default.updateScreenOrder({pid:e,screens:i,targetSectionId:t,targetIndex:n})}),i.default.bind(s.default.DELETE_SECTION,({params:{pid:e,seid:t}})=>{y.default.removeSection({pid:e,seid:t})}),i.default.bind(c.default.CREATE_V3,({params:{pid:e,requestId:t,index:n,variantGroupIndex:i},body:o})=>{i>-1&&o.variantGroup&&(o.variantGroup.screens[0].index=i,o.variantGroup.screens[0].requestId=t),O.default.addScreen({pid:e,screen:x(x({},o),{},{requestId:t,index:n})})}),i.default.bind(c.default.UPDATE,({params:{pid:e,sid:t},body:{name:n,description:i}})=>{n&&O.default.updateName({pid:e,sid:t,name:n}),i&&O.default.updateDescription({pid:e,sid:t,description:i})}),i.default.bind(c.default.UPDATE_TAGS,({params:{pid:e},body:{screens:t}})=>{O.default.updateTags({pid:e,updates:t})}),i.default.bind(c.default.CREATE_VERSION,({params:{pid:e,sid:t},body:n})=>{O.default.addVersion({pid:e,sid:t,version:n})}),i.default.bind(c.default.UPDATE_VERSION_COMMIT_COLOR,({params:{pid:e,sid:t,vid:n},body:{color:i}})=>{O.default.updateCommitColor({pid:e,sid:t,vid:n,color:i})}),i.default.bind(c.default.UPDATE_VERSION_COMMIT_MESSAGE,({params:{pid:e,sid:t,vid:n},body:{message:i}})=>{O.default.updateCommitMessage({pid:e,sid:t,vid:n,message:i})}),i.default.bind(c.default.DELETE_VERSION,({params:{pid:e,sid:t,vid:n}})=>{O.default.removeVersion({pid:e,sid:t,vid:n})}),i.default.bind(c.default.DELETE,({params:{pid:e,uid:t,sid:n}})=>{const{variantGroups:i=[]}=S.default.getBarrel({bid:e}),o=i.find(({screens:e})=>e.some(({id:e})=>e===n))||{};O.default.removeScreen({pid:e,uid:t,sid:n,vgid:o._id})}),i.default.bind(u.a.PROCESS_VERSION_ASSET_CONTENTS,({params:{vid:e},body:{assets:t}})=>{T.a.updateVersionAssetOptimizedContents({vid:e,assets:t})}),i.default.bind(u.a.PROCESS_PROJECT_COMPONENT_VERSION_ASSET_CONTENTS,({params:{coid:e},body:{assets:t}})=>{T.a.updateComponentVersionAssetOptimizedContents({coid:e,assets:t})}),i.default.bind(p.default.CREATE,({params:{pid:e,sid:t,uid:n},body:i})=>{O.default.addDot({pid:e,sid:t,uid:n,dot:i})}),i.default.bind(p.default.CREATE_COMMENT,({params:{uid:e,pid:t,sid:n,did:i},body:o})=>{O.default.addComment({pid:t,sid:n,uid:e,did:i,comment:o})}),i.default.bind(p.default.UPDATE_COMMENT_NOTE,({params:{uid:e,pid:t,sid:n,did:i,cmid:o},body:{note:s,updated:r=new Date}})=>{O.default.updateComment({pid:t,sid:n,uid:e,did:i,cmid:o,commentData:{note:s,updated:r}})}),i.default.bind(p.default.UPDATE,({params:{pid:e,sid:t,did:n},body:i})=>{O.default.updateDot({pid:e,sid:t,did:n,dotData:i})}),i.default.bind(p.default.DELETE,({params:{pid:e,sid:t,did:n}})=>{O.default.removeDot({pid:e,sid:t,did:n})}),i.default.bind(p.default.DELETE_COMMENT,({params:{pid:e,sid:t,did:n,cmid:i}})=>{O.default.removeComment({pid:e,sid:t,did:n,cmid:i})}),i.default.bind(s.default.UPDATE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:t}})=>{m.default.updateProject({pid:e,data:{styleguideLink:t}})}),i.default.bind(s.default.REMOVE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:{styleguide:t}}})=>{g.default.unlinkProjectFromStyleguide({pid:e,styleguide:t})}),i.default.bind(s.default.CREATE_COLOR,({params:{pid:e},body:t})=>{b.default.addColor({bid:e,color:t})}),i.default.bind(s.default.UPDATE_COLOR,({params:{pid:e,cid:t},body:n})=>{b.default.updateColor({bid:e,cid:t,colorData:n})}),i.default.bind(s.default.UPDATE_COLORS_ORDER,({params:{pid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{b.default.updateColorOrder({bid:e,cid:t,to:n})})}),i.default.bind(s.default.DELETE_COLOR,({params:{pid:e,cid:t,unorderedBatch:n}})=>{n||b.default.removeColor({bid:e,cid:t})}),i.default.bind(s.default.UPDATE_COLORS_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{b.default.removeAllColors({bid:e}),S.default.hasStyleguide(t)&&N.getStyleguide(t).then(e=>{C.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(s.default.CREATE_TEXT_STYLE,({params:{pid:e},body:t})=>{b.default.addTextStyle({bid:e,textStyle:t})}),i.default.bind(s.default.UPDATE_TEXT_STYLE,({params:{pid:e,tsid:t},body:n})=>{b.default.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),i.default.bind(s.default.DELETE_TEXT_STYLE,({params:{pid:e,tsid:t,unorderedBatch:n}})=>{n||b.default.removeTextStyle({bid:e,tsid:t})}),i.default.bind(s.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{b.default.removeAllTextStyles({bid:e}),S.default.hasStyleguide(t)&&N.getStyleguide(t).then(e=>{C.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(s.default.CREATE_SPACING_SECTION,({params:{pid:e},body:t})=>{b.default.addSpacingSection({bid:e,spacingSection:t})}),i.default.bind(s.default.UPDATE_SPACING_SECTION,({params:{pid:e,ssid:t},body:n})=>{b.default.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),i.default.bind(s.default.DELETE_SPACING_SECTION,({params:{pid:e,ssid:t}})=>{b.default.removeSpacingSection({bid:e,ssid:t})}),i.default.bind(s.default.CREATE_SPACING_TOKEN,({params:{pid:e,ssid:t},body:n})=>{b.default.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),i.default.bind(s.default.UPDATE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n},body:i})=>{b.default.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),i.default.bind(s.default.DELETE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n}})=>{b.default.removeSpacingToken({bid:e,ssid:t,sptid:n})}),i.default.bind(s.default.UPDATE_REM_PREFERENCES,({params:{pid:e},body:{remPreferences:t}})=>{b.default.updateRemPreferences({bid:e,updatedRemPreferences:t})}),i.default.bind(s.default.CREATE_COMPONENT_SECTION,e=>{let{params:{pid:t,csid:n},body:{variantSections:i,components:o=[]}}=e,s=L(e.body,["variantSections","components"]);const r=o.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));b.default.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:x({components:r},s)}),i&&i.forEach(e=>{const{_id:n,name:i,variant:o,components:s}=e;v.default.setComponentVariantData({bid:t,csid:n,name:i,sectionVariant:o,components:s})})}),i.default.bind(s.default.UPDATE_COMPONENT_SECTION,({params:{pid:e,csid:t},body:n})=>{b.default.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),i.default.bind(s.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{pid:e},body:{componentSections:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,to:n})=>({csid:e.split("/"),tcsid:t?t.split("/"):[],to:n}));b.default.updateComponentSectionsOrder({bid:e,componentSections:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:s}=t;v.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})})}),i.default.bind(s.default.MERGE_COMPONENT_SECTIONS,({params:{pid:e},body:{componentSections:t}})=>{t.forEach(({csid:t,tcsid:n,flatten:i=!1})=>{b.default.mergeComponentSection({bid:e,csids:t.split("/"),tcsids:n.split("/"),flatten:i})})}),i.default.bind(s.default.DELETE_COMPONENT_SECTION,({params:{pid:e,csid:t,unorderedBatch:n}})=>{n||b.default.removeComponentSection({bid:e,csids:t.split("/")})}),i.default.bind(s.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{pid:e,tstid:t},body:{componentSections:n}})=>{b.default.removeComponentSections({bid:e,componentSections:n}),S.default.hasStyleguide(t)&&N.getStyleguide(t).then(e=>{C.default.getStyleguideSuccess({styleguide:e})})}),i.default.bind(s.default.CREATE_COMPONENT,({params:{pid:e,csid:t,requestId:n,index:i},body:o})=>{b.default.addComponent({bid:e,csids:t.split("/"),component:x(x({},o),{},{requestId:n,index:i})})}),i.default.bind(s.default.CREATE_COMPONENT_V2,({params:{pid:e,csid:t,requestId:n,index:i},body:o})=>{b.default.addComponent({bid:e,csids:t.split("/"),component:x(x({},o),{},{requestId:n,index:i})})}),i.default.bind(s.default.CREATE_COMPONENT_VERSION_V2,({params:{pid:e,csid:t,coid:n},body:i})=>{b.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(s.default.UPDATE_COMPONENT,({params:{pid:e,csid:t,coid:n},body:i})=>{b.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(s.default.UPDATE_COMPONENTS_ORDER,({params:{pid:e},body:{components:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));b.default.updateComponentsOrder({bid:e,components:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:s}=t;v.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})})}),i.default.bind(s.default.DELETE_COMPONENT,({params:{pid:e,csid:t,coid:n}})=>{b.default.removeComponent({bid:e,csids:t.split("/"),coid:n})}),i.default.bind(s.default.UPDATE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{N.getProjectConnectedComponents(e).then(({connectedComponents:t})=>{b.default.updateConnectedComponents({bid:e,connectedComponents:t})})}),i.default.bind(s.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,({params:{pid:e,csid:t},body:{name:n,variant:i,components:o}})=>{v.default.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})}),i.default.bind(s.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,({params:{pid:e,csid:t}})=>{v.default.removeComponentVariantData({bid:e,csid:t})}),i.default.bind(s.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t},body:n})=>{v.default.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})}),i.default.bind(s.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t,vpid:n},body:i})=>{v.default.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})}),i.default.bind(s.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{pid:e,csid:t,vpid:n}})=>{v.default.removeComponentVariantProperty({bid:e,csid:t,vpid:n})}),i.default.bind(s.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,({params:{pid:e,csid:t},body:{variant:n,components:i}})=>{v.default.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})}),i.default.bind(s.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,({params:{pid:e,csid:t},body:{properties:n}})=>{v.default.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})}),i.default.bind(s.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,({params:{pid:e,csid:t},body:{components:n,componentSections:i}})=>{v.default.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})}),i.default.bind(s.default.DELETE_WORKFLOW_STATUS,({params:{pid:e}})=>{b.default.deleteWorkflowStatus({bid:e})}),i.default.bind(s.default.UPDATE_WORKFLOW_STATUS,({params:{pid:e},body:t})=>{b.default.updateWorkflowStatus({bid:e,workflowStatus:t})}),i.default.bind(s.default.DELETE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{b.default.updateConnectedComponents({bid:e,connectedComponents:null})}),i.default.bind(a.a.UPDATE_VARIANT_GROUP_NAME,({params:{pid:e,vgid:t},body:{name:n}})=>{y.default.renameVariantGroup({pid:e,vgid:t,name:n})}),i.default.bind(a.a.DELETE_VARIANT_GROUP,({params:{pid:e,vgid:t,uid:n,screens:i}})=>{y.default.deleteVariantGroup({pid:e,vgid:t,screens:i,uid:n})}),i.default.bind(a.a.ADD_SCREENS_TO_VARIANT_GROUP,({params:{pid:e,vgid:t},body:{screens:n}})=>{y.default.addScreensToVariantGroup({pid:e,vgid:t,screens:n,shouldOrder:!0})}),i.default.bind(a.a.CREATE_VARIANT_GROUP,({params:{pid:e},body:{_id:t,name:n,screens:i}})=>{y.default.createVariantGroup({pid:e,vgid:t,variantGroupName:n,screens:i,shouldOrder:!0})}),i.default.bind(a.a.REMOVE_SCREEN_FROM_VARIANT_GROUP,({params:{pid:e,vgid:t,sid:n}})=>{O.default.removeScreenVariant({pid:e,vgid:t,svid:n})}),i.default.bind(a.a.UPDATE_SCREEN_VARIANT_NAME,({params:{pid:e,vgid:t,sid:n},body:{variantName:i}})=>{O.default.renameScreenVariant({pid:e,vgid:t,svid:n,name:i})}),i.default.bind(a.a.UPDATE_SCREEN_VARIANT_ORDER,({params:{pid:e,vgid:t},body:{index:n,screenIds:i}})=>{O.default.reorderScreenVariant({pid:e,vgid:t,svid:i[0],index:n})}))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateProject",ARCHIVE:"ArchiveProject",DELETE:"DeleteProject",INVITE_USER:"InviteProjectUser",ADD_INTEGRATION_EVENT:"AddProjectIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteProjectIntegrationEvent",DELETE_INTEGRATION:"DeleteProjectIntegration",ADD_EXTENSION:"AddProjectExtension",REMOVE_EXTENSION:"RemoveExtensionFromProject",REMOVE_USER:"RemoveUserFromProject",TRANSFER_OWNERSHIP:"TransferProjectOwnership",UPDATE_ACCESSIBILITY:"UpdateProjectAccessibility",UPDATE_DENSITY_SCALE:"UpdateProjectDensityScale",UPDATE_DESCRIPTION:"UpdateProjectDescription",UPDATE_EXTENSION:"UpdateProjectExtension",UPDATE_NAME:"UpdateProjectName",UPDATE_THUMBNAIL:"UpdateProjectThumbnail",UPDATE_UPDATED:"UpdateProjectUpdated",UPDATE_USER_ROLE:"UpdateProjectUserRole",ATTACH_JIRA_ISSUE:"AttachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"RemoveJiraIssueAttachment",CREATE_SECTION:"CreateSection",UPDATE_SECTION:"UpdateSection",UPDATE_SECTIONS_ORDER:"UpdateSectionsOrder",UPDATE_SECTION_SCREENS:"UpdateSectionScreens",DELETE_SECTION:"DeleteSection",UPDATE_STYLEGUIDE_LINK:"UpdateProjectStyleguidelink",REMOVE_STYLEGUIDE_LINK:"RemoveProjectStyleguideLink",CREATE_COLOR:"CreateProjectColor",UPDATE_COLOR:"UpdateProjectColor",UPDATE_COLORS_ORDER:"UpdateProjectColorsOrder",DELETE_COLOR:"DeleteProjectColor",UPDATE_COLORS_STYLEGUIDE:"UpdateProjectColorsStyleguide",CREATE_TEXT_STYLE:"CreateProjectTextStyle",UPDATE_TEXT_STYLE:"UpdateProjectTextStyle",DELETE_TEXT_STYLE:"DeleteProjectTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateProjectTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateProjectSpacingSection",UPDATE_SPACING_SECTION:"UpdateProjectSpacingSection",DELETE_SPACING_SECTION:"DeleteProjectSpacingSection",CREATE_SPACING_TOKEN:"CreateProjectSpacingToken",UPDATE_SPACING_TOKEN:"UpdateProjectSpacingToken",DELETE_SPACING_TOKEN:"DeleteProjectSpacingToken",UPDATE_REM_PREFERENCES:"UpdateProjectRemPreferences",CREATE_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_COMPONENT_SECTION:"UpdateProjectComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateProjectComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeProjectComponentSections",DELETE_COMPONENT_SECTION:"DeleteProjectComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateProjectComponentSectionsStyleguide",CREATE_COMPONENT:"CreateProjectComponent",CREATE_COMPONENT_V2:"CreateProjectComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",UPDATE_COMPONENT:"UpdateProjectComponent",UPDATE_COMPONENTS_ORDER:"UpdateProjectComponentsOrder",DELETE_COMPONENT:"DeleteProjectComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateProjectConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteProjectConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertProjectComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertProjectVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateProjectComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateProjectComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteProjectComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateProjectComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateProjectComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateProjectComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateProjectWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteProjectWorkflowStatus"}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.UPDATE_VARIANT_GROUP_NAME="UpdateVariantGroupName",e.DELETE_VARIANT_GROUP="DeleteVariantGroup",e.ADD_SCREENS_TO_VARIANT_GROUP="AddScreensToVariantGroup",e.CREATE_VARIANT_GROUP="CreateVariantGroup",e.REMOVE_SCREEN_FROM_VARIANT_GROUP="RemoveScreenFromVariantGroup",e.UPDATE_SCREEN_VARIANT_NAME="UpdateVariantGroupScreenVariantName",e.UPDATE_SCREEN_VARIANT_ORDER="UpdateVariantGroupScreensOrder"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),t.default={CREATE_V4:"CreateScreenV4",CREATE_V3:"CreateScreenV3",DELETE:"DeleteScreen",UPDATE:"UpdateScreen",UPDATE_TAGS:"UpdateScreensTags",CREATE_VERSION:"CreateScreenVersion",DELETE_VERSION:"DeleteScreenVersion",UPDATE_VERSION:"UpdateScreenLatestVersion",UPDATE_VERSION_COMMIT_COLOR:"UpdateScreenVersionCommitColor",UPDATE_VERSION_COMMIT_MESSAGE:"UpdateScreenVersionCommitMessage"}},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROCESS_VERSION_ASSET_CONTENTS="ProcessScreenVersionAssetContents",e.PROCESS_PROJECT_COMPONENT_VERSION_ASSET_CONTENTS="ProcessProjectComponentVersionAssetContents",e.PROCESS_STYLEGUIDE_COMPONENT_VERSION_ASSET_CONTENTS="ProcessStyleguideComponentVersionAssetContents"}(i||(i={})),t.default=i},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateDotV2",UPDATE:"UpdateDot",DELETE:"DeleteDot",CREATE_COMMENT:"CreateDotCommentV2",UPDATE_COMMENT_NOTE:"UpdateDotCommentNote",DELETE_COMMENT:"DeleteDotComment"}},function(e,t,n){"use strict";n.r(t);var i=n(2337),o=n(2334),s=n.n(o),r=n(2328),a=n(582),l=n.n(a),c=n(1385),d=n(574),u=n.n(d),p=n(2243),h=n(2242),f=n(696),g=n(681),m=n(705),b=n(1739),S=n.n(b),y=n(1506),v=n(1533),C=n.n(v),O=n(571);function E(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p.default&&(p.default.bind_global((e,{params:{stid:t}={}})=>{t&&(g.default.hasStyleguide(t)||Object(h.unsubscribeFromStyleguideChannel)(t))}),p.default.bind(i.default.ACTIVATE,({params:{stid:e}})=>{f.default.activate({bid:e,barrelType:u.a.STYLEGUIDE})}),p.default.bind(i.default.ARCHIVE,({params:{stid:e,uid:t}})=>{f.default.archive({bid:e,barrelType:u.a.STYLEGUIDE,uid:t})}),p.default.bind(i.default.DELETE,({params:{stid:e,uid:t}})=>{f.default.remove({barrelType:u.a.STYLEGUIDE,bid:e,uid:t})}),p.default.bind(i.default.TRANSFER_OWNERSHIP,({params:{oid:e,stid:t,mid:n,uid:i},body:o,body:{users:s}})=>{const r=g.default.findBarrelOrganizationId(t),a=!!r;if(n)return void c.default.transferOwnership({bid:t,fromUserId:i,targetId:n,users:s,oid:r});const{organizations:d,organizationStyleguides:p}=l.a.OrganizationStore.getState(),m=d.some(t=>t._id===e),b=e in p;if(e&&"_id"in o){if(!m)return void Object(h.unsubscribeFromOrganizationChannel)(e);if(!a){if(!b)return;return void f.default.add({barrelType:u.a.STYLEGUIDE,barrel:o,oid:e})}if(r===e)return;c.default.transferOwnership({bid:t,targetId:e,users:s,oid:r,toOrganization:!0})}else if(e){if(!s.some(e=>e.user._id===Zeplin.user._id))return void f.default.remove({barrelType:u.a.STYLEGUIDE,bid:t});c.default.transferOwnership({bid:t,targetId:e,users:s,oid:r,toOrganization:!0})}}),p.default.bind(r.default.CREATE,({params:{stid:e,uid:t},body:n})=>{e&&f.default.updateUserData({bid:e,uid:t,userData:_(_({},n),{},{status:"registered"})})}),p.default.bind(i.default.INVITE_USER,({params:{stid:e,oid:t},body:n})=>{const i="role"in n,o=g.default.hasStyleguide(e);i&&o?f.default.addMembers({barrelType:u.a.STYLEGUIDE,bid:e,members:[n]}):o?c.default.updateStyleguide({stid:e,data:n}):f.default.add({barrelType:u.a.STYLEGUIDE,oid:t,barrel:_(_({},n),{},{complete:!1})})}),p.default.bind(r.default.UPDATE_USER,({params:{stid:e,uid:t},body:n})=>{e&&f.default.updateUserData({bid:e,uid:t,userData:n})}),p.default.bind(r.default.UPDATE_USERNAME,({params:{stid:e,uid:t},body:n})=>{e&&f.default.updateUserData({bid:e,uid:t,userData:n})}),p.default.bind(r.default.UPDATE_EMAIL,({params:{stid:e,uid:t},body:n})=>{e&&f.default.updateUserData({bid:e,uid:t,userData:n})}),p.default.bind(r.default.UPDATE_AVATAR,({params:{stid:e,uid:t},body:n})=>{e&&f.default.updateUserData({bid:e,uid:t,userData:n})}),p.default.bind(r.default.UPDATE_EMOTAR,({params:{stid:e,uid:t},body:{emotar:n}})=>{e&&f.default.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),p.default.bind(r.default.DELETE,({params:{stid:e,uid:t}})=>{e&&f.default.removeMember({bid:e,uid:t})}),p.default.bind(i.default.REMOVE_USER,({params:{stid:e,uid:t,mid:n}})=>{f.default.removeMember({bid:e,uid:t,mid:n})}),p.default.bind(i.default.UPDATE_USER_ROLE,({params:{stid:e,mid:t},body:{role:n}})=>{f.default.updateUserRole({bid:e,uid:t,role:n})}),p.default.bind(i.default.UPDATE_NAME,({params:{stid:e},body:{name:t}})=>{c.default.updateStyleguide({stid:e,data:{name:t}})}),p.default.bind(i.default.UPDATE_DESCRIPTION,({params:{stid:e},body:{description:t}})=>{c.default.updateStyleguide({stid:e,data:{description:t}})}),p.default.bind(i.default.UPDATE_THUMBNAIL,({params:{stid:e},body:{thumbnail:t}})=>{f.default.updateThumbnail({bid:e,barrelType:"styleguide",thumbnail:t})}),p.default.bind(i.default.UPDATE_DENSITY_SCALE,({params:{stid:e},body:{densityScale:t}})=>{c.default.updateStyleguide({stid:e,data:{densityScale:t}})}),p.default.bind(i.default.ADD_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{C.a.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),p.default.bind(i.default.DELETE_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{C.a.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),p.default.bind(i.default.DELETE_INTEGRATION,({params:{stid:e,intype:t,inid:n}})=>{f.default.removeIntegration({bid:e,intype:t,inid:n})}),p.default.bind(i.default.ADD_EXTENSION,({params:{stid:e,uid:t},body:{_id:n}})=>{y.default.load({barrelType:u.a.STYLEGUIDE,bid:e,uid:t,eid:n})}),p.default.bind(i.default.REMOVE_EXTENSION,({params:{stid:e,eid:t}})=>{y.default.remove({barrelType:u.a.STYLEGUIDE,bid:e,eid:t})}),p.default.bind(i.default.UPDATE_PARENT,({params:{stid:e},body:t})=>{c.default.updateStyleguide({stid:e,data:t})}),p.default.bind(i.default.REMOVE_PARENT,({params:{stid:e}})=>{c.default.updateStyleguide({stid:e,data:{parent:null,ancestors:[]}})}),p.default.bind(i.default.CREATE_COLOR,({params:{unorderedBatch:e,stid:t},body:n})=>{e||f.default.addColor({bid:t,color:n})}),p.default.bind(i.default.UPDATE_COLOR,({params:{stid:e,cid:t},body:n})=>{f.default.updateColor({bid:e,cid:t,colorData:n})}),p.default.bind(i.default.UPDATE_COLORS_ORDER,({params:{stid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{f.default.updateColorOrder({bid:e,cid:t,to:n})})}),p.default.bind(i.default.DELETE_COLOR,({params:{unorderedBatch:e,stid:t,cid:n}})=>{e||f.default.removeColor({bid:t,cid:n})}),p.default.bind(i.default.UPDATE_COLORS_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{f.default.removeAllColors({bid:e}),g.default.hasStyleguide(t)&&O.getStyleguide(t).then(e=>{c.default.getStyleguideSuccess({styleguide:e})})}),p.default.bind(i.default.CREATE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t},body:n})=>{e||f.default.addTextStyle({bid:t,textStyle:n})}),p.default.bind(i.default.UPDATE_TEXT_STYLE,({params:{stid:e,tsid:t},body:n})=>{f.default.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),p.default.bind(i.default.DELETE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t,tsid:n}})=>{e||f.default.removeTextStyle({bid:t,tsid:n})}),p.default.bind(i.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{f.default.removeAllTextStyles({bid:e}),g.default.hasStyleguide(t)&&O.getStyleguide(t).then(e=>{c.default.getStyleguideSuccess({styleguide:e})})}),p.default.bind(i.default.CREATE_SPACING_SECTION,({params:{stid:e},body:t})=>{f.default.addSpacingSection({bid:e,spacingSection:t})}),p.default.bind(i.default.UPDATE_SPACING_SECTION,({params:{stid:e,ssid:t},body:n})=>{f.default.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),p.default.bind(i.default.DELETE_SPACING_SECTION,({params:{stid:e,ssid:t}})=>{f.default.removeSpacingSection({bid:e,ssid:t})}),p.default.bind(i.default.CREATE_SPACING_TOKEN,({params:{stid:e,ssid:t},body:n})=>{f.default.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),p.default.bind(i.default.UPDATE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n},body:i})=>{f.default.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),p.default.bind(i.default.DELETE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n}})=>{f.default.removeSpacingToken({bid:e,ssid:t,sptid:n})}),p.default.bind(i.default.UPDATE_REM_PREFERENCES,({params:{stid:e},body:{remPreferences:t}})=>{f.default.updateRemPreferences({bid:e,updatedRemPreferences:t})}),p.default.bind(i.default.CREATE_COMPONENT_SECTION,e=>{let{params:{unorderedBatch:t,stid:n,csid:i},body:{variantSections:o,components:s=[]}}=e,r=E(e.body,["variantSections","components"]);if(t)return;const a=s.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));f.default.addComponentSection({bid:n,csids:i?i.split("/"):[],componentSection:_({components:a},r)}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:s}=e;m.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:s})})}),p.default.bind(i.default.UPDATE_COMPONENT_SECTION,({params:{stid:e,csid:t},body:n})=>{f.default.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),p.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{stid:e},body:{componentSections:t,variantSections:n}})=>{f.default.updateComponentSectionsOrder({bid:e,componentSections:t.map(e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to}))}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:s}=t;m.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})})}),p.default.bind(i.default.MERGE_COMPONENT_SECTIONS,({params:{stid:e},body:t})=>{t.componentSections.forEach(t=>{f.default.mergeComponentSection({bid:e,csids:t.csid.split("/"),tcsids:t.tcsid.split("/"),flatten:t.flatten})})}),p.default.bind(i.default.DELETE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n}})=>{e||f.default.removeComponentSection({bid:t,csids:n.split("/")})}),p.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{stid:e,tstid:t},body:{componentSections:n}})=>{f.default.removeComponentSections({bid:e,componentSections:n}),g.default.hasStyleguide(t)&&O.getStyleguide(t).then(e=>{c.default.getStyleguideSuccess({styleguide:e})})}),p.default.bind(i.default.CREATE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,requestId:i,index:o},body:s})=>{e||f.default.addComponent({bid:t,csids:n.split("/"),component:_(_({},s),{},{requestId:i,index:o})})}),p.default.bind(i.default.CREATE_COMPONENT_V2,({params:{unorderedBatch:e,stid:t,csid:n,requestId:i,index:o},body:s})=>{e||f.default.addComponent({bid:t,csids:n.split("/"),component:_(_({},s),{},{requestId:i,index:o})})}),p.default.bind(i.default.CREATE_COMPONENT_VERSION_V2,({params:{stid:e,csid:t,coid:n},body:i})=>{f.default.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),p.default.bind(i.default.UPDATE_COMPONENT,({params:{stid:e,coid:t,csid:n},body:i})=>{f.default.updateComponent({bid:e,csids:n.split("/"),coid:t,componentData:i})}),p.default.bind(i.default.UPDATE_COMPONENTS_ORDER,({params:{stid:e},body:{components:t,variantSections:n}})=>{const i=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));f.default.updateComponentsOrder({bid:e,components:i}),n&&n.forEach(t=>{const{_id:n,name:i,variant:o,components:s}=t;m.default.setComponentVariantData({bid:e,csid:n,name:i,sectionVariant:o,components:s})})}),p.default.bind(i.default.DELETE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,coid:i}})=>{e||f.default.removeComponent({bid:t,csids:n.split("/"),coid:i})}),p.default.bind(i.default.UPDATE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{O.getStyleguideConnectedComponents(e).then(({connectedComponents:t})=>{f.default.updateConnectedComponents({bid:e,connectedComponents:t})})}),p.default.bind(i.default.CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION,({params:{stid:e,csid:t},body:{name:n,variant:i,components:o}})=>{m.default.setComponentVariantData({bid:e,csid:t,name:n,sectionVariant:i,components:o})}),p.default.bind(i.default.CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION,({params:{stid:e,csid:t}})=>{m.default.removeComponentVariantData({bid:e,csid:t})}),p.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t},body:n})=>{m.default.createComponentVariantProperty({bid:e,csid:t,componentVariantProperty:n})}),p.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t,vpid:n},body:i})=>{m.default.updateComponentVariantProperty({bid:e,csid:t,vpid:n,data:i})}),p.default.bind(i.default.DELETE_COMPONENT_SECTION_VARIANT_PROPERTY,({params:{stid:e,csid:t,vpid:n}})=>{m.default.removeComponentVariantProperty({bid:e,csid:t,vpid:n})}),p.default.bind(i.default.UPDATE_COMPONENTS_VARIANT_PROPERTIES,({params:{stid:e,csid:t},body:{variant:n,components:i}})=>{m.default.setComponentVariantData({bid:e,csid:t,name:name,sectionVariant:n,components:i})}),p.default.bind(i.default.UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER,({params:{stid:e,csid:t},body:{properties:n}})=>{m.default.updateComponentVariantPropertiesOrder({bid:e,csid:t,properties:n})}),p.default.bind(i.default.CREATE_COMPONENT_SECTION_VARIANT_GROUPS,({params:{stid:e,csid:t},body:{components:n,componentSections:i}})=>{m.default.groupComponentsByVariantProperty({bid:e,csid:t,components:n,componentSections:i})}),p.default.bind(i.default.DELETE_WORKFLOW_STATUS,({params:{stid:e}})=>{f.default.deleteWorkflowStatus({bid:e})}),p.default.bind(i.default.UPDATE_WORKFLOW_STATUS,({params:{stid:e},body:t})=>{f.default.updateWorkflowStatus({bid:e,body:t})}),p.default.bind(i.default.DELETE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{f.default.updateConnectedComponents({bid:e,connectedComponents:null})}),p.default.bind(s.a.PROCESS_STYLEGUIDE_COMPONENT_VERSION_ASSET_CONTENTS,({params:{coid:e},body:{assets:t}})=>{S.a.updateComponentVersionAssetOptimizedContents({coid:e,assets:t})}))},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_INTEGRATION_EVENT:"AddStyleguideIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteStyleguideIntegrationEvent",DELETE_INTEGRATION:"DeleteStyleguideIntegration",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_THUMBNAIL:"UpdateStyleguideThumbnail",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",UPDATE_PARENT:"UpdateStyleguideParent",REMOVE_PARENT:"RemoveStyleguideParent",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateStyleguideSpacingSection",UPDATE_SPACING_SECTION:"UpdateStyleguideSpacingSection",DELETE_SPACING_SECTION:"DeleteStyleguideSpacingSection",CREATE_SPACING_TOKEN:"CreateStyleguideSpacingToken",UPDATE_SPACING_TOKEN:"UpdateStyleguideSpacingToken",DELETE_SPACING_TOKEN:"DeleteStyleguideSpacingToken",UPDATE_REM_PREFERENCES:"UpdateStyleguideRemPreferences",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",CREATE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",DELETE_COMPONENT:"DeleteStyleguideComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateStyleguideConnectedComponents",DELETE_CONNECTED_COMPONENTS:"DeleteStyleguideConnectedComponents",CONVERT_COMPONENT_SECTION_TO_VARIANT_SECTION:"ConvertStyleguideComponentSectionToVariantSection",CONVERT_VARIANT_SECTION_TO_COMPONENT_SECTION:"ConvertStyleguideVariantSectionToComponentSection",CREATE_COMPONENT_SECTION_VARIANT_PROPERTY:"CreateStyleguideComponentSectionVariantProperty",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTY:"UpdateStyleguideComponentSectionVariantProperty",DELETE_COMPONENT_SECTION_VARIANT_PROPERTY:"DeleteStyleguideComponentSectionVariantProperty",UPDATE_COMPONENTS_VARIANT_PROPERTIES:"UpdateStyleguideComponentsVariantProperties",CREATE_COMPONENT_SECTION_VARIANT_GROUPS:"CreateStyleguideComponentSectionVariantGroups",UPDATE_COMPONENT_SECTION_VARIANT_PROPERTIES_ORDER:"UpdateStyleguideComponentSectionVariantPropertiesOrder",UPDATE_WORKFLOW_STATUS:"UpdateStyleguideWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteStyleguideWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerWorkspaceSocketBindings",(function(){return R}));var i=n(1392),o=n(2243),s=n(1500),r=n(2331),a=n(2337),l=n(2328),c=n(2329),d=n(2339),u=n(701),p=n.n(u),h=n(582),f=n.n(h),g=n(1014),m=n(682),b=n(622),S=n.n(b),y=n(623),v=n(696),C=n(574),O=n.n(C),E=n(555),T=n(571),_=n(2242);n(2330),n(2336);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default&&(o.default.bind_global((e,{params:{oid:t}={}})=>{t&&(m.default.getOrganization(t)||Object(_.unsubscribeFromOrganizationChannel)(t))}),o.default.bind(d.default.PAYMENT_FAIL,e=>{const{organizationProfiles:t}=f.a.OrganizationStore.getState(),n={isGeneric:!0};e.params.oid?n.currentRole=t[e.params.oid].role:e.params.uid===Zeplin.user._id?n.currentRole="owner":(n.currentRole="not_owner",n.ownerEmail=e.body.email),Object.assign(n,e.params),Object(i.showFailedPaymentBanner)(n)}),o.default.bind(c.default.CREATE_PROJECT,({params:{oid:e="user",oseid:t,index:n},body:i})=>{v.default.add({barrelType:O.a.PROJECT,barrel:D(D({},i),{},{complete:!1}),oid:e,oseid:t,index:n})}),o.default.bind(c.default.CREATE_STYLEGUIDE,({params:{oid:e="user",index:t},body:n})=>{v.default.add({barrelType:O.a.STYLEGUIDE,barrel:D(D({},n),{},{complete:!1}),oid:e,index:t})}),o.default.bind(c.default.UPDATE_MEMBER_ROLE,({params:{oid:e,mid:t},body:{role:n}})=>{t===Zeplin.user._id&&g.default.updateOrganizationProfile(e,{role:n});const{organizationProjects:{[e]:i}}=f.a.OrganizationStore.getState(),{organizationStyleguides:{[e]:o}}=f.a.OrganizationStore.getState();i&&i.forEach(e=>{v.default.updateUserRole({bid:e,uid:t,role:n})}),o&&o.forEach(e=>{v.default.updateUserRole({bid:e,uid:t,role:n})})}),o.default.bind(c.default.REMOVE_USER,e=>{const{selectedOrganizationId:t}=f.a.SpaceStore.getState(),n=e.params.oid;e.params.mid===Zeplin.user._id&&(Object(_.unsubscribeFromOrganizationChannel)(n),t===n&&(E.create({title:"Organization not available anymore",message:"It was either deleted or you were removed, please contact the admins."}),p.a.changeSelectedOrganization("user")),g.default.removeOrganization(n))}),o.default.bind(c.default.UPDATE_MEMBER_ACCESSIBILITY,({params:{oid:e,mid:t},body:{restricted:n}})=>{t===Zeplin.user._id&&(n?g.default.removeUnjoinedBarrels({oid:e,mid:t}):g.default.getBarrels(e))}),o.default.bind(c.default.DELETE,e=>{const t=e.params.oid;Object(_.unsubscribeFromOrganizationChannel)(t),g.default.removeOrganization(t),p.a.changeSelectedOrganization("user")}),o.default.bind(c.default.UPDATE_LOGO,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?g.default.updateOrganization(n,e.body):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.UPDATE_STATUS,({body:e,params:{oid:t}})=>{const{organizations:n}=f.a.OrganizationStore.getState();n.filter(e=>e._id===t)?g.default.updateOrganization(t,e):Object(_.unsubscribeFromOrganizationChannel)(t)}),o.default.bind(c.default.UPDATE_NAME,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?g.default.updateOrganization(n,e.body):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{uid:n,oid:i,pid:o}=e.params;t.filter(e=>e._id===i)?g.default.addBarrelToFocus({mid:n,oid:i,bid:o,barrelType:O.a.PROJECT}):Object(_.unsubscribeFromOrganizationChannel)(i)}),o.default.bind(c.default.REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{oid:n,pid:i}=e.params;t.filter(e=>e._id===n)?g.default.removeBarrelFromFocus({oid:n,bid:i}):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.UPDATE_MEMBER_TAGS,e=>{const{organizations:t}=f.a.OrganizationStore.getState(),{params:{oid:n},body:{members:i}}=e;t.filter(e=>e._id===n)?i.forEach(({_id:e,operation:t,tags:i})=>{g.default.updateMemberTags({oid:n,mid:e,operation:t,tags:i})}):Object(_.unsubscribeFromOrganizationChannel)(n)}),o.default.bind(c.default.ADD_WORKFLOW_STATUS,({params:{oid:e},body:t})=>{g.default.addOrganizationWorkflowStatus({oid:e,workflowStatusData:t})}),o.default.bind(c.default.UPDATE_WORKFLOW_STATUS,({params:{oid:e,wsid:t},body:n})=>{g.default.updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n})}),o.default.bind(c.default.DELETE_WORKFLOW_STATUS,({params:{oid:e,wsid:t}})=>{g.default.deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t})}),o.default.bind(c.default.ADD_SECTION,({params:{oid:e},body:{_id:t,index:n}})=>{const{sections:i}=m.default.getOrganization(e);i.some(e=>e._id===t)||T.getOrganizationSection(e,t).then(({section:t})=>{g.default.addProjectSection({oid:e,index:n,sectionData:t})}).catch(i=>{g.default.addProjectSectionId({oid:e,index:n,oseid:t})})}),o.default.bind(c.default.UPDATE_SECTION,({params:{oid:e,oseid:t},body:n})=>{const{sections:i}=m.default.getOrganization(e);i.some(e=>e._id===t)&&g.default.updateProjectSection({oid:e,oseid:t,sectionData:n})}),o.default.bind(c.default.DELETE_SECTION,({params:{oid:e,oseid:t}})=>{g.default.removeProjectSection({oid:e,oseid:t})}),o.default.bind(c.default.UPDATE_SECTION_ORDER,({params:{oid:e},body:{index:t,sections:n}})=>{g.default.updateProjectSectionOrder({oid:e,oseid:n[0],index:t})}),o.default.bind(c.default.UPDATE_SECTION_PROJECT,({params:{oid:e,oseid:t},body:{index:n,projects:i}})=>{const{sections:o}=m.default.getOrganization(e);o.some(e=>e._id===t)?g.default.updateProjectOrder({oid:e,oseid:t,index:n,projects:i}):T.getOrganizationSection(e,t).then(({section:t})=>{g.default.addProjectSection({oid:e,index:n,sectionData:t})})}),o.default.bind(c.default.ADD_SECTION_LINK,({params:{oid:e,oseid:t},body:n})=>{g.default.addSectionLink({oid:e,oseid:t,linkData:n})}),o.default.bind(c.default.UPDATE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n},body:i})=>{g.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:D({_id:n},i)})}),o.default.bind(c.default.DELETE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n}})=>{g.default.removeSectionLink({oid:e,oseid:t,oselid:n})}));const j={onProjectInviteUser(e){Object(s.handleInviteUserSocketForInvitePopup)(e.params.pid,e.body)},onInviteUser(e){Object(s.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromProject(e){Object(s.removeUser)(e.params.pid,e.params.mid)},onCreateUser(e){Object(s.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(s.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};const k={onStyleguideInviteUser(e){Object(s.handleInviteUserSocketForInvitePopup)(e.params.stid,e.body)},onInviteUser(e){Object(s.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromStyleguide(e){Object(s.removeUser)(e.params.stid,e.params.mid)},onCreateUser(e){Object(s.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(s.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};function R(){f.a.dispatcher.register(e=>{switch(e.type){case S.a.INVITE_USER:!function(e){const t=Object(_.subscribeToProjectChannel)(e);o.userChannel.bind(l.default.INVITE_USER,j.onInviteUser),t.bind(r.default.INVITE_USER,j.onProjectInviteUser),t.bind(r.default.REMOVE_USER,j.onRemoveUserFromProject),t.bind(l.default.CREATE,j.onCreateUser),t.bind(l.default.DELETE,j.onDeleteUser)}(e.pid);break;case y.default.INVITE_USER:!function(e){const t=Object(_.subscribeToStyleguideChannel)(e);o.userChannel.bind(l.default.INVITE_USER,k.onInviteUser),t.bind(a.default.INVITE_USER,k.onStyleguideInviteUser),t.bind(a.default.REMOVE_USER,k.onRemoveUserFromStyleguide),t.bind(l.default.CREATE,k.onCreateUser),t.bind(l.default.DELETE,k.onDeleteUser)}(e.stid)}})}},function(e,t,n){"use strict";n.r(t),t.default={PAYMENT_FAIL:"RequestPaymentFail"}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSSOTokenExpiration=void 0;const a=r(n(545)),l=r(n(760)),c=r(n(586)),d=r(n(582)),u=n(541),p=s(n(571)),h=n(556),f=n(575),g=s(n(555));function m(){if(u.isWindowsApp&&u.supports.newSSOFlow)return void location.assign(h.urlResolve("login-sso",{query:{email:Zeplin.user.email}}));if(u.isWindowsApp&&!u.supports.newSSOFlow)return void g.create({title:"Login with SSO isn't supported in this version anymore",message:"Please log out and update your application to login with SSO.",done:{name:"GOT IT"}});const e=encodeURIComponent(Zeplin.user.email);p.getSsoLoginParams(e).then(e=>{const{provider:{type:t},params:{type:n,url:i,message:o}}=e;a.default.set("redirect",location.href),"google"!==t?"redirect"===n?function(e,t){const n=new URL(e);n.search=h.joinUrlParams(t),window.location.assign(n.toString())}(i,o):"post"===n&&function(e,t){const n=document.createElement("form");n.method="POST",n.action=e,Object.keys(t).forEach(e=>{const i=document.createElement("input");i.type="hidden",i.name=e,i.value=t[e],n.appendChild(i)}),document.body.appendChild(n),n.submit()}(i,o):function(){const e={action:"login"};u.isWindowsApp&&(e.redirectPath=encodeURIComponent(location.pathname));const t=h.urlResolve("authGoogle",{query:e});location.assign(t)}()}).catch(e=>{f.handleError(e,{dialogCallback(){a.default.remove("userToken"),location.assign(h.urlResolve("login",{query:{email:Zeplin.user.email}}))}})})}Zeplin.onSSOTokenExpired=e=>l.default.ssoTokenExpired(e),t.registerSSOTokenExpiration=function(){d.default.dispatcher.register(e=>{e.type===c.default.LOGIN_SSO&&m()})}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSentryToDispatcherAndStores=void 0;const a=s(n(34)),l=r(n(582)),c=r(n(20));t.registerSentryToDispatcherAndStores=function(){l.default.dispatcher.register(e=>{a.addBreadcrumb({category:"dispatch.action",message:e.type,level:a.Severity.Debug})}),function(){const e=new c.default;e.setStores([l.default.AppStore,l.default.SpaceStore,l.default.BarrelStore,l.default.DashboardStore,l.default.ScreenStore,l.default.DotsStore,l.default.ComponentVariantStore,l.default.StyleguideStore,l.default.ActivitiesViewStore]),e.addListener(()=>{var e,t,n,i,o;const{page:s}=l.default.AppStore.getState(),r=l.default.SpaceStore.getState(),c=l.default.BarrelStore.getState(),d=l.default.DashboardStore.getState(),u=l.default.ScreenStore.getState(),p=l.default.DotsStore.getState(),h=l.default.ComponentVariantStore.getState(),f=l.default.StyleguideStore.getState(),g=l.default.ActivitiesViewStore.getState();a.setContext("stores",{app:{page:s},space:JSON.stringify(r,null,2),barrel:JSON.stringify(c,null,2),dashboard:JSON.stringify(d,null,2),screen:JSON.stringify(Object.assign(Object.assign({},u),{selectedLayer:null===(e=u.selectedLayer)||void 0===e?void 0:e._id,destinationLayer:null===(t=u.destinationLayer)||void 0===t?void 0:t._id}),null,2),dots:JSON.stringify(p,null,2),componentVariant:JSON.stringify(Object.assign(Object.assign({},h),{selectedLayer:null===(n=h.selectedLayer)||void 0===n?void 0:n._id,destinationLayer:null===(i=h.destinationLayer)||void 0===i?void 0:i._id}),null,2),styleguide:JSON.stringify(Object.assign(Object.assign({},f),{selection:null===(o=f.selection)||void 0===o?void 0:o._id}),null,2),activities:JSON.stringify(g,null,2)})})}()}},function(e,t,n){"use strict";n.r(t);var i=n(1392),o=n(555),s=n(559),r=n(575),a=n(541),l=n(632),c=n(574),d=n.n(c),u=n(547),p=n(684),h=n.n(p),f=n(1200),g=n(1506),m=n(1014),b=n(682),S=n(702),y=n(582),v=n.n(y),C=n(687),O=n(760),E=n(696),T=n(681),_=n(705),P=n(1533),D=n.n(P),I=n(2313),j=n.n(I),k=n(1701),R=n.n(k),A=n(1734),w=n.n(A),N=n(2324),L=n(571),M=n(1122),x=n(560),U=n(703),B=n(1199),V=n(570),z=n(556),F=n(1326),W=n(543),G=n(709),H=n(2242);function $(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=document.getElementById("androidResFolderReminderDialog");function J(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;E.default.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}function X(e,t,n){if(document.body.dataset.projectType=e.type,t){const e=t._id;"frozen"===t.status?i.showOrganizationFrozenBanner({oid:e,currentRole:n}):"past_due"===t.subscriptionStatus?i.showFailedPaymentBanner({oid:e,currentRole:n}):"will_cancel_at_period_end"===t.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:e,currentRole:n,subscriptionCancelAt:t.subscriptionCancelAt})}else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:n,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:n,subscriptionCancelAt:t.user.subscriptionCancelAt})}var o;e.integration.slacks.length>0&&(o=e.id,L.getProjectSlackIntegrationEmojis(o).catch(()=>{}).then(e=>{e&&"emoji"in e&&M.default.addCustomEmojis(e.emoji)})).then(ce)}function Q(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>{return n=e,i=t,b.default.getOrganizationProfile(n)||L.getOrganizationMemberProfile(n,i);var n,i});return Promise.all(n).then(t=>Object.fromEntries(Object(F.default)(e,t))).catch(r.handleError)}function ee(e,t){if(!t)return Promise.resolve([]);const{status:n,styleguide:i}=t;return"active"!==n?Promise.resolve([]):Promise.all([i._id,...i.ancestors].map(t=>function(e,{projectId:t}){const n=T.default.getBarrel({bid:e});return n&&n.complete?n:L.getStyleguide(e,{projectId:t})}(t,{projectId:e})))}function te(e,{projectId:t}){const n=T.default.getBarrel({bid:e});return n&&n.connectedComponents?{connectedComponents:n.connectedComponents}:L.getStyleguideConnectedComponents(e,{projectId:t})}function ne(e,{projectId:t}){const n=T.default.getBarrel({bid:e});return n&&n.localConnectedComponents?{localConnectedComponents:n.localConnectedComponents}:L.getStyleguideLocalConnectedComponents(e,{projectId:t})}function ie(e,t,{local:n=!1}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const s=n?ne:te;return Promise.all([o._id,...o.ancestors].map(t=>s(t,{projectId:e})))}function oe(e,t){const n=function(e){const t=T.default.getBarrel({bid:e});return t&&t.connectedComponents?{connectedComponents:t.connectedComponents}:L.getProjectConnectedComponents(e)}(e),i=ie(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?L.getProjectLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?ie(e,t,{local:!0}):Promise.resolve([])]}function se(e){return e.map(e=>Z(Z({},e),{},{complete:!1}))}function re(e){let t=null,n=[],i=[];return e.did?(1===e.did.length?(t=e.did[0],e.cmid&&(i=e.cmid)):e.did.length>1&&(n=e.did),{dotId:t,highlightedDots:n,highlightedComments:i}):{}}async function ae(e,t,n,i){const{pid:o}=e;let s;if(t.complete)s=t;else{const e=await L.getProjectComponentSections(o);s=Z(Z({},t),e)}const[r,{connectedComponents:c},p,{localConnectedComponents:h},S]=await Promise.all([ee(o,t.styleguideLink),...oe(o,t.styleguideLink)]),y=new l.default(Z(Z({},s),{},{connectedComponents:c,localConnectedComponents:h,complete:!0})),{userId:C}=v.a.UserStore.getState(),{role:O}=y.findUser(C);X(y,n,O),p.forEach((e,t)=>{r[t].connectedComponents=e.connectedComponents}),S.forEach((e,t)=>{r[t].localConnectedComponents=e.localConnectedComponents});const T=n?n._id:"user",_=Q(i.map(e=>e._id),C),P=(I=T,b.default.getOrganizationProjects(I)||L.getProjects("user"===I?null:I).then(se));var I;const k=function(e){return b.default.getOrganizationStyleguides(e)||L.getStyleguides("user"===e?null:e).then(se)}(T);r.forEach(e=>Object(H.subscribeToStyleguideChannel)(e._id));const[R,{noVectorAssetInfoHidden:A,densityMismatchWarningHidden:w,sourceFileInfoHidden:N,componentVariantsOnboardingDialogSeen:M,componentVariantsOnboardingHintboxSeen:x,componentVariantViewSeen:U,numberOfLayerComponentViews:V,connectedComponentsOnboardingDialogSeen:z,numberOfHighlightedConnectToCodeButtonViews:F,flowLinkInfoDismissed:W,versionsTutorialSeen:G,screenVariantsOnboardingSeen:$},q,K,Y]=await Promise.all([u.barrelPrefs.getAll(y.id),u.userPrefs.getAll(),_,P,k]),{assetDensityScalePrefs:te,assetNamingConvention:ne,collapsedSections:ie,dashboardSidebarWidth:ae,extensions:le,fixedThumbnailSize:ce,lastNoteColorUsed:de,layoutGridEnabled:pe,noteVisibility:he,noteStatusFilter:fe,noteColorFilter:ge,noResourceInfoDismissed:me,screenSidebarWidth:be,showOptimizedSVG:Se,showOptimizedPNG:ye,showOptimizedJPG:ve,slackReconnectionAuntieSeen:Ce,styleguideLeftSidebarWidth:Oe,styleguideRightSidebarWidth:Ee,versionsSidebarWidth:Te,zoomLevel:_e,connectedComponentsLocalWorkspace:Pe}=R,De={};for(const a of y.screens)R[a._id]&&(De[a._id]=R[a._id].versionsLastSeen);return E.default.load({barrel:{barrelType:"project",barrelId:o,organizationId:T,assetDensityScalePrefs:Object(B.initAssetDensityScalePrefsIfNecessary)(y.type,te),assetNamingConvention:"android"===y.type?"snakeCase":ne,showOptimizedSVG:Se,showOptimizedPNG:ye,showOptimizedJPG:ve,noResourceInfoDismissed:me,noVectorAssetInfoHidden:A,densityMismatchWarningHidden:w,sourceFileInfoHidden:N,flowLinkInfoDismissed:W,showSlackReconnectionAuntie:!Ce,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:Pe,screenVersionsLastSeen:De,connectedComponentsOnboardingDialogSeen:z,numberOfHighlightedConnectToCodeButtonViews:F},styleguide:{selectedStyleguideSection:"colors",collapsedSections:ie,leftSidebarWidth:Oe,rightSidebarWidth:Ee,componentVariantsOnboardingDialogSeen:M},dashboard:{collapsedSections:ie,fixedThumbnailSize:ce,sidebarWidth:ae,screenVariantsOnboardingSeen:$},screen:{layoutGridEnabled:pe,zoomLevel:_e,notesVisible:he,screenSidebarWidth:be,showVersionsTutorial:!G,versionsSidebarWidth:Te,componentVariantsOnboardingHintboxSeen:x,componentVariantViewSeen:U,numberOfLayerComponentViews:V},dots:Z(Z({},re(e)),{},{statusFilter:fe,colorFilter:ge,lastNoteColorUsed:de}),data:{project:y,organization:n,organizations:i,organizationProfiles:q,organizationProjects:K,organizationStyleguides:Y,linkedStyleguides:r}}),requestIdleCallback(async()=>{if(!n||n.members)return;const e=q[T].restricted?{_id:T,members:[]}:await function(e){const t=b.default.getOrganization(e);return t&&t.members?t:L.getOrganizationMembers(e)}(T);m.default.getOrganizationMembersSuccess(e)}),requestIdleCallback(async()=>{if(!n||n.sections)return;const e=await L.getOrganizationSections(T);m.default.getOrganizationSectionsSuccess(e,T)}),g.default.init({enabledExtensions:le}),D.a.init(),j.a.getTeamsIntegration(d.a.PROJECT,o),a.isWindowsApp&&(E.default.getConnectedComponentsEditorInfo(),f.queryAssetDownloadTarget(y.id,y.type,J)),ue(y),y}async function le(e,{reload:t=!1}={}){const{pid:n}=e;try{const t=function(){const{organizations:e}=v.a.OrganizationStore.getState();return e.length?Promise.resolve(e):L.getOrganizations()}(),i=await function(e){const t=T.default.getBarrel({bid:e});return t&&t.complete?Promise.resolve(t):L.getProject(e)}(n),o=function(e){if(!s.isOrganizationProject(e))return Promise.resolve(null);const t=T.default.findBarrelOrganizationId(e._id);let n=b.default.getOrganization(t);return n||(n=Object(N.fetchEmbeddedData)("organization")),n?Promise.resolve(n):L.getProjectOrganization(e._id).catch(()=>null)}(i),[r,a]=await Promise.all([o,t]),{barrelId:c}=v.a.BarrelStore.getState();return c&&c!==n&&Object(H.unsubscribeFromProjectChannel)(n),i.partial?function(e,t,n,i){const o=new l.default(Z(Z({},t),{},{complete:!1})),s=n?n._id:"user";return E.default.load({barrel:{barrelType:"project",barrelId:o.id,organizationId:s},data:{project:o,organization:n,organizations:i}}),ue(o),o}(0,i,r,a):ae(e,i,r,a)}catch(i){if(t)throw i;!function(e){r.handleError(e,{clientErrorHandler(){o.create({title:e.title,message:e.message}),T.default.navigateToWorkspace()}})}(i)}}function ce(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=s.escapeHTML(e.innerText.trim()),n=M.default.formatEmojiString(t);e.outerHTML=n})}function de(...e){const{body:{integration:t}}=e[e.length-1],n=T.default.getBarrel(),i=t.slacks.filter(e=>!n.integration.slacks.find(t=>t._id===e._id));i.length&&(i.forEach(e=>{E.default.addIntegration({intype:"slacks",integration:e})}),function(){const e=v.a.BarrelStore.findUser();s.permissions.canUpdateProject(e)&&D.a.init()}())}function ue(e){const t=Object(H.subscribeToProjectChannel)(e._id),n=T.default.findBarrelOrganizationId(e._id);n&&"user"!==n&&Object(H.subscribeToOrganizationChannel)(n),t.bind("UpdateUserSubscription",({params:{uid:t},body:{plan:n,subscriptionStatus:o}})=>{const s=e.findUser(t);if(!s)return;const r=s.user.paymentPlan;s.user.paymentPlan=n;const a=s.user.subscriptionStatus;if(s.user.subscriptionStatus=o,"owner"===s.role){"will_cancel_at_period_end"===a&&(i.hideCancelledSubscriptionBanner(),s.user.subscriptionCancelAt=null);const{config:{plans:t}}=v.a.AppStore.getState(),{versionLimit:o}=t.find(e=>e.id===r),{versionLimit:l}=t.find(e=>e.id===n),c=C.default.getScreen();if(o>l){if(e.screens.forEach(e=>{e.allowedVersionCount=l,e.versions.length>l&&(e.versions.length=l)}),c){C.default.getVersion()||(S.default.setVersionId(c.versions[0]._id),Object(V.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"}))}}else o<l&&(e.screens.forEach(e=>{e.allowedVersionCount=l,e.totalVersionCount&&e.totalVersionCount>o&&delete e.totalVersionCount}),c&&(!c.totalVersionCount||c.totalVersionCount>o)&&S.default.getVersions())}}),t.bind("CancelUserSubscription",({params:{uid:e},body:{plan:t,subscriptionStatus:n,subscriptionCancelAt:o}})=>{const s=T.default.findUser();s&&(E.default.updateUserData({uid:e,userData:{paymentPlan:t,subscriptionStatus:n,subscriptionCancelAt:o}}),"owner"===s.role&&"will_cancel_at_period_end"===n&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:s.role,subscriptionCancelAt:o}))}),t.bind("AuthProjectSlack",de),t.bind("TransferProjectOwnership",({params:{pid:e,oid:t="user"},body:{users:n}})=>{n.forEach(({user:{_id:t},role:n})=>{E.default.updateUserRole({bid:e,uid:t,role:n})}),E.default.setOrganizationId({oid:t})}),t.bind("RequestPaymentFail",e=>{const t=T.default.findUser(),n={currentRole:t.role};Object.assign(n,e.params),e.params.oid||"owner"===t.role||(n.ownerEmail=e.body.email),i.showFailedPaymentBanner(n)})}function pe(e,t){const{pid:n}=e;if(!n||!s.validateId(n,"project"))return o.create({title:"Invalid project link",message:"There might be a typo, please try again."}),T.default.navigateToWorkspace(),Promise.reject();const i=T.default.getBarrel();return!i||i.id!==n||i.partial?(E.default.reset(),le(e,t)):Promise.resolve(i)}function he(e){const{query:{coid:[t]=[]},ev:n}=e;if(!n.target.closest(".dotPopup"))return!1;const i=T.default.getStyleguidesData({barrelStore:v.a.BarrelStore,styleguidesDataStore:v.a.StyleguidesDataStore}),{component:o}=Object(U.findComponentById)(i,t)||{};return!!o.variant&&(R.a.open(t,w.a.NOTE),!0)}o.polyfill.registerDialog(Y),h.a.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,(function(e){Object(G.sendGAPageView)({title:"Screen - Zeplin"});const{match:[t,n,i],query:r,query:{did:[a]=[],cmid:l=[]},reload:c}=e,d=Object.assign({pid:t,sid:n,vid:i},r);return O.default.setPage("barrel"),pe(d,{reload:c}).then(e=>{if(!e||e.partial)return;const{screenId:r,versionId:c}=v.a.ScreenStore.getState(),{dotId:d}=v.a.DotsStore.getState();s.validateId(n,"screen")?r&&r===n?r&&r===n&&(c!==i&&S.default.setVersionId(i),a&&d!==a&&S.default.selectDot({dotId:a,commentId:l})):S.default.openScreen(n,i,a,l):(o.create({title:"Invalid screen link",message:"There might be a typo, please try again."}),E.default.goToDashboard()),a&&history.replaceState(null,null,Object(z.urlResolve)("project-screen",{url:{pid:t,sid:n,vid:i}}))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,(function(e){Object(G.sendGAPageView)({title:"Color Palette - Styleguide - Zeplin"});const{match:[t],query:n,query:{cid:i=[],seid:[o]=[]}={},reload:s}=e,r=Object.assign({pid:t},n);return O.default.setPage("barrel"),pe(r,{reload:s}).then(e=>{e&&!e.partial&&(E.default.changeSelectedView(W.ProjectViewTypes.STYLEGUIDE),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:o}),_.default.highlightColors(i))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,(function(e){Object(G.sendGAPageView)({title:"Text Style Catalog - Styleguide - Zeplin"});const{match:[t],query:n,query:{tsid:i=[],seid:[o]=[]}={},reload:s}=e,r=Object.assign({pid:t},n);return O.default.setPage("barrel"),pe(r,{reload:s}).then(e=>{e&&!e.partial&&(E.default.changeSelectedView(W.ProjectViewTypes.STYLEGUIDE),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:o}),_.default.highlightTextStyles(i))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/spacing/i,(function(e){Object(G.sendGAPageView)({title:"Spacing and Layout - Styleguide - Zeplin"});const{match:[t],query:n,query:{sptid:i=[],seid:[o]=[]}={},reload:s}=e,r=Object.assign({pid:t},n);return O.default.setPage("barrel"),pe(r,{reload:s}).then(e=>{e&&!e.partial&&(E.default.changeSelectedView(W.ProjectViewTypes.STYLEGUIDE),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"spacing",selectedNavigatorId:o}),_.default.highlightSpacingTokens(i))})})),h.a.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,(function(e){Object(G.sendGAPageView)({title:"Components - Styleguide - Zeplin"});const{match:[t],query:n,query:{coid:[i]=[],cseid:[o]=[],seid:[s]=[o]}={},reload:r}=e,a=Object.assign({pid:t},n);return O.default.setPage("barrel"),pe(a,{reload:r}).then(e=>{if(!e||e.partial)return;E.default.changeSelectedView(W.ProjectViewTypes.STYLEGUIDE);const t=T.default.getStyleguidesData({barrelStore:v.a.BarrelStore,styleguidesDataStore:v.a.StyleguidesDataStore}),{component:n}=i&&Object(U.findComponentById)(t,i)||{},{collapsedSections:o}=v.a.StyleguideStore.getState(),r=function({styleguidesData:e,selectedNavigatorId:t,collapsedSections:n}){if(!t)return n;const i=n,o=Object(U.getComponentSectionById)(e,t);if(o){const{idPath:e}=o;e.forEach(e=>{i[e]=!1})}return i}({styleguidesData:t,selectedNavigatorId:s,collapsedSections:o});n&&n.idPath.slice(0,-1).forEach(e=>{r[e]=!1}),_.default.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:s}),_.default.changeSelection({selectionComponentId:i,selection:n,collapsedSections:r,updateCollapsedSections:s||n})})})),h.a.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?$/i,(function(e){const{match:[t,n=W.ProjectViewTypes.DASHBOARD],query:i,reload:o}=e;Object(G.sendGAPageView)({title:Object(x.uppercaseFirst)(n)+" - Zeplin"});const s=Object.assign({pid:t,subpage:n},i);return O.default.setPage("barrel"),async function(e,t){const n=await pe(e,t);if(!n||n.partial)return;const{subpage:i}=e,o=$(e,["subpage"]),s=["sid","seid","eid"],r=["cid","tsid"],a=Object.keys(o);let l;if(a.some(e=>s.includes(e))||i===W.ProjectViewTypes.DASHBOARD?l=W.ProjectViewTypes.DASHBOARD:a.some(e=>r.includes(e)||i===W.ProjectViewTypes.STYLEGUIDE)&&(l=W.ProjectViewTypes.STYLEGUIDE),!l)return;let c={};if("sid"in o){const e=n.sections.filter(e=>"default"!==e.name&&e.screens.some(e=>o.sid.includes(e))).map(e=>e._id);c={sids:o.sid,sectionsToExpand:e}}else"seid"in o?c={seid:o.seid[0],sectionsToExpand:[o.seid[0]]}:"eid"in o&&g.default.load({bid:n.id,eid:o.eid[0],uid:v.a.UserStore.getState().userId});i===W.ProjectViewTypes.DASHBOARD&&(c=Z(Z({},c),{},{tags:o.tag,jiraIssues:o.ja,untagged:o.untagged&&"true"===o.untagged[0],filterValue:o.q&&o.q[0]||""})),E.default.changeSelectedView(l,c)}(s,{reload:o})})),h.a.addPrevention(/\/project\/([\da-f]{24})\/styleguide\/components/i,he),h.a.addPrevention(/\/(styleguide)\/([\da-f]{24})\/components/i,he)},function(e,t,n){"use strict";n.r(t);var i=n(1392),o=n(555),s=n(559),r=n(575),a=n(547),l=n(541),c=n(632),d=n(574),u=n.n(d),p=n(684),h=n.n(p),f=n(1200),g=n(1506),m=n(1014),b=n(682),S=n(582),y=n.n(S),v=n(571),C=n(696),O=n(681),E=n(760),T=n(705),_=n(1533),P=n.n(_),D=n(2313),I=n.n(D),j=n(2324),k=n(2242),R=n(1199),A=n(703),w=n(1326);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=document.getElementById("androidResFolderReminderDialog");function U(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:o}=e;C.default.setAssetExportTarget({name:t,type:n,path:i,pathParts:o})}o.polyfill.registerDialog(x);const B={getOrganizations(){const{organizations:e}=y.a.OrganizationStore.getState();return e.length?Promise.resolve(e):v.getOrganizations()},getOrganization(e,t){if(!s.isOrganizationProject(e))return Promise.resolve(null);const n=O.default.findBarrelOrganizationId(e._id);let i=b.default.getOrganization(n);return i||(i=Object(j.fetchEmbeddedData)("organization")),i?Promise.resolve(i):v[t].getOrganization(e._id)},getOrganizationMembers(e){const t=b.default.getOrganization(e);return t&&t.members?t:v.getOrganizationMembers(e)},getOrganizationMemberProfile(e,t){const n=b.default.getOrganizationProfile(e);return n||v.getOrganizationMemberProfile(e,t)},getOrganizationProfiles(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>B.getOrganizationMemberProfile(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(w.default)(e,t))).catch(r.handleError)},getStyleguide(e,{styleguideId:t}){const n=O.default.getBarrel({bid:e});return n&&n.complete?n:v.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))},getAncestorsConnectedComponents:(e,t)=>Promise.all(t.map(t=>v.getStyleguideConnectedComponents(t,{styleguideId:e}))),getAncestorsLocalConnectedComponents:e=>Promise.all(e.map(e=>v.getStyleguideLocalConnectedComponents(e))),getStyleguideConnectedComponents(e,t){const n=v.getStyleguideConnectedComponents(e),i=this.getAncestorsConnectedComponents(e,t),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?v.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getAncestorsLocalConnectedComponents(t):Promise.resolve([])]},getLinkedStyleguidesConnectedComponents(e,t,{local:n}){if(!t)return Promise.resolve([]);const{status:i,styleguide:o}=t;if("active"!==i)return Promise.resolve([]);const s=n?v.getStyleguideLocalConnectedComponents:v.getStyleguideConnectedComponents;return Promise.all([o._id,...o.ancestors].map(t=>s(t,{projectId:e})))},getProjectConnectedComponents(e,t){const n=v.getProjectConnectedComponents(e),i=this.getLinkedStyleguidesConnectedComponents(e,t,{local:!1}),o="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,o?v.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),o?this.getLinkedStyleguidesConnectedComponents(e,t,{local:!0}):Promise.resolve([])]},markAsIncomplete:e=>e.map(e=>L(L({},e),{},{complete:!1})),getProjects(e,t,n){if(t===u.a.STYLEGUIDE){const t=b.default.getOrganizationProjects(e);return t||v.getProjects("user"===e?null:e).then(this.markAsIncomplete).catch(r.handleError)}return Promise.resolve()},getStyleguides(e,t,n){if(t===u.a.STYLEGUIDE){const t=b.default.getOrganizationStyleguides(e);return t||v.getStyleguides("user"===e?null:e).then(this.markAsIncomplete).catch(r.handleError)}return Promise.resolve()},getBarrel(e,t){const n=O.default.getBarrel({bid:e});return n&&n.complete?Promise.resolve(n):v[t].get(e)},getBarrelExtras(e,t){if(e.partial)return Promise.resolve({});const n=e._id,i=t===u.a.PROJECT?v.getProjectComponentSections(n):Promise.resolve({}),o=t===u.a.STYLEGUIDE?v.getStyleguideProjects(n):Promise.resolve({});return Promise.all([o,i]).then(([e,...t])=>Object.assign({linkedProjects:e.projects},...t))}},V={async collectData(e,t){try{const n=await B.getBarrel(e,t),{userId:i}=y.a.UserStore.getState(),o=n.users.find(({user:e})=>e._id===i),[s,r]=await Promise.all([B.getOrganization(n,t),B.getOrganizations()]);if(n.partial||!o){return{organization:s,organizations:r,organizationId:s?s._id:"user",ancestors:[],barrel:n}}const a=await B.getBarrelExtras(n,t),{role:l}=o,d=new c.default(L(L({},n),a)),u=s?s._id:"user",[p,h,f,g,{connectedComponents:m},b,{localConnectedComponents:S},v]=await Promise.all([B.getAncestors(e,d.ancestors),B.getOrganizationProfiles(r.map(e=>e._id),i),B.getProjects(u,t,l),B.getStyleguides(u,t,l),...B.getStyleguideConnectedComponents(e,d.ancestors)]);return d.connectedComponents=m,d.localConnectedComponents=S,b.forEach((e,t)=>{p[t].connectedComponents=e.connectedComponents}),v.forEach((e,t)=>{p[t].localConnectedComponents=e.localConnectedComponents}),{barrel:d,role:l,ancestors:p.map(e=>new c.default(L({},e))),organizationId:u,organization:s,organizations:r,organizationProfiles:h,organizationProjects:f,organizationStyleguides:g}}catch(n){!function(e){r.handleError(e,{clientErrorHandler:()=>{o.create({title:e.title,message:e.message}),O.default.navigateToWorkspace()}})}(n)}}};function z({styleguidesData:e,selectedStyleguideSection:t,selectedNavigatorId:n,collapsedSections:i}){if("components"!==t||!n)return i;const o=i,s=Object(A.getComponentSectionById)(e,n);if(s){const{idPath:e}=s;e.forEach(e=>{o[e]=!1})}return o}h.a.route(/\/(styleguide)\/([\da-f]{24})(?:\/(about|colors|textstyles|spacing|components))?/i,(function(e){const[t,n,o]=e.match;E.default.setPage("barrel");const s=function(e,t){return t?"textstyles"===t?"textStyles":t:e===u.a.PROJECT?"colors":"about"}(t,o),{cid:r=[],tsid:c=[],sptid:d=[],coid:[p]=[],cseid:[h]=[],seid:[b]=[h]}=e.query,{barrelId:S,barrelType:v}=y.a.BarrelStore.getState(),_=O.default.getStyleguidesData({barrelStore:y.a.BarrelStore,styleguidesDataStore:y.a.StyleguidesDataStore}),{component:D}=p&&Object(A.findComponentById)(_,p)||{},j=O.default.getBarrel();if(n===S&&!j.partial){const{collapsedSections:e}=y.a.StyleguideStore.getState(),t=z({styleguidesData:_,selectedStyleguideSection:s,selectedNavigatorId:b,collapsedSections:e});return void T.default.updateState({selectedStyleguideSection:s,highlightedColors:r,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:p,selection:D,selectedNavigatorId:b,collapsedSections:t,scrolledSection:b,highlightScrolledSection:!!b})}S&&(v===u.a.PROJECT?Object(k.unsubscribeFromProjectChannel)(S):v===u.a.STYLEGUIDE&&Object(k.unsubscribeFromStyleguideChannel)(S)),C.default.reset();const w=V.collectData(n,t),N=a.barrelPrefs.getAll(n).then(({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,connectedComponentsLocalWorkspace:r,extensions:a,styleguideLeftSidebarWidth:l,styleguideRightSidebarWidth:c})=>({assetDensityScalePrefs:e,assetNamingConvention:t,collapsedSections:n,showOptimizedSVG:i,showOptimizedPNG:o,showOptimizedJPG:s,connectedComponentsLocalWorkspace:r,enabledExtensions:a,leftSidebarWidth:l,rightSidebarWidth:c})),L=a.userPrefs.getAll().then(e=>{const{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,slackReconnectionAuntieSeen:i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:s,numberOfHighlightedConnectToCodeButtonViews:r}=e;return{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,showSlackReconnectionAuntie:!i,componentVariantsOnboardingDialogSeen:o,connectedComponentsOnboardingDialogSeen:s,numberOfHighlightedConnectToCodeButtonViews:r}});return Promise.all([w,N,L]).then(([{barrel:e,role:o,organizationId:a,organization:h,organizations:S,organizationProfiles:y,organizationProjects:v,organizationStyleguides:O,ancestors:E},{assetDensityScalePrefs:T,assetNamingConvention:_,collapsedSections:j,enabledExtensions:w,showOptimizedSVG:N,showOptimizedPNG:L,showOptimizedJPG:M,leftSidebarWidth:x,rightSidebarWidth:V,connectedComponentsLocalWorkspace:F},{noVectorAssetInfoHidden:W,densityMismatchWarningHidden:G,showSlackReconnectionAuntie:H,componentVariantsOnboardingDialogSeen:$,connectedComponentsOnboardingDialogSeen:q,numberOfHighlightedConnectToCodeButtonViews:Z}])=>{const K=z({styleguidesData:[e].concat(E),selectedStyleguideSection:s,selectedNavigatorId:b,collapsedSections:j});if(p){const t=Object(A.findComponentById)([e].concat(E),p);if(t){const{component:{idPath:e}}=t;e.slice(0,-1).forEach(e=>{K[e]=!1})}}if(C.default.load({barrel:{barrelType:t,barrelId:n,assetDensityScalePrefs:Object(R.initAssetDensityScalePrefsIfNecessary)(e.type,T),assetNamingConvention:"android"===e.type?"snakeCase":_,showOptimizedSVG:N,showOptimizedPNG:L,showOptimizedJPG:M,organizationId:a,noVectorAssetInfoHidden:W,densityMismatchWarningHidden:G,showSlackReconnectionAuntie:H,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:F,connectedComponentsOnboardingDialogSeen:q,numberOfHighlightedConnectToCodeButtonViews:Z},styleguide:{selectedStyleguideSection:s,highlightedColors:r,highlightedTextStyles:c,highlightedSpacingTokens:d,selectionComponentId:p,selection:D,selectedNavigatorId:b,collapsedSections:K,scrolledSection:b,highlightScrolledSection:!!b,leftSidebarWidth:x,rightSidebarWidth:V,componentVariantsOnboardingDialogSeen:$},data:{[t]:e,organization:h,organizations:S,ancestors:E,organizationProfiles:y,organizationProjects:v,organizationStyleguides:O}}),requestIdleCallback(async()=>{if(!h||!y||h.members)return;const e=y[a].restricted?{_id:a,members:[]}:await B.getOrganizationMembers(a);m.default.getOrganizationMembersSuccess(e)}),e.partial||(g.default.init({enabledExtensions:w}),E.forEach(e=>Object(k.subscribeToStyleguideChannel)(e._id))),t===u.a.PROJECT?Object(k.subscribeToProjectChannel)(n):t===u.a.STYLEGUIDE&&Object(k.subscribeToStyleguideChannel)(n),l.isWindowsApp&&(C.default.getConnectedComponentsEditorInfo(),f.queryAssetDownloadTarget(n,t,U)),h)"frozen"===h.status?i.showOrganizationFrozenBanner({oid:h._id,currentRole:o}):"past_due"===h.subscriptionStatus?i.showFailedPaymentBanner({oid:h._id,currentRole:o}):"will_cancel_at_period_end"===h.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:h._id,currentRole:o,subscriptionCancelAt:h.subscriptionCancelAt});else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:o,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:o,subscriptionCancelAt:t.user.subscriptionCancelAt})}P.a.init(),I.a.getTeamsIntegration(t,n)})}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(684)),r=o(n(760)),a=o(n(2211)),l=o(n(2224)),c=n(547),d=o(n(582)),u=o(n(585)),p=o(n(574)),h=o(n(1035)),f=n(640),g=o(n(681)),m=o(n(682)),b=n(2246),S=n(2251),y=n(2250),v=n(2290);function C(e){const t=Zeplin.user._id,n=[b.getOrganization(e),b.getOrganizationSections(e),b.getProjects(e),b.getStyleguides(e),b.getFocusedBarrels(e,t)];return Promise.all(n).then(([t,n,i,o,s])=>({oid:e,organization:Object.assign(Object.assign({},t),{sections:n}),focusedBarrels:s,dialogDismissParams:null,projects:i,styleguides:o}))}s.default.route(/^\/notifications(?:\/)?([\da-f]{24})?$/i,(function(e){var t,n,o,s,O,E,T;return i(this,void 0,void 0,(function*(){if("activities"===d.default.AppStore.getState().page)return;r.default.setPage("activities");const{match:[i="user"],query:{category:[_]=[],pid:[P]=[],stid:[D]=[],updatedOnly:[I]=[],status:[j]=[],color:[k]=[],member:[R]=[],section:[A]=[]}}=e,w=yield b.getOrganizations(),N=yield(L=i,("user"===L?b.fetchPersonalWorkspaceData:C)(L));var L;r.default.loadWorkspaceData(Object.assign({organizations:w,organizationProfiles:void 0},N));const{sidebarWidth:M}=yield c.userPrefs.getAll(),x={selectedOrganizationId:i,sidebarWidth:null!=M?M:260};_&&Object.values(u.default).includes(_)&&(x.category=_);const U=_===u.default.Note;"false"===I&&(x.projectsWithUpdatesOnly=!1),P&&g.default.hasProject(P)?(x.barrelSelection={type:p.default.PROJECT,id:P},U&&A&&((null===(t=g.default.getProject({pid:P}))||void 0===t?void 0:t.sections)||(yield v.fetchProject(P)),(null===(o=null===(n=g.default.getProject({pid:P}))||void 0===n?void 0:n.sections)||void 0===o?void 0:o.some(({_id:e})=>e===A))&&(x.sectionId=A))):D&&g.default.hasStyleguide(D)&&(x.barrelSelection={type:p.default.STYLEGUIDE,id:D});const B=(null===(s=x.barrelSelection)||void 0===s?void 0:s.type)!==p.default.STYLEGUIDE&&U;if(B&&j&&Object.values(h.default).includes(j)&&(x.noteStatusFilter=j),B&&k&&f.colorNames.includes(k)&&(x.color=k),B&&R){let e=null;const{barrelSelection:t}=d.default.ActivitiesViewStore.getState();let n;(null===(O=x.barrelSelection)||void 0===O?void 0:O.type)===p.default.PROJECT?e=x.barrelSelection.id:t.type===p.default.PROJECT&&(e=t.id),e?n=null===(E=g.default.getProject({pid:e}))||void 0===E?void 0:E.users.map(({user:e})=>e):"user"===i||m.default.getOrganizationProfile(i).restricted?(d.default.UserStore.getState().acquaintances||(yield S.fetchAcquaintances()),n=l.default.getUserAndAcquaintances()):(m.default.getOrganizationMembers(i)||(yield y.fetchOrganizationMembers(i)),n=null===(T=m.default.getOrganizationMembers(i))||void 0===T?void 0:T.map(({user:e})=>e)),(null==n?void 0:n.some(({_id:e})=>e===R))&&(x.memberId=R)}a.default.load(x)}))}))},function(e,t,n){"use strict";n.r(t);var i=n(541),o=n(2346);i.isWindowsApp&&o.setupEventListener()},function(e,t,n){"use strict";n.r(t),n.d(t,"setupEventListener",(function(){return h}));var i=n(542),o=n(582),s=n.n(o),r=n(682),a=n(1294),l=n(1385),c=n(571);function d(e){return Object(c.getProjects)("user"===e?null:e)}function u(e){return Object(c.getStyleguides)("user"===e?null:e)}async function p(e,t){const{organizations:n,organizationProfiles:o}=s.a.OrganizationStore.getState(),{userId:c,username:p,email:h,avatar:f,emotar:g}=s.a.UserStore.getState();if(!n||!c)return void i.default.ipcRenderer.send("initialImportToBarrelData",{selectedOrganization:t});let m="user";t&&"user"!==t&&n.some(e=>e._id===t)&&(m=t);let b=r.default.getOrganizationProjects(m),S=r.default.getOrganizationStyleguides(m);b&&S||({projects:b,styleguides:S}=await function(e){return Promise.all([d(e),u(e)]).then(([t,n])=>(a.default.getProjectsSuccess({projects:t,oid:e}),l.default.getStyleguidesSuccess({styleguides:n,oid:e}),{projects:t,styleguides:n}))}(m));const y={organizations:n,organizationProfiles:o,selectedOrganization:m,user:{_id:c,username:p,email:h,avatar:f,emotar:g},organizationProjects:b,organizationStyleguides:S};i.default.ipcRenderer.send("initialImportToBarrelData",y)}function h(){i.default.ipcRenderer.removeAllListeners("initialImportToBarrelData"),i.default.ipcRenderer.on("initialImportToBarrelData",p)}},function(e,t,n){"use strict";n.r(t);var i=n(542),o=n(684),s=n.n(o),r=n(556),a=n(547),l=n(555),c=n(544),d=n(541);function u(e){const t=new URL(e);let n=e;const i=t.searchParams.get("vid");if(i){t.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(t.pathname+="/version/"+i,t.searchParams.delete("vid"),n=t.toString())}s.a.history.push(n)}d.isWindowsApp&&(s.a.history.attach((function({url:e}){const t=new URL(e);t.search="",a.userPrefs.set("lastAppLocation",t.toString())})),i.default.ipcRenderer.on("load-url",(e,t)=>u(t)),i.default.ipcRenderer.on("load-app-uri",(e,t)=>{try{const e=new URL(t);if(d.isWindowsApp&&e.pathname.startsWith("//export-xd")&&!d.supports.xdPlugin)return void l.create({title:"Update Zeplin to export with XD plugin",message:"XD plugin requires the latest version of the Zeplin app, please try checking for an update.",done:{name:"UPDATE",cb(){location.assign(c.ZPL_PROTOCOL+"//update")}},cancel:{name:"CANCEL"}});const{urlSlug:n,url:i,query:o}=Object(r.parseAppURI)(e);u(Object(r.urlResolve)(n,{url:i,query:o}))}catch(n){}}))},function(e,t,n){"use strict";n.r(t);var i=n(541),o=n(542),s=n(702),r=n(696),a=n(705),l=n(1533),c=n.n(l),d=n(574),u=n.n(d);const p={CREATE_SCREEN:"CreateScreen",CREATE_SCREEN_VERSION:"CreateScreenVersion",CREATE_PROJECT_COMPONENT:"CreateProjectComponent",CREATE_PROJECT_COMPONENT_VERSION:"CreateProjectComponentVersion",CREATE_PROJECT_COMPONENT_VERSION_V2:"CreateProjectComponentVersionV2",CREATE_PROJECT_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_PROJECT_COMPONENT_SECTION:"UpdateProjectComponentSection",CREATE_STYLEGUIDE_COMPONENT:"CreateStyleguideComponent",CREATE_STYLEGUIDE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",CREATE_STYLEGUIDE_COMPONENT_VERSION_V2:"CreateStyleguideComponentVersionV2",CREATE_STYLEGUIDE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_STYLEGUIDE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",AUTH_PROJECT_SLACK:"AuthProjectSlack",AUTH_STYLEGUIDE_SLACK:"AuthStyleguideSlack"};i.isWindowsApp&&(o.default.ipcRenderer.on(p.CREATE_SCREEN,(e,t)=>{const{params:{pid:n},body:i}=t;s.default.addScreen({pid:n,screen:i})}),o.default.ipcRenderer.on(p.CREATE_SCREEN_VERSION,(e,t)=>{const{params:{pid:n,sid:i},body:o}=t;s.default.addVersion({pid:n,sid:i,version:o})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT,(e,t)=>{const{params:{pid:n,csid:i},body:o}=t;r.default.addComponent({bid:n,csids:i.split("/"),component:o})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_VERSION,(e,t)=>{const{params:{pid:n,csid:i,coid:o},body:s}=t;r.default.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:s})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_VERSION_V2,(e,t)=>{const{params:{pid:n,csid:i,coid:o,tcsid:s},body:a}=t;r.default.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:s,componentData:a})}),o.default.ipcRenderer.on(p.CREATE_PROJECT_COMPONENT_SECTION,(e,t)=>{const{params:{pid:n},body:i}=t;r.default.addComponentSection({bid:n,barrelType:u.a.PROJECT,csids:[],componentSection:i})}),o.default.ipcRenderer.on(p.UPDATE_PROJECT_COMPONENT_SECTION,(e,t)=>{const{params:{pid:n,csid:i},body:o}=t;r.default.updateComponentSection({bid:n,barrelType:u.a.PROJECT,csids:i.split("/"),componentSection:o})}),o.default.ipcRenderer.on(p.UPDATE_PROJECT_COMPONENTS_ORDER,(e,t)=>{const{params:{pid:n},body:{components:i,variantSections:o}}=t,s=i.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));r.default.updateComponentsOrder({bid:n,components:s}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:s}=e;a.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:s})})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT,(e,t)=>{const{params:{stid:n,csid:i},body:o}=t;r.default.addComponent({bid:n,csids:i.split("/"),component:o})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_VERSION,(e,t)=>{const{params:{stid:n,csid:i,coid:o},body:s}=t;r.default.addComponentVersion({bid:n,csids:i.split("/"),coid:o,componentVersion:s})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_VERSION_V2,(e,t)=>{const{params:{stid:n,csid:i,coid:o,tcsid:s},body:a}=t;r.default.updateComponent({bid:n,csids:i.split("/"),coid:o,tcsid:s,componentData:a})}),o.default.ipcRenderer.on(p.CREATE_STYLEGUIDE_COMPONENT_SECTION,(e,t)=>{const{params:{stid:n},body:i}=t;r.default.addComponentSection({bid:n,barrelType:u.a.STYLEGUIDE,csids:[],componentSection:i})}),o.default.ipcRenderer.on(p.UPDATE_STYLEGUIDE_COMPONENT_SECTION,(e,t)=>{const{params:{stid:n,csid:i},body:o}=t;r.default.updateComponentSection({bid:n,barrelType:u.a.STYLEGUIDE,csids:i.split("/"),componentSection:o})}),o.default.ipcRenderer.on(p.UPDATE_STYLEGUIDE_COMPONENTS_ORDER,(e,t)=>{const{params:{stid:n},body:{components:i,variantSections:o}}=t,s=i.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));r.default.updateComponentsOrder({bid:n,components:s}),o&&o.forEach(e=>{const{_id:t,name:i,variant:o,components:s}=e;a.default.setComponentVariantData({bid:n,csid:t,name:i,sectionVariant:o,components:s})})}),o.default.ipcRenderer.on(p.AUTH_PROJECT_SLACK,(e,t)=>{const{params:{pid:n},body:{integration:i}}=t;i.slacks.forEach(e=>r.default.addIntegration({bid:n,intype:"slacks",integration:e})),c.a.init()}),o.default.ipcRenderer.on(p.AUTH_STYLEGUIDE_SLACK,(e,t)=>{const{params:{stid:n},body:{integration:i}}=t;i.slacks.forEach(e=>r.default.addIntegration({bid:n,intype:"slacks",integration:e})),c.a.init()}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=Prism}]));
//# sourceMappingURL=maps/app.map.js